"""单文件封装的冷热压力控制器：无需额外模块文件，直接运行。"""

from __future__ import annotations

import base64
import io
import sys
import tempfile
import zipfile
from pathlib import Path

# 压缩后的原始四个模块，base64 编码（76 列换行便于阅读）
_EMBEDDED_ZIP = """UEsDBBQAAAAAAHY6fVsWiwLdAOoCAADqAgAdAAAAdGVtcGVyYXR1cmVfY29udHJvbGxlcl9hcHAu
cHkjIC0qLSBjb2Rpbmc6IHV0Zi04IC0qLQ0KaW1wb3J0IGpzb24KaW1wb3J0IG9zCmltcG9ydCBj
c3YKaW1wb3J0IHRpbWUKaW1wb3J0IHN0cnVjdAppbXBvcnQgc2VyaWFsCmltcG9ydCBzb2NrZXQK
aW1wb3J0IHRocmVhZGluZwpmcm9tIHR5cGluZyBpbXBvcnQgQW55LCBDYWxsYWJsZSwgRGljdCwg
T3B0aW9uYWwsIFR1cGxlCmZyb20gdGtpbnRlciBpbXBvcnQgZmlsZWRpYWxvZw0KZnJvbSBtYXRo
IGltcG9ydCBpc25hbiwgc3FydA0KZnJvbSBwYXRobGliIGltcG9ydCBQYXRoDQpmcm9tIGRhdGV0
aW1lIGltcG9ydCBkYXRldGltZQ0KZnJvbSBjb2xsZWN0aW9ucyBpbXBvcnQgZGVxdWUNCg0KaW1w
b3J0IHRraW50ZXIgYXMgdGsNCmltcG9ydCB0dGtib290c3RyYXAgYXMgdHRrDQpmcm9tIHR0a2Jv
b3RzdHJhcC5jb25zdGFudHMgaW1wb3J0ICoNCmZyb20gdGtpbnRlciBpbXBvcnQgbWVzc2FnZWJv
eA0KaW1wb3J0IHNlcmlhbC50b29scy5saXN0X3BvcnRzDQoNCmZyb20gUElMIGltcG9ydCBJbWFn
ZSwgSW1hZ2VDaG9wcwoNCiMgLS0tLSDlj6/pgInkvp3otZbvvJrpvKDmoIcv6ZSu55uYIC0tLS0N
CnRyeToNCiAgICBpbXBvcnQgcHlhdXRvZ3VpDQogICAgcHlhdXRvZ3VpLkZBSUxTQUZFID0gRmFs
c2UNCmV4Y2VwdCBFeGNlcHRpb246DQogICAgcHlhdXRvZ3VpID0gTm9uZQ0KDQp0cnk6DQogICAg
aW1wb3J0IGtleWJvYXJkICAgIyDlhajlsYDng63plK7lupPvvIjlj6/pgInvvIkNCmV4Y2VwdCBF
eGNlcHRpb246DQogICAga2V5Ym9hcmQgPSBOb25lDQoNCmltcG9ydCBzeXMsIGN0eXBlcwojIC0t
LS0gV2luZG93cyDpvKDmoIflnZDmoIfnu5PmnoTkvZMgLS0tLQppZiBzeXMucGxhdGZvcm0uc3Rh
cnRzd2l0aCgid2luIik6CiAgICBjbGFzcyBfUE9JTlQoY3R5cGVzLlN0cnVjdHVyZSk6CiAgICAg
ICAgX2ZpZWxkc18gPSBbKCJ4IiwgY3R5cGVzLmNfbG9uZyksICgieSIsIGN0eXBlcy5jX2xvbmcp
XQoNCmlmIGdldGF0dHIoc3lzLCAiZnJvemVuIiwgRmFsc2UpOg0KICAgIHB5YXV0b2d1aSA9IE5v
bmUNCiAgICBrZXlib2FyZCA9IE5vbmUNCg0KaW1wb3J0IHN5cwppbXBvcnQgY3R5cGVzCmltcG9y
dCB0aW1lIGFzIF90aW1lCgoKIyA9PT09PT09PT09PT09PT09PT09PT09PT09CiMgVENQIEpTT04g
6KGM5Y2P6K6u77yI5YaF572u77yJCiMgPT09PT09PT09PT09PT09PT09PT09PT09PQpIYW5kbGVy
ID0gQ2FsbGFibGVbW0RpY3Rbc3RyLCBBbnldXSwgRGljdFtzdHIsIEFueV1dCgoKY2xhc3MgSlNP
TkxpbmVTZXJ2ZXI6CiAgICAiIiLovbvph4/nuqcgVENQIOacjeWKoeWZqO+8muS4gOihjCBKU09O
IOivt+axguWvueW6lOS4gOihjOWTjeW6lOOAgiIiIgoKICAgIGRlZiBfX2luaXRfXyhzZWxmLCBo
b3N0OiBzdHIsIHBvcnQ6IGludCwgaGFuZGxlcjogSGFuZGxlciwgbmFtZTogc3RyID0gImpzb24t
c2VydmVyIik6CiAgICAgICAgc2VsZi5ob3N0ID0gaG9zdAogICAgICAgIHNlbGYucG9ydCA9IHBv
cnQKICAgICAgICBzZWxmLl9oYW5kbGVyID0gaGFuZGxlcgogICAgICAgIHNlbGYuX25hbWUgPSBu
YW1lCiAgICAgICAgc2VsZi5fc3RvcF9ldmVudCA9IHRocmVhZGluZy5FdmVudCgpCiAgICAgICAg
c2VsZi5fdGhyZWFkOiBPcHRpb25hbFt0aHJlYWRpbmcuVGhyZWFkXSA9IE5vbmUKICAgICAgICBz
ZWxmLl9zb2NrOiBPcHRpb25hbFtzb2NrZXQuc29ja2V0XSA9IE5vbmUKCiAgICBkZWYgc3RhcnQo
c2VsZikgLT4gTm9uZToKICAgICAgICBpZiBzZWxmLl90aHJlYWQgYW5kIHNlbGYuX3RocmVhZC5p
c19hbGl2ZSgpOgogICAgICAgICAgICByZXR1cm4KICAgICAgICBzZWxmLl9zdG9wX2V2ZW50LmNs
ZWFyKCkKICAgICAgICBzZWxmLl90aHJlYWQgPSB0aHJlYWRpbmcuVGhyZWFkKHRhcmdldD1zZWxm
Ll9zZXJ2ZSwgbmFtZT1mIntzZWxmLl9uYW1lfS10aHJlYWQiLCBkYWVtb249VHJ1ZSkKICAgICAg
ICBzZWxmLl90aHJlYWQuc3RhcnQoKQoKICAgIGRlZiBzdG9wKHNlbGYsIHRpbWVvdXQ6IGZsb2F0
ID0gMi4wKSAtPiBOb25lOgogICAgICAgIHNlbGYuX3N0b3BfZXZlbnQuc2V0KCkKICAgICAgICBz
b2NrID0gc2VsZi5fc29jawogICAgICAgIGlmIHNvY2s6CiAgICAgICAgICAgIHRyeToKICAgICAg
ICAgICAgICAgIHNvY2suc2h1dGRvd24oc29ja2V0LlNIVVRfUkRXUikKICAgICAgICAgICAgZXhj
ZXB0IEV4Y2VwdGlvbjoKICAgICAgICAgICAgICAgIHBhc3MKICAgICAgICAgICAgdHJ5OgogICAg
ICAgICAgICAgICAgc29jay5jbG9zZSgpCiAgICAgICAgICAgIGV4Y2VwdCBFeGNlcHRpb246CiAg
ICAgICAgICAgICAgICBwYXNzCiAgICAgICAgaWYgc2VsZi5fdGhyZWFkOgogICAgICAgICAgICBz
ZWxmLl90aHJlYWQuam9pbih0aW1lb3V0PXRpbWVvdXQpCiAgICAgICAgc2VsZi5fc29jayA9IE5v
bmUKCiAgICAjIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0t
LS0tLS0tLS0tLS0tLS0tLS0tLQogICAgZGVmIF9zZXJ2ZShzZWxmKSAtPiBOb25lOgogICAgICAg
IHRyeToKICAgICAgICAgICAgd2l0aCBzb2NrZXQuc29ja2V0KHNvY2tldC5BRl9JTkVULCBzb2Nr
ZXQuU09DS19TVFJFQU0pIGFzIHNvY2s6CiAgICAgICAgICAgICAgICBzb2NrLnNldHNvY2tvcHQo
c29ja2V0LlNPTF9TT0NLRVQsIHNvY2tldC5TT19SRVVTRUFERFIsIDEpCiAgICAgICAgICAgICAg
ICBzb2NrLmJpbmQoKHNlbGYuaG9zdCwgc2VsZi5wb3J0KSkKICAgICAgICAgICAgICAgIHNvY2su
bGlzdGVuKDUpCiAgICAgICAgICAgICAgICBzb2NrLnNldHRpbWVvdXQoMS4wKQogICAgICAgICAg
ICAgICAgc2VsZi5fc29jayA9IHNvY2sKICAgICAgICAgICAgICAgIHdoaWxlIG5vdCBzZWxmLl9z
dG9wX2V2ZW50LmlzX3NldCgpOgogICAgICAgICAgICAgICAgICAgIHRyeToKICAgICAgICAgICAg
ICAgICAgICAgICAgY29ubiwgXyA9IHNvY2suYWNjZXB0KCkKICAgICAgICAgICAgICAgICAgICBl
eGNlcHQgc29ja2V0LnRpbWVvdXQ6CiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlCiAg
ICAgICAgICAgICAgICAgICAgZXhjZXB0IE9TRXJyb3I6CiAgICAgICAgICAgICAgICAgICAgICAg
IGJyZWFrCiAgICAgICAgICAgICAgICAgICAgdGhyZWFkaW5nLlRocmVhZCgKICAgICAgICAgICAg
ICAgICAgICAgICAgdGFyZ2V0PXNlbGYuX2hhbmRsZV9jb25uZWN0aW9uLAogICAgICAgICAgICAg
ICAgICAgICAgICBuYW1lPWYie3NlbGYuX25hbWV9LWNsaWVudCIsCiAgICAgICAgICAgICAgICAg
ICAgICAgIGFyZ3M9KGNvbm4sKSwKICAgICAgICAgICAgICAgICAgICAgICAgZGFlbW9uPVRydWUs
CiAgICAgICAgICAgICAgICAgICAgKS5zdGFydCgpCiAgICAgICAgZmluYWxseToKICAgICAgICAg
ICAgc2VsZi5fc29jayA9IE5vbmUKCiAgICBkZWYgX2hhbmRsZV9jb25uZWN0aW9uKHNlbGYsIGNv
bm46IHNvY2tldC5zb2NrZXQpIC0+IE5vbmU6CiAgICAgICAgd2l0aCBjb25uOgogICAgICAgICAg
ICBjb25uLnNldHRpbWVvdXQoNS4wKQogICAgICAgICAgICBidWZmZXIgPSBiIiIKICAgICAgICAg
ICAgd2hpbGUgbm90IHNlbGYuX3N0b3BfZXZlbnQuaXNfc2V0KCk6CiAgICAgICAgICAgICAgICB0
cnk6CiAgICAgICAgICAgICAgICAgICAgY2h1bmsgPSBjb25uLnJlY3YoNDA5NikKICAgICAgICAg
ICAgICAgIGV4Y2VwdCBzb2NrZXQudGltZW91dDoKICAgICAgICAgICAgICAgICAgICBjb250aW51
ZQogICAgICAgICAgICAgICAgZXhjZXB0IE9TRXJyb3I6CiAgICAgICAgICAgICAgICAgICAgYnJl
YWsKICAgICAgICAgICAgICAgIGlmIG5vdCBjaHVuazoKICAgICAgICAgICAgICAgICAgICBicmVh
awogICAgICAgICAgICAgICAgYnVmZmVyICs9IGNodW5rCiAgICAgICAgICAgICAgICB3aGlsZSBi
IlxuIiBpbiBidWZmZXI6CiAgICAgICAgICAgICAgICAgICAgbGluZSwgYnVmZmVyID0gYnVmZmVy
LnNwbGl0KGIiXG4iLCAxKQogICAgICAgICAgICAgICAgICAgIGxpbmUgPSBsaW5lLnN0cmlwKCkK
ICAgICAgICAgICAgICAgICAgICBpZiBub3QgbGluZToKICAgICAgICAgICAgICAgICAgICAgICAg
Y29udGludWUKICAgICAgICAgICAgICAgICAgICByZXNwb25zZSA9IHNlbGYuX2Rpc3BhdGNoKGxp
bmUpCiAgICAgICAgICAgICAgICAgICAgdHJ5OgogICAgICAgICAgICAgICAgICAgICAgICBjb25u
LnNlbmRhbGwocmVzcG9uc2UpCiAgICAgICAgICAgICAgICAgICAgZXhjZXB0IE9TRXJyb3I6CiAg
ICAgICAgICAgICAgICAgICAgICAgIHJldHVybgoKICAgIGRlZiBfZGlzcGF0Y2goc2VsZiwgcmF3
OiBieXRlcykgLT4gYnl0ZXM6CiAgICAgICAgdHJ5OgogICAgICAgICAgICByZXF1ZXN0ID0ganNv
bi5sb2FkcyhyYXcuZGVjb2RlKCJ1dGYtOCIpKQogICAgICAgIGV4Y2VwdCBFeGNlcHRpb24gYXMg
ZXhjOgogICAgICAgICAgICBwYXlsb2FkID0geyJvayI6IEZhbHNlLCAiZXJyb3IiOiBmImludmFs
aWQganNvbjoge2V4Y30ifQogICAgICAgICAgICByZXR1cm4gKGpzb24uZHVtcHMocGF5bG9hZCwg
ZW5zdXJlX2FzY2lpPUZhbHNlKSArICJcbiIpLmVuY29kZSgidXRmLTgiKQoKICAgICAgICB0cnk6
CiAgICAgICAgICAgIHJlc3VsdCA9IHNlbGYuX2hhbmRsZXIocmVxdWVzdCkgb3Ige30KICAgICAg
ICAgICAgaWYgIm9rIiBub3QgaW4gcmVzdWx0OgogICAgICAgICAgICAgICAgcmVzdWx0WyJvayJd
ID0gVHJ1ZQogICAgICAgIGV4Y2VwdCBFeGNlcHRpb24gYXMgZXhjOiAgIyBub3FhOiBCTEUwMDEg
LSBzdXJmYWNlIGVycm9yIHRvIGNsaWVudAogICAgICAgICAgICByZXN1bHQgPSB7Im9rIjogRmFs
c2UsICJlcnJvciI6IHN0cihleGMpfQogICAgICAgIHJldHVybiAoanNvbi5kdW1wcyhyZXN1bHQs
IGVuc3VyZV9hc2NpaT1GYWxzZSkgKyAiXG4iKS5lbmNvZGUoInV0Zi04IikKCgojID09PT09PT09
PT09PT09PT09PT09PT09PT0KIyDmqKHmi5/ngrnlh7vvvIjlhoXnva7vvIkKIyA9PT09PT09PT09
PT09PT09PT09PT09PT09ClBvaW50ID0gVHVwbGVbaW50LCBpbnRdClJlcG9ydGVyID0gT3B0aW9u
YWxbQ2FsbGFibGVbW3N0cl0sIE5vbmVdXQoKCmRlZiBfY2xpY2tfb25jZSh4OiBpbnQsIHk6IGlu
dCwgYnV0dG9uOiBzdHIpIC0+IE5vbmU6CiAgICBidG4gPSAoYnV0dG9uIG9yICJsZWZ0IikubG93
ZXIoKQogICAgaWYgcHlhdXRvZ3VpIGlzIG5vdCBOb25lOgogICAgICAgIGlmIGJ0biBub3QgaW4g
KCJsZWZ0IiwgInJpZ2h0IiwgIm1pZGRsZSIpOgogICAgICAgICAgICBidG4gPSAibGVmdCIKICAg
ICAgICBweWF1dG9ndWkuY2xpY2soeD1pbnQoeCksIHk9aW50KHkpLCBidXR0b249YnRuKQogICAg
ICAgIHJldHVybgogICAgaWYgbm90IHN5cy5wbGF0Zm9ybS5zdGFydHN3aXRoKCJ3aW4iKSBvciBj
dHlwZXMgaXMgTm9uZToKICAgICAgICByYWlzZSBSdW50aW1lRXJyb3IoIue8uuWwkSBweWF1dG9n
dWkg5LiU6Z2eIFdpbmRvd3Mg5bmz5Y+w77yM5peg5rOV5qih5ouf54K55Ye7IikKICAgIHVzZXIz
MiA9IGN0eXBlcy53aW5kbGwudXNlcjMyICAjIHR5cGU6IGlnbm9yZVthdHRyLWRlZmluZWRdCiAg
ICB1c2VyMzIuU2V0Q3Vyc29yUG9zKGludCh4KSwgaW50KHkpKQogICAgbWFwcGluZyA9IHsKICAg
ICAgICAibGVmdCI6ICgweDAwMDIsIDB4MDAwNCksCiAgICAgICAgInJpZ2h0IjogKDB4MDAwOCwg
MHgwMDEwKSwKICAgICAgICAibWlkZGxlIjogKDB4MDAyMCwgMHgwMDQwKSwKICAgIH0KICAgIGRv
d24sIHVwID0gbWFwcGluZy5nZXQoYnRuLCBtYXBwaW5nWyJsZWZ0Il0pCiAgICB1c2VyMzIubW91
c2VfZXZlbnQoZG93biwgMCwgMCwgMCwgMCkKICAgIHVzZXIzMi5tb3VzZV9ldmVudCh1cCwgMCwg
MCwgMCwgMCkKCgpkZWYgcGVyZm9ybV9jbGlja19hc3luYygKICAgIHg6IGludCwKICAgIHk6IGlu
dCwKICAgICosCiAgICBidXR0b246IHN0ciA9ICJsZWZ0IiwKICAgIGRvdWJsZTogYm9vbCA9IEZh
bHNlLAogICAgZGVsYXlfbXM6IGludCA9IDAsCiAgICByZXBvcnRlcjogUmVwb3J0ZXIgPSBOb25l
LAopIC0+IHRocmVhZGluZy5UaHJlYWQ6CiAgICAiIiLlkI7lj7Dnur/nqIvmiafooYzmqKHmi5/n
grnlh7vvvIzpgb/lhY3pmLvloZ4gVUnjgIIiIiIKCiAgICBkZWYgX3dvcmtlcigpIC0+IE5vbmU6
CiAgICAgICAgdHJ5OgogICAgICAgICAgICBpZiBkZWxheV9tcyA+IDA6CiAgICAgICAgICAgICAg
ICBfdGltZS5zbGVlcChkZWxheV9tcyAvIDEwMDAuMCkKICAgICAgICAgICAgX2NsaWNrX29uY2Uo
aW50KHgpLCBpbnQoeSksIGJ1dHRvbikKICAgICAgICAgICAgaWYgZG91YmxlOgogICAgICAgICAg
ICAgICAgX3RpbWUuc2xlZXAoMC4wMykKICAgICAgICAgICAgICAgIF9jbGlja19vbmNlKGludCh4
KSwgaW50KHkpLCBidXR0b24pCiAgICAgICAgICAgIGlmIHJlcG9ydGVyOgogICAgICAgICAgICAg
ICAgcmVwb3J0ZXIoCiAgICAgICAgICAgICAgICAgICAgZiLlt7LmqKHmi5/ngrnlh7vvvJooe2lu
dCh4KX0sIHtpbnQoeSl9KSB7YnV0dG9ufXsnIOWPjOWHuycgaWYgZG91YmxlIGVsc2UgJyd9Ii5z
dHJpcCgpCiAgICAgICAgICAgICAgICApCiAgICAgICAgZXhjZXB0IEV4Y2VwdGlvbiBhcyBleGM6
CiAgICAgICAgICAgIGlmIHJlcG9ydGVyOgogICAgICAgICAgICAgICAgcmVwb3J0ZXIoZiLmiafo
oYzmqKHmi5/ngrnlh7vlpLHotKU6IHtleGN9IikKCiAgICB0aHJlYWQgPSB0aHJlYWRpbmcuVGhy
ZWFkKHRhcmdldD1fd29ya2VyLCBkYWVtb249VHJ1ZSkKICAgIHRocmVhZC5zdGFydCgpCiAgICBy
ZXR1cm4gdGhyZWFkCg0KIyBNYXRwbG90bGliIGZvciBsaXZlIHBsb3RzDQppbXBvcnQgbWF0cGxv
dGxpYg0KbWF0cGxvdGxpYi51c2UoIlRrQWdnIikNCiMgLS0tIE1hdHBsb3RsaWIg5Yqg6YCf6K6+
572uIC0tLQ0KbWF0cGxvdGxpYi5yY1BhcmFtc1sncGF0aC5zaW1wbGlmeSddID0gVHJ1ZQ0KbWF0
cGxvdGxpYi5yY1BhcmFtc1sncGF0aC5zaW1wbGlmeV90aHJlc2hvbGQnXSA9IDEuMA0KbWF0cGxv
dGxpYi5yY1BhcmFtc1snYWdnLnBhdGguY2h1bmtzaXplJ10gPSAxMDAwMA0KDQpmcm9tIG1hdHBs
b3RsaWIuZmlndXJlIGltcG9ydCBGaWd1cmUNCmZyb20gbWF0cGxvdGxpYi5iYWNrZW5kcy5iYWNr
ZW5kX3RrYWdnIGltcG9ydCBGaWd1cmVDYW52YXNUa0FnZw0KDQoNCiMgPT09PT09PT09PT09PT09
PT09PT09PT09PQ0KIyDluLjph48gJiDpu5jorqTlj4LmlbANCiMgPT09PT09PT09PT09PT09PT09
PT09PT09PQ0KQVBQX05BTUUgPSAiUElEIOWGt+eDreWPsOaOp+a4qe+8iE1vZGJ1cy1SVFXvvIki
DQpDT05GSUdfRElSTkFNRSA9ICJQSURf5Ya354Ot5Y+wIg0KQ09ORklHX0ZJTEVOQU1FID0gImNv
bmZpZy5qc29uIg0KDQpUQ1BfSE9TVCA9ICIxMjcuMC4wLjEiDQpUQ1BfUE9SVCA9IDUwMDEwDQoN
ClBTVV9CQVVEID0gOTYwMCAgICMgOE4xDQpUQ01fQkFVRCA9IDU3NjAwICAjIDhOMQ0KUFNVX0FE
RFJfREVGQVVMVCA9IDB4MDENClRDTV9BRERSX0RFRkFVTFQgPSAweDAxDQoNCiMgUFNVIOWvhOWt
mOWZqA0KUkVHX1JFTU9URV9NT0RFID0gMHgwMDAwDQpSRUdfVl9TRVQgICAgICA9IDB4MDAwMQ0K
UkVHX0FfU0VUICAgICAgPSAweDAwMDMNClJFR19PVVRQVVQgICAgID0gMHgwMDFCDQpSRUdfVl9P
VVQgICAgICA9IDB4MDAxRA0KUkVHX0FfT1VUICAgICAgPSAweDAwMUYNClJFR19DVkNDICAgICAg
ID0gMHgwMDIxDQoNCiMgVENNIOWvhOWtmOWZqO+8iOa4qeW6pj3lgLwvMTAw77yJDQpSRUdfVDEg
ICA9IDB4MTAxOCAgIyBpbnQzMiBCRQ0KUkVHX1RFTlYgPSAweDEwMjgNCg0KIyDmjqfliLblj4Lm
lbANClNBTVBMRV9IWiA9IDEwLjAgICAgICAgIyDkuKTorr7lpIfnu5/kuIAgMTBIeiDph4fmoLcN
ClZPTFRfTElNSVRfTUFYID0gNDUuMA0KQ1VSUkVOVF9MSU1JVF9BID0gMS4wDQpTTEVXX1JBVEVf
Vl9QRVJfUyA9IDIuMA0KVEVNUF9MSU1JVF9DVVRPRkYgPSAxNjAuMA0KVEVNUF9MSU1JVF9SRVNV
TUUgPSAxNTAuMApDU1ZfQVVUT1NBVkUgPSBUcnVlCgpQSURfS1AgPSAyLjAKUElEX0tJID0gMC4y
ClBJRF9LRCA9IDAuMApJTlRFR1JBTF9DTEFNUCA9IDIwMC4wCgpMRUZUX1BBTkVMX1dJRFRIID0g
NzYwCg0KIyA9PT09PT0g5b6q546v5rO177yITW9kYnVzLVJUVSwgMHgwMS8weDAzLzB4MDYvMHgx
MO+8jOWNleS9jeingeWNj+iuru+8iT09PT09PQ0KUFVNUF9CQVVEID0gOTYwMA0KUFVNUF9BRERS
X0RFRkFVTFQgPSAweDAxDQpQVU1QX1ZfTUlOID0gMTMuMA0KUFVNUF9WX01BWCA9IDI2LjANClBV
TVBfREVBREJBTkRfQyA9IDAuMzAgICAgICAgICMg5rip5bqm5q275Yy677yM6YG/5YWN5Ya354Ot
5Lik6Lev5oqi5o6n5Yi2DQpQVU1QX1NMRVdfVl9QRVJfUyA9IDIuNSAgICAgICAjIOazteeUteWO
i+aWnOeOh+mZkOW5he+8iFYvc++8iQ0KUFVNUF9QV01fTUlOX0RVVFkgPSA1LjANCg0KDQojID09
PT09PT09PT09PT09PT09PT09PT09PT0NCiMg5a6e55So77ya5paH5qGj55uu5b2VDQojID09PT09
PT09PT09PT09PT09PT09PT09PT0NCmRlZiByZXNvbHZlX2RvY3VtZW50c19kaXIoKSAtPiBQYXRo
Og0KICAgIGhvbWUgPSBQYXRoLmhvbWUoKQ0KICAgIGNhbmRpZGF0ZXMgPSBbDQogICAgICAgIGhv
bWUgLyAiRG9jdW1lbnRzIiwNCiAgICAgICAgaG9tZSAvICLmlofmoaMiLA0KICAgICAgICBob21l
IC8gIk9uZURyaXZlIiAvICJEb2N1bWVudHMiLA0KICAgICAgICBob21lIC8gIk9uZURyaXZlIiAv
ICLmlofmoaMiLA0KICAgIF0NCiAgICBmb3IgcCBpbiBjYW5kaWRhdGVzOg0KICAgICAgICBpZiBw
LmV4aXN0cygpOg0KICAgICAgICAgICAgcmV0dXJuIHANCiAgICByZXR1cm4gaG9tZQ0KDQpkZWYg
Z2V0X2NvbmZpZ19wYXRoKCkgLT4gUGF0aDoNCiAgICByb290ID0gcmVzb2x2ZV9kb2N1bWVudHNf
ZGlyKCkgLyBDT05GSUdfRElSTkFNRQ0KICAgIHJvb3QubWtkaXIocGFyZW50cz1UcnVlLCBleGlz
dF9vaz1UcnVlKQ0KICAgIHJldHVybiByb290IC8gQ09ORklHX0ZJTEVOQU1FDQoNCmRlZiBnZXRf
bG9nc19kaXIoKSAtPiBQYXRoOg0KICAgIGQgPSByZXNvbHZlX2RvY3VtZW50c19kaXIoKSAvIENP
TkZJR19ESVJOQU1FIC8gImxvZ3MiDQogICAgZC5ta2RpcihwYXJlbnRzPVRydWUsIGV4aXN0X29r
PVRydWUpDQogICAgcmV0dXJuIGQNCg0KZGVmIHNhZmVfZmxvYXQocywgZGVmYXVsdD1Ob25lKToN
CiAgICAiIiLlrZfnrKbkuLItPmZsb2F077yM5aSx6LSl6L+U5ZueZGVmYXVsdO+8m+WOu+mZpOep
uueZveOAgiIiIg0KICAgIHRyeToNCiAgICAgICAgaWYgcyBpcyBOb25lOg0KICAgICAgICAgICAg
cmV0dXJuIGRlZmF1bHQNCiAgICAgICAgc3MgPSBzdHIocykuc3RyaXAoKQ0KICAgICAgICBpZiBz
cyBpbiAoIiIsICItIiwgIisiLCAiLiIsICIrLiIsICItLiIpOg0KICAgICAgICAgICAgcmV0dXJu
IGRlZmF1bHQNCiAgICAgICAgcmV0dXJuIGZsb2F0KHNzKQ0KICAgIGV4Y2VwdCBFeGNlcHRpb246
DQogICAgICAgIHJldHVybiBkZWZhdWx0DQoNCg0KIyA9PT09PT09PT09PT09PT09PT09PT09PT09
DQojIOeugOaYkyBNb2RidXMgUlRV77yI5pu056iz77ya6K+75aSf5pyf5pyb6ZW/5bqm44CB6YeN
6K+V77yJDQojID09PT09PT09PT09PT09PT09PT09PT09PT0NCmNsYXNzIE1vZGJ1c1JUVToNCiAg
ICBkZWYgX19pbml0X18oc2VsZiwgcG9ydCwgYmF1ZHJhdGUsIHRpbWVvdXQ9MC4yMCwgcmV0cmll
cz0yKToNCiAgICAgICAgc2VsZi5wb3J0ID0gcG9ydA0KICAgICAgICBzZWxmLmJhdWRyYXRlID0g
YmF1ZHJhdGUNCiAgICAgICAgc2VsZi50aW1lb3V0ID0gdGltZW91dA0KICAgICAgICBzZWxmLnJl
dHJpZXMgPSByZXRyaWVzDQogICAgICAgIHNlbGYuc2VyID0gTm9uZQ0KICAgICAgICBzZWxmLmxv
Y2sgPSB0aHJlYWRpbmcuTG9jaygpDQogICAgICAgIHNlbGYubGFzdF9jb21tX3RpbWUgPSAwLjAN
CiAgICAgICAgc2VsZi5jb21tX2ludGVydmFsID0gMC4wMiAgIyAyMG1z77ya5Lik5Liq6K6+5aSH
6aG65bqP6K+75Lmf6IO96LeR5ruhIDEwSHoNCg0KICAgIGRlZiBvcGVuKHNlbGYpOg0KICAgICAg
ICBzZWxmLnNlciA9IHNlcmlhbC5TZXJpYWwoDQogICAgICAgICAgICBzZWxmLnBvcnQsIHNlbGYu
YmF1ZHJhdGUsDQogICAgICAgICAgICBieXRlc2l6ZT04LCBwYXJpdHk9c2VyaWFsLlBBUklUWV9O
T05FLCBzdG9wYml0cz0xLA0KICAgICAgICAgICAgdGltZW91dD1zZWxmLnRpbWVvdXQsIHdyaXRl
X3RpbWVvdXQ9c2VsZi50aW1lb3V0LA0KICAgICAgICAgICAgaW50ZXJfYnl0ZV90aW1lb3V0PXNl
bGYudGltZW91dCAqIDAuNQ0KICAgICAgICApDQogICAgICAgIHNlbGYubGFzdF9jb21tX3RpbWUg
PSB0aW1lLnBlcmZfY291bnRlcigpDQoNCiAgICBkZWYgY2xvc2Uoc2VsZik6DQogICAgICAgIGlm
IHNlbGYuc2VyIGFuZCBzZWxmLnNlci5pc19vcGVuOg0KICAgICAgICAgICAgc2VsZi5zZXIuY2xv
c2UoKQ0KICAgICAgICBzZWxmLnNlciA9IE5vbmUNCg0KICAgIEBzdGF0aWNtZXRob2QNCiAgICBk
ZWYgY3JjMTYoZGF0YTogYnl0ZXMpIC0+IGludDoNCiAgICAgICAgY3JjID0gMHhGRkZGDQogICAg
ICAgIGZvciBjaCBpbiBkYXRhOg0KICAgICAgICAgICAgY3JjIF49IGNoDQogICAgICAgICAgICBm
b3IgXyBpbiByYW5nZSg4KToNCiAgICAgICAgICAgICAgICBpZiBjcmMgJiAxOg0KICAgICAgICAg
ICAgICAgICAgICBjcmMgPSAoY3JjID4+IDEpIF4gMHhBMDAxDQogICAgICAgICAgICAgICAgZWxz
ZToNCiAgICAgICAgICAgICAgICAgICAgY3JjID4+PSAxDQogICAgICAgIHJldHVybiBjcmMNCg0K
ICAgIGRlZiBfcmVhZF9leGFjdChzZWxmLCBleHBlY3RlZF9sZW46IGludCkgLT4gYnl0ZXM6DQog
ICAgICAgICIiIumAkOatpeivu+WPluebtOWIsOi+vuWIsOacn+acm+mVv+W6puaIlui2heaXtuOA
giIiIg0KICAgICAgICBidWYgPSBieXRlYXJyYXkoKQ0KICAgICAgICBkZWFkbGluZSA9IHRpbWUu
cGVyZl9jb3VudGVyKCkgKyBzZWxmLnRpbWVvdXQNCiAgICAgICAgd2hpbGUgbGVuKGJ1ZikgPCBl
eHBlY3RlZF9sZW4gYW5kIHRpbWUucGVyZl9jb3VudGVyKCkgPCBkZWFkbGluZToNCiAgICAgICAg
ICAgIGNodW5rID0gc2VsZi5zZXIucmVhZChleHBlY3RlZF9sZW4gLSBsZW4oYnVmKSkNCiAgICAg
ICAgICAgIGlmIGNodW5rOg0KICAgICAgICAgICAgICAgIGJ1Zi5leHRlbmQoY2h1bmspDQogICAg
ICAgIHJldHVybiBieXRlcyhidWYpDQoNCiAgICBkZWYgX3R4cngoc2VsZiwgcmVxOiBieXRlcywg
ZXhwZWN0ZWRfbGVuOiBpbnQpIC0+IGJ5dGVzOg0KICAgICAgICBsYXN0X2VyciA9IE5vbmUNCiAg
ICAgICAgZm9yIF8gaW4gcmFuZ2Uoc2VsZi5yZXRyaWVzICsgMSk6DQogICAgICAgICAgICB0cnk6
DQogICAgICAgICAgICAgICAgd2l0aCBzZWxmLmxvY2s6DQogICAgICAgICAgICAgICAgICAgICMg
6YCa5L+h6IqC5rWB77ya6YG/5YWN6IOM6Z2g6IOM5YaZ5Liy5Y+jDQogICAgICAgICAgICAgICAg
ICAgIGVsYXBzZWQgPSB0aW1lLnBlcmZfY291bnRlcigpIC0gc2VsZi5sYXN0X2NvbW1fdGltZQ0K
ICAgICAgICAgICAgICAgICAgICBpZiBlbGFwc2VkIDwgc2VsZi5jb21tX2ludGVydmFsOg0KICAg
ICAgICAgICAgICAgICAgICAgICAgdGltZS5zbGVlcChzZWxmLmNvbW1faW50ZXJ2YWwgLSBlbGFw
c2VkKQ0KDQogICAgICAgICAgICAgICAgICAgIHNlbGYuc2VyLnJlc2V0X2lucHV0X2J1ZmZlcigp
DQogICAgICAgICAgICAgICAgICAgIHNlbGYuc2VyLndyaXRlKHJlcSk7IHNlbGYuc2VyLmZsdXNo
KCkNCiAgICAgICAgICAgICAgICAgICAgc2VsZi5sYXN0X2NvbW1fdGltZSA9IHRpbWUucGVyZl9j
b3VudGVyKCkNCiAgICAgICAgICAgICAgICAgICAgcmVzcCA9IHNlbGYuX3JlYWRfZXhhY3QoZXhw
ZWN0ZWRfbGVuKQ0KDQogICAgICAgICAgICAgICAgaWYgbGVuKHJlc3ApIDwgZXhwZWN0ZWRfbGVu
Og0KICAgICAgICAgICAgICAgICAgICByYWlzZSBJT0Vycm9yKGYiTW9kYnVz5ZON5bqU6L+H55+t
OiB7cmVzcC5oZXgoJyAnKX0iKQ0KDQogICAgICAgICAgICAgICAgY3JjX2NhbGMgPSBzZWxmLmNy
YzE2KHJlc3BbOi0yXSkNCiAgICAgICAgICAgICAgICBjcmNfcmVzcCA9IChyZXNwWy0xXSA8PCA4
KSB8IHJlc3BbLTJdDQogICAgICAgICAgICAgICAgaWYgY3JjX2NhbGMgIT0gY3JjX3Jlc3A6DQog
ICAgICAgICAgICAgICAgICAgIHJhaXNlIElPRXJyb3IoZiJDUkPmoKHpqozlpLHotKU6IOiuoeeu
lyB7Y3JjX2NhbGM6MDRYfSAvIOWTjeW6lCB7Y3JjX3Jlc3A6MDRYfSIpDQogICAgICAgICAgICAg
ICAgcmV0dXJuIHJlc3ANCiAgICAgICAgICAgIGV4Y2VwdCBFeGNlcHRpb24gYXMgZToNCiAgICAg
ICAgICAgICAgICBsYXN0X2VyciA9IGUNCiAgICAgICAgICAgICAgICB0aW1lLnNsZWVwKDAuMDA1
KQ0KICAgICAgICByYWlzZSBsYXN0X2VyciBpZiBsYXN0X2VyciBlbHNlIElPRXJyb3IoIk1vZGJ1
c+mAmuS/oeWksei0pSIpDQoNCiAgICBkZWYgcmVhZF9ob2xkaW5nX3JlZ2lzdGVycyhzZWxmLCBz
bGF2ZV9hZGRyOiBpbnQsIHN0YXJ0X2FkZHI6IGludCwgY291bnQ6IGludCkgLT4gbGlzdDoNCiAg
ICAgICAgcGF5bG9hZCA9IHN0cnVjdC5wYWNrKCc+QiBCIEggSCcsIHNsYXZlX2FkZHIsIDB4MDMs
IHN0YXJ0X2FkZHIsIGNvdW50KQ0KICAgICAgICBjcmMgPSBzZWxmLmNyYzE2KHBheWxvYWQpDQog
ICAgICAgIHJlcSA9IHBheWxvYWQgKyBzdHJ1Y3QucGFjaygnPEgnLCBjcmMpDQogICAgICAgIGV4
cGVjdGVkX2xlbiA9IDUgKyAyICogY291bnQNCiAgICAgICAgcmVzcCA9IHNlbGYuX3R4cngocmVx
LCBleHBlY3RlZF9sZW4pDQogICAgICAgIGlmIHJlc3BbMV0gIT0gMHgwMzoNCiAgICAgICAgICAg
IHJhaXNlIElPRXJyb3IoZiLlip/og73noIHlvILluLg6IHtyZXNwWzFdfSIpDQogICAgICAgIGlm
IHJlc3BbMl0gIT0gMiAqIGNvdW50Og0KICAgICAgICAgICAgcmFpc2UgSU9FcnJvcigi5a2X6IqC
5pWw5byC5bi4IikNCiAgICAgICAgcmVncyA9IFtdDQogICAgICAgIG9mZiA9IDMNCiAgICAgICAg
Zm9yIGkgaW4gcmFuZ2UoY291bnQpOg0KICAgICAgICAgICAgaGkgPSByZXNwW29mZiArIDIqaV0N
CiAgICAgICAgICAgIGxvID0gcmVzcFtvZmYgKyAyKmkgKyAxXQ0KICAgICAgICAgICAgcmVncy5h
cHBlbmQoKGhpIDw8IDgpIHwgbG8pDQogICAgICAgIHJldHVybiByZWdzDQoNCiAgICBkZWYgd3Jp
dGVfc2luZ2xlX3JlZ2lzdGVyKHNlbGYsIHNsYXZlX2FkZHI6IGludCwgcmVnX2FkZHI6IGludCwg
dmFsdWVfdTE2OiBpbnQpOg0KICAgICAgICBwYXlsb2FkID0gc3RydWN0LnBhY2soJz5CIEIgSCBI
Jywgc2xhdmVfYWRkciwgMHgwNiwgcmVnX2FkZHIsIHZhbHVlX3UxNiAmIDB4RkZGRikNCiAgICAg
ICAgY3JjID0gc2VsZi5jcmMxNihwYXlsb2FkKQ0KICAgICAgICByZXEgPSBwYXlsb2FkICsgc3Ry
dWN0LnBhY2soJzxIJywgY3JjKQ0KICAgICAgICBfID0gc2VsZi5fdHhyeChyZXEsIDgpDQoNCiAg
ICBkZWYgd3JpdGVfbXVsdGlwbGVfcmVnaXN0ZXJzKHNlbGYsIHNsYXZlX2FkZHI6IGludCwgc3Rh
cnRfYWRkcjogaW50LCB2YWx1ZXNfdTE2OiBsaXN0KToNCiAgICAgICAgY291bnQgPSBsZW4odmFs
dWVzX3UxNikNCiAgICAgICAgaGVhZGVyID0gc3RydWN0LnBhY2soJz5CIEIgSCBIIEInLCBzbGF2
ZV9hZGRyLCAweDEwLCBzdGFydF9hZGRyLCBjb3VudCwgY291bnQqMikNCiAgICAgICAgZGF0YSA9
IGInJy5qb2luKHN0cnVjdC5wYWNrKCc+SCcsIHYgJiAweEZGRkYpIGZvciB2IGluIHZhbHVlc191
MTYpDQogICAgICAgIHBheWxvYWQgPSBoZWFkZXIgKyBkYXRhDQogICAgICAgIGNyYyA9IHNlbGYu
Y3JjMTYocGF5bG9hZCkNCiAgICAgICAgcmVxID0gcGF5bG9hZCArIHN0cnVjdC5wYWNrKCc8SCcs
IGNyYykNCiAgICAgICAgXyA9IHNlbGYuX3R4cngocmVxLCA4KQ0KDQogICAgZGVmIHJlYWRfZmxv
YXRfYmUoc2VsZiwgc2xhdmVfYWRkcjogaW50LCBzdGFydF9hZGRyOiBpbnQpIC0+IGZsb2F0Og0K
ICAgICAgICByZWdzID0gc2VsZi5yZWFkX2hvbGRpbmdfcmVnaXN0ZXJzKHNsYXZlX2FkZHIsIHN0
YXJ0X2FkZHIsIDIpDQogICAgICAgIHJldHVybiBzdHJ1Y3QudW5wYWNrKCc+ZicsIHN0cnVjdC5w
YWNrKCc+SEgnLCByZWdzWzBdLCByZWdzWzFdKSlbMF0NCg0KICAgIGRlZiB3cml0ZV9mbG9hdF9i
ZShzZWxmLCBzbGF2ZV9hZGRyOiBpbnQsIHN0YXJ0X2FkZHI6IGludCwgdmFsOiBmbG9hdCk6DQog
ICAgICAgIGhpLCBsbyA9IHN0cnVjdC51bnBhY2soJz5ISCcsIHN0cnVjdC5wYWNrKCc+ZicsIGZs
b2F0KHZhbCkpKQ0KICAgICAgICBzZWxmLndyaXRlX211bHRpcGxlX3JlZ2lzdGVycyhzbGF2ZV9h
ZGRyLCBzdGFydF9hZGRyLCBbaGksIGxvXSkNCg0KICAgIGRlZiByZWFkX2ludDMyX2JlKHNlbGYs
IHNsYXZlX2FkZHI6IGludCwgc3RhcnRfYWRkcjogaW50KSAtPiBpbnQ6DQogICAgICAgIHJlZ3Mg
PSBzZWxmLnJlYWRfaG9sZGluZ19yZWdpc3RlcnMoc2xhdmVfYWRkciwgc3RhcnRfYWRkciwgMikN
CiAgICAgICAgcmF3ID0gKHJlZ3NbMF0gPDwgMTYpIHwgcmVnc1sxXQ0KICAgICAgICBpZiByYXcg
JiAweDgwMDAwMDAwOg0KICAgICAgICAgICAgcmF3IC09IDB4MTAwMDAwMDAwDQogICAgICAgIHJl
dHVybiByYXcNCg0KDQojID09PT09PT09PT09PT09PT09PT09PT09PT0NCiMg57un55S15Zmo77yI
WUsyMDA2LCBBMCDljY/orq7vvIkNCiMgPT09PT09PT09PT09PT09PT09PT09PT09PQ0KY2xhc3Mg
WUsyMDA2UmVsYXk6DQogICAgIiIiDQogICAg566A5YyW5a6e546w77yaQTAgfCBhZGRyKDEtMjU0
KSB8IG9wIHwgY2hlY2tzdW0obG93OCkNCiAgICBvcDoNCiAgICAgIDB4MDAg5YWzKOS4jeWPjemm
iCkgIDB4MDEg5byAKOS4jeWPjemmiCkNCiAgICAgIDB4MDIg5YWzKOWPjemmiCkgICAgMHgwMyDl
vIAo5Y+N6aaIKQ0KICAgICAgMHgwNSDmn6Xor6LnirbmgIEo5Y+N6aaI77yM6L+U5ZueIDB4MDAv
MHgwMSkNCiAgICDlj4LogIPvvJrnlKjmiLfmj5DkvpvnmoQgWUsyMDA2IOS4suWPo+mAmuS/oeWN
j+iurihBMOeJiCkNCiAgICAiIiINCiAgICBkZWYgX19pbml0X18oc2VsZik6DQogICAgICAgIHNl
bGYuc2VyID0gTm9uZQ0KICAgICAgICBzZWxmLmNvbm5lY3RlZCA9IEZhbHNlDQogICAgICAgIHNl
bGYubG9jayA9IHRocmVhZGluZy5Mb2NrKCkNCg0KICAgIGRlZiBjb25uZWN0KHNlbGYsIHBvcnQ6
IHN0ciwgYmF1ZDogaW50ID0gOTYwMCwgdGltZW91dD0wLjIwKToNCiAgICAgICAgc2VsZi5zZXIg
PSBzZXJpYWwuU2VyaWFsKA0KICAgICAgICAgICAgcG9ydD1wb3J0LCBiYXVkcmF0ZT1iYXVkLCBi
eXRlc2l6ZT04LCBwYXJpdHk9c2VyaWFsLlBBUklUWV9OT05FLA0KICAgICAgICAgICAgc3RvcGJp
dHM9MSwgdGltZW91dD10aW1lb3V0LCB3cml0ZV90aW1lb3V0PXRpbWVvdXQNCiAgICAgICAgKQ0K
ICAgICAgICBzZWxmLmNvbm5lY3RlZCA9IFRydWUNCg0KICAgIGRlZiBkaXNjb25uZWN0KHNlbGYp
Og0KICAgICAgICB0cnk6DQogICAgICAgICAgICBpZiBzZWxmLnNlciBhbmQgc2VsZi5zZXIuaXNf
b3BlbjoNCiAgICAgICAgICAgICAgICBzZWxmLnNlci5jbG9zZSgpDQogICAgICAgIGZpbmFsbHk6
DQogICAgICAgICAgICBzZWxmLnNlciA9IE5vbmUNCiAgICAgICAgICAgIHNlbGYuY29ubmVjdGVk
ID0gRmFsc2UNCg0KICAgIEBzdGF0aWNtZXRob2QNCiAgICBkZWYgX2ZyYW1lKGFkZHI6IGludCwg
b3A6IGludCkgLT4gYnl0ZXM6DQogICAgICAgIGIxID0gMHhBMA0KICAgICAgICBhZGRyID0gbWF4
KDEsIG1pbigyNTQsIGludChhZGRyKSkpDQogICAgICAgIG9wID0gb3AgJiAweEZGDQogICAgICAg
IGNoayA9IChiMSArIGFkZHIgKyBvcCkgJiAweEZGDQogICAgICAgIHJldHVybiBieXRlcyhbYjEs
IGFkZHIsIG9wLCBjaGtdKQ0KDQogICAgZGVmIF93cml0ZShzZWxmLCBkYXRhOiBieXRlcyk6DQog
ICAgICAgIGlmIG5vdCAoc2VsZi5jb25uZWN0ZWQgYW5kIHNlbGYuc2VyKToNCiAgICAgICAgICAg
IHJhaXNlIElPRXJyb3IoIue7p+eUteWZqOacqui/nuaOpSIpDQogICAgICAgIHdpdGggc2VsZi5s
b2NrOg0KICAgICAgICAgICAgc2VsZi5zZXIucmVzZXRfaW5wdXRfYnVmZmVyKCkNCiAgICAgICAg
ICAgIHNlbGYuc2VyLndyaXRlKGRhdGEpDQogICAgICAgICAgICBzZWxmLnNlci5mbHVzaCgpDQoN
CiAgICBkZWYgX3JlYWRfZXhhY3Qoc2VsZiwgbjogaW50KSAtPiBieXRlczoNCiAgICAgICAgYnVm
ID0gYnl0ZWFycmF5KCkNCiAgICAgICAgZGVhZGxpbmUgPSB0aW1lLnBlcmZfY291bnRlcigpICsg
KHNlbGYuc2VyLnRpbWVvdXQgb3IgMC4yKQ0KICAgICAgICB3aGlsZSBsZW4oYnVmKSA8IG4gYW5k
IHRpbWUucGVyZl9jb3VudGVyKCkgPCBkZWFkbGluZToNCiAgICAgICAgICAgIGNoID0gc2VsZi5z
ZXIucmVhZChuIC0gbGVuKGJ1ZikpDQogICAgICAgICAgICBpZiBjaDoNCiAgICAgICAgICAgICAg
ICBidWYuZXh0ZW5kKGNoKQ0KICAgICAgICByZXR1cm4gYnl0ZXMoYnVmKQ0KDQogICAgZGVmIHNl
dChzZWxmLCBjaGFubmVsOiBpbnQsIG9uOiBib29sLCBmZWVkYmFjazogYm9vbCA9IEZhbHNlKSAt
PiBib29sOg0KICAgICAgICAiIiLov5Tlm54gVHJ1ZSDooajnpLrorqTkuLrlt7LliLDkvY3vvJtm
ZWVkYmFjaz1GYWxzZSDml7bnm7TmjqXov5Tlm54gVHJ1ZeOAgiIiIg0KICAgICAgICBvcCA9IDB4
MDMgaWYgKGZlZWRiYWNrIGFuZCBvbikgZWxzZSAoMHgwMiBpZiAoZmVlZGJhY2sgYW5kIG5vdCBv
bikgZWxzZSAoMHgwMSBpZiBvbiBlbHNlIDB4MDApKQ0KICAgICAgICBmcm0gPSBzZWxmLl9mcmFt
ZShjaGFubmVsLCBvcCkNCiAgICAgICAgc2VsZi5fd3JpdGUoZnJtKQ0KICAgICAgICBpZiBub3Qg
ZmVlZGJhY2s6DQogICAgICAgICAgICByZXR1cm4gVHJ1ZQ0KICAgICAgICAjIOacn+acmyA0IOWt
l+iKguWbnuWMhQ0KICAgICAgICByZXNwID0gc2VsZi5fcmVhZF9leGFjdCg0KQ0KICAgICAgICBp
ZiBsZW4ocmVzcCkgIT0gNDoNCiAgICAgICAgICAgIHJldHVybiBGYWxzZQ0KICAgICAgICAjIOag
oemqjA0KICAgICAgICBpZiAocmVzcFswXSAhPSAweEEwKSBvciAoKHJlc3BbMF0gKyByZXNwWzFd
ICsgcmVzcFsyXSkgJiAweEZGKSAhPSByZXNwWzNdOg0KICAgICAgICAgICAgcmV0dXJuIEZhbHNl
DQogICAgICAgICMgcmVzcFsyXTogMHgwMCDlhbMgLyAweDAxIOW8gA0KICAgICAgICByZXR1cm4g
Ym9vbChyZXNwWzJdKSA9PSBib29sKG9uKQ0KDQogICAgZGVmIHF1ZXJ5KHNlbGYsIGNoYW5uZWw6
IGludCkgLT4gYm9vbCB8IE5vbmU6DQogICAgICAgIGZybSA9IHNlbGYuX2ZyYW1lKGNoYW5uZWws
IDB4MDUpDQogICAgICAgIHNlbGYuX3dyaXRlKGZybSkNCiAgICAgICAgcmVzcCA9IHNlbGYuX3Jl
YWRfZXhhY3QoNCkNCiAgICAgICAgaWYgbGVuKHJlc3ApICE9IDQ6DQogICAgICAgICAgICByZXR1
cm4gTm9uZQ0KICAgICAgICBpZiAocmVzcFswXSAhPSAweEEwKSBvciAoKHJlc3BbMF0gKyByZXNw
WzFdICsgcmVzcFsyXSkgJiAweEZGKSAhPSByZXNwWzNdOg0KICAgICAgICAgICAgcmV0dXJuIE5v
bmUNCiAgICAgICAgcmV0dXJuIGJvb2wocmVzcFsyXSkNCg0KIyA9PT09PT09PT09PT09PT09PT09
PT09PT09DQojIOiuvuWkh+WwgeijhQ0KIyA9PT09PT09PT09PT09PT09PT09PT09PT09DQpjbGFz
cyBQb3dlclN1cHBseToNCiAgICBkZWYgX19pbml0X18oc2VsZik6DQogICAgICAgIHNlbGYubWIg
PSBOb25lDQogICAgICAgIHNlbGYuYWRkciA9IFBTVV9BRERSX0RFRkFVTFQNCiAgICAgICAgc2Vs
Zi5jb25uZWN0ZWQgPSBGYWxzZQ0KICAgICAgICBzZWxmLmxhc3RfY2hlY2sgPSAwLjANCiAgICAg
ICAgc2VsZi5jaGVja19pbnRlcnZhbCA9IDIuMA0KDQogICAgZGVmIGNvbm5lY3Qoc2VsZiwgcG9y
dDogc3RyLCBiYXVkOiBpbnQgPSBQU1VfQkFVRCwgYWRkcjogaW50ID0gUFNVX0FERFJfREVGQVVM
VCk6DQogICAgICAgIHNlbGYuYWRkciA9IGFkZHINCiAgICAgICAgc2VsZi5tYiA9IE1vZGJ1c1JU
VShwb3J0LCBiYXVkcmF0ZT1iYXVkLCB0aW1lb3V0PTAuMTApICAjIOWOnyAwLjI1IC0+IDAuMTAN
CiAgICAgICAgc2VsZi5tYi5vcGVuKCkNCiAgICAgICAgc2VsZi5jb25uZWN0ZWQgPSBUcnVlDQog
ICAgICAgIHNlbGYubGFzdF9jaGVjayA9IHRpbWUucGVyZl9jb3VudGVyKCkNCiAgICAgICAgc2Vs
Zi5zZXRfcmVtb3RlKFRydWUpDQogICAgICAgIHNlbGYuc2V0X2N1cnJlbnRfbGltaXQoQ1VSUkVO
VF9MSU1JVF9BKQ0KDQogICAgZGVmIGRpc2Nvbm5lY3Qoc2VsZik6DQogICAgICAgIHRyeToNCiAg
ICAgICAgICAgIGlmIHNlbGYuY29ubmVjdGVkIGFuZCBzZWxmLm1iOg0KICAgICAgICAgICAgICAg
IHRyeToNCiAgICAgICAgICAgICAgICAgICAgc2VsZi5zZXRfb3V0cHV0KEZhbHNlKQ0KICAgICAg
ICAgICAgICAgIGV4Y2VwdCBFeGNlcHRpb246DQogICAgICAgICAgICAgICAgICAgIHBhc3MNCiAg
ICAgICAgICAgICAgICBzZWxmLm1iLmNsb3NlKCkNCiAgICAgICAgZmluYWxseToNCiAgICAgICAg
ICAgIHNlbGYubWIgPSBOb25lDQogICAgICAgICAgICBzZWxmLmNvbm5lY3RlZCA9IEZhbHNlDQoN
CiAgICBkZWYgX2Vuc3VyZShzZWxmKToNCiAgICAgICAgaWYgbm90IHNlbGYuY29ubmVjdGVkIG9y
IG5vdCBzZWxmLm1iOg0KICAgICAgICAgICAgcmFpc2UgSU9FcnJvcigi55S15rqQ5pyq6L+e5o6l
IikNCiAgICAgICAgbm93ID0gdGltZS5wZXJmX2NvdW50ZXIoKQ0KICAgICAgICBpZiBub3cgLSBz
ZWxmLmxhc3RfY2hlY2sgPj0gc2VsZi5jaGVja19pbnRlcnZhbDoNCiAgICAgICAgICAgIF8gPSBz
ZWxmLm1iLnJlYWRfaG9sZGluZ19yZWdpc3RlcnMoc2VsZi5hZGRyLCBSRUdfUkVNT1RFX01PREUs
IDEpDQogICAgICAgICAgICBzZWxmLmxhc3RfY2hlY2sgPSBub3cNCg0KICAgIGRlZiBzZXRfcmVt
b3RlKHNlbGYsIHJlbW90ZTogYm9vbCk6DQogICAgICAgIHNlbGYuX2Vuc3VyZSgpDQogICAgICAg
IHNlbGYubWIud3JpdGVfc2luZ2xlX3JlZ2lzdGVyKHNlbGYuYWRkciwgUkVHX1JFTU9URV9NT0RF
LCAxIGlmIHJlbW90ZSBlbHNlIDApDQoNCiAgICBkZWYgc2V0X291dHB1dChzZWxmLCBvbjogYm9v
bCk6DQogICAgICAgIHNlbGYuX2Vuc3VyZSgpDQogICAgICAgIHNlbGYubWIud3JpdGVfc2luZ2xl
X3JlZ2lzdGVyKHNlbGYuYWRkciwgUkVHX09VVFBVVCwgMSBpZiBvbiBlbHNlIDApDQoNCiAgICBk
ZWYgc2V0X3ZvbHRhZ2Uoc2VsZiwgdjogZmxvYXQpOg0KICAgICAgICBzZWxmLl9lbnN1cmUoKQ0K
ICAgICAgICBzZWxmLm1iLndyaXRlX2Zsb2F0X2JlKHNlbGYuYWRkciwgUkVHX1ZfU0VULCB2KQ0K
DQogICAgZGVmIHNldF9jdXJyZW50X2xpbWl0KHNlbGYsIGE6IGZsb2F0KToNCiAgICAgICAgc2Vs
Zi5fZW5zdXJlKCkNCiAgICAgICAgc2VsZi5tYi53cml0ZV9mbG9hdF9iZShzZWxmLmFkZHIsIFJF
R19BX1NFVCwgYSkNCg0KICAgIGRlZiByZWFkX21lYXMoc2VsZik6DQogICAgICAgIHNlbGYuX2Vu
c3VyZSgpDQogICAgICAgIHJlZ3MgPSBzZWxmLm1iLnJlYWRfaG9sZGluZ19yZWdpc3RlcnMoc2Vs
Zi5hZGRyLCBSRUdfVl9PVVQsIDUpDQogICAgICAgIHYgPSBzdHJ1Y3QudW5wYWNrKCc+ZicsIHN0
cnVjdC5wYWNrKCc+SEgnLCByZWdzWzBdLCByZWdzWzFdKSlbMF0NCiAgICAgICAgYSA9IHN0cnVj
dC51bnBhY2soJz5mJywgc3RydWN0LnBhY2soJz5ISCcsIHJlZ3NbMl0sIHJlZ3NbM10pKVswXQ0K
ICAgICAgICBjdmNjID0gcmVnc1s0XSAmIDB4RkZGRg0KICAgICAgICByZXR1cm4gdiwgYSwgY3Zj
Yw0KDQpjbGFzcyBDb29saW5nUHVtcDoNCiAgICAiIiINCiAgICDlvqrnjq/ms7XvvIjljY/orq7v
vJoweDAzLzB4MDYvMHgxMO+8m+WvhOWtmOWZqC/ljZXkvY3lj4Lop4HnlKjmiLfnu5nlrprop4To
jIPvvIkNCiAgICBWLVNFVDogMHgwMDAwICgwLjAxIFYpICBJLVNFVDogMHgwMDAxICgwLjAwMSBB
KQ0KICAgIFZPVVQgOiAweDAwMDIgKDAuMDEgVikgIElPVVQgOiAweDAwMDMgKDAuMDAxIEEpICBQ
T1dFUjogMHgwMDA0ICgwLjAxIFcpDQogICAgT05PRkY6IDB4MDAxMiAoMC8xKQ0KICAgICIiIg0K
ICAgIFJFR19WX1NFVCA9IDB4MDAwMA0KICAgIFJFR19JX1NFVCA9IDB4MDAwMQ0KICAgIFJFR19W
X09VVCA9IDB4MDAwMg0KICAgIFJFR19JX09VVCA9IDB4MDAwMw0KICAgIFJFR19QX09VVCA9IDB4
MDAwNA0KICAgIFJFR19PTk9GRiA9IDB4MDAxMg0KDQogICAgZGVmIF9faW5pdF9fKHNlbGYpOg0K
ICAgICAgICBzZWxmLm1iID0gTm9uZQ0KICAgICAgICBzZWxmLmFkZHIgPSBQVU1QX0FERFJfREVG
QVVMVA0KICAgICAgICBzZWxmLmNvbm5lY3RlZCA9IEZhbHNlDQogICAgICAgIHNlbGYubGFzdF9j
aGVjayA9IDAuMA0KICAgICAgICBzZWxmLmNoZWNrX2ludGVydmFsID0gMi4wDQogICAgICAgIHNl
bGYubGFzdF92c2V0X2NtZCA9IDAuMA0KDQogICAgZGVmIGNvbm5lY3Qoc2VsZiwgcG9ydDogc3Ry
LCBiYXVkOiBpbnQgPSBQVU1QX0JBVUQsIGFkZHI6IGludCA9IFBVTVBfQUREUl9ERUZBVUxUKToN
CiAgICAgICAgc2VsZi5hZGRyID0gYWRkcg0KICAgICAgICBzZWxmLm1iID0gTW9kYnVzUlRVKHBv
cnQsIGJhdWRyYXRlPWJhdWQsIHRpbWVvdXQ9MC4xMCkgICMg5Y6fIDAuMjUgLT4gMC4xMA0KICAg
ICAgICBzZWxmLm1iLm9wZW4oKQ0KICAgICAgICBzZWxmLmNvbm5lY3RlZCA9IFRydWUNCiAgICAg
ICAgc2VsZi5sYXN0X2NoZWNrID0gdGltZS5wZXJmX2NvdW50ZXIoKQ0KDQogICAgZGVmIGRpc2Nv
bm5lY3Qoc2VsZik6DQogICAgICAgIHRyeToNCiAgICAgICAgICAgIGlmIHNlbGYubWI6DQogICAg
ICAgICAgICAgICAgdHJ5Og0KICAgICAgICAgICAgICAgICAgICBzZWxmLm9mZigpDQogICAgICAg
ICAgICAgICAgZXhjZXB0IEV4Y2VwdGlvbjoNCiAgICAgICAgICAgICAgICAgICAgcGFzcw0KICAg
ICAgICAgICAgICAgIHNlbGYubWIuY2xvc2UoKQ0KICAgICAgICBmaW5hbGx5Og0KICAgICAgICAg
ICAgc2VsZi5tYiA9IE5vbmUNCiAgICAgICAgICAgIHNlbGYuY29ubmVjdGVkID0gRmFsc2UNCg0K
ICAgIGRlZiBfZW5zdXJlKHNlbGYpOg0KICAgICAgICBpZiBub3Qgc2VsZi5jb25uZWN0ZWQgb3Ig
bm90IHNlbGYubWI6DQogICAgICAgICAgICByYWlzZSBJT0Vycm9yKCLlvqrnjq/ms7XmnKrov57m
jqUiKQ0KICAgICAgICBub3cgPSB0aW1lLnBlcmZfY291bnRlcigpDQogICAgICAgIGlmIG5vdyAt
IHNlbGYubGFzdF9jaGVjayA+PSBzZWxmLmNoZWNrX2ludGVydmFsOg0KICAgICAgICAgICAgIyDo
r7vkuIDkuKrlr4TlrZjlmajlvZPkv53mtLsNCiAgICAgICAgICAgIF8gPSBzZWxmLm1iLnJlYWRf
aG9sZGluZ19yZWdpc3RlcnMoc2VsZi5hZGRyLCBzZWxmLlJFR19WX09VVCwgMSkNCiAgICAgICAg
ICAgIHNlbGYubGFzdF9jaGVjayA9IG5vdw0KDQogICAgIyAtLS0tLS0tLSDmjqfliLYgLS0tLS0t
LS0NCiAgICBkZWYgb24oc2VsZik6DQogICAgICAgIHNlbGYuX2Vuc3VyZSgpDQogICAgICAgIHNl
bGYubWIud3JpdGVfc2luZ2xlX3JlZ2lzdGVyKHNlbGYuYWRkciwgc2VsZi5SRUdfT05PRkYsIDEp
DQoNCiAgICBkZWYgb2ZmKHNlbGYpOg0KICAgICAgICBzZWxmLl9lbnN1cmUoKQ0KICAgICAgICBz
ZWxmLm1iLndyaXRlX3NpbmdsZV9yZWdpc3RlcihzZWxmLmFkZHIsIHNlbGYuUkVHX09OT0ZGLCAw
KQ0KDQogICAgZGVmIHNldF92b2x0YWdlKHNlbGYsIHY6IGZsb2F0KToNCiAgICAgICAgIiIi5YaZ
5Y2V5a+E5a2Y5ZmoIFYtU0VU77yM5Y2V5L2NIDAuMDEgVu+8m+S4jeWcqOi/memHjOW8uuWItiAx
M34yNu+8jOWklumDqOWBmuetlueVpeabtOeBtea0u+OAgiIiIg0KICAgICAgICBzZWxmLl9lbnN1
cmUoKQ0KICAgICAgICB2X2VuYyA9IG1heCgwLCBpbnQocm91bmQoZmxvYXQodikgKiAxMDAuMCkp
KSAmIDB4RkZGRg0KICAgICAgICBzZWxmLm1iLndyaXRlX3NpbmdsZV9yZWdpc3RlcihzZWxmLmFk
ZHIsIHNlbGYuUkVHX1ZfU0VULCB2X2VuYykNCiAgICAgICAgc2VsZi5sYXN0X3ZzZXRfY21kID0g
ZmxvYXQodikNCg0KICAgIGRlZiBzZXRfdl9pKHNlbGYsIHY6IGZsb2F0LCBpOiBmbG9hdCk6DQog
ICAgICAgICIiIuS4gOasoeWGmeWFpSBWK0nvvIjlip/og73noIEgMHgxMO+8ieOAgiIiIg0KICAg
ICAgICBzZWxmLl9lbnN1cmUoKQ0KICAgICAgICB2X2VuYyA9IG1heCgwLCBpbnQocm91bmQoZmxv
YXQodikgKiAxMDAuMCkpKSAmIDB4RkZGRg0KICAgICAgICBpX2VuYyA9IG1heCgwLCBpbnQocm91
bmQoZmxvYXQoaSkgKiAxMDAwLjApKSkgJiAweEZGRkYNCiAgICAgICAgc2VsZi5tYi53cml0ZV9t
dWx0aXBsZV9yZWdpc3RlcnMoc2VsZi5hZGRyLCBzZWxmLlJFR19WX1NFVCwgW3ZfZW5jLCBpX2Vu
Y10pDQogICAgICAgIHNlbGYubGFzdF92c2V0X2NtZCA9IGZsb2F0KHYpDQoNCiAgICAjIC0tLS0t
LS0tIOmHh+mbhiAtLS0tLS0tLQ0KICAgIGRlZiByZWFkX3ZpKHNlbGYpOg0KICAgICAgICBzZWxm
Ll9lbnN1cmUoKQ0KICAgICAgICByZWdzID0gc2VsZi5tYi5yZWFkX2hvbGRpbmdfcmVnaXN0ZXJz
KHNlbGYuYWRkciwgc2VsZi5SRUdfVl9PVVQsIDIpDQogICAgICAgIHYgPSByZWdzWzBdICogMC4w
MQ0KICAgICAgICBhID0gcmVnc1sxXSAqIDAuMDAxDQogICAgICAgIHJldHVybiB2LCBhDQoNCiAg
ICBkZWYgcmVhZF92aXAoc2VsZik6DQogICAgICAgIHNlbGYuX2Vuc3VyZSgpDQogICAgICAgIHJl
Z3MgPSBzZWxmLm1iLnJlYWRfaG9sZGluZ19yZWdpc3RlcnMoc2VsZi5hZGRyLCBzZWxmLlJFR19W
X09VVCwgMykNCiAgICAgICAgdiA9IHJlZ3NbMF0gKiAwLjAxDQogICAgICAgIGEgPSByZWdzWzFd
ICogMC4wMDENCiAgICAgICAgcCA9IHJlZ3NbMl0gKiAwLjAxDQogICAgICAgIHJldHVybiB2LCBh
LCBwDQoNCiAgICAjIOWFvOWuueaXp+iwg+eUqO+8mui/lOWbniAoViwgQSwgVykNCiAgICBkZWYg
cmVhZF9tZWFzKHNlbGYpOg0KICAgICAgICByZXR1cm4gc2VsZi5yZWFkX3ZpcCgpDQoNCiAgICAj
IOWFvOWuueaXp+iwg+eUqO+8mnNldF9vdXRwdXQoVHJ1ZS9GYWxzZSkgLT4gb24vb2ZmDQogICAg
ZGVmIHNldF9vdXRwdXQoc2VsZiwgb246IGJvb2wpOg0KICAgICAgICBpZiBvbjoNCiAgICAgICAg
ICAgIHNlbGYub24oKQ0KICAgICAgICBlbHNlOg0KICAgICAgICAgICAgc2VsZi5vZmYoKQ0KDQoN
CmNsYXNzIFRDTVRlbXBlcmF0dXJlOg0KICAgIGRlZiBfX2luaXRfXyhzZWxmKToNCiAgICAgICAg
c2VsZi5tYiA9IE5vbmUNCiAgICAgICAgc2VsZi5hZGRyID0gVENNX0FERFJfREVGQVVMVA0KICAg
ICAgICBzZWxmLmNvbm5lY3RlZCA9IEZhbHNlDQogICAgICAgIHNlbGYubGFzdF9jaGVjayA9IDAu
MA0KICAgICAgICBzZWxmLmNoZWNrX2ludGVydmFsID0gMi4wDQoNCiAgICBkZWYgY29ubmVjdChz
ZWxmLCBwb3J0OiBzdHIsIGJhdWQ6IGludCA9IFRDTV9CQVVELCBhZGRyOiBpbnQgPSBUQ01fQURE
Ul9ERUZBVUxUKToNCiAgICAgICAgc2VsZi5hZGRyID0gYWRkcg0KICAgICAgICBzZWxmLm1iID0g
TW9kYnVzUlRVKHBvcnQsIGJhdWRyYXRlPWJhdWQsIHRpbWVvdXQ9MC4xMCkgICMg5Y6fIDAuMjUg
LT4gMC4xMA0KICAgICAgICBzZWxmLm1iLm9wZW4oKQ0KICAgICAgICBzZWxmLmNvbm5lY3RlZCA9
IFRydWUNCiAgICAgICAgc2VsZi5sYXN0X2NoZWNrID0gdGltZS5wZXJmX2NvdW50ZXIoKQ0KDQog
ICAgZGVmIGRpc2Nvbm5lY3Qoc2VsZik6DQogICAgICAgIHRyeToNCiAgICAgICAgICAgIGlmIHNl
bGYubWI6DQogICAgICAgICAgICAgICAgc2VsZi5tYi5jbG9zZSgpDQogICAgICAgIGZpbmFsbHk6
DQogICAgICAgICAgICBzZWxmLm1iID0gTm9uZQ0KICAgICAgICAgICAgc2VsZi5jb25uZWN0ZWQg
PSBGYWxzZQ0KDQogICAgZGVmIF9lbnN1cmUoc2VsZik6DQogICAgICAgIGlmIG5vdCBzZWxmLmNv
bm5lY3RlZCBvciBub3Qgc2VsZi5tYjoNCiAgICAgICAgICAgIHJhaXNlIElPRXJyb3IoIua4qeW6
puS7quacqui/nuaOpSIpDQogICAgICAgIG5vdyA9IHRpbWUucGVyZl9jb3VudGVyKCkNCiAgICAg
ICAgaWYgbm93IC0gc2VsZi5sYXN0X2NoZWNrID49IHNlbGYuY2hlY2tfaW50ZXJ2YWw6DQogICAg
ICAgICAgICBfID0gc2VsZi5tYi5yZWFkX2hvbGRpbmdfcmVnaXN0ZXJzKHNlbGYuYWRkciwgUkVH
X1RFTlYsIDIpDQogICAgICAgICAgICBzZWxmLmxhc3RfY2hlY2sgPSBub3cNCg0KICAgIGRlZiBy
ZWFkX1QxKHNlbGYpIC0+IGZsb2F0Og0KICAgICAgICBzZWxmLl9lbnN1cmUoKQ0KICAgICAgICBy
YXcgPSBzZWxmLm1iLnJlYWRfaW50MzJfYmUoc2VsZi5hZGRyLCBSRUdfVDEpDQogICAgICAgIHJl
dHVybiByYXcgLyAxMDAuMA0KDQogICAgZGVmIHJlYWRfVGVudihzZWxmKSAtPiBmbG9hdDoNCiAg
ICAgICAgc2VsZi5fZW5zdXJlKCkNCiAgICAgICAgcmF3ID0gc2VsZi5tYi5yZWFkX2ludDMyX2Jl
KHNlbGYuYWRkciwgUkVHX1RFTlYpDQogICAgICAgIHJldHVybiByYXcgLyAxMDAuMA0KDQoNCiMg
PT09PT09PT09PT09PT09PT09PT09PT09PQ0KIyBQSUQg5o6n5Yi25ZmoDQojID09PT09PT09PT09
PT09PT09PT09PT09PT0NCmNsYXNzIFBJRDoNCiAgICBkZWYgX19pbml0X18oc2VsZiwga3AsIGtp
LCBrZCwgdV9taW49MC4wLCB1X21heD1WT0xUX0xJTUlUX01BWCwgaW50ZWdyYWxfY2xhbXA9SU5U
RUdSQUxfQ0xBTVApOg0KICAgICAgICBzZWxmLmtwID0ga3A7IHNlbGYua2kgPSBraTsgc2VsZi5r
ZCA9IGtkDQogICAgICAgIHNlbGYudV9taW4gPSB1X21pbjsgc2VsZi51X21heCA9IHVfbWF4DQog
ICAgICAgIHNlbGYuaW50ZWdyYWxfY2xhbXAgPSBpbnRlZ3JhbF9jbGFtcA0KICAgICAgICBzZWxm
LnJlc2V0KCkNCg0KICAgIGRlZiByZXNldChzZWxmKToNCiAgICAgICAgc2VsZi5pbnRlZ3JhbCA9
IDAuMA0KICAgICAgICBzZWxmLnByZXZfbWVhcyA9IE5vbmUNCg0KICAgIGRlZiBzdGVwKHNlbGYs
IHNldHBvaW50LCBtZWFzLCBkdCwgY2NfbW9kZT1GYWxzZSwgYXRfdXBwZXJfbGltaXQ9RmFsc2Up
Og0KICAgICAgICBlID0gc2V0cG9pbnQgLSBtZWFzDQogICAgICAgICMg5oqX6aWx5ZKM77ya5LiK
6ZmQJkND5pe25LiU6K+v5beu5Li65q2j77yM5LiN57un57ut56ev5YiGDQogICAgICAgIGlmIG5v
dCAoKGF0X3VwcGVyX2xpbWl0IG9yIGNjX21vZGUpIGFuZCBlID4gMCk6DQogICAgICAgICAgICBz
ZWxmLmludGVncmFsICs9IGUgKiBkdA0KICAgICAgICAgICAgc2VsZi5pbnRlZ3JhbCA9IG1heCgt
c2VsZi5pbnRlZ3JhbF9jbGFtcCwgbWluKHNlbGYuaW50ZWdyYWwsIHNlbGYuaW50ZWdyYWxfY2xh
bXApKQ0KICAgICAgICBkX21lYXMgPSAwLjAgaWYgKHNlbGYucHJldl9tZWFzIGlzIE5vbmUpIGVs
c2UgKHNlbGYucHJldl9tZWFzIC0gbWVhcykgLyBtYXgoMWUtNiwgZHQpDQogICAgICAgIHNlbGYu
cHJldl9tZWFzID0gbWVhcw0KICAgICAgICB1ID0gc2VsZi5rcCAqIGUgKyBzZWxmLmtpICogc2Vs
Zi5pbnRlZ3JhbCArIHNlbGYua2QgKiBkX21lYXMNCiAgICAgICAgcmV0dXJuIG1heChzZWxmLnVf
bWluLCBtaW4oc2VsZi51X21heCwgdSkpLCBlDQoNCiMgPT09PT09PT09IOaWsOWinu+8mui9u+mH
j+W8guatpemHh+agt+WZqCA9PT09PT09PT0NCiMg5pS56L+b55qE5byC5q2l6YeH5qC35Zmo77yM
6YG/5YWN57q/56iL6Zi75aGeDQojID09PT09PT09PSDovbvph4/lvILmraXph4fmoLflmajvvIjk
v67mraPniYjvvJrmlK/mjIEgdG9rZW7vvIzlkIzmraXmjqXlj6MgbGF0ZXN0KCnvvIkgPT09PT09
PT09DQpjbGFzcyBfQXN5bmNTYW1wbGVyOg0KICAgIGRlZiBfX2luaXRfXyhzZWxmLCBuYW1lLCBy
ZWFkX2ZuKToNCiAgICAgICAgc2VsZi5uYW1lID0gbmFtZQ0KICAgICAgICBzZWxmLnJlYWRfZm4g
PSByZWFkX2ZuDQogICAgICAgIHNlbGYuX2xvY2sgPSB0aHJlYWRpbmcuTG9jaygpDQogICAgICAg
IHNlbGYuX3J1bm5pbmcgPSBGYWxzZQ0KICAgICAgICBzZWxmLl9yZXFfZXZlbnQgPSB0aHJlYWRp
bmcuRXZlbnQoKSAgICMg5pyJ6K+35rGC5bCx572u5L2NDQogICAgICAgIHNlbGYuX2RhdGFfcmVh
ZHkgPSB0aHJlYWRpbmcuRXZlbnQoKSAgIyDmnInmlrDmlbDmja7lsLHnva7kvY0NCg0KICAgICAg
ICBzZWxmLl9sYXN0X3ZhbCA9IE5vbmUNCiAgICAgICAgc2VsZi5fbGFzdF90cyA9IDAuMA0KICAg
ICAgICBzZWxmLl9sYXN0X29rID0gRmFsc2UNCg0KICAgICAgICBzZWxmLl9wZW5kaW5nX3RvayA9
IDAgICAjIOacrOasoeivt+axgueahCB0b2tlbg0KICAgICAgICBzZWxmLl9kb25lX3RvayA9IDAg
ICAgICAjIOW3suWujOaIkOeahCB0b2tlbg0KDQogICAgICAgIHNlbGYuX3RocmVhZCA9IE5vbmUN
Cg0KICAgIGRlZiBzdGFydChzZWxmKToNCiAgICAgICAgaWYgc2VsZi5fcnVubmluZzoNCiAgICAg
ICAgICAgIHJldHVybg0KICAgICAgICBzZWxmLl9ydW5uaW5nID0gVHJ1ZQ0KICAgICAgICBzZWxm
Ll9yZXFfZXZlbnQuY2xlYXIoKQ0KICAgICAgICBzZWxmLl9kYXRhX3JlYWR5LmNsZWFyKCkNCiAg
ICAgICAgc2VsZi5fdGhyZWFkID0gdGhyZWFkaW5nLlRocmVhZCh0YXJnZXQ9c2VsZi5fcnVuLCBk
YWVtb249VHJ1ZSkNCiAgICAgICAgc2VsZi5fdGhyZWFkLnN0YXJ0KCkNCg0KICAgIGRlZiBzdG9w
KHNlbGYpOg0KICAgICAgICBzZWxmLl9ydW5uaW5nID0gRmFsc2UNCiAgICAgICAgc2VsZi5fcmVx
X2V2ZW50LnNldCgpICAjIOWUpOmGkue6v+eoi+S7peS+v+mAgOWHug0KICAgICAgICBpZiBzZWxm
Ll90aHJlYWQ6DQogICAgICAgICAgICBzZWxmLl90aHJlYWQuam9pbih0aW1lb3V0PTEuMCkNCiAg
ICAgICAgc2VsZi5fdGhyZWFkID0gTm9uZQ0KDQogICAgZGVmIHJlcXVlc3Qoc2VsZiwgdG9rZW49
Tm9uZSk6DQogICAgICAgICIiIuivt+axguS4gOasoemHh+agt++8m+WPr+aQuuW4piB0b2tlbiDn
lKjkuo7lr7npvZDluKfjgIIiIiINCiAgICAgICAgd2l0aCBzZWxmLl9sb2NrOg0KICAgICAgICAg
ICAgc2VsZi5fcGVuZGluZ190b2sgPSAwIGlmIHRva2VuIGlzIE5vbmUgZWxzZSBpbnQodG9rZW4p
DQogICAgICAgICAgICBzZWxmLl9kYXRhX3JlYWR5LmNsZWFyKCkgICAjIOaWsOivt+axguW8gOWn
i+WJjea4heepuuKAnOWujOaIkOKAneagh+W/lw0KICAgICAgICAgICAgc2VsZi5fcmVxX2V2ZW50
LnNldCgpICAgICAgIyDllKTphpLph4fmoLfnur/nqIsNCg0KICAgIGRlZiBsYXRlc3Qoc2VsZik6
DQogICAgICAgICIiIui/lOWbniAodmFsdWUsIHRpbWVzdGFtcCwgb2ssIGRvbmVfdG9rZW4p44CC
5LiO5L2g5Li75b6q546v5LiA6Ie044CCIiIiDQogICAgICAgIHdpdGggc2VsZi5fbG9jazoNCiAg
ICAgICAgICAgIHJldHVybiBzZWxmLl9sYXN0X3ZhbCwgc2VsZi5fbGFzdF90cywgc2VsZi5fbGFz
dF9vaywgc2VsZi5fZG9uZV90b2sNCg0KICAgIGRlZiBnZXRfbGF0ZXN0KHNlbGYsIHRpbWVvdXQ9
MC4xKToNCiAgICAgICAgIiIi5Y+v6YCJ77ya6Zi75aGe562J5b6F5Yiw5paw5pWw5o2u77yM55So
5LqO6ZyA6KaB6Zi75aGe55qE5Zy65pmv44CCIiIiDQogICAgICAgIGlmIHNlbGYuX2RhdGFfcmVh
ZHkud2FpdCh0aW1lb3V0PXRpbWVvdXQpOg0KICAgICAgICAgICAgd2l0aCBzZWxmLl9sb2NrOg0K
ICAgICAgICAgICAgICAgIHJldHVybiBzZWxmLl9sYXN0X3ZhbCwgc2VsZi5fbGFzdF90cywgc2Vs
Zi5fbGFzdF9vaw0KICAgICAgICByZXR1cm4gTm9uZSwgMC4wLCBGYWxzZQ0KDQogICAgZGVmIF9y
dW4oc2VsZik6DQogICAgICAgIHdoaWxlIFRydWU6DQogICAgICAgICAgICBzZWxmLl9yZXFfZXZl
bnQud2FpdCgpICAjIOetieW+heS4gOasoeivt+axgg0KICAgICAgICAgICAgaWYgbm90IHNlbGYu
X3J1bm5pbmc6DQogICAgICAgICAgICAgICAgYnJlYWsNCiAgICAgICAgICAgICMg5ou/5Yiw6L+Z
5qyh6KaB5aSE55CG55qEIHRva2Vu77yM5bm25riF6Zmk6K+35rGC5L2NDQogICAgICAgICAgICB3
aXRoIHNlbGYuX2xvY2s6DQogICAgICAgICAgICAgICAgdG9rID0gc2VsZi5fcGVuZGluZ190b2sN
CiAgICAgICAgICAgICAgICBzZWxmLl9yZXFfZXZlbnQuY2xlYXIoKQ0KDQogICAgICAgICAgICAj
IOaJp+ihjOivu+WPlg0KICAgICAgICAgICAgdmFsLCBvayA9IE5vbmUsIEZhbHNlDQogICAgICAg
ICAgICB0cnk6DQogICAgICAgICAgICAgICAgdmFsID0gc2VsZi5yZWFkX2ZuKCkNCiAgICAgICAg
ICAgICAgICBvayA9IFRydWUNCiAgICAgICAgICAgIGV4Y2VwdCBFeGNlcHRpb246DQogICAgICAg
ICAgICAgICAgb2sgPSBGYWxzZQ0KDQogICAgICAgICAgICB0cyA9IHRpbWUucGVyZl9jb3VudGVy
KCkNCiAgICAgICAgICAgICMg5pu05paw5YWx5Lqr57uT5p6cDQogICAgICAgICAgICB3aXRoIHNl
bGYuX2xvY2s6DQogICAgICAgICAgICAgICAgc2VsZi5fbGFzdF92YWwgPSB2YWwNCiAgICAgICAg
ICAgICAgICBzZWxmLl9sYXN0X3RzID0gdHMNCiAgICAgICAgICAgICAgICBzZWxmLl9sYXN0X29r
ID0gb2sNCiAgICAgICAgICAgICAgICBzZWxmLl9kb25lX3RvayA9IHRvaw0KICAgICAgICAgICAg
ICAgIHNlbGYuX2RhdGFfcmVhZHkuc2V0KCkNCg0KDQojID09PT09PT09PSDmlrDlop7vvJrmjIno
rr7lpIfljIXoo4XkuIDmrKHor7vlj5bvvIjkuI7ljp8gcmVhZF8qIOWujOWFqOWFvOWuue+8iSA9
PT09PT09PT0NCmRlZiBfcmVhZF90Y21fb25jZShzZWxmKToNCiAgICAjIOi/lOWbniBmbG9hdCDm
uKnluqbvvJvkv53mjIHkuI7ljp/mnaXor63kuYnkuIDoh7QNCiAgICByZXR1cm4gc2VsZi50Y20u
cmVhZF9UMSgpDQoNCmRlZiBfcmVhZF9wc3Vfb25jZShzZWxmKToNCiAgICAjIOi/lOWbniAoVl9v
dXQsIEFfb3V0LCBDVi9DQ+agh+W/lykNCiAgICByZXR1cm4gc2VsZi5wc3UucmVhZF9tZWFzKCkN
Cg0KZGVmIF9yZWFkX3B1bXBfb25jZShzZWxmKToNCiAgICAjIOi/lOWbniAoViwgSSwgUCkNCiAg
ICByZXR1cm4gc2VsZi5wdW1wLnJlYWRfbWVhcygpDQoNCg0KIyA9PT09PT09PT0g5paw5aKe77ya
5ZCv5YqoL+WBnOatouS4ieS4qumHh+agt+WZqCA9PT09PT09PT0NCmRlZiBfc3RhcnRfYXN5bmNf
c2FtcGxlcnMoc2VsZik6DQogICAgIiIi5ZyoIHN0YXJ0X2FjcXVpc2l0aW9uIOmHjOiwg+eUqOOA
giIiIg0KICAgICMg5rip5bqmDQogICAgc2VsZi5fc2FtcGxlcl90Y20gPSBfQXN5bmNTYW1wbGVy
KCJ0Y20iLCBsYW1iZGE6IF9yZWFkX3RjbV9vbmNlKHNlbGYpKQ0KICAgIHNlbGYuX3NhbXBsZXJf
dGNtLnN0YXJ0KCkNCiAgICAjIOeUtea6kA0KICAgIHNlbGYuX3NhbXBsZXJfcHN1ID0gX0FzeW5j
U2FtcGxlcigicHN1IiwgbGFtYmRhOiBfcmVhZF9wc3Vfb25jZShzZWxmKSkNCiAgICBzZWxmLl9z
YW1wbGVyX3BzdS5zdGFydCgpDQogICAgIyDlvqrnjq/ms7XvvIjlj6/og73msqHov57vvIkNCiAg
ICBpZiBoYXNhdHRyKHNlbGYsICJfc3RvcF9wdW1wX3NhbXBsZXIiKToNCiAgICAgICAgc2VsZi5f
c3RvcF9wdW1wX3NhbXBsZXIoKQ0KICAgIGlmIGhhc2F0dHIoc2VsZiwgIl9lbnN1cmVfcHVtcF9z
YW1wbGVyX3J1bm5pbmciKToNCiAgICAgICAgc2VsZi5fZW5zdXJlX3B1bXBfc2FtcGxlcl9ydW5u
aW5nKCkNCiAgICBlbGlmIGhhc2F0dHIoc2VsZiwgInB1bXAiKSBhbmQgZ2V0YXR0cihzZWxmLnB1
bXAsICJjb25uZWN0ZWQiLCBGYWxzZSk6DQogICAgICAgIHNlbGYuX3NhbXBsZXJfcHVtcCA9IF9B
c3luY1NhbXBsZXIoInB1bXAiLCBsYW1iZGE6IF9yZWFkX3B1bXBfb25jZShzZWxmKSkNCiAgICAg
ICAgc2VsZi5fc2FtcGxlcl9wdW1wLnN0YXJ0KCkNCiAgICBlbHNlOg0KICAgICAgICBzZWxmLl9z
YW1wbGVyX3B1bXAgPSBOb25lDQoNCmRlZiBfc3RvcF9hc3luY19zYW1wbGVycyhzZWxmKToNCiAg
ICBmb3IgcyBpbiAoZ2V0YXR0cihzZWxmLCAiX3NhbXBsZXJfdGNtIiwgTm9uZSksDQogICAgICAg
ICAgICAgIGdldGF0dHIoc2VsZiwgIl9zYW1wbGVyX3BzdSIsIE5vbmUpLA0KICAgICAgICAgICAg
ICBnZXRhdHRyKHNlbGYsICJfc2FtcGxlcl9wdW1wIiwgTm9uZSkpOg0KICAgICAgICB0cnk6DQog
ICAgICAgICAgICBpZiBzOiBzLnN0b3AoKQ0KICAgICAgICBleGNlcHQgRXhjZXB0aW9uOg0KICAg
ICAgICAgICAgcGFzcw0KICAgIHNlbGYuX3NhbXBsZXJfdGNtID0gc2VsZi5fc2FtcGxlcl9wc3Ug
PSBzZWxmLl9zYW1wbGVyX3B1bXAgPSBOb25lDQoNCg0KIyA9PT09PT09PT09PT09PT09PT09PT09
PT09DQojIOS4u+W6lOeUqO+8iOWQq+aYvuekuuS4ieS9jeWwj+aVsOOAgee6v+aAp+eoi+W6j+OA
geaLn+WQiO+8iQ0KIyA9PT09PT09PT09PT09PT09PT09PT09PT09DQpjbGFzcyBBcHA6CiAgICBk
ZWYgX19pbml0X18oc2VsZiwgbWFzdGVyPU5vbmUpOgogICAgICAgIGlmIG1hc3RlciBpcyBOb25l
OgogICAgICAgICAgICByb290ID0gdHRrLldpbmRvdyh0aGVtZW5hbWU9ImNvc21vIikKICAgICAg
ICAgICAgc2VsZi5fb3duc193aW5kb3cgPSBUcnVlCiAgICAgICAgZWxzZToKICAgICAgICAgICAg
cm9vdCA9IG1hc3RlcgogICAgICAgICAgICBzZWxmLl9vd25zX3dpbmRvdyA9IEZhbHNlCgogICAg
ICAgIHNlbGYucm9vdCA9IHJvb3QKICAgICAgICAjIOW9k+WcqOe7n+S4gOeVjOmdouWGheW1jOaX
tu+8jOWkluWxguW3sue7j+iuvue9ruS4u+mimO+8m+eLrOeri+i/kOihjOaXtumcgOimgeS4u+WK
qOiuvue9rgogICAgICAgIHRyeToKICAgICAgICAgICAgc2VsZi5zdHlsZSA9IHR0ay5TdHlsZSgp
CiAgICAgICAgICAgIGlmIHNlbGYuX293bnNfd2luZG93OgogICAgICAgICAgICAgICAgc2VsZi5z
dHlsZS50aGVtZV91c2UoImNvc21vIikKICAgICAgICBleGNlcHQgRXhjZXB0aW9uOgogICAgICAg
ICAgICBzZWxmLnN0eWxlID0gdHRrLlN0eWxlKCkKCiAgICAgICAgaWYgaGFzYXR0cihzZWxmLnJv
b3QsICJ0aXRsZSIpOgogICAgICAgICAgICBzZWxmLnJvb3QudGl0bGUoQVBQX05BTUUpCiAgICAg
ICAgaWYgaGFzYXR0cihzZWxmLnJvb3QsICJnZW9tZXRyeSIpOgogICAgICAgICAgICBzZWxmLnJv
b3QuZ2VvbWV0cnkoIjEzMjB4ODYwIikKCiAgICAgICAgc2VsZi5jb250YWluZXIgPSB0dGsuRnJh
bWUoc2VsZi5yb290KQogICAgICAgIHNlbGYuY29udGFpbmVyLnBhY2soZmlsbD10ay5CT1RILCBl
eHBhbmQ9VHJ1ZSkKDQogICAgICAgICMg54q25oCB5a+56LGhDQogICAgICAgIHNlbGYucHN1ID0g
UG93ZXJTdXBwbHkoKQ0KICAgICAgICBzZWxmLnRjbSA9IFRDTVRlbXBlcmF0dXJlKCkNCiAgICAg
ICAgc2VsZi5hY3FfcnVubmluZyA9IEZhbHNlDQogICAgICAgIHNlbGYuY29udHJvbF9lbmFibGVk
ID0gRmFsc2UNCg0KICAgICAgICAjID09PT09PT09PT09PT09PT09PT09PT09PT0NCiAgICAgICAg
IyBUa2ludGVyIOWPmOmHj+WIneWni+WMlg0KICAgICAgICAjID09PT09PT09PT09PT09PT09PT09
PT09PT0NCiAgICAgICAgIyBQSUQg5ouf5ZCI5Yqf6IO95Y+C5pWwDQogICAgICAgIHNlbGYuZml0
X3dpbmRvd19zID0gdGsuRG91YmxlVmFyKHZhbHVlPTYwLjApICAjIOaLn+WQiOeql+WPoyAo56eS
KQ0KICAgICAgICBzZWxmLmZpdF9zbG9wZSA9IHRrLkRvdWJsZVZhcih2YWx1ZT0wLjApICAjIOaL
n+WQiOaWnOeOhyAowrBDL3MpDQoNCiAgICAgICAgIyDmjqfliLblj4LmlbANCiAgICAgICAgc2Vs
Zi50YXJnZXRfdGVtcCA9IHRrLkRvdWJsZVZhcih2YWx1ZT0yNS4wKQ0KICAgICAgICBzZWxmLmtw
ID0gdGsuRG91YmxlVmFyKHZhbHVlPVBJRF9LUCkNCiAgICAgICAgc2VsZi5raSA9IHRrLkRvdWJs
ZVZhcih2YWx1ZT1QSURfS0kpDQogICAgICAgIHNlbGYua2QgPSB0ay5Eb3VibGVWYXIodmFsdWU9
UElEX0tEKQ0KDQogICAgICAgICMg5Liy5Y+j6YWN572u55u45YWzDQogICAgICAgIHNlbGYucHN1
X3BvcnQgPSB0ay5TdHJpbmdWYXIoKQ0KICAgICAgICBzZWxmLnRjbV9wb3J0ID0gdGsuU3RyaW5n
VmFyKCkNCiAgICAgICAgc2VsZi5wc3VfYmF1ZCA9IHRrLkludFZhcih2YWx1ZT1QU1VfQkFVRCkN
CiAgICAgICAgc2VsZi50Y21fYmF1ZCA9IHRrLkludFZhcih2YWx1ZT1UQ01fQkFVRCkNCiAgICAg
ICAgc2VsZi5hZGRyX3BzdSA9IHRrLkludFZhcih2YWx1ZT1QU1VfQUREUl9ERUZBVUxUKQ0KICAg
ICAgICBzZWxmLmFkZHJfdGNtID0gdGsuSW50VmFyKHZhbHVlPVRDTV9BRERSX0RFRkFVTFQpDQoN
CiAgICAgICAgIyDpmZDliLYgJiDph4fmoLcNCiAgICAgICAgc2VsZi52X2xpbWl0ID0gdGsuRG91
YmxlVmFyKHZhbHVlPVZPTFRfTElNSVRfTUFYKQ0KICAgICAgICBzZWxmLnNsZXdfdnBzID0gdGsu
RG91YmxlVmFyKHZhbHVlPVNMRVdfUkFURV9WX1BFUl9TKQ0KICAgICAgICBzZWxmLnNhbXBsZV9o
eiA9IHRrLkRvdWJsZVZhcih2YWx1ZT1TQU1QTEVfSFopDQogICAgICAgIHNlbGYudGVtcF90YXUg
PSB0ay5Eb3VibGVWYXIodmFsdWU9MS4wKSAgIyDmuKnluqbmu6Tms6Igz4QNCg0KICAgICAgICAj
IOeyvuW6pue7n+iuoQ0KICAgICAgICBzZWxmLmFjY193aW5kb3dfcyA9IHRrLkRvdWJsZVZhcih2
YWx1ZT0zMC4wKSAgIyDnu5/orqHnqpflj6MgKOenkikNCiAgICAgICAgc2VsZi5hY2NfdG9sID0g
dGsuRG91YmxlVmFyKHZhbHVlPTAuNSkgICMg5a655beuICjCscKwQykNCg0KICAgICAgICAjIOWu
nuaXtuivu+aVsA0KICAgICAgICBzZWxmLmN1cl90ZW1wID0gdGsuRG91YmxlVmFyKHZhbHVlPTAu
MCkNCiAgICAgICAgc2VsZi5jdXJfdm91dCA9IHRrLkRvdWJsZVZhcih2YWx1ZT0wLjApDQogICAg
ICAgIHNlbGYuY3VyX2FvdXQgPSB0ay5Eb3VibGVWYXIodmFsdWU9MC4wKQ0KICAgICAgICBzZWxm
LmN1cl9wb3V0ID0gdGsuRG91YmxlVmFyKHZhbHVlPTAuMCkNCiAgICAgICAgc2VsZi5jdmNjX3N0
YXRlID0gdGsuU3RyaW5nVmFyKHZhbHVlPSLigJQiKQ0KICAgICAgICBzZWxmLnN0YXR1c190ZXh0
ID0gdGsuU3RyaW5nVmFyKHZhbHVlPSLmnKrov57mjqUiKQ0KICAgICAgICBzZWxmLnBzdV9zdGF0
dXMgPSB0ay5TdHJpbmdWYXIodmFsdWU9Iuacqui/nuaOpSIpDQogICAgICAgIHNlbGYudGNtX3N0
YXR1cyA9IHRrLlN0cmluZ1Zhcih2YWx1ZT0i5pyq6L+e5o6lIikNCiAgICAgICAgc2VsZi5wdW1w
X3N0YXR1cyA9IHRrLlN0cmluZ1Zhcih2YWx1ZT0i5pyq6L+e5o6lIikNCg0KICAgICAgICAjIOKA
lOKAlCBDU1Yg5Lya6K+d5byP6K6w5b2VIOKAlOKAlA0KICAgICAgICBzZWxmLmNzdl9kaXIgPSB0
ay5TdHJpbmdWYXIodmFsdWU9c3RyKGdldF9sb2dzX2RpcigpKSkgICMg5Y+v6YWN572u55uu5b2V
77yI6buY6K6kIGxvZ3PvvIkNCiAgICAgICAgc2VsZi5jc3Zfc2Vzc2lvbl9vcCA9IE5vbmUgICMg
5b2T5YmN5Lya6K+d5ZCN77yaIuWQr+WKqFBJRCIgLyAi5ZCv5Yqo57q/5oCn56iL5bqPIgogICAg
ICAgIHNlbGYuY3N2X3Nlc3Npb25fcGF0aCA9IE5vbmUgICMg5b2T5YmN5Lya6K+d5paH5Lu26Lev
5b6EDQogICAgICAgIHNlbGYuX2xhc3RfY2xpY2tfdHMgPSB7fSAgIyDpmLLmipbnlKjnmoTml7bp
l7TmiLPlrZflhbgNCg0KICAgICAgICAjIOWunuaXtueyvuW6puaYvuekuuWPmOmHjw0KICAgICAg
ICBzZWxmLmN1cl9lcnIgPSB0ay5Eb3VibGVWYXIodmFsdWU9MC4wKSAgIyDOtSh0KQ0KICAgICAg
ICBzZWxmLm1hZV93aW4gPSB0ay5Eb3VibGVWYXIodmFsdWU9MC4wKSAgIyBNQUUNCiAgICAgICAg
c2VsZi5ybXNlX3dpbiA9IHRrLkRvdWJsZVZhcih2YWx1ZT0wLjApICAjIFJNU0UNCiAgICAgICAg
c2VsZi5oaXRfcmF0aW8gPSB0ay5Eb3VibGVWYXIodmFsdWU9MC4wKSAgIyDlkb3kuK3njocgJQ0K
ICAgICAgICBzZWxmLmFjY19pbmZvID0gdGsuU3RyaW5nVmFyKHZhbHVlPSLnqpc9MzAgc++8jOWu
ueW3rj3CsTAuNSDCsEMiKQ0KDQogICAgICAgICMg55WM6Z2i5Yi35pawDQogICAgICAgIHNlbGYu
cGxvdF93aW5kb3dfcyA9IHRrLkRvdWJsZVZhcih2YWx1ZT0xMjAuMCkNCiAgICAgICAgc2VsZi51
aV9yZWZyZXNoX21zID0gdGsuSW50VmFyKHZhbHVlPTEwMCkNCg0KICAgICAgICAjID09PT09PT09
PT0g57q/56iL6YCa6K6v6ZSBID09PT09PT09PT0NCiAgICAgICAgc2VsZi5wYXJhbXNfbG9jayA9
IHRocmVhZGluZy5Mb2NrKCkNCiAgICAgICAgc2VsZi5ydF9sb2NrID0gdGhyZWFkaW5nLkxvY2so
KQ0KICAgICAgICBzZWxmLnBhcmFtcyA9IHsNCiAgICAgICAgICAgICJzYW1wbGVfaHoiOiBzZWxm
LnNhbXBsZV9oei5nZXQoKSwNCiAgICAgICAgICAgICJ2X2xpbWl0Ijogc2VsZi52X2xpbWl0Lmdl
dCgpLA0KICAgICAgICAgICAgInNsZXdfdnBzIjogc2VsZi5zbGV3X3Zwcy5nZXQoKSwNCiAgICAg
ICAgICAgICJrcCI6IHNlbGYua3AuZ2V0KCksDQogICAgICAgICAgICAia2kiOiBzZWxmLmtpLmdl
dCgpLA0KICAgICAgICAgICAgImtkIjogc2VsZi5rZC5nZXQoKSwNCiAgICAgICAgICAgICJ0YXJn
ZXQiOiBzZWxmLnRhcmdldF90ZW1wLmdldCgpLA0KICAgICAgICAgICAgInRlbXBfdGF1Ijogc2Vs
Zi50ZW1wX3RhdS5nZXQoKSwNCiAgICAgICAgfQ0KICAgICAgICBzZWxmLnJ0ID0geyJ0ZW1wIjog
ZmxvYXQoJ25hbicpLCAidl9vdXQiOiAwLjAsICJhX291dCI6IDAuMCwgInBfb3V0IjogMC4wLA0K
ICAgICAgICAgICAgICAgICAgICJjdmNjIjogMCwgImVyciI6IGZsb2F0KCduYW4nKSwgIm5vdGUi
OiAiIn0NCg0KICAgICAgICBzZWxmLmNzdl9maWxlID0gTm9uZQ0KICAgICAgICBzZWxmLmNzdl93
cml0ZXIgPSBOb25lDQoNCiAgICAgICAgc2VsZi50aHJlYWQgPSBOb25lDQogICAgICAgIHNlbGYu
c3RvcF9ldmVudCA9IHRocmVhZGluZy5FdmVudCgpDQoNCiAgICAgICAgc2VsZi5waWQgPSBQSUQo
c2VsZi5wYXJhbXNbImtwIl0sIHNlbGYucGFyYW1zWyJraSJdLCBzZWxmLnBhcmFtc1sia2QiXSwN
CiAgICAgICAgICAgICAgICAgICAgICAgdV9taW49MC4wLCB1X21heD1zZWxmLnBhcmFtc1sidl9s
aW1pdCJdKQ0KICAgICAgICBzZWxmLmxhc3RfdnNldCA9IDAuMA0KICAgICAgICBzZWxmLm92ZXJ0
ZW1wX3NodXRkb3duID0gRmFsc2UNCg0KICAgICAgICAjIOe8k+WGsuS4jue7mOWbvg0KICAgICAg
ICBzZWxmLmhpc3Rvcnlfc2Vjb25kcyA9IDE1ICogNjANCiAgICAgICAgbWF4bGVuID0gaW50KHNl
bGYuaGlzdG9yeV9zZWNvbmRzICogc2VsZi5wYXJhbXNbInNhbXBsZV9oeiJdKQ0KICAgICAgICBz
ZWxmLmhpc3RvcnlfbG9jayA9IHRocmVhZGluZy5Mb2NrKCkNCiAgICAgICAgc2VsZi50X2J1ZiA9
IGRlcXVlKG1heGxlbj1tYXhsZW4pDQogICAgICAgIHNlbGYucHVtcF92X2J1ZiA9IGRlcXVlKG1h
eGxlbj1tYXhsZW4pDQogICAgICAgIHNlbGYucHVtcF9pX2J1ZiA9IGRlcXVlKG1heGxlbj1tYXhs
ZW4pDQogICAgICAgIHNlbGYucHVtcF9wX2J1ZiA9IGRlcXVlKG1heGxlbj1tYXhsZW4pDQogICAg
ICAgIHNlbGYudGVtcF9idWYgPSBkZXF1ZShtYXhsZW49bWF4bGVuKQ0KICAgICAgICBzZWxmLnBv
d2VyX2J1ZiA9IGRlcXVlKG1heGxlbj1tYXhsZW4pDQogICAgICAgIHNlbGYuZXJyX2J1ZiA9IGRl
cXVlKG1heGxlbj1tYXhsZW4pDQogICAgICAgIHNlbGYudGFyZ2V0X2J1ZiA9IGRlcXVlKG1heGxl
bj1tYXhsZW4pICAjIOebruagh+a4qeW6puWOhuWPsg0KDQogICAgICAgIHNlbGYucGxvdF93aW5k
b3dfcyA9IHRrLlN0cmluZ1Zhcih2YWx1ZT0iMTIwLjAwMCIpDQogICAgICAgIHNlbGYudWlfcmVm
cmVzaF9tcyA9IHRrLkludFZhcih2YWx1ZT0xMDApDQogICAgICAgIHNlbGYuX2ZyYW1lX2NvdW50
ID0gMA0KICAgICAgICBzZWxmLl9sYXN0X3Bsb3RfdXBkYXRlID0gMC4wDQogICAgICAgIHNlbGYu
X2FjcV90MCA9IE5vbmUgICMgcGVyZl9jb3VudGVyIOi1t+eCuQ0KICAgICAgICBzZWxmLl9zdGF0
dXNfbG9jayA9IHRocmVhZGluZy5Mb2NrKCkNCiAgICAgICAgc2VsZi5fc3RhdHVzX21zZyA9ICIi
DQoNCiAgICAgICAgIyDigJTigJQg57q/5oCn56iL5bqP77yI5Y2HL+mZjea4qe+8ieaOp+WItiDi
gJTigJQNCiAgICAgICAgc2VsZi5yYW1wX2FjdGl2ZSA9IEZhbHNlDQogICAgICAgIHNlbGYucmFt
cF90aHJlYWQgPSBOb25lDQogICAgICAgIHNlbGYucmFtcF9zdG9wX2V2dCA9IHRocmVhZGluZy5F
dmVudCgpDQogICAgICAgIHNlbGYucmFtcF9zdGFydCA9IHRrLlN0cmluZ1Zhcih2YWx1ZT0iMjUu
MDAwIikNCiAgICAgICAgc2VsZi5yYW1wX2VuZCA9IHRrLlN0cmluZ1Zhcih2YWx1ZT0iNTAuMDAw
IikNCiAgICAgICAgc2VsZi5yYW1wX3JhdGUgPSB0ay5TdHJpbmdWYXIodmFsdWU9IjEuMDAwIikg
ICMgwrBDL21pbg0KICAgICAgICBzZWxmLnJhbXBfaG9sZF9taW4gPSB0ay5TdHJpbmdWYXIodmFs
dWU9IjAuMDAwIikNCg0KICAgICAgICAjIOKYhSDmlrDlop7vvJrlvqrnjq/lj5jmuKnlvIDlhbMN
CiAgICAgICAgc2VsZi5yYW1wX2N5Y2xlX2VuYWJsZSA9IHRrLkJvb2xlYW5WYXIodmFsdWU9RmFs
c2UpDQoNCiAgICAgICAgIyDigJTigJQg5Yik56izICYgQ1NWIOi1t+atoumYiOWAvO+8iOWKoeW/
heWcqCBfYnVpbGRfdWkoKSDkuYvliY3lrprkuYnvvInigJTigJQNCiAgICAgICAgc2VsZi5tYWVf
c3RhYmxlX3RociA9IHRrLkRvdWJsZVZhcih2YWx1ZT0wLjIwKSAgIyBNQUUg5Yik56iz6ZiI5YC8
77yIwrBD77yJDQogICAgICAgIHNlbGYuc2xvcGVfc3RhcnRfdGhyX2NwbSA9IHRrLkRvdWJsZVZh
cih2YWx1ZT0wLjMwKSAgIyBDU1Yg5byA5aeL6ZiI77yafOaWnOeOh3ziiaXmraTlgLzvvIjCsEMv
bWlu77yJDQogICAgICAgIHNlbGYuc2xvcGVfc3RvcF90aHJfY3BtID0gdGsuRG91YmxlVmFyKHZh
bHVlPTAuMDgpICAjIENTViDlgZzmraLpmIjvvJp85pac546HfOKJpOatpOWAvO+8iMKwQy9taW7v
vIkNCg0KICAgICAgICAjIOKAlOKAlCDmqKHmi5/ngrnlh7vorr7nva7vvIjnlKggU3RyaW5nVmFy
77yM6YG/5YWN56m65YC85bSp5rqD77yJ4oCU4oCUCiAgICAgICAgc2VsZi5hdXRvX2NsaWNrX2Vu
YWJsZSA9IHRrLkJvb2xlYW5WYXIodmFsdWU9RmFsc2UpCiAgICAgICAgc2VsZi5hdXRvX2NsaWNr
X3ggPSB0ay5TdHJpbmdWYXIodmFsdWU9IjAiKSAgIyDihpAgU3RyaW5nVmFyCiAgICAgICAgc2Vs
Zi5hdXRvX2NsaWNrX3kgPSB0ay5TdHJpbmdWYXIodmFsdWU9IjAiKSAgIyDihpAgU3RyaW5nVmFy
CiAgICAgICAgc2VsZi5hdXRvX2NsaWNrX2J1dHRvbiA9IHRrLlN0cmluZ1Zhcih2YWx1ZT0ibGVm
dCIpCiAgICAgICAgc2VsZi5hdXRvX2NsaWNrX2RvdWJsZSA9IHRrLkJvb2xlYW5WYXIodmFsdWU9
RmFsc2UpCiAgICAgICAgc2VsZi5hdXRvX2NsaWNrX2RlbGF5X21zID0gdGsuU3RyaW5nVmFyKHZh
bHVlPSIwIikgICMg4oaQIFN0cmluZ1ZhcgoKICAgICAgICAjIOKAlOKAlCDoh6rliqjmtYvor5Xv
vJrlg4/ntKDmo4DmtYsgKyDmqKHmi5/ngrnlh7sg4oCU4oCUCiAgICAgICAgc2VsZi5kZXRlY3Rp
b25faW50ZXJ2YWxfdmFyID0gdGsuSW50VmFyKHZhbHVlPTEwMDApICAjIG1zCiAgICAgICAgc2Vs
Zi5waXhlbF9kZXRlY3Rpb25fZW5hYmxlZCA9IHRrLkJvb2xlYW5WYXIodmFsdWU9RmFsc2UpCiAg
ICAgICAgc2VsZi5waXhlbF9kZXRlY3Rpb25fcmVnaW9uID0gTm9uZQogICAgICAgIHNlbGYucGl4
ZWxfc2Vuc2l0aXZpdHlfdmFyID0gdGsuRG91YmxlVmFyKHZhbHVlPTUuMCkKICAgICAgICBzZWxm
LnBpeGVsX3RpbWVvdXRfdmFyID0gdGsuRG91YmxlVmFyKHZhbHVlPTEyMC4wKQogICAgICAgIHNl
bGYucGl4ZWxfbG9nX2VuYWJsZWQgPSB0ay5Cb29sZWFuVmFyKHZhbHVlPUZhbHNlKQogICAgICAg
IHNlbGYucGl4ZWxfY2xpY2tfY29vbGRvd25fdmFyID0gdGsuSW50VmFyKHZhbHVlPTIwMDApCiAg
ICAgICAgc2VsZi5fbGFzdF9waXhlbF9jbGlja190cyA9IDAuMAogICAgICAgIHNlbGYuaW5pdGlh
bF9waXhlbF9zbmFwc2hvdCA9IE5vbmUKICAgICAgICBzZWxmLnByZXZfcGl4ZWxfc25hcHNob3Qg
PSBOb25lCg0KICAgICAgICAjIOKAlOKAlCDlnZDmoIfmi77lj5bov5DooYzmgIEg4oCU4oCUDQog
ICAgICAgIHNlbGYuX3BpY2tfcnVubmluZyA9IEZhbHNlDQogICAgICAgIHNlbGYucGlja19wcmV2
aWV3ID0gdGsuU3RyaW5nVmFyKHZhbHVlPSJYPeKAlCwgWT3igJQiKSAgIyDlrp7ml7bpooTop4gN
CiAgICAgICAgc2VsZi5fa2JfaG90a2V5X2lkID0gTm9uZSAgIyBrZXlib2FyZCDng63plK7lj6Xm
n4QNCg0KICAgICAgICAjID09PT0g5b6q546v5rO15a+56LGhIC8gUElE77yI5Ya35Y2077yJID09
PT0NCiAgICAgICAgc2VsZi5wdW1wID0gQ29vbGluZ1B1bXAoKQ0KICAgICAgICBzZWxmLnB1bXBf
c3RhdHVzID0gdGsuU3RyaW5nVmFyKHZhbHVlPSLmnKrov57mjqUiKQ0KICAgICAgICBzZWxmLnB1
bXBfcG9ydCA9IHRrLlN0cmluZ1ZhcigpDQogICAgICAgIHNlbGYucHVtcF9iYXVkID0gdGsuSW50
VmFyKHZhbHVlPVBVTVBfQkFVRCkNCiAgICAgICAgc2VsZi5hZGRyX3B1bXAgPSB0ay5JbnRWYXIo
dmFsdWU9UFVNUF9BRERSX0RFRkFVTFQpDQoNCiAgICAgICAgIyDlhrfljbQgUElEIOS7peWPiuet
lueVpeWPguaVsA0KICAgICAgICBzZWxmLmtwX2Nvb2wgPSB0ay5Eb3VibGVWYXIodmFsdWU9c2Vs
Zi5rcC5nZXQoKSkgICAgICAgIyDpu5jorqTkuI7liqDng63nm7jlkIwNCiAgICAgICAgc2VsZi5r
aV9jb29sID0gdGsuRG91YmxlVmFyKHZhbHVlPW1heCgwLjAsIHNlbGYua2kuZ2V0KCkgKiAwLjUp
KSAgIyDnp6/liIbnqI3lsI/vvIzpgb/lhY3miqLmjqfliLYNCiAgICAgICAgc2VsZi5rZF9jb29s
ID0gdGsuRG91YmxlVmFyKHZhbHVlPXNlbGYua2QuZ2V0KCkpDQoNCiAgICAgICAgc2VsZi5wdW1w
X3ZtaW4gPSB0ay5Eb3VibGVWYXIodmFsdWU9UFVNUF9WX01JTikNCiAgICAgICAgc2VsZi5wdW1w
X3ZtYXggPSB0ay5Eb3VibGVWYXIodmFsdWU9UFVNUF9WX01BWCkNCiAgICAgICAgc2VsZi5wdW1w
X2RlYWRiYW5kID0gdGsuRG91YmxlVmFyKHZhbHVlPVBVTVBfREVBREJBTkRfQykNCiAgICAgICAg
c2VsZi5wdW1wX3NsZXdfdnBzID0gdGsuRG91YmxlVmFyKHZhbHVlPVBVTVBfU0xFV19WX1BFUl9T
KQ0KDQogICAgICAgICMg5rO15a6e5pe26K+75pWwIC8g5ZG95LukDQogICAgICAgIHNlbGYuY3Vy
X3B1bXBfdiA9IHRrLkRvdWJsZVZhcih2YWx1ZT0wLjApDQogICAgICAgIHNlbGYuY3VyX3B1bXBf
YSA9IHRrLkRvdWJsZVZhcih2YWx1ZT0wLjApDQogICAgICAgIHNlbGYuY3VyX3B1bXBfcCA9IHRr
LkRvdWJsZVZhcih2YWx1ZT0wLjApDQogICAgICAgIHNlbGYuY3VyX3B1bXBfdnNldCA9IHRrLkRv
dWJsZVZhcih2YWx1ZT0wLjApDQoNCiAgICAgICAgIyDlhrfljbQgUElEIOWunuS+i++8iOi+k+WH
uiA9IOebuOWvueWinumHjyAtPiBbMCwgdm1heC12bWluXe+8iQ0KICAgICAgICBzZWxmLnBpZF9j
b29sID0gUElEKHNlbGYua3BfY29vbC5nZXQoKSwgc2VsZi5raV9jb29sLmdldCgpLCBzZWxmLmtk
X2Nvb2wuZ2V0KCksDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgdV9taW49MC4wLCB1X21h
eD1zZWxmLnB1bXBfdm1heC5nZXQoKSAtIHNlbGYucHVtcF92bWluLmdldCgpKQ0KICAgICAgICBz
ZWxmLnB1bXBfbGFzdF92c2V0ID0gMC4wDQogICAgICAgIHNlbGYuX3B1bXBfb24gPSBGYWxzZQ0K
DQogICAgICAgICMgPT09PT0gUFdNIOebuOWFs+WPmOmHj++8iOWFiOWumuS5ie+8jOWQjuS9v+eU
qO+8iT09PT09DQogICAgICAgICMg6K+05piO77yaDQogICAgICAgICMgLSBwdW1wX3B3bV92X29u
ID0gUFdNIOW8gCjpq5gp55S15Y6L44CCPD0wIOihqOekuuKAnOi3n+maj+azteacgOWwj+eUteWO
iyhwdW1wX3ZtaW4p4oCdDQogICAgICAgICMgLSBwdW1wX3B3bV92X29mZiA9IFBXTSDlhbMo5L2O
KeeUteWOiw0KICAgICAgICAjIOKAlOKAlCBQV00g55u45YWzIFRrIOWPmOmHj++8iOS+myBVSSDk
uI4gX2FjcV9sb29wIOWFseeUqO+8ieKAlOKAlA0KICAgICAgICBzZWxmLnB1bXBfcHdtX2VuYWJs
ZSA9IHRrLkJvb2xlYW5WYXIodmFsdWU9RmFsc2UpICAjIOaJi+WKqCBQV00g5byA5YWzDQogICAg
ICAgIHNlbGYucHVtcF9wd21fZnJlcSA9IHRrLkRvdWJsZVZhcih2YWx1ZT0xMC4wKSAgIyBQV00g
6aKR546HIEh6DQogICAgICAgIHNlbGYucHVtcF9wd21fdl9vbiA9IHRrLkRvdWJsZVZhcih2YWx1
ZT0xMy4wKSAgIyBQV00g5byAKOmrmCnnlLXljosNCiAgICAgICAgc2VsZi5wdW1wX3B3bV92X29m
ZiA9IHRrLkRvdWJsZVZhcih2YWx1ZT0wLjApICAjIFBXTSDlhbMo5L2OKeeUteWOiw0KICAgICAg
ICBzZWxmLnB1bXBfcHdtX21pbl9vbl9tcyA9IHRrLkludFZhcih2YWx1ZT0zMDApDQoNCiAgICAg
ICAgc2VsZi5wdW1wX3B3bV9hdXRvX29uX2hvdHYgPSB0ay5Cb29sZWFuVmFyKHZhbHVlPVRydWUp
ICAjIOiHquWKqO+8muWKoOeDreeUteWOi+mrmOaXtuWQr+eUqA0KICAgICAgICBzZWxmLnB1bXBf
cHdtX2hvdHZfdGhyID0gdGsuRG91YmxlVmFyKHZhbHVlPTQwLjApICAjIOWKoOeDreeUteWOi+mY
iOWAvO+8iFbvvIkNCg0KICAgICAgICBzZWxmLnB1bXBfcHdtX2F1dG9fb25fcmFtcF91cCA9IHRr
LkJvb2xlYW5WYXIodmFsdWU9VHJ1ZSkgICMg6Ieq5Yqo77ya5Y2H5rip57q/5oCn5q615ZCv55So
DQogICAgICAgIHNlbGYucHVtcF9wd21fYXV0b19kdXR5ID0gdGsuRG91YmxlVmFyKHZhbHVlPTAu
NTApICAjIOiHquWKqOinpuWPkeaXtuetieaViOWNoOepuuavlCAoMH4xKQ0KICAgICAgICBzZWxm
LnB1bXBfcHdtX2Vycl90aHJfQyA9IHRrLkRvdWJsZVZhcih2YWx1ZT0wLjE1KSAgIyDku43pnIDl
jYfmuKnnmoTmuKnlt67pmIjlgLzvvIjCsEPvvIkNCg0KICAgICAgICBzZWxmLnB1bXBfcHdtX2Fs
d2F5c19vbl90ZW1wID0gdGsuQm9vbGVhblZhcih2YWx1ZT1GYWxzZSkgICMg6auY5rip5oGS5ZCv
IFBXTQ0KICAgICAgICBzZWxmLnB1bXBfcHdtX2Fsd2F5c190ZW1wX3RociA9IHRrLkRvdWJsZVZh
cih2YWx1ZT04MC4wKSAgIyDpq5jmuKnpmIjlgLzvvIjCsEPvvIkNCg0KICAgICAgICAjIOWPr+mA
ie+8muWFgeiuuOKAnOW/heimgeaXtuS4gOebtOS/neaMgeWFs+KAneeahOW8gOWFs++8iOWmguae
nOS9oOWcqCBfYWNxX2xvb3Ag6YeM5Yqg5LqG6YC76L6R77yJDQogICAgICAgIHNlbGYucHVtcF9w
d21fZm9yY2Vfb2ZmID0gdGsuQm9vbGVhblZhcih2YWx1ZT1GYWxzZSkNCiAgICAgICAgIyDigJTi
gJQg5rip5bqm6Zeo5o6n77ya5L2O5rip5by65Yi257un55S15Zmo6Zet5ZCI77yb6auY5rip5by6
5Yi26L+b5YWlIFBXTSDigJTigJQNCiAgICAgICAgc2VsZi5wd21fbG93X2tlZXBfb24gPSB0ay5E
b3VibGVWYXIodmFsdWU9NS4wKSAgIyDkvY7kuo7mraTmuKnluqbvvIzlvLrliLbnu6fnlLXlmagg
T07vvIjlvqrnjq/vvIkNCiAgICAgICAgc2VsZi5wd21faGlnaF9lbmFibGVfcHdtID0gdGsuRG91
YmxlVmFyKHZhbHVlPTE1LjApICAjIOmrmOS6juatpOa4qeW6pu+8jOW8uuWItui/m+WFpSBQV00N
Cg0KICAgICAgICAjID09PT0g57un55S15Zmo77yIWUsyMDA277yJID09PT0NCiAgICAgICAgc2Vs
Zi5yZWxheSA9IFlLMjAwNlJlbGF5KCkNCiAgICAgICAgc2VsZi5yZWxheV9zdGF0dXMgPSB0ay5T
dHJpbmdWYXIodmFsdWU9Iuacqui/nuaOpSIpDQogICAgICAgIHNlbGYucmVsYXlfcG9ydCA9IHRr
LlN0cmluZ1ZhcigpDQogICAgICAgIHNlbGYucmVsYXlfYmF1ZCA9IHRrLkludFZhcih2YWx1ZT05
NjAwKQ0KICAgICAgICBzZWxmLnJlbGF5X2NoYW4gPSB0ay5JbnRWYXIodmFsdWU9MSkgICMg6buY
6K6k56ysMei3rw0KICAgICAgICBzZWxmLl9yZWxheV9pc19vbiA9IEZhbHNlICAgICAgICAgICAg
ICMg6L+Q6KGM5oCBDQogICAgICAgIHNlbGYuX3JlbGF5X2Vwb2NoID0gTm9uZSAgICAgICAgICAg
ICAgIyDlkajmnJ/nm7jkvY3otbfngrkNCiAgICAgICAgc2VsZi5fcmVsYXlfbGFzdF9zd2l0Y2hf
dHMgPSAwLjAgICAgICAjIOacgOi/keS4gOasoeWIh+aNouaXtumXtO+8iOeUqOS6juacgOefreW8
gOaXtumVv++8iQ0KDQogICAgICAgICMg4oCU4oCUIOe7p+eUteWZqCBQV00g5pi+56S65Y+Y6YeP
IOKAlOKAlA0KICAgICAgICBzZWxmLnJlbGF5X3B3bV9kdXR5ID0gdGsuU3RyaW5nVmFyKHZhbHVl
PSLigJQiKSAgIyDljaDnqbrmr5QgJQ0KICAgICAgICBzZWxmLnJlbGF5X3B3bV9zdGF0ZSA9IHRr
LlN0cmluZ1Zhcih2YWx1ZT0i4oCUIikgICMgT04vT0ZGDQoNCiAgICAgICAgIyDms7Xlrp7ml7bo
r7vmlbAgLyDlkb3ku6QNCiAgICAgICAgc2VsZi5jdXJfcHVtcF92ID0gdGsuRG91YmxlVmFyKHZh
bHVlPTAuMCkNCiAgICAgICAgc2VsZi5jdXJfcHVtcF9hID0gdGsuRG91YmxlVmFyKHZhbHVlPTAu
MCkNCiAgICAgICAgc2VsZi5jdXJfcHVtcF9wID0gdGsuRG91YmxlVmFyKHZhbHVlPTAuMCkNCg0K
ICAgICAgICAjIOKYhSBWX3NldCDmmL7npLrvvIhVSeeUqO+8ie+8muato+W4uOaooeW8jz3lrp7p
mYXorr7lrprvvJtQV03mqKHlvI89562J5pWI55S15Y6L77yIZHV0eSpWX29u77yJDQogICAgICAg
IHNlbGYuY3VyX3B1bXBfdnNldCA9IHRrLkRvdWJsZVZhcih2YWx1ZT0wLjApDQoNCiAgICAgICAg
IyDimIUg5Y2g56m65q+U5pi+56S6DQogICAgICAgIHNlbGYucHdtX2R1dHkgPSB0ay5Eb3VibGVW
YXIodmFsdWU9MC4wKSAgIyAwfjEwMO+8iOaVsOWAvO+8iQ0KICAgICAgICBzZWxmLnB3bV9kdXR5
X3N0ciA9IHRrLlN0cmluZ1Zhcih2YWx1ZT0i4oCUIikgICMg5paH5pysICJ4eC54JSINCiAgICAg
ICAgIyDigJTigJQg6Ieq5YqoIFBXTSDlhaXlj6MgJiDpq5jmuKnpmIjlgLwgJiDljaDnqbrmr5Tk
uIvpmZDvvIhVSSDkvJrnlKjliLDvvIzliqHlv4XlnKggX2J1aWxkX3VpIOWJjeWumuS5ie+8ieKA
lOKAlA0KICAgICAgICBzZWxmLnB1bXBfcHdtX2F1dG9fZW5hYmxlID0gdGsuQm9vbGVhblZhcih2
YWx1ZT1UcnVlKSAgIyDigJzlkK/nlKjoh6rliqggUFdN4oCd5oC75byA5YWz77yIVUnli77pgInv
vIkNCiAgICAgICAgc2VsZi5wdW1wX3B3bV9oaV90ZW1wX3RociA9IHRrLkRvdWJsZVZhcih2YWx1
ZT0zNS4wKSAgIyDpq5jmuKnpmIjlgLzvvJrotoXov4fljbPovazlhaUgUFdNIOaooeW8jw0KICAg
ICAgICBzZWxmLnB1bXBfcHdtX21pbl9kdXR5ID0gdGsuRG91YmxlVmFyKHZhbHVlPVBVTVBfUFdN
X01JTl9EVVRZKSAgIyDljaDnqbrmr5TlnLDmnb/vvIgl77yJDQoNCiAgICAgICAgc2VsZi5jeWNs
ZV90aW1lcyA9IGRlcXVlKG1heGxlbj0xMDApDQogICAgICAgIHNlbGYuZ3VpX3VwZGF0ZV90aW1l
cyA9IGRlcXVlKG1heGxlbj0xMDApDQogICAgICAgIHNlbGYubGFzdF9jeWNsZV90aW1lID0gdGlt
ZS5wZXJmX2NvdW50ZXIoKQ0KDQogICAgICAgICMgVUkNCiAgICAgICAgc2VsZi5fYnVpbGRfdWko
KQ0KICAgICAgICBzZWxmLl9zeW5jX2NsaWNrX3ZhcnNfdG9fZW50cmllcygpDQogICAgICAgIHNl
bGYuX2xvYWRfY29uZmlnKCkNCiAgICAgICAgc2VsZi5fcmVmcmVzaF9wb3J0cygpDQogICAgICAg
IHNlbGYuX3NjaGVkdWxlX2d1aV91cGRhdGUoKQ0KDQogICAgICAgICMg5ZCv5YqoIFRDUCDmjqfl
iLbmnI3liqENCiAgICAgICAgc2VsZi50Y3Bfc2VydmVyID0gSlNPTkxpbmVTZXJ2ZXIoVENQX0hP
U1QsIFRDUF9QT1JULCBzZWxmLl9oYW5kbGVfdGNwX2NvbW1hbmQsIG5hbWU9InRlbXAtY29udHJv
bGxlciIpDQogICAgICAgIHRyeToNCiAgICAgICAgICAgIHNlbGYudGNwX3NlcnZlci5zdGFydCgp
DQogICAgICAgIGV4Y2VwdCBPU0Vycm9yIGFzIGV4YzoNCiAgICAgICAgICAgIHNlbGYudGNwX3Nl
cnZlciA9IE5vbmUNCiAgICAgICAgICAgIHNlbGYuX3NldF9zdGF0dXMoZiJUQ1DmnI3liqHlkK/l
iqjlpLHotKU6IHtleGN9IikNCg0KDQogICAgIyAtLS0tLS0tLS0tIFVJIC0tLS0tLS0tLS0NCiAg
ICBkZWYgX2J1aWxkX3VpKHNlbGYpOg0KICAgICAgICBkZWYgY3JlYXRlX3N0YXR1c19pbmRpY2F0
b3IocGFyZW50LCB0ZXh0LCB2YXIpOg0KICAgICAgICAgICAgZnJhbWUgPSB0dGsuRnJhbWUocGFy
ZW50KQ0KICAgICAgICAgICAgZnJhbWUucGFjayhmaWxsPXRrLlgsIHBhZHk9KDAsIDQpKQ0KICAg
ICAgICAgICAgdHRrLkxhYmVsKGZyYW1lLCB0ZXh0PXRleHQsIHdpZHRoPTgpLnBhY2soc2lkZT10
ay5MRUZUKQ0KICAgICAgICAgICAgY3YgPSB0ay5DYW52YXMoZnJhbWUsIHdpZHRoPTE2LCBoZWln
aHQ9MTYsIGhpZ2hsaWdodHRoaWNrbmVzcz0wKQ0KICAgICAgICAgICAgY3YucGFjayhzaWRlPXRr
LkxFRlQsIHBhZHg9KDAsIDUpKQ0KICAgICAgICAgICAgdHRrLkxhYmVsKGZyYW1lLCB0ZXh0dmFy
aWFibGU9dmFyLCBmb250PSgiQXJpYWwiLCA5KSkucGFjayhzaWRlPXRrLkxFRlQpDQogICAgICAg
ICAgICByZXR1cm4gY3YNCg0KICAgICAgICBjb250ZW50ID0gdHRrLkZyYW1lKHNlbGYuY29udGFp
bmVyKQogICAgICAgIGNvbnRlbnQucGFjayhmaWxsPXRrLkJPVEgsIGV4cGFuZD1UcnVlKQ0KDQog
ICAgICAgICMg5bem5L6n5rua5Yqo6Z2i5p2/77yI5L+d5oyB5L2g5Y6f5p2l55qE6YC76L6R77yJ
DQogICAgICAgIGxlZnRfY29udGFpbmVyID0gdHRrLkZyYW1lKGNvbnRlbnQsIHdpZHRoPUxFRlRf
UEFORUxfV0lEVEgpCiAgICAgICAgbGVmdF9jb250YWluZXIucGFjayhzaWRlPXRrLkxFRlQsIGZp
bGw9dGsuWSkNCiAgICAgICAgbGVmdF9jb250YWluZXIucGFja19wcm9wYWdhdGUoRmFsc2UpDQoN
CiAgICAgICAgc2VsZi5sZWZ0X2NhbnZhcyA9IHRrLkNhbnZhcyhsZWZ0X2NvbnRhaW5lciwgaGln
aGxpZ2h0dGhpY2tuZXNzPTApDQogICAgICAgIGxlZnRfc2Nyb2xsYmFyID0gdHRrLlNjcm9sbGJh
cihsZWZ0X2NvbnRhaW5lciwgb3JpZW50PSJ2ZXJ0aWNhbCIsIGNvbW1hbmQ9c2VsZi5sZWZ0X2Nh
bnZhcy55dmlldykNCiAgICAgICAgc2VsZi5sZWZ0X2NhbnZhcy5jb25maWd1cmUoeXNjcm9sbGNv
bW1hbmQ9bGVmdF9zY3JvbGxiYXIuc2V0KQ0KICAgICAgICBzZWxmLmxlZnRfY2FudmFzLnBhY2so
c2lkZT10ay5MRUZULCBmaWxsPXRrLkJPVEgsIGV4cGFuZD1UcnVlKQ0KICAgICAgICBsZWZ0X3Nj
cm9sbGJhci5wYWNrKHNpZGU9dGsuUklHSFQsIGZpbGw9dGsuWSkNCg0KICAgICAgICBsZWZ0ID0g
dHRrLkZyYW1lKHNlbGYubGVmdF9jYW52YXMsIHBhZGRpbmc9MTApDQogICAgICAgIHNlbGYubGVm
dF93aW5kb3dfaWQgPSBzZWxmLmxlZnRfY2FudmFzLmNyZWF0ZV93aW5kb3coKDAsIDApLCB3aW5k
b3c9bGVmdCwgYW5jaG9yPSJudyIpDQoNCiAgICAgICAgZGVmIF9vbl9sZWZ0X2ZyYW1lX2NvbmZp
Z3VyZShldmVudCk6DQogICAgICAgICAgICBzZWxmLmxlZnRfY2FudmFzLmNvbmZpZ3VyZShzY3Jv
bGxyZWdpb249c2VsZi5sZWZ0X2NhbnZhcy5iYm94KCJhbGwiKSkNCiAgICAgICAgbGVmdC5iaW5k
KCI8Q29uZmlndXJlPiIsIF9vbl9sZWZ0X2ZyYW1lX2NvbmZpZ3VyZSkNCg0KICAgICAgICBkZWYg
X29uX2NhbnZhc19jb25maWd1cmUoZXZlbnQpOg0KICAgICAgICAgICAgc2VsZi5sZWZ0X2NhbnZh
cy5pdGVtY29uZmlndXJlKHNlbGYubGVmdF93aW5kb3dfaWQsIHdpZHRoPWV2ZW50LndpZHRoKQ0K
ICAgICAgICBzZWxmLmxlZnRfY2FudmFzLmJpbmQoIjxDb25maWd1cmU+IiwgX29uX2NhbnZhc19j
b25maWd1cmUpDQoNCiAgICAgICAgIyDpvKDmoIfmu5rova7nu5HlrprvvIjnlaXvvInigJTigJTk
v53nlZnkvaDljp/mnaXnmoTkuInlh73mlbDnu5HlrpoNCiAgICAgICAgZGVmIF9td193aW5kb3dz
KGV2ZW50KToNCiAgICAgICAgICAgIHNlbGYubGVmdF9jYW52YXMueXZpZXdfc2Nyb2xsKGludCgt
MSAqIChldmVudC5kZWx0YSAvIDEyMCkpLCAidW5pdHMiKQ0KICAgICAgICBkZWYgX213X2xpbnV4
X3VwKGV2ZW50KToNCiAgICAgICAgICAgIHNlbGYubGVmdF9jYW52YXMueXZpZXdfc2Nyb2xsKC0z
LCAidW5pdHMiKQ0KICAgICAgICBkZWYgX213X2xpbnV4X2Rvd24oZXZlbnQpOg0KICAgICAgICAg
ICAgc2VsZi5sZWZ0X2NhbnZhcy55dmlld19zY3JvbGwoMywgInVuaXRzIikNCiAgICAgICAgZGVm
IF9iaW5kX3doZWVsKF8pOg0KICAgICAgICAgICAgc2VsZi5sZWZ0X2NhbnZhcy5iaW5kX2FsbCgi
PE1vdXNlV2hlZWw+IiwgX213X3dpbmRvd3MpDQogICAgICAgICAgICBzZWxmLmxlZnRfY2FudmFz
LmJpbmRfYWxsKCI8QnV0dG9uLTQ+IiwgX213X2xpbnV4X3VwKQ0KICAgICAgICAgICAgc2VsZi5s
ZWZ0X2NhbnZhcy5iaW5kX2FsbCgiPEJ1dHRvbi01PiIsIF9td19saW51eF9kb3duKQ0KICAgICAg
ICBkZWYgX3VuYmluZF93aGVlbChfKToNCiAgICAgICAgICAgIHNlbGYubGVmdF9jYW52YXMudW5i
aW5kX2FsbCgiPE1vdXNlV2hlZWw+IikNCiAgICAgICAgICAgIHNlbGYubGVmdF9jYW52YXMudW5i
aW5kX2FsbCgiPEJ1dHRvbi00PiIpDQogICAgICAgICAgICBzZWxmLmxlZnRfY2FudmFzLnVuYmlu
ZF9hbGwoIjxCdXR0b24tNT4iKQ0KICAgICAgICBsZWZ0LmJpbmQoIjxFbnRlcj4iLCBfYmluZF93
aGVlbCkNCiAgICAgICAgbGVmdC5iaW5kKCI8TGVhdmU+IiwgX3VuYmluZF93aGVlbCkNCg0KICAg
ICAgICAjIOWPs+S+p++8muW5tuWIl+S4pOWdl+WbvuihqO+8iOW3pu+8mua4qeW6pi/liqDng63l
ip/njofvvJvlj7PvvJrms7XnlLXljosv5Yqf546H77yJDQogICAgICAgIHJpZ2h0ID0gdHRrLkZy
YW1lKGNvbnRlbnQsIHBhZGRpbmc9OCkNCiAgICAgICAgcmlnaHQucGFjayhzaWRlPXRrLkxFRlQs
IGZpbGw9dGsuQk9USCwgZXhwYW5kPVRydWUpDQoNCiAgICAgICAgY2hhcnRzID0gdHRrLkZyYW1l
KHJpZ2h0KQ0KICAgICAgICBjaGFydHMucGFjayhmaWxsPXRrLkJPVEgsIGV4cGFuZD1UcnVlKQ0K
ICAgICAgICBwYW5lX2xlZnQgPSB0dGsuRnJhbWUoY2hhcnRzLCBwYWRkaW5nPSgwLDAsOCwwKSkN
CiAgICAgICAgcGFuZV9sZWZ0LnBhY2soc2lkZT10ay5MRUZULCBmaWxsPXRrLkJPVEgsIGV4cGFu
ZD1UcnVlKQ0KICAgICAgICBwYW5lX3JpZ2h0ID0gdHRrLkZyYW1lKGNoYXJ0cykNCiAgICAgICAg
cGFuZV9yaWdodC5wYWNrKHNpZGU9dGsuTEVGVCwgZmlsbD10ay5CT1RILCBleHBhbmQ9VHJ1ZSkN
Cg0KICAgICAgICAjIOaMh+ekuueBrw0KICAgICAgICBzdGF0dXNfZnJhbWUgPSB0dGsuRnJhbWUo
bGVmdCwgcGFkZGluZz0oMCwwLDAsMTApKTsgc3RhdHVzX2ZyYW1lLnBhY2soZmlsbD10ay5YKQ0K
ICAgICAgICBzZWxmLnBzdV9pbmRpY2F0b3IgID0gY3JlYXRlX3N0YXR1c19pbmRpY2F0b3Ioc3Rh
dHVzX2ZyYW1lLCAi55S15rqQOiIsICAgc2VsZi5wc3Vfc3RhdHVzKQ0KICAgICAgICBzZWxmLnRj
bV9pbmRpY2F0b3IgID0gY3JlYXRlX3N0YXR1c19pbmRpY2F0b3Ioc3RhdHVzX2ZyYW1lLCAi5rip
5bqm5LuqOiIsIHNlbGYudGNtX3N0YXR1cykNCiAgICAgICAgc2VsZi5wdW1wX2luZGljYXRvciA9
IGNyZWF0ZV9zdGF0dXNfaW5kaWNhdG9yKHN0YXR1c19mcmFtZSwgIuW+queOr+aztToiLCBzZWxm
LnB1bXBfc3RhdHVzKQ0KICAgICAgICBzZWxmLnJlbGF5X2luZGljYXRvciA9IGNyZWF0ZV9zdGF0
dXNfaW5kaWNhdG9yKHN0YXR1c19mcmFtZSwgIue7p+eUteWZqDoiLCBzZWxmLnJlbGF5X3N0YXR1
cykNCg0KICAgICAgICAjIOebruaghy/mjqfliLbvvIjkv53nlZnvvIkNCiAgICAgICAgZ29hbCA9
IHR0ay5MYWJlbGZyYW1lKGxlZnQsIHRleHQ9Iuebruagh+S4juaOp+WItiIsIHBhZGRpbmc9MTAp
OyBnb2FsLnBhY2soZmlsbD10ay5YLCBwYWR5PSgwLDgpKQ0KICAgICAgICByb3cxID0gdHRrLkZy
YW1lKGdvYWwpOyByb3cxLnBhY2soZmlsbD10ay5YKQ0KICAgICAgICB0dGsuTGFiZWwocm93MSwg
dGV4dD0i55uu5qCH5rip5bqmICjCsEMpIikucGFjayhzaWRlPXRrLkxFRlQpDQogICAgICAgIHR0
ay5FbnRyeShyb3cxLCB0ZXh0dmFyaWFibGU9c2VsZi50YXJnZXRfdGVtcCwgd2lkdGg9MTApLnBh
Y2soc2lkZT10ay5MRUZULCBwYWR4PTYpDQogICAgICAgIHR0ay5CdXR0b24ocm93MSwgdGV4dD0i
5bqU55So55uu5qCHIiwgYm9vdHN0eWxlPVBSSU1BUlksIGNvbW1hbmQ9c2VsZi5fYXBwbHlfdGFy
Z2V0KS5wYWNrKHNpZGU9dGsuTEVGVCkNCiAgICAgICAgcm93MiA9IHR0ay5GcmFtZShnb2FsKTsg
cm93Mi5wYWNrKGZpbGw9dGsuWCwgcGFkeT0oOCwwKSkNCiAgICAgICAgc2VsZi5idG5fcGlkX29u
ICA9IHR0ay5CdXR0b24ocm93MiwgdGV4dD0i5ZCv5YqoIFBJRCIsIGJvb3RzdHlsZT1TVUNDRVNT
LCBjb21tYW5kPXNlbGYuZW5hYmxlX3BpZCkNCiAgICAgICAgc2VsZi5idG5fcGlkX29uLnBhY2so
c2lkZT10ay5MRUZULCBwYWR4PSgwLDYpKQ0KICAgICAgICBzZWxmLmJ0bl9waWRfb2ZmID0gdHRr
LkJ1dHRvbihyb3cyLCB0ZXh0PSLlgZzmraIgUElEIiwgYm9vdHN0eWxlPURBTkdFUiwgIGNvbW1h
bmQ9c2VsZi5kaXNhYmxlX3BpZCkNCiAgICAgICAgc2VsZi5idG5fcGlkX29mZi5wYWNrKHNpZGU9
dGsuTEVGVCkNCiAgICAgICAgdHRrLkxhYmVsKGdvYWwsIHRleHR2YXJpYWJsZT1zZWxmLnN0YXR1
c190ZXh0LCBib290c3R5bGU9SU5GTykucGFjayhhbmNob3I9InciLCBwYWR5PSg4LDApKQ0KDQog
ICAgICAgICMg57q/5oCn56iL5bqP77yI5L+d55WZ77yJDQogICAgICAgIHJhbXAgPSB0dGsuTGFi
ZWxmcmFtZShsZWZ0LCB0ZXh0PSLnqIvluo/ljYcv6ZmN5rip77yI57q/5oCn77yJIiwgcGFkZGlu
Zz0xMCk7IHJhbXAucGFjayhmaWxsPXRrLlgsIHBhZHk9OCkNCiAgICAgICAgcjEgPSB0dGsuRnJh
bWUocmFtcCk7IHIxLnBhY2soZmlsbD10ay5YLCBwYWR5PTIpDQogICAgICAgIHR0ay5MYWJlbChy
MSwgdGV4dD0i6LW354K5KMKwQykiKS5wYWNrKHNpZGU9dGsuTEVGVCk7IHR0ay5FbnRyeShyMSwg
dGV4dHZhcmlhYmxlPXNlbGYucmFtcF9zdGFydCwgd2lkdGg9OCkucGFjayhzaWRlPXRrLkxFRlQs
IHBhZHg9KDQsMTApKQ0KICAgICAgICB0dGsuTGFiZWwocjEsIHRleHQ9Iue7iOeCuSjCsEMpIiku
cGFjayhzaWRlPXRrLkxFRlQpOyB0dGsuRW50cnkocjEsIHRleHR2YXJpYWJsZT1zZWxmLnJhbXBf
ZW5kLCB3aWR0aD04KS5wYWNrKHNpZGU9dGsuTEVGVCwgcGFkeD0oNCwxMCkpDQogICAgICAgIHR0
ay5MYWJlbChyMSwgdGV4dD0i6YCf546HKMKwQy9taW4pIikucGFjayhzaWRlPXRrLkxFRlQpOyB0
dGsuRW50cnkocjEsIHRleHR2YXJpYWJsZT1zZWxmLnJhbXBfcmF0ZSwgd2lkdGg9OCkucGFjayhz
aWRlPXRrLkxFRlQsIHBhZHg9KDQsMTApKQ0KICAgICAgICByMiA9IHR0ay5GcmFtZShyYW1wKTsN
CiAgICAgICAgcjIucGFjayhmaWxsPXRrLlgsIHBhZHk9MikNCiAgICAgICAgdHRrLkxhYmVsKHIy
LCB0ZXh0PSLmnKvnq6/kv53muKkobWluKSIpLnBhY2soc2lkZT10ay5MRUZUKQ0KICAgICAgICB0
dGsuRW50cnkocjIsIHRleHR2YXJpYWJsZT1zZWxmLnJhbXBfaG9sZF9taW4sIHdpZHRoPTgpLnBh
Y2soc2lkZT10ay5MRUZULCBwYWR4PSg0LCAxMCkpDQoNCiAgICAgICAgIyDimIUg5paw5aKe77ya
5b6q546v5Y+Y5rip5byA5YWzDQogICAgICAgIHR0ay5DaGVja2J1dHRvbihyMiwgdGV4dD0i5b6q
546v5Y+Y5ripIiwgdmFyaWFibGU9c2VsZi5yYW1wX2N5Y2xlX2VuYWJsZSkgXA0KICAgICAgICAg
ICAgLnBhY2soc2lkZT10ay5MRUZULCBwYWR4PSg2LCAxMikpDQoNCiAgICAgICAgdHRrLkJ1dHRv
bihyMiwgdGV4dD0i5ZCv5Yqo57q/5oCn56iL5bqPIiwgYm9vdHN0eWxlPVNVQ0NFU1MsIGNvbW1h
bmQ9c2VsZi5fc3RhcnRfcmFtcCkgXAogICAgICAgICAgICAucGFjayhzaWRlPXRrLkxFRlQsIHBh
ZHg9KDAsIDgpKQ0KICAgICAgICB0dGsuQnV0dG9uKHIyLCB0ZXh0PSLlgZzmraLnur/mgKfnqIvl
uo8iLCBib290c3R5bGU9V0FSTklORywgY29tbWFuZD1zZWxmLl9zdG9wX3JhbXApIFwNCiAgICAg
ICAgICAgIC5wYWNrKHNpZGU9dGsuTEVGVCkNCg0KICAgICAgICAjIOi/nuaOpe+8iOaWsOWinuW+
queOr+azteS4gOihjO+8iQ0KICAgICAgICBjb25uID0gdHRrLkxhYmVsZnJhbWUobGVmdCwgdGV4
dD0i6L+e5o6lIiwgcGFkZGluZz0xMCk7IGNvbm4ucGFjayhmaWxsPXRrLlgsIHBhZHk9OCkNCiAg
ICAgICAgcHN1X2YgPSB0dGsuRnJhbWUoY29ubik7IHBzdV9mLnBhY2soZmlsbD10ay5YLCBwYWR5
PSgwLDQpKQ0KICAgICAgICB0dGsuTGFiZWwocHN1X2YsIHRleHQ9IueUtea6kOerr+WPoyIpLnBh
Y2soc2lkZT10ay5MRUZUKQ0KICAgICAgICBzZWxmLmNvbWJvX3BzdSA9IHR0ay5Db21ib2JveChw
c3VfZiwgdGV4dHZhcmlhYmxlPXNlbGYucHN1X3BvcnQsIHdpZHRoPTEyKQ0KICAgICAgICBzZWxm
LmNvbWJvX3BzdS5wYWNrKHNpZGU9dGsuTEVGVCwgcGFkeD00KQ0KICAgICAgICB0dGsuTGFiZWwo
cHN1X2YsIHRleHQ9IuWcsOWdgCIpLnBhY2soc2lkZT10ay5MRUZULCBwYWR4PSg4LDIpKQ0KICAg
ICAgICBwc3VfYWRkcl9zcGluID0gdHRrLlNwaW5ib3gocHN1X2YsIHRleHR2YXJpYWJsZT1zZWxm
LmFkZHJfcHN1LCBmcm9tXz0xLCB0bz0yNDcsIHdpZHRoPTUpDQogICAgICAgIHBzdV9hZGRyX3Nw
aW4ucGFjayhzaWRlPXRrLkxFRlQpDQogICAgICAgIHR0ay5MYWJlbChwc3VfZiwgdGV4dD0i5rOi
54m5546HIikucGFjayhzaWRlPXRrLkxFRlQsIHBhZHg9KDgsMikpDQogICAgICAgIHBzdV9iYXVk
X2NvbWJvID0gdHRrLkNvbWJvYm94KHBzdV9mLCB0ZXh0dmFyaWFibGU9c2VsZi5wc3VfYmF1ZCwg
d2lkdGg9OCwNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWVzPVsx
MjAwLCAyNDAwLCA0ODAwLCA5NjAwLCAxOTIwMCwgMTE1MjAwXSkNCiAgICAgICAgcHN1X2JhdWRf
Y29tYm8ucGFjayhzaWRlPXRrLkxFRlQpDQogICAgICAgIHNlbGYuX2Rpc2FibGVfd2lkZ2V0X3Nj
cm9sbChwc3VfYWRkcl9zcGluLCBwc3VfYmF1ZF9jb21ibykNCiAgICAgICAgdHRrLkJ1dHRvbihw
c3VfZiwgdGV4dD0i6L+e5o6l55S15rqQIiwgYm9vdHN0eWxlPVBSSU1BUlksIGNvbW1hbmQ9c2Vs
Zi5fY29ubmVjdF9wc3UpLnBhY2soc2lkZT10ay5MRUZULCBwYWR4PTYpDQogICAgICAgIHR0ay5C
dXR0b24ocHN1X2YsIHRleHQ9IuaWreW8gCIsIGNvbW1hbmQ9c2VsZi5fZGlzY29ubmVjdF9wc3Up
LnBhY2soc2lkZT10ay5MRUZUKQ0KICAgICAgICB0dGsuTGFiZWwocHN1X2YsIHRleHR2YXJpYWJs
ZT1zZWxmLnBzdV9zdGF0dXMsIHdpZHRoPTEwKS5wYWNrKHNpZGU9dGsuTEVGVCwgcGFkeD02KQ0K
DQogICAgICAgIHRjbV9mID0gdHRrLkZyYW1lKGNvbm4pOyB0Y21fZi5wYWNrKGZpbGw9dGsuWCwg
cGFkeT0oMCw0KSkNCiAgICAgICAgdHRrLkxhYmVsKHRjbV9mLCB0ZXh0PSLmuKnluqbnq6/lj6Mi
KS5wYWNrKHNpZGU9dGsuTEVGVCkNCiAgICAgICAgc2VsZi5jb21ib190Y20gPSB0dGsuQ29tYm9i
b3godGNtX2YsIHRleHR2YXJpYWJsZT1zZWxmLnRjbV9wb3J0LCB3aWR0aD0xMikNCiAgICAgICAg
c2VsZi5jb21ib190Y20ucGFjayhzaWRlPXRrLkxFRlQsIHBhZHg9NCkNCiAgICAgICAgdHRrLkxh
YmVsKHRjbV9mLCB0ZXh0PSLlnLDlnYAiKS5wYWNrKHNpZGU9dGsuTEVGVCwgcGFkeD0oOCwyKSkN
CiAgICAgICAgdGNtX2FkZHJfc3BpbiA9IHR0ay5TcGluYm94KHRjbV9mLCB0ZXh0dmFyaWFibGU9
c2VsZi5hZGRyX3RjbSwgZnJvbV89MSwgdG89MjQ3LCB3aWR0aD01KQ0KICAgICAgICB0Y21fYWRk
cl9zcGluLnBhY2soc2lkZT10ay5MRUZUKQ0KICAgICAgICB0dGsuTGFiZWwodGNtX2YsIHRleHQ9
IuazoueJueeOhyIpLnBhY2soc2lkZT10ay5MRUZULCBwYWR4PSg4LDIpKQ0KICAgICAgICB0Y21f
YmF1ZF9jb21ibyA9IHR0ay5Db21ib2JveCh0Y21fZiwgdGV4dHZhcmlhYmxlPXNlbGYudGNtX2Jh
dWQsIHdpZHRoPTgsDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVl
cz1bOTYwMCwgMTkyMDAsIDM4NDAwLCA1NzYwMCwgMTE1MjAwXSkNCiAgICAgICAgdGNtX2JhdWRf
Y29tYm8ucGFjayhzaWRlPXRrLkxFRlQpDQogICAgICAgIHNlbGYuX2Rpc2FibGVfd2lkZ2V0X3Nj
cm9sbCh0Y21fYWRkcl9zcGluLCB0Y21fYmF1ZF9jb21ibykNCiAgICAgICAgdHRrLkJ1dHRvbih0
Y21fZiwgdGV4dD0i6L+e5o6l5rip5bqm5LuqIiwgYm9vdHN0eWxlPVBSSU1BUlksIGNvbW1hbmQ9
c2VsZi5fY29ubmVjdF90Y20pLnBhY2soc2lkZT10ay5MRUZULCBwYWR4PTYpDQogICAgICAgIHR0
ay5CdXR0b24odGNtX2YsIHRleHQ9IuaWreW8gCIsIGNvbW1hbmQ9c2VsZi5fZGlzY29ubmVjdF90
Y20pLnBhY2soc2lkZT10ay5MRUZUKQ0KICAgICAgICB0dGsuTGFiZWwodGNtX2YsIHRleHR2YXJp
YWJsZT1zZWxmLnRjbV9zdGF0dXMsIHdpZHRoPTEwKS5wYWNrKHNpZGU9dGsuTEVGVCwgcGFkeD02
KQ0KDQogICAgICAgIHB1bXBfZiA9IHR0ay5GcmFtZShjb25uKTsgcHVtcF9mLnBhY2soZmlsbD10
ay5YLCBwYWR5PSgwLDQpKQ0KICAgICAgICB0dGsuTGFiZWwocHVtcF9mLCB0ZXh0PSLlvqrnjq/m
s7Xnq6/lj6MiKS5wYWNrKHNpZGU9dGsuTEVGVCkNCiAgICAgICAgc2VsZi5jb21ib19wdW1wID0g
dHRrLkNvbWJvYm94KHB1bXBfZiwgdGV4dHZhcmlhYmxlPXNlbGYucHVtcF9wb3J0LCB3aWR0aD0x
MikNCiAgICAgICAgc2VsZi5jb21ib19wdW1wLnBhY2soc2lkZT10ay5MRUZULCBwYWR4PTQpDQog
ICAgICAgIHR0ay5MYWJlbChwdW1wX2YsIHRleHQ9IuWcsOWdgCIpLnBhY2soc2lkZT10ay5MRUZU
LCBwYWR4PSg4LDIpKQ0KICAgICAgICBwdW1wX2FkZHJfc3BpbiA9IHR0ay5TcGluYm94KHB1bXBf
ZiwgdGV4dHZhcmlhYmxlPXNlbGYuYWRkcl9wdW1wLCBmcm9tXz0xLCB0bz0yNDcsIHdpZHRoPTUp
DQogICAgICAgIHB1bXBfYWRkcl9zcGluLnBhY2soc2lkZT10ay5MRUZUKQ0KICAgICAgICB0dGsu
TGFiZWwocHVtcF9mLCB0ZXh0PSLms6LnibnnjociKS5wYWNrKHNpZGU9dGsuTEVGVCwgcGFkeD0o
OCwyKSkNCiAgICAgICAgcHVtcF9iYXVkX2NvbWJvID0gdHRrLkNvbWJvYm94KHB1bXBfZiwgdGV4
dHZhcmlhYmxlPXNlbGYucHVtcF9iYXVkLCB3aWR0aD04LA0KICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgdmFsdWVzPVsxMjAwLCAyNDAwLCA0ODAwLCA5NjAwLCAxOTIwMCwg
MTE1MjAwXSkNCiAgICAgICAgcHVtcF9iYXVkX2NvbWJvLnBhY2soc2lkZT10ay5MRUZUKQ0KICAg
ICAgICBzZWxmLl9kaXNhYmxlX3dpZGdldF9zY3JvbGwocHVtcF9hZGRyX3NwaW4sIHB1bXBfYmF1
ZF9jb21ibykNCiAgICAgICAgdHRrLkJ1dHRvbihwdW1wX2YsIHRleHQ9Iui/nuaOpeW+queOr+az
tSIsIGJvb3RzdHlsZT1QUklNQVJZLCBjb21tYW5kPXNlbGYuX2Nvbm5lY3RfcHVtcCkucGFjayhz
aWRlPXRrLkxFRlQsIHBhZHg9NikNCiAgICAgICAgdHRrLkJ1dHRvbihwdW1wX2YsIHRleHQ9IuaW
reW8gCIsIGNvbW1hbmQ9c2VsZi5fZGlzY29ubmVjdF9wdW1wKS5wYWNrKHNpZGU9dGsuTEVGVCkN
CiAgICAgICAgdHRrLkxhYmVsKHB1bXBfZiwgdGV4dHZhcmlhYmxlPXNlbGYucHVtcF9zdGF0dXMs
IHdpZHRoPTEwKS5wYWNrKHNpZGU9dGsuTEVGVCwgcGFkeD02KQ0KDQogICAgICAgIHJlbGF5X2Yg
PSB0dGsuRnJhbWUoY29ubik7IHJlbGF5X2YucGFjayhmaWxsPXRrLlgsIHBhZHk9KDAsNCkpDQog
ICAgICAgIHR0ay5MYWJlbChyZWxheV9mLCB0ZXh0PSLnu6fnlLXlmajnq6/lj6MiKS5wYWNrKHNp
ZGU9dGsuTEVGVCkNCiAgICAgICAgc2VsZi5jb21ib19yZWxheSA9IHR0ay5Db21ib2JveChyZWxh
eV9mLCB0ZXh0dmFyaWFibGU9c2VsZi5yZWxheV9wb3J0LCB3aWR0aD0xMikNCiAgICAgICAgc2Vs
Zi5jb21ib19yZWxheS5wYWNrKHNpZGU9dGsuTEVGVCwgcGFkeD00KQ0KICAgICAgICB0dGsuTGFi
ZWwocmVsYXlfZiwgdGV4dD0i6YCa6YGTIikucGFjayhzaWRlPXRrLkxFRlQsIHBhZHg9KDgsMikp
DQogICAgICAgIHJlbGF5X2NoYW5fc3BpbiA9IHR0ay5TcGluYm94KHJlbGF5X2YsIHRleHR2YXJp
YWJsZT1zZWxmLnJlbGF5X2NoYW4sIGZyb21fPTEsIHRvPTI1NCwgd2lkdGg9NSkNCiAgICAgICAg
cmVsYXlfY2hhbl9zcGluLnBhY2soc2lkZT10ay5MRUZUKQ0KICAgICAgICB0dGsuTGFiZWwocmVs
YXlfZiwgdGV4dD0i5rOi54m5546HIikucGFjayhzaWRlPXRrLkxFRlQsIHBhZHg9KDgsMikpDQog
ICAgICAgIHJlbGF5X2JhdWRfY29tYm8gPSB0dGsuQ29tYm9ib3goDQogICAgICAgICAgICByZWxh
eV9mLA0KICAgICAgICAgICAgdGV4dHZhcmlhYmxlPXNlbGYucmVsYXlfYmF1ZCwNCiAgICAgICAg
ICAgIHdpZHRoPTgsDQogICAgICAgICAgICB2YWx1ZXM9WzEyMDAsIDI0MDAsIDQ4MDAsIDk2MDAs
IDE5MjAwLCAzODQwMCwgNTc2MDAsIDExNTIwMF0sDQogICAgICAgICkNCiAgICAgICAgcmVsYXlf
YmF1ZF9jb21iby5wYWNrKHNpZGU9dGsuTEVGVCkNCiAgICAgICAgc2VsZi5fZGlzYWJsZV93aWRn
ZXRfc2Nyb2xsKHJlbGF5X2NoYW5fc3BpbiwgcmVsYXlfYmF1ZF9jb21ibykNCiAgICAgICAgdHRr
LkJ1dHRvbihyZWxheV9mLCB0ZXh0PSLov57mjqXnu6fnlLXlmagiLCBib290c3R5bGU9UFJJTUFS
WSwgY29tbWFuZD1zZWxmLl9jb25uZWN0X3JlbGF5KS5wYWNrKHNpZGU9dGsuTEVGVCwgcGFkeD02
KQ0KICAgICAgICB0dGsuQnV0dG9uKHJlbGF5X2YsIHRleHQ9IuaWreW8gCIsIGNvbW1hbmQ9c2Vs
Zi5fZGlzY29ubmVjdF9yZWxheSkucGFjayhzaWRlPXRrLkxFRlQpDQogICAgICAgIHR0ay5MYWJl
bChyZWxheV9mLCB0ZXh0dmFyaWFibGU9c2VsZi5yZWxheV9zdGF0dXMsIHdpZHRoPTEwKS5wYWNr
KHNpZGU9dGsuTEVGVCwgcGFkeD02KQ0KDQogICAgICAgIGJ0bl9yb3cgPSB0dGsuRnJhbWUoY29u
bikNCiAgICAgICAgYnRuX3Jvdy5wYWNrKGZpbGw9dGsuWCwgcGFkeT0oNiwgMCkpDQogICAgICAg
IHR0ay5CdXR0b24oYnRuX3JvdywgdGV4dD0i5Yi35paw5Liy5Y+j5YiX6KGoIiwgY29tbWFuZD1z
ZWxmLl9yZWZyZXNoX3BvcnRzKS5wYWNrKHNpZGU9dGsuUklHSFQpDQogICAgICAgIHR0ay5CdXR0
b24oYnRuX3JvdywgdGV4dD0i6Ieq5Yqo6L+e5o6lIiwgYm9vdHN0eWxlPVNVQ0NFU1MsIGNvbW1h
bmQ9c2VsZi5fYXV0b19jb25uZWN0X2FsbCkucGFjaygNCiAgICAgICAgICAgIHNpZGU9dGsuUklH
SFQsIHBhZHg9KDAsIDgpDQogICAgICAgICkNCg0KICAgICAgICAjIOWunuaXtuivu+aVsO+8iOaJ
qeWxle+8muaWsOWinuazte+8iQ0KICAgICAgICBkYXNoID0gdHRrLkxhYmVsZnJhbWUobGVmdCwg
dGV4dD0i5a6e5pe26K+75pWw77yI5LiJ5L2N5bCP5pWw5pi+56S677yJIiwgcGFkZGluZz0xMCk7
DQogICAgICAgIGRhc2gucGFjayhmaWxsPXRrLlgsIHBhZHk9OCkNCg0KICAgICAgICBkZWYgbWFr
ZV9zdGF0KHBhcmVudCwgdGl0bGUsIHZhcik6DQogICAgICAgICAgICBmID0gdHRrLkZyYW1lKHBh
cmVudCk7DQogICAgICAgICAgICBmLnBhY2soZmlsbD10ay5YLCBwYWR5PTEpDQogICAgICAgICAg
ICB0dGsuTGFiZWwoZiwgdGV4dD10aXRsZSkucGFjayhzaWRlPXRrLkxFRlQpDQogICAgICAgICAg
ICB0dGsuTGFiZWwoZiwgdGV4dHZhcmlhYmxlPXZhciwgZm9udD0oIkNvbnNvbGFzIiwgMTQsICJi
b2xkIikpLnBhY2soc2lkZT10ay5SSUdIVCkNCg0KICAgICAgICBtYWtlX3N0YXQoZGFzaCwgIua4
qeW6piAowrBDKSIsIHNlbGYuY3VyX3RlbXApDQogICAgICAgIG1ha2Vfc3RhdChkYXNoLCAi55S1
5Y6LKOeDrSkgKFYpIiwgc2VsZi5jdXJfdm91dCkNCiAgICAgICAgbWFrZV9zdGF0KGRhc2gsICLn
lLXmtYEo54OtKSAoQSkiLCBzZWxmLmN1cl9hb3V0KQ0KICAgICAgICBtYWtlX3N0YXQoZGFzaCwg
IuWKn+eOhyjng60pIChXKSIsIHNlbGYuY3VyX3BvdXQpDQogICAgICAgIG1ha2Vfc3RhdChkYXNo
LCAi54q25oCBIChDVi9DQykiLCBzZWxmLmN2Y2Nfc3RhdGUpDQogICAgICAgIHNlcCA9IHR0ay5T
ZXBhcmF0b3IoZGFzaCwgb3JpZW50PXRrLkhPUklaT05UQUwpOw0KICAgICAgICBzZXAucGFjayhm
aWxsPXRrLlgsIHBhZHk9NikNCiAgICAgICAgbWFrZV9zdGF0KGRhc2gsICLor6/lt64gzrUgKMKw
QykiLCBzZWxmLmN1cl9lcnIpDQogICAgICAgIG1ha2Vfc3RhdChkYXNoLCAiTUFFKOeqlykgKMKw
QykiLCBzZWxmLm1hZV93aW4pDQogICAgICAgIG1ha2Vfc3RhdChkYXNoLCAiUk1TRSjnqpcpICjC
sEMpIiwgc2VsZi5ybXNlX3dpbikNCiAgICAgICAgbWFrZV9zdGF0KGRhc2gsICLlkb3kuK3njoco
56qXKSAoJSkiLCBzZWxmLmhpdF9yYXRpbykNCiAgICAgICAgc2VwMiA9IHR0ay5TZXBhcmF0b3Io
ZGFzaCwgb3JpZW50PXRrLkhPUklaT05UQUwpOw0KICAgICAgICBzZXAyLnBhY2soZmlsbD10ay5Y
LCBwYWR5PTYpDQogICAgICAgIG1ha2Vfc3RhdChkYXNoLCAi5rO1IFZfb3V0IChWKSIsIHNlbGYu
Y3VyX3B1bXBfdikNCiAgICAgICAgbWFrZV9zdGF0KGRhc2gsICLms7UgSV9vdXQgKEEpIiwgc2Vs
Zi5jdXJfcHVtcF9hKQ0KICAgICAgICBtYWtlX3N0YXQoZGFzaCwgIuaztSBQX291dCAoVykiLCBz
ZWxmLmN1cl9wdW1wX3ApDQogICAgICAgIG1ha2Vfc3RhdChkYXNoLCAi5rO1IFZfc2V0IChWKSIs
IHNlbGYuY3VyX3B1bXBfdnNldCkNCiAgICAgICAgbWFrZV9zdGF0KGRhc2gsICLms7UgRHV0eSAo
JSkiLCBzZWxmLnB3bV9kdXR5KSAgIyDnuq/mlbDlgLwNCiAgICAgICAgbWFrZV9zdGF0KGRhc2gs
ICLms7Ug5byA5YWz5q+UIiwgc2VsZi5wd21fZHV0eV9zdHIpICAjIOKAnHh4Lngl4oCdDQoNCiAg
ICAgICAgIyDigJTigJQg5paw5aKe77ya5a6e5pe257K+5bqm5LiO5ouf5ZCIIC8g5ruk5rOiIOKA
lOKAlA0KICAgICAgICBhY2MgPSB0dGsuTGFiZWxmcmFtZShsZWZ0LCB0ZXh0PSLlrp7ml7bnsr7l
uqbkuI7mi5/lkIggLyDmu6Tms6IiLCBwYWRkaW5nPTEwKTsNCiAgICAgICAgYWNjLnBhY2soZmls
bD10ay5YLCBwYWR5PTgpDQoNCiAgICAgICAgcm93YSA9IHR0ay5GcmFtZShhY2MpOw0KICAgICAg
ICByb3dhLnBhY2soZmlsbD10ay5YKQ0KICAgICAgICB0dGsuTGFiZWwocm93YSwgdGV4dD0i57uf
6K6h56qX5Y+jIChzKSIpLnBhY2soc2lkZT10ay5MRUZUKQ0KICAgICAgICB0dGsuRW50cnkocm93
YSwgdGV4dHZhcmlhYmxlPXNlbGYuYWNjX3dpbmRvd19zLCB3aWR0aD05KS5wYWNrKHNpZGU9dGsu
TEVGVCwgcGFkeD0oNiwgMTIpKQ0KICAgICAgICB0dGsuTGFiZWwocm93YSwgdGV4dD0i5a655beu
IMKxKMKwQykiKS5wYWNrKHNpZGU9dGsuTEVGVCkNCiAgICAgICAgdHRrLkVudHJ5KHJvd2EsIHRl
eHR2YXJpYWJsZT1zZWxmLmFjY190b2wsIHdpZHRoPTkpLnBhY2soc2lkZT10ay5MRUZULCBwYWR4
PSg2LCAxMikpDQogICAgICAgIHR0ay5MYWJlbChyb3dhLCB0ZXh0PSLmi5/lkIjnqpflj6MgKHMp
IikucGFjayhzaWRlPXRrLkxFRlQpDQogICAgICAgIHR0ay5FbnRyeShyb3dhLCB0ZXh0dmFyaWFi
bGU9c2VsZi5maXRfd2luZG93X3MsIHdpZHRoPTkpLnBhY2soc2lkZT10ay5MRUZULCBwYWR4PSg2
LCAxMikpDQogICAgICAgIHR0ay5MYWJlbChyb3dhLCB0ZXh0PSLmuKnluqbmu6Tms6Igz4QgKHMp
IikucGFjayhzaWRlPXRrLkxFRlQpDQogICAgICAgIHR0ay5FbnRyeShyb3dhLCB0ZXh0dmFyaWFi
bGU9c2VsZi50ZW1wX3RhdSwgd2lkdGg9OSkucGFjayhzaWRlPXRrLkxFRlQsIHBhZHg9KDYsIDAp
KQ0KDQogICAgICAgIHR0ay5MYWJlbChhY2MsIHRleHR2YXJpYWJsZT1zZWxmLmFjY19pbmZvLCBi
b290c3R5bGU9SU5GTykucGFjayhhbmNob3I9InciLCBwYWR5PSg2LCAwKSkNCg0KICAgICAgICBy
b3diID0gdHRrLkZyYW1lKGFjYyk7DQogICAgICAgIHJvd2IucGFjayhmaWxsPXRrLlgsIHBhZHk9
KDYsIDApKQ0KICAgICAgICB0dGsuTGFiZWwocm93YiwgdGV4dD0i57q/5oCn5ouf5ZCI5pac546H
ICjCsEMvbWluKSIpLnBhY2soc2lkZT10ay5MRUZUKQ0KICAgICAgICB0dGsuTGFiZWwocm93Yiwg
dGV4dHZhcmlhYmxlPXNlbGYuZml0X3Nsb3BlLCBmb250PSgiQ29uc29sYXMiLCAxMiwgImJvbGQi
KSkucGFjayhzaWRlPXRrLkxFRlQsIHBhZHg9OCkNCg0KICAgICAgICByb3djID0gdHRrLkZyYW1l
KGFjYyk7DQogICAgICAgIHJvd2MucGFjayhmaWxsPXRrLlgsIHBhZHk9KDYsIDApKQ0KICAgICAg
ICB0dGsuTGFiZWwocm93YywgdGV4dD0i5Yik56izIE1BRSDiiaQowrBDKSIpLnBhY2soc2lkZT10
ay5MRUZUKQ0KICAgICAgICB0dGsuRW50cnkocm93YywgdGV4dHZhcmlhYmxlPXNlbGYubWFlX3N0
YWJsZV90aHIsIHdpZHRoPTgpLnBhY2soc2lkZT10ay5MRUZULCBwYWR4PSg2LCAxMikpDQogICAg
ICAgIHR0ay5MYWJlbChyb3djLCB0ZXh0PSJDU1botbfmraLmlpznjofpmIgowrBDL21pbikgIOi1
tyIpLnBhY2soc2lkZT10ay5MRUZUKQ0KICAgICAgICB0dGsuRW50cnkocm93YywgdGV4dHZhcmlh
YmxlPXNlbGYuc2xvcGVfc3RhcnRfdGhyX2NwbSwgd2lkdGg9OCkucGFjayhzaWRlPXRrLkxFRlQs
IHBhZHg9KDYsIDYpKQ0KICAgICAgICB0dGsuTGFiZWwocm93YywgdGV4dD0i5q2iIikucGFjayhz
aWRlPXRrLkxFRlQpDQogICAgICAgIHR0ay5FbnRyeShyb3djLCB0ZXh0dmFyaWFibGU9c2VsZi5z
bG9wZV9zdG9wX3Rocl9jcG0sIHdpZHRoPTgpLnBhY2soc2lkZT10ay5MRUZULCBwYWR4PSg2LCAx
MikpDQoNCiAgICAgICAgdHRrLkxhYmVsKGFjYywgdGV4dD0i6K+05piO77ya5Yik56iz56qX5Y+j
55So4oCc57uf6K6h56qX5Y+jKHMp4oCd77yM5pac546H55So4oCc5ouf5ZCI56qX5Y+jKHMp4oCd
44CCIiwgYm9vdHN0eWxlPUlORk8pIFwNCiAgICAgICAgICAgIC5wYWNrKGFuY2hvcj0idyIsIHBh
ZHk9KDYsIDApKQ0KDQogICAgICAgICMgUElEIC8g6YeH5qC3IC8g6ZmQ5Yi277yI5L+d55WZ77yJ
DQogICAgICAgIHBhcmFtcyA9IHR0ay5MYWJlbGZyYW1lKGxlZnQsIHRleHQ9IlBJRCAvIOmHh+ag
tyAvIOmZkOWItiIsIHBhZGRpbmc9MTApOw0KICAgICAgICBwYXJhbXMucGFjayhmaWxsPXRrLlgs
IHBhZHk9OCkNCiAgICAgICAgZ3JpZCA9IHR0ay5GcmFtZShwYXJhbXMpOw0KICAgICAgICBncmlk
LnBhY2soZmlsbD10ay5YKQ0KDQogICAgICAgIGRlZiBhZGRfcm93KGNvbCwgdGV4dCwgdmFyLCB3
aWR0aD05KToNCiAgICAgICAgICAgIHR0ay5MYWJlbChncmlkLCB0ZXh0PXRleHQpLmdyaWQocm93
PTAsIGNvbHVtbj1jb2wgKiAyLCBzdGlja3k9InciLCBwYWR4PSgwLCA0KSkNCiAgICAgICAgICAg
IHR0ay5FbnRyeShncmlkLCB0ZXh0dmFyaWFibGU9dmFyLCB3aWR0aD13aWR0aCkuZ3JpZChyb3c9
MCwgY29sdW1uPWNvbCAqIDIgKyAxLCBzdGlja3k9InciLCBwYWR4PSgwLCAxMCkpDQoNCiAgICAg
ICAgYWRkX3JvdygwLCAiS3Ao54OtKSIsIHNlbGYua3ApOw0KICAgICAgICBhZGRfcm93KDEsICJL
aSjng60pIiwgc2VsZi5raSk7DQogICAgICAgIGFkZF9yb3coMiwgIktkKOeDrSkiLCBzZWxmLmtk
KQ0KDQogICAgICAgIGdyaWQyID0gdHRrLkZyYW1lKHBhcmFtcyk7DQogICAgICAgIGdyaWQyLnBh
Y2soZmlsbD10ay5YLCBwYWR5PSg4LCAwKSkNCiAgICAgICAgYWRkMiA9IFsoIumHh+agtyhIeiki
LCBzZWxmLnNhbXBsZV9oeiksICgiVuS4iumZkCjng60pIiwgc2VsZi52X2xpbWl0KSwgKCLmlpzl
naEoVi9zKSjng60v5rO1KSIsIHNlbGYuc2xld192cHMpXQ0KICAgICAgICBmb3IgaSwgKHQsIHYp
IGluIGVudW1lcmF0ZShhZGQyKToNCiAgICAgICAgICAgIHR0ay5MYWJlbChncmlkMiwgdGV4dD10
KS5ncmlkKHJvdz0wLCBjb2x1bW49aSAqIDIsIHN0aWNreT0idyIsIHBhZHg9KDAsIDQpKQ0KICAg
ICAgICAgICAgdHRrLkVudHJ5KGdyaWQyLCB0ZXh0dmFyaWFibGU9diwgd2lkdGg9OSkuZ3JpZChy
b3c9MCwgY29sdW1uPWkgKiAyICsgMSwgc3RpY2t5PSJ3IiwgcGFkeD0oMCwgMTIpKQ0KDQogICAg
ICAgICMg5b6q546v5rO15Y+C5pWwDQogICAgICAgIHB1bXBfcGFyYW0gPSB0dGsuTGFiZWxmcmFt
ZShsZWZ0LCB0ZXh0PSLlvqrnjq/ms7Xlj4LmlbDvvIjlhrfljbQgUElE77yJIiwgcGFkZGluZz0x
MCk7IHB1bXBfcGFyYW0ucGFjayhmaWxsPXRrLlgsIHBhZHk9OCkNCiAgICAgICAgZzEgPSB0dGsu
RnJhbWUocHVtcF9wYXJhbSk7IGcxLnBhY2soZmlsbD10ay5YKQ0KICAgICAgICB0dGsuTGFiZWwo
ZzEsIHRleHQ9IktwKOWGtykiKS5ncmlkKHJvdz0wLCBjb2x1bW49MCwgc3RpY2t5PSJ3Iik7IHR0
ay5FbnRyeShnMSwgdGV4dHZhcmlhYmxlPXNlbGYua3BfY29vbCwgd2lkdGg9OSkuZ3JpZChyb3c9
MCwgY29sdW1uPTEsIHBhZHg9KDQsMTIpKQ0KICAgICAgICB0dGsuTGFiZWwoZzEsIHRleHQ9Iktp
KOWGtykiKS5ncmlkKHJvdz0wLCBjb2x1bW49Miwgc3RpY2t5PSJ3Iik7IHR0ay5FbnRyeShnMSwg
dGV4dHZhcmlhYmxlPXNlbGYua2lfY29vbCwgd2lkdGg9OSkuZ3JpZChyb3c9MCwgY29sdW1uPTMs
IHBhZHg9KDQsMTIpKQ0KICAgICAgICB0dGsuTGFiZWwoZzEsIHRleHQ9IktkKOWGtykiKS5ncmlk
KHJvdz0wLCBjb2x1bW49NCwgc3RpY2t5PSJ3Iik7IHR0ay5FbnRyeShnMSwgdGV4dHZhcmlhYmxl
PXNlbGYua2RfY29vbCwgd2lkdGg9OSkuZ3JpZChyb3c9MCwgY29sdW1uPTUsIHBhZHg9KDQsMTIp
KQ0KICAgICAgICBnMiA9IHR0ay5GcmFtZShwdW1wX3BhcmFtKTsgZzIucGFjayhmaWxsPXRrLlgs
IHBhZHk9KDYsMCkpDQogICAgICAgIHR0ay5MYWJlbChnMiwgdGV4dD0i5rO15pyA5bCPL+acgOWk
p+eUteWOiyhWKSIpLmdyaWQocm93PTAsIGNvbHVtbj0wLCBzdGlja3k9InciKQ0KICAgICAgICB0
dGsuRW50cnkoZzIsIHRleHR2YXJpYWJsZT1zZWxmLnB1bXBfdm1pbiwgd2lkdGg9OSkuZ3JpZChy
b3c9MCwgY29sdW1uPTEsIHBhZHg9KDQsMTIpKQ0KICAgICAgICB0dGsuRW50cnkoZzIsIHRleHR2
YXJpYWJsZT1zZWxmLnB1bXBfdm1heCwgd2lkdGg9OSkuZ3JpZChyb3c9MCwgY29sdW1uPTIsIHBh
ZHg9KDQsMTIpKQ0KICAgICAgICB0dGsuTGFiZWwoZzIsIHRleHQ9Iuatu+WMuijCsEMpIikuZ3Jp
ZChyb3c9MCwgY29sdW1uPTMsIHN0aWNreT0idyIpDQogICAgICAgIHR0ay5FbnRyeShnMiwgdGV4
dHZhcmlhYmxlPXNlbGYucHVtcF9kZWFkYmFuZCwgd2lkdGg9OSkuZ3JpZChyb3c9MCwgY29sdW1u
PTQsIHBhZHg9KDQsMTIpKQ0KICAgICAgICB0dGsuTGFiZWwoZzIsIHRleHQ9IuazteaWnOWdoShW
L3MpIikuZ3JpZChyb3c9MCwgY29sdW1uPTUsIHN0aWNreT0idyIpDQogICAgICAgIHR0ay5FbnRy
eShnMiwgdGV4dHZhcmlhYmxlPXNlbGYucHVtcF9zbGV3X3Zwcywgd2lkdGg9OSkuZ3JpZChyb3c9
MCwgY29sdW1uPTYsIHBhZHg9KDQsMTIpKQ0KICAgICAgICBnMyA9IHR0ay5GcmFtZShwdW1wX3Bh
cmFtKTsNCiAgICAgICAgZzMucGFjayhmaWxsPXRrLlgsIHBhZHk9KDYsIDApKQ0KDQogICAgICAg
ICMgVUnvvIjmlL7liLAgX2J1aWxkX3VpIOmHjO+8jOabv+aNouS9oOeOsOacieeahOKAnOW+queO
r+aztSBQV00g5Y+C5pWw4oCd6YKj5LiA5Z2X77yJDQogICAgICAgIHB3bWYgPSB0dGsuTGFiZWxm
cmFtZShsZWZ0LCB0ZXh0PSLlvqrnjq/ms7UgUFdN77yI6Ieq5Yqo77yJIiwgcGFkZGluZz0xMCkN
CiAgICAgICAgcHdtZi5wYWNrKGZpbGw9dGsuWCwgcGFkeT04KQ0KDQogICAgICAgIHJvd0EgPSB0
dGsuRnJhbWUocHdtZik7DQogICAgICAgIHJvd0EucGFjayhmaWxsPXRrLlgsIHBhZHk9MikNCiAg
ICAgICAgdHRrLkNoZWNrYnV0dG9uKHJvd0EsIHRleHQ9IuWQr+eUqOiHquWKqCBQV00iLCB2YXJp
YWJsZT1zZWxmLnB1bXBfcHdtX2F1dG9fZW5hYmxlKSBcDQogICAgICAgICAgICAucGFjayhzaWRl
PXRrLkxFRlQsIHBhZHg9KDAsIDEyKSkNCiAgICAgICAgdHRrLkxhYmVsKHJvd0EsIHRleHQ9Iumi
keeOhyhIeikiKS5wYWNrKHNpZGU9dGsuTEVGVCkNCiAgICAgICAgdHRrLkVudHJ5KHJvd0EsIHRl
eHR2YXJpYWJsZT1zZWxmLnB1bXBfcHdtX2ZyZXEsIHdpZHRoPTgpIFwNCiAgICAgICAgICAgIC5w
YWNrKHNpZGU9dGsuTEVGVCwgcGFkeD0oNCwgMTIpKQ0KICAgICAgICB0dGsuTGFiZWwocm93QSwg
dGV4dD0iKOacuuaisOe7p+eUteWZqOW7uuiuriDiiaQySHopIikucGFjayhzaWRlPXRrLkxFRlQp
DQoNCiAgICAgICAgcm93QiA9IHR0ay5GcmFtZShwd21mKTsNCiAgICAgICAgcm93Qi5wYWNrKGZp
bGw9dGsuWCwgcGFkeT0yKQ0KICAgICAgICB0dGsuTGFiZWwocm93QiwgdGV4dD0iUFdNIOW8gCjp
q5gp55S15Y6LIFZfb24gKFYpIikucGFjayhzaWRlPXRrLkxFRlQpDQogICAgICAgIHR0ay5FbnRy
eShyb3dCLCB0ZXh0dmFyaWFibGU9c2VsZi5wdW1wX3B3bV92X29uLCB3aWR0aD04KSBcDQogICAg
ICAgICAgICAucGFjayhzaWRlPXRrLkxFRlQsIHBhZHg9KDYsIDEyKSkNCiAgICAgICAgdHRrLkxh
YmVsKHJvd0IsIHRleHQ9IuacgOefreW8gOaXtumVvyAobXMpIikucGFjayhzaWRlPXRrLkxFRlQp
DQogICAgICAgIHR0ay5FbnRyeShyb3dCLCB0ZXh0dmFyaWFibGU9c2VsZi5wdW1wX3B3bV9taW5f
b25fbXMsIHdpZHRoPTgpIFwNCiAgICAgICAgICAgIC5wYWNrKHNpZGU9dGsuTEVGVCwgcGFkeD0o
NiwgMTIpKQ0KDQogICAgICAgIHJvd0MgPSB0dGsuRnJhbWUocHdtZik7DQogICAgICAgIHJvd0Mu
cGFjayhmaWxsPXRrLlgsIHBhZHk9MikNCiAgICAgICAgdHRrLkxhYmVsKHJvd0MsIHRleHQ9Iumr
mOa4qemYiOWAvCjCsEMpICAo5L2O5LqO5q2k6ZiI5YC8Peato+W4uFBJRCwg6auY5LqOPVBXTSki
KS5wYWNrKHNpZGU9dGsuTEVGVCkNCiAgICAgICAgdHRrLkVudHJ5KHJvd0MsIHRleHR2YXJpYWJs
ZT1zZWxmLnB1bXBfcHdtX2hpX3RlbXBfdGhyLCB3aWR0aD04KSBcDQogICAgICAgICAgICAucGFj
ayhzaWRlPXRrLkxFRlQsIHBhZHg9KDYsIDEyKSkNCg0KICAgICAgICAjIOWcqF9idWlsZF91aeaW
ueazleS4reeahFBXTeWPguaVsOmDqOWIhua3u+WKoOi+k+WFpeahhg0KICAgICAgICByb3dYID0g
dHRrLkZyYW1lKHB3bWYpOw0KICAgICAgICByb3dYLnBhY2soZmlsbD10ay5YLCBwYWR5PTIpDQog
ICAgICAgIHR0ay5MYWJlbChyb3dYLCB0ZXh0PSLljaDnqbrmr5TkuIvpmZAoJSkiKS5wYWNrKHNp
ZGU9dGsuTEVGVCkNCiAgICAgICAgdHRrLkVudHJ5KHJvd1gsIHRleHR2YXJpYWJsZT1zZWxmLnB1
bXBfcHdtX21pbl9kdXR5LCB3aWR0aD04KS5wYWNrKHNpZGU9dGsuTEVGVCwgcGFkeD0oNiwgMTIp
KQ0KICAgICAgICB0dGsuTGFiZWwocm93WCwgdGV4dD0iKOS9juS6juatpOWAvOS4jemXreWQiCki
KS5wYWNrKHNpZGU9dGsuTEVGVCkNCg0KDQogICAgICAgIHJvd0QgPSB0dGsuRnJhbWUocHdtZik7
DQogICAgICAgIHJvd0QucGFjayhmaWxsPXRrLlgsIHBhZHk9KDYsIDApKQ0KICAgICAgICB0dGsu
TGFiZWwocm93RCwgdGV4dD0i5b2T5YmN5Y2g56m65q+UOiIpLnBhY2soc2lkZT10ay5MRUZUKQ0K
ICAgICAgICB0dGsuTGFiZWwocm93RCwgdGV4dHZhcmlhYmxlPXNlbGYucmVsYXlfcHdtX2R1dHks
IGZvbnQ9KCJDb25zb2xhcyIsIDEyLCAiYm9sZCIpKSBcDQogICAgICAgICAgICAucGFjayhzaWRl
PXRrLkxFRlQsIHBhZHg9KDYsIDE2KSkNCiAgICAgICAgdHRrLkxhYmVsKHJvd0QsIHRleHQ9Iuet
ieaViFZfc2V0OiIpLnBhY2soc2lkZT10ay5MRUZUKQ0KICAgICAgICB0dGsuTGFiZWwocm93RCwg
dGV4dHZhcmlhYmxlPXNlbGYuY3VyX3B1bXBfdnNldCwgZm9udD0oIkNvbnNvbGFzIiwgMTIsICJi
b2xkIikpIFwNCiAgICAgICAgICAgIC5wYWNrKHNpZGU9dGsuTEVGVCwgcGFkeD0oNiwgMCkpDQog
ICAgICAgIHR0ay5MYWJlbChyb3dELCB0ZXh0PSJWIikucGFjayhzaWRlPXRrLkxFRlQsIHBhZHg9
KDQsIDApKQ0KDQogICAgICAgICMgPT09IOiHquWKqOWkmuWOi+WKm+a1i+ivle+8iOWDj+e0oOeb
kea1iyArIOaooeaLn+eCueWHu++8iSA9PT0KICAgICAgICBhdXRvX3Rlc3RmID0gdHRrLkxhYmVs
ZnJhbWUobGVmdCwgdGV4dD0i6Ieq5Yqo5aSa5Y6L5Yqb5rWL6K+VIiwgcGFkZGluZz0xMCkKICAg
ICAgICBhdXRvX3Rlc3RmLnBhY2soZmlsbD10ay5YLCBwYWR5PTgpCgogICAgICAgIGF1dG9fcm93
MCA9IHR0ay5GcmFtZShhdXRvX3Rlc3RmKQogICAgICAgIGF1dG9fcm93MC5wYWNrKGZpbGw9dGsu
WCwgcGFkeT0yKQogICAgICAgIHR0ay5MYWJlbChhdXRvX3JvdzAsIHRleHQ9IuWDj+e0oOajgOa1
i+mXtOmalChtcykiKS5wYWNrKHNpZGU9dGsuTEVGVCkKICAgICAgICB0dGsuRW50cnkoYXV0b19y
b3cwLCB0ZXh0dmFyaWFibGU9c2VsZi5kZXRlY3Rpb25faW50ZXJ2YWxfdmFyLCB3aWR0aD0xMCku
cGFjayhzaWRlPXRrLkxFRlQsIHBhZHg9KDQsIDEyKSkKICAgICAgICB0dGsuTGFiZWwoYXV0b19y
b3cwLCB0ZXh0PSLngrnlh7vlhrfljbQobXMpIikucGFjayhzaWRlPXRrLkxFRlQpCiAgICAgICAg
dHRrLkVudHJ5KGF1dG9fcm93MCwgdGV4dHZhcmlhYmxlPXNlbGYucGl4ZWxfY2xpY2tfY29vbGRv
d25fdmFyLCB3aWR0aD0xMCkucGFjayhzaWRlPXRrLkxFRlQsIHBhZHg9KDQsIDApKQoKICAgICAg
ICBhdXRvX3JvdzEgPSB0dGsuRnJhbWUoYXV0b190ZXN0ZikKICAgICAgICBhdXRvX3JvdzEucGFj
ayhmaWxsPXRrLlgsIHBhZHk9MikKICAgICAgICB0dGsuQ2hlY2tidXR0b24oYXV0b19yb3cxLCB0
ZXh0PSLlkK/nlKjlg4/ntKDmo4DmtYsiLCB2YXJpYWJsZT1zZWxmLnBpeGVsX2RldGVjdGlvbl9l
bmFibGVkKS5wYWNrKHNpZGU9dGsuTEVGVCkKICAgICAgICB0dGsuQnV0dG9uKGF1dG9fcm93MSwg
dGV4dD0i6K6+572u5qOA5rWL5Yy65Z+fIiwgY29tbWFuZD1zZWxmLnNldF9waXhlbF9kZXRlY3Rp
b25fcmVnaW9uLAogICAgICAgICAgICAgICAgICAgYm9vdHN0eWxlPSJvdXRsaW5lLWluZm8iKS5w
YWNrKHNpZGU9dGsuTEVGVCwgcGFkeD0oOCwgNikpCiAgICAgICAgc2VsZi5pbmRpY2F0b3JfY2Fu
dmFzID0gdGsuQ2FudmFzKGF1dG9fcm93MSwgd2lkdGg9MTgsIGhlaWdodD0xOCwgaGlnaGxpZ2h0
dGhpY2tuZXNzPTApCiAgICAgICAgc2VsZi5pbmRpY2F0b3JfY2lyY2xlID0gc2VsZi5pbmRpY2F0
b3JfY2FudmFzLmNyZWF0ZV9vdmFsKDIsIDIsIDE2LCAxNiwgZmlsbD0icmVkIikKICAgICAgICBz
ZWxmLmluZGljYXRvcl9jYW52YXMucGFjayhzaWRlPXRrLkxFRlQsIHBhZHg9NikKCiAgICAgICAg
YXV0b19yb3cyID0gdHRrLkZyYW1lKGF1dG9fdGVzdGYpCiAgICAgICAgYXV0b19yb3cyLnBhY2so
ZmlsbD10ay5YLCBwYWR5PTIpCiAgICAgICAgdHRrLkNoZWNrYnV0dG9uKGF1dG9fcm93MiwgdGV4
dD0i6K6w5b2V5qOA5rWL5pel5b+XIiwgdmFyaWFibGU9c2VsZi5waXhlbF9sb2dfZW5hYmxlZCku
cGFjayhzaWRlPXRrLkxFRlQpCiAgICAgICAgdHRrLkxhYmVsKGF1dG9fcm93MiwgdGV4dD0i54G1
5pWP5bqmKCUpIikucGFjayhzaWRlPXRrLkxFRlQsIHBhZHg9KDEwLCA0KSkKICAgICAgICB0dGsu
RW50cnkoYXV0b19yb3cyLCB0ZXh0dmFyaWFibGU9c2VsZi5waXhlbF9zZW5zaXRpdml0eV92YXIs
IHdpZHRoPTgpLnBhY2soc2lkZT10ay5MRUZUKQogICAgICAgIHR0ay5MYWJlbChhdXRvX3JvdzIs
IHRleHQ9Iui2heaXtihzKSIpLnBhY2soc2lkZT10ay5MRUZULCBwYWR4PSgxMCwgNCkpCiAgICAg
ICAgdHRrLkVudHJ5KGF1dG9fcm93MiwgdGV4dHZhcmlhYmxlPXNlbGYucGl4ZWxfdGltZW91dF92
YXIsIHdpZHRoPTgpLnBhY2soc2lkZT10ay5MRUZUKQoKICAgICAgICBhdXRvX3JvdzMgPSB0dGsu
RnJhbWUoYXV0b190ZXN0ZikKICAgICAgICBhdXRvX3JvdzMucGFjayhmaWxsPXRrLlgsIHBhZHk9
MikKICAgICAgICB0dGsuQ2hlY2tidXR0b24oYXV0b19yb3czLCB0ZXh0PSLlkK/nlKjmqKHmi5/n
grnlh7siLCB2YXJpYWJsZT1zZWxmLmF1dG9fY2xpY2tfZW5hYmxlKS5wYWNrKHNpZGU9dGsuTEVG
VCkKICAgICAgICB0dGsuTGFiZWwoYXV0b19yb3czLCB0ZXh0PSLlu7bov58obXMpIikucGFjayhz
aWRlPXRrLkxFRlQsIHBhZHg9KDEwLCA0KSkKICAgICAgICB0dGsuRW50cnkoYXV0b19yb3czLCB0
ZXh0dmFyaWFibGU9c2VsZi5hdXRvX2NsaWNrX2RlbGF5X21zLCB3aWR0aD04KS5wYWNrKHNpZGU9
dGsuTEVGVCkKICAgICAgICB0dGsuTGFiZWwoYXV0b19yb3czLCB0ZXh0PSLmjInplK4iKS5wYWNr
KHNpZGU9dGsuTEVGVCwgcGFkeD0oMTAsIDQpKQogICAgICAgIHR0ay5Db21ib2JveChhdXRvX3Jv
dzMsIHRleHR2YXJpYWJsZT1zZWxmLmF1dG9fY2xpY2tfYnV0dG9uLCB3aWR0aD04LAogICAgICAg
ICAgICAgICAgICAgICB2YWx1ZXM9WyJsZWZ0IiwgInJpZ2h0IiwgIm1pZGRsZSJdKS5wYWNrKHNp
ZGU9dGsuTEVGVCwgcGFkeD0oNCwgMTApKQogICAgICAgIHR0ay5DaGVja2J1dHRvbihhdXRvX3Jv
dzMsIHRleHQ9IuWPjOWHuyIsIHZhcmlhYmxlPXNlbGYuYXV0b19jbGlja19kb3VibGUpLnBhY2so
c2lkZT10ay5MRUZUKQoKICAgICAgICBhdXRvX3JvdzQgPSB0dGsuRnJhbWUoYXV0b190ZXN0ZikK
ICAgICAgICBhdXRvX3JvdzQucGFjayhmaWxsPXRrLlgsIHBhZHk9MikKICAgICAgICB0dGsuTGFi
ZWwoYXV0b19yb3c0LCB0ZXh0PSLlsY/luZVYIikucGFjayhzaWRlPXRrLkxFRlQpCiAgICAgICAg
c2VsZi5lbnRfYXV0b194ID0gdHRrLkVudHJ5KGF1dG9fcm93NCwgdGV4dHZhcmlhYmxlPXNlbGYu
YXV0b19jbGlja194LCB3aWR0aD04KQogICAgICAgIHNlbGYuZW50X2F1dG9feC5wYWNrKHNpZGU9
dGsuTEVGVCwgcGFkeD0oNCwgMTIpKQogICAgICAgIHR0ay5MYWJlbChhdXRvX3JvdzQsIHRleHQ9
IuWxj+W5lVkiKS5wYWNrKHNpZGU9dGsuTEVGVCkKICAgICAgICBzZWxmLmVudF9hdXRvX3kgPSB0
dGsuRW50cnkoYXV0b19yb3c0LCB0ZXh0dmFyaWFibGU9c2VsZi5hdXRvX2NsaWNrX3ksIHdpZHRo
PTgpCiAgICAgICAgc2VsZi5lbnRfYXV0b195LnBhY2soc2lkZT10ay5MRUZULCBwYWR4PSg0LCAx
MikpCiAgICAgICAgdHRrLkxhYmVsKGF1dG9fcm93NCwgdGV4dHZhcmlhYmxlPXNlbGYucGlja19w
cmV2aWV3LCB3aWR0aD0xOCkucGFjayhzaWRlPXRrLkxFRlQsIHBhZHg9KDgsIDYpKQoKICAgICAg
ICBhdXRvX3JvdzUgPSB0dGsuRnJhbWUoYXV0b190ZXN0ZikKICAgICAgICBhdXRvX3JvdzUucGFj
ayhmaWxsPXRrLlgsIHBhZHk9MikKICAgICAgICB0dGsuQnV0dG9uKGF1dG9fcm93NSwgdGV4dD0i
5oyJIEVudGVyIOWPlueCuSIsIGNvbW1hbmQ9c2VsZi5fc3RhcnRfcGlja19jb29yZF9lbnRlciwK
ICAgICAgICAgICAgICAgICAgIGJvb3RzdHlsZT0ib3V0bGluZS1wcmltYXJ5IikucGFjayhzaWRl
PXRrLkxFRlQsIHBhZHg9KDYsIDYpKQogICAgICAgIHR0ay5CdXR0b24oYXV0b19yb3c1LCB0ZXh0
PSLlgZzmraLmi77lj5YiLCBjb21tYW5kPXNlbGYuX3N0b3BfcGlja19jb29yZCwKICAgICAgICAg
ICAgICAgICAgIGJvb3RzdHlsZT0ib3V0bGluZS1zZWNvbmRhcnkiKS5wYWNrKHNpZGU9dGsuTEVG
VCwgcGFkeD0oNiwgMTIpKQogICAgICAgIHR0ay5CdXR0b24oYXV0b19yb3c1LCB0ZXh0PSLnq4vl
jbPmtYvor5Xngrnlh7siLAogICAgICAgICAgICAgICAgICAgY29tbWFuZD1sYW1iZGE6IHNlbGYu
X3NpbXVsYXRlX2NsaWNrKAogICAgICAgICAgICAgICAgICAgICAgIGludChzZWxmLmF1dG9fY2xp
Y2tfeC5nZXQoKSBvciAwKSwKICAgICAgICAgICAgICAgICAgICAgICBpbnQoc2VsZi5hdXRvX2Ns
aWNrX3kuZ2V0KCkgb3IgMCksCiAgICAgICAgICAgICAgICAgICAgICAgc2VsZi5hdXRvX2NsaWNr
X2J1dHRvbi5nZXQoKSwKICAgICAgICAgICAgICAgICAgICAgICBib29sKHNlbGYuYXV0b19jbGlj
a19kb3VibGUuZ2V0KCkpLAogICAgICAgICAgICAgICAgICAgICAgIGludChzZWxmLmF1dG9fY2xp
Y2tfZGVsYXlfbXMuZ2V0KCkgb3IgMCkKICAgICAgICAgICAgICAgICAgICksCiAgICAgICAgICAg
ICAgICAgICBib290c3R5bGU9U0VDT05EQVJZKS5wYWNrKHNpZGU9dGsuTEVGVCkKDQogICAgICAg
ICMg5pWw5o2u6K6w5b2VDQogICAgICAgIHJlYyA9IHR0ay5MYWJlbGZyYW1lKGxlZnQsIHRleHQ9
IuaVsOaNruiusOW9le+8iENTViDlr7zlh7rvvIkiLCBwYWRkaW5nPTEwKTsNCiAgICAgICAgcmVj
LnBhY2soZmlsbD10ay5YLCBwYWR5PTgpDQogICAgICAgIHJvd3IgPSB0dGsuRnJhbWUocmVjKTsN
CiAgICAgICAgcm93ci5wYWNrKGZpbGw9dGsuWCkNCiAgICAgICAgdHRrLkxhYmVsKHJvd3IsIHRl
eHQ9IuS/neWtmOebruW9lSIpLnBhY2soc2lkZT10ay5MRUZUKQ0KICAgICAgICBzZWxmLmVudF9j
c3ZfZGlyID0gdHRrLkVudHJ5KHJvd3IsIHRleHR2YXJpYWJsZT1zZWxmLmNzdl9kaXIsIHdpZHRo
PTQ4KQ0KICAgICAgICBzZWxmLmVudF9jc3ZfZGlyLnBhY2soc2lkZT10ay5MRUZULCBwYWR4PSg2
LCA4KSkNCiAgICAgICAgdHRrLkJ1dHRvbihyb3dyLCB0ZXh0PSLpgInmi6nnm67lvZUiLCBjb21t
YW5kPXNlbGYuX2Nob29zZV9jc3ZfZGlyLCBib290c3R5bGU9U0VDT05EQVJZKS5wYWNrKHNpZGU9
dGsuTEVGVCkNCiAgICAgICAgdHRrLkxhYmVsKHJlYywgdGV4dD0i6KeE5YiZ77ya54K55Ye744CM
5ZCv5YqoUElEL+WQr+WKqOe6v+aAp+eoi+W6j+OAjeaWsOW7uu+8m+eCueWHu+OAjOWBnOatouKA
puOAjeS/neWtmOW5tuWFs+mXreOAgiIsCiAgICAgICAgICAgICAgICAgIGJvb3RzdHlsZT1JTkZP
LCB3cmFwbGVuZ3RoPTU2MCwganVzdGlmeT0ibGVmdCIpLnBhY2soYW5jaG9yPSJ3IiwgcGFkeT0o
NiwgMCkpDQoNCiAgICAgICAgcGxvdF9jdHJsID0gdHRrLkxhYmVsZnJhbWUobGVmdCwgdGV4dD0i
57uY5Zu+5pi+56S6IiwgcGFkZGluZz0xMCk7DQogICAgICAgIHBsb3RfY3RybC5wYWNrKGZpbGw9
dGsuWCwgcGFkeT04KQ0KICAgICAgICByb3dwID0gdHRrLkZyYW1lKHBsb3RfY3RybCk7DQogICAg
ICAgIHJvd3AucGFjayhmaWxsPXRrLlgpDQogICAgICAgIHR0ay5MYWJlbChyb3dwLCB0ZXh0PSLn
qpflj6MgKHMpIikucGFjayhzaWRlPXRrLkxFRlQpDQogICAgICAgIHR0ay5FbnRyeShyb3dwLCB0
ZXh0dmFyaWFibGU9c2VsZi5wbG90X3dpbmRvd19zLCB3aWR0aD0xMCkucGFjayhzaWRlPXRrLkxF
RlQsIHBhZHg9KDYsIDEyKSkNCiAgICAgICAgdHRrLkxhYmVsKHJvd3AsIHRleHQ9IuWIt+aWsOmX
tOmalCAobXMpIikucGFjayhzaWRlPXRrLkxFRlQpDQogICAgICAgIHR0ay5FbnRyeShyb3dwLCB0
ZXh0dmFyaWFibGU9c2VsZi51aV9yZWZyZXNoX21zLCB3aWR0aD0xMCkucGFjayhzaWRlPXRrLkxF
RlQsIHBhZHg9KDYsIDApKQ0KDQogICAgICAgICMg5Y+z5L6n5Zu+6KGo77yI5LiJ6Z2i5p2/77ya
5LiKMeOAgeS4izLvvIkNCiAgICAgICAgZmlnID0gRmlndXJlKGZpZ3NpemU9KDEwLCAxMiksIGRw
aT0xMDApDQoNCiAgICAgICAgIyDkuIrpnaLkuIDkuKrjgIHkuIvpnaLkuKTkuKrvvJrkuIrooYzo
t6jkuKTliJcNCiAgICAgICAgZ3MgPSBmaWcuYWRkX2dyaWRzcGVjKA0KICAgICAgICAgICAgMiwg
MiwNCiAgICAgICAgICAgIGhlaWdodF9yYXRpb3M9WzEuMiwgMS4wXSwgICMg5LiK6Z2i55Wl6auY
DQogICAgICAgICAgICB3c3BhY2U9MC4zNSwgaHNwYWNlPTAuNDAgICMg6Z2i5p2/6Ze06LedDQog
ICAgICAgICkNCg0KICAgICAgICAjIOmhtumDqO+8mua4qeW6pu+8iOi3qOS4pOWIl++8iQ0KICAg
ICAgICBzZWxmLmF4X3RlbXAgPSBmaWcuYWRkX3N1YnBsb3QoZ3NbMCwgOl0pDQoNCiAgICAgICAg
IyDlt6bkuIvvvJrliqDng63lip/njocNCiAgICAgICAgc2VsZi5heF9wb3dlciA9IGZpZy5hZGRf
c3VicGxvdChnc1sxLCAwXSkNCg0KICAgICAgICAjIOWPs+S4i++8muW+queOr+aztQ0KICAgICAg
ICBzZWxmLmF4X3B1bXAgPSBmaWcuYWRkX3N1YnBsb3QoZ3NbMSwgMV0pDQoNCiAgICAgICAgIyAt
LS0tLS0tLSDpobbpg6jmuKnluqbmm7Lnur8gLS0tLS0tLS0NCiAgICAgICAgc2VsZi5heF90ZW1w
LnNldF90aXRsZSgiVGVtcGVyYXR1cmUgdnMgVGltZSIpDQogICAgICAgIHNlbGYuYXhfdGVtcC5z
ZXRfeWxhYmVsKCJUZW1wZXJhdHVyZSAowrBDKSIpDQogICAgICAgIHNlbGYubGluZV90ZW1wLCA9
IHNlbGYuYXhfdGVtcC5wbG90KFtdLCBbXSwgbHc9MS42LCBsYWJlbD0iTWVhc3VyZWQiKQ0KICAg
ICAgICBzZWxmLmxpbmVfdGFyZ2V0LCA9IHNlbGYuYXhfdGVtcC5wbG90KFtdLCBbXSwgbHc9MS4y
LCBscz0iLS0iLCBsYWJlbD0iVGFyZ2V0IikNCiAgICAgICAgc2VsZi5saW5lX2ZpdCwgPSBzZWxm
LmF4X3RlbXAucGxvdChbXSwgW10sIGx3PTEuMiwgbHM9IjoiLCBsYWJlbD0iTGluZWFyIEZpdCIp
DQogICAgICAgIHNlbGYuYXhfdGVtcC5sZWdlbmQobG9jPSJ1cHBlciByaWdodCIsIGZvbnRzaXpl
PTgpDQogICAgICAgIHNlbGYuYXhfdGVtcC5ncmlkKFRydWUsIGFscGhhPTAuMykNCg0KICAgICAg
ICAjIC0tLS0tLS0tIOW3puS4i+WKn+eOh++8iOWKoOeDreerr++8iS0tLS0tLS0tDQogICAgICAg
IHNlbGYuYXhfcG93ZXIuc2V0X3RpdGxlKCJIZWF0ZXIgUG93ZXIgdnMgVGltZSIpDQogICAgICAg
IHNlbGYuYXhfcG93ZXIuc2V0X3lsYWJlbCgiUG93ZXIgKFcpIikNCiAgICAgICAgc2VsZi5heF9w
b3dlci5zZXRfeGxhYmVsKCJUaW1lIChzKSIpDQogICAgICAgIHNlbGYubGluZV9wb3dlciwgPSBz
ZWxmLmF4X3Bvd2VyLnBsb3QoW10sIFtdLCBsdz0xLjIsIGxhYmVsPSJIZWF0ZXIgUG93ZXIiKQ0K
ICAgICAgICBzZWxmLmF4X3Bvd2VyLmdyaWQoVHJ1ZSwgYWxwaGE9MC4zKQ0KICAgICAgICBzZWxm
LmF4X3Bvd2VyLmxlZ2VuZChsb2M9InVwcGVyIHJpZ2h0IiwgZm9udHNpemU9OCkNCg0KICAgICAg
ICAjIC0tLS0tLS0tIOWPs+S4i++8muW+queOr+azteWKn+eOh++8iOS7heWKn+eOhyB2cyDml7bp
l7TvvIktLS0tLS0tLQ0KICAgICAgICBzZWxmLmF4X3B1bXAuc2V0X3RpdGxlKCJQdW1wIFBvd2Vy
IHZzIFRpbWUiKQ0KICAgICAgICBzZWxmLmF4X3B1bXAuc2V0X3lsYWJlbCgiUG93ZXIgKFcpIikN
CiAgICAgICAgc2VsZi5heF9wdW1wLnNldF94bGFiZWwoIlRpbWUgKHMpIikNCiAgICAgICAgc2Vs
Zi5saW5lX3B1bXAsID0gc2VsZi5heF9wdW1wLnBsb3QoW10sIFtdLCBsdz0xLjIsIGxhYmVsPSJQ
dW1wIFBvd2VyIikNCiAgICAgICAgc2VsZi5heF9wdW1wLmdyaWQoVHJ1ZSwgYWxwaGE9MC4zKQ0K
ICAgICAgICBzZWxmLmF4X3B1bXAubGVnZW5kKGxvYz0idXBwZXIgcmlnaHQiLCBmb250c2l6ZT04
KQ0KDQogICAgICAgICMg5oyC5YiwIFRrIOeUu+W4gw0KICAgICAgICBzZWxmLmNhbnZhcyA9IEZp
Z3VyZUNhbnZhc1RrQWdnKGZpZywgbWFzdGVyPXJpZ2h0KQ0KICAgICAgICBzZWxmLmNhbnZhcy5n
ZXRfdGtfd2lkZ2V0KCkucGFjayhmaWxsPXRrLkJPVEgsIGV4cGFuZD1UcnVlKQ0KDQoNCiAgICBA
c3RhdGljbWV0aG9kDQogICAgZGVmIF9kaXNhYmxlX3dpZGdldF9zY3JvbGwoKndpZGdldHMpOg0K
ICAgICAgICAiIiLnpoHnlKjmu5rova7mlLnlj5jnu5nlrpogU3BpbmJveC9Db21ib2JveCDnmoTl
gLzjgIIiIiINCiAgICAgICAgZGVmIF9ibG9jayhldmVudCk6DQogICAgICAgICAgICByZXR1cm4g
ImJyZWFrIg0KDQogICAgICAgIGZvciB3aWRnZXQgaW4gd2lkZ2V0czoNCiAgICAgICAgICAgIGlm
IG5vdCB3aWRnZXQ6DQogICAgICAgICAgICAgICAgY29udGludWUNCiAgICAgICAgICAgIHRyeToN
CiAgICAgICAgICAgICAgICB3aWRnZXQuYmluZCgiPE1vdXNlV2hlZWw+IiwgX2Jsb2NrKQ0KICAg
ICAgICAgICAgICAgIHdpZGdldC5iaW5kKCI8U2hpZnQtTW91c2VXaGVlbD4iLCBfYmxvY2spDQog
ICAgICAgICAgICAgICAgd2lkZ2V0LmJpbmQoIjxCdXR0b24tND4iLCBfYmxvY2spDQogICAgICAg
ICAgICAgICAgd2lkZ2V0LmJpbmQoIjxCdXR0b24tNT4iLCBfYmxvY2spDQogICAgICAgICAgICBl
eGNlcHQgRXhjZXB0aW9uOg0KICAgICAgICAgICAgICAgIHBhc3MNCg0KDQogICAgZGVmIF9zeW5j
X2NsaWNrX3ZhcnNfdG9fZW50cmllcyhzZWxmKToNCiAgICAgICAgIiIi5oqK5Y+Y6YeP5YC85by6
5Yi25Yi35paw5YiwIEVudHJ577yI5ZCv5Yqo5LiO5Yqg6L296YWN572u5ZCO5ZCE6LCD5LiA5qyh
77yJ44CCIiIiDQogICAgICAgIHRyeToNCiAgICAgICAgICAgIGlmIGhhc2F0dHIoc2VsZiwgImVu
dF9hdXRvX3giKToNCiAgICAgICAgICAgICAgICBzZWxmLmVudF9hdXRvX3guZGVsZXRlKDAsICJl
bmQiKTsNCiAgICAgICAgICAgICAgICBzZWxmLmVudF9hdXRvX3guaW5zZXJ0KDAsIHN0cihpbnQo
c2VsZi5hdXRvX2NsaWNrX3guZ2V0KCkgb3IgMCkpKQ0KICAgICAgICAgICAgaWYgaGFzYXR0cihz
ZWxmLCAiZW50X2F1dG9feSIpOg0KICAgICAgICAgICAgICAgIHNlbGYuZW50X2F1dG9feS5kZWxl
dGUoMCwgImVuZCIpOw0KICAgICAgICAgICAgICAgIHNlbGYuZW50X2F1dG9feS5pbnNlcnQoMCwg
c3RyKGludChzZWxmLmF1dG9fY2xpY2tfeS5nZXQoKSBvciAwKSkpDQogICAgICAgIGV4Y2VwdCBF
eGNlcHRpb246DQogICAgICAgICAgICBwYXNzDQoNCiAgICAjIC0tLS0tLS0tLS0g5Liy5Y+jIC0t
LS0tLS0tLS0NCiAgICBkZWYgX3JlZnJlc2hfcG9ydHMoc2VsZik6DQogICAgICAgIHBvcnRzID0g
W3AuZGV2aWNlIGZvciBwIGluIHNlcmlhbC50b29scy5saXN0X3BvcnRzLmNvbXBvcnRzKCldDQog
ICAgICAgIHNlbGYuY29tYm9fcHN1WyJ2YWx1ZXMiXSA9IHBvcnRzDQogICAgICAgIHNlbGYuY29t
Ym9fdGNtWyJ2YWx1ZXMiXSA9IHBvcnRzDQogICAgICAgIHNlbGYuY29tYm9fcHVtcFsidmFsdWVz
Il0gPSBwb3J0cw0KICAgICAgICAjIOKYhSDmlrDlop7vvJrnu6fnlLXlmajnq6/lj6PliJfooagN
CiAgICAgICAgc2VsZi5jb21ib19yZWxheVsidmFsdWVzIl0gPSBwb3J0cw0KDQogICAgZGVmIF9h
dXRvX2Nvbm5lY3RfYWxsKHNlbGYpOg0KICAgICAgICB0cnk6DQogICAgICAgICAgICBwb3J0cyA9
IFtwLmRldmljZSBmb3IgcCBpbiBzZXJpYWwudG9vbHMubGlzdF9wb3J0cy5jb21wb3J0cygpXQ0K
ICAgICAgICBleGNlcHQgRXhjZXB0aW9uIGFzIGU6DQogICAgICAgICAgICBtc2cgPSBmIuiHquWK
qOi/nuaOpeWksei0pe+8muaXoOazleWIl+WHuuS4suWPo++8iHtlfe+8ieOAguivt+ajgOafpSBV
U0Ig5o+S5Y+j44CCIg0KICAgICAgICAgICAgc2VsZi5fc2V0X3N0YXR1cyhtc2cpDQogICAgICAg
ICAgICBtZXNzYWdlYm94LnNob3d3YXJuaW5nKCLmj5DnpLoiLCBtc2cpDQogICAgICAgICAgICBy
ZXR1cm4NCg0KICAgICAgICBpZiBub3QgcG9ydHM6DQogICAgICAgICAgICBtc2cgPSAi6Ieq5Yqo
6L+e5o6l5aSx6LSl77ya5pyq5qOA5rWL5Yiw5Liy5Y+j77yM6K+35qOA5p+lIFVTQiDmj5Llj6Pj
gIIiDQogICAgICAgICAgICBzZWxmLl9zZXRfc3RhdHVzKG1zZykNCiAgICAgICAgICAgIG1lc3Nh
Z2Vib3guc2hvd3dhcm5pbmcoIuaPkOekuiIsIG1zZykNCiAgICAgICAgICAgIHJldHVybg0KDQog
ICAgICAgIHVzZWRfcG9ydHMgPSBzZXQoKQ0KICAgICAgICBmb3IgdmFyLCBkZXZpY2UgaW4gKA0K
ICAgICAgICAgICAgKHNlbGYucHN1X3BvcnQsIGdldGF0dHIoc2VsZi5wc3UsICJjb25uZWN0ZWQi
LCBGYWxzZSkpLA0KICAgICAgICAgICAgKHNlbGYudGNtX3BvcnQsIGdldGF0dHIoc2VsZi50Y20s
ICJjb25uZWN0ZWQiLCBGYWxzZSkpLA0KICAgICAgICAgICAgKHNlbGYucHVtcF9wb3J0LCBnZXRh
dHRyKHNlbGYucHVtcCwgImNvbm5lY3RlZCIsIEZhbHNlKSksDQogICAgICAgICAgICAoc2VsZi5y
ZWxheV9wb3J0LCBnZXRhdHRyKHNlbGYucmVsYXksICJjb25uZWN0ZWQiLCBGYWxzZSkpLA0KICAg
ICAgICApOg0KICAgICAgICAgICAgaWYgZGV2aWNlOg0KICAgICAgICAgICAgICAgIGN1ciA9ICh2
YXIuZ2V0KCkgb3IgIiIpLnN0cmlwKCkNCiAgICAgICAgICAgICAgICBpZiBjdXI6DQogICAgICAg
ICAgICAgICAgICAgIHVzZWRfcG9ydHMuYWRkKGN1cikNCg0KICAgICAgICBkZWYgX2ludF9mcm9t
X3Zhcih2YXIsIGRlZmF1bHQpOg0KICAgICAgICAgICAgdHJ5Og0KICAgICAgICAgICAgICAgIHZh
bCA9IHZhci5nZXQoKQ0KICAgICAgICAgICAgZXhjZXB0IEV4Y2VwdGlvbjoNCiAgICAgICAgICAg
ICAgICB2YWwgPSBkZWZhdWx0DQogICAgICAgICAgICB0cnk6DQogICAgICAgICAgICAgICAgaWYg
aXNpbnN0YW5jZSh2YWwsIHN0cik6DQogICAgICAgICAgICAgICAgICAgIHZhbCA9IHZhbC5zdHJp
cCgpDQogICAgICAgICAgICAgICAgICAgIGlmIHZhbCA9PSAiIjoNCiAgICAgICAgICAgICAgICAg
ICAgICAgIHJldHVybiBpbnQoZGVmYXVsdCkNCiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGlu
dChmbG9hdCh2YWwpKQ0KICAgICAgICAgICAgICAgIHJldHVybiBpbnQodmFsKQ0KICAgICAgICAg
ICAgZXhjZXB0IEV4Y2VwdGlvbjoNCiAgICAgICAgICAgICAgICByZXR1cm4gaW50KGRlZmF1bHQp
DQoNCiAgICAgICAgZmFpbHVyZXM6IGxpc3RbdHVwbGVbc3RyLCBFeGNlcHRpb24gfCBOb25lXV0g
PSBbXQ0KICAgICAgICBzdWNjZXNzZXM6IGxpc3Rbc3RyXSA9IFtdDQoNCiAgICAgICAgZGVmIGNh
bmRpZGF0ZXModmFyKToNCiAgICAgICAgICAgIGN1ciA9ICh2YXIuZ2V0KCkgb3IgIiIpLnN0cmlw
KCkNCiAgICAgICAgICAgIG9yZGVyZWQgPSBbXQ0KICAgICAgICAgICAgaWYgY3VyOg0KICAgICAg
ICAgICAgICAgIG9yZGVyZWQuYXBwZW5kKGN1cikNCiAgICAgICAgICAgIGZvciBwb3J0IGluIHBv
cnRzOg0KICAgICAgICAgICAgICAgIGlmIHBvcnQgbm90IGluIG9yZGVyZWQ6DQogICAgICAgICAg
ICAgICAgICAgIG9yZGVyZWQuYXBwZW5kKHBvcnQpDQogICAgICAgICAgICBwcmVmZXJyZWQgPSBb
cCBmb3IgcCBpbiBvcmRlcmVkIGlmIHAgbm90IGluIHVzZWRfcG9ydHNdDQogICAgICAgICAgICBm
YWxsYmFjayA9IFtwIGZvciBwIGluIG9yZGVyZWQgaWYgcCBpbiB1c2VkX3BvcnRzIGFuZCBwIG5v
dCBpbiBwcmVmZXJyZWRdDQogICAgICAgICAgICByZXR1cm4gcHJlZmVycmVkICsgZmFsbGJhY2sN
Cg0KICAgICAgICBkZWYgdHJ5X2RldmljZShuYW1lLCBpc19jb25uZWN0ZWQsIHBvcnRfdmFyLCBj
b25uZWN0X2NhbGwsIG9uX3N1Y2Nlc3MsIHN0YXR1c192YXIpOg0KICAgICAgICAgICAgaWYgaXNf
Y29ubmVjdGVkOg0KICAgICAgICAgICAgICAgIHJldHVybg0KICAgICAgICAgICAgbGFzdF9lcnI6
IEV4Y2VwdGlvbiB8IE5vbmUgPSBOb25lDQogICAgICAgICAgICBmb3IgcG9ydCBpbiBjYW5kaWRh
dGVzKHBvcnRfdmFyKToNCiAgICAgICAgICAgICAgICB0cnk6DQogICAgICAgICAgICAgICAgICAg
IGNvbm5lY3RfY2FsbChwb3J0KQ0KICAgICAgICAgICAgICAgICAgICB1c2VkX3BvcnRzLmFkZChw
b3J0KQ0KICAgICAgICAgICAgICAgICAgICBvbl9zdWNjZXNzKHBvcnQpDQogICAgICAgICAgICAg
ICAgICAgIHN1Y2Nlc3Nlcy5hcHBlbmQobmFtZSkNCiAgICAgICAgICAgICAgICAgICAgcmV0dXJu
DQogICAgICAgICAgICAgICAgZXhjZXB0IEV4Y2VwdGlvbiBhcyBleGM6ICAjIG5vcWE6IFBFUkYy
MDMNCiAgICAgICAgICAgICAgICAgICAgbGFzdF9lcnIgPSBleGMNCiAgICAgICAgICAgIGZhaWx1
cmVzLmFwcGVuZCgobmFtZSwgbGFzdF9lcnIpKQ0KICAgICAgICAgICAgc3RhdHVzX3Zhci5zZXQo
Iui/nuaOpeWksei0pSIpDQoNCiAgICAgICAgdHJ5X2RldmljZSgNCiAgICAgICAgICAgICLnlLXm
upAiLA0KICAgICAgICAgICAgc2VsZi5wc3UuY29ubmVjdGVkLA0KICAgICAgICAgICAgc2VsZi5w
c3VfcG9ydCwNCiAgICAgICAgICAgIGxhbWJkYSBwb3J0OiBzZWxmLnBzdS5jb25uZWN0KA0KICAg
ICAgICAgICAgICAgIHBvcnQsDQogICAgICAgICAgICAgICAgX2ludF9mcm9tX3ZhcihzZWxmLnBz
dV9iYXVkLCBQU1VfQkFVRCksDQogICAgICAgICAgICAgICAgX2ludF9mcm9tX3ZhcihzZWxmLmFk
ZHJfcHN1LCBQU1VfQUREUl9ERUZBVUxUKSwNCiAgICAgICAgICAgICksDQogICAgICAgICAgICBs
YW1iZGEgcG9ydDogc2VsZi5fYXV0b19jb25uZWN0X3N1Y2Nlc3NfcHN1KHBvcnQpLA0KICAgICAg
ICAgICAgc2VsZi5wc3Vfc3RhdHVzLA0KICAgICAgICApDQogICAgICAgIHRyeV9kZXZpY2UoDQog
ICAgICAgICAgICAi5rip5bqm5LuqIiwNCiAgICAgICAgICAgIHNlbGYudGNtLmNvbm5lY3RlZCwN
CiAgICAgICAgICAgIHNlbGYudGNtX3BvcnQsDQogICAgICAgICAgICBsYW1iZGEgcG9ydDogc2Vs
Zi50Y20uY29ubmVjdCgNCiAgICAgICAgICAgICAgICBwb3J0LA0KICAgICAgICAgICAgICAgIF9p
bnRfZnJvbV92YXIoc2VsZi50Y21fYmF1ZCwgVENNX0JBVUQpLA0KICAgICAgICAgICAgICAgIF9p
bnRfZnJvbV92YXIoc2VsZi5hZGRyX3RjbSwgVENNX0FERFJfREVGQVVMVCksDQogICAgICAgICAg
ICApLA0KICAgICAgICAgICAgbGFtYmRhIHBvcnQ6IHNlbGYuX2F1dG9fY29ubmVjdF9zdWNjZXNz
X3RjbShwb3J0KSwNCiAgICAgICAgICAgIHNlbGYudGNtX3N0YXR1cywNCiAgICAgICAgKQ0KICAg
ICAgICB0cnlfZGV2aWNlKA0KICAgICAgICAgICAgIuW+queOr+aztSIsDQogICAgICAgICAgICBn
ZXRhdHRyKHNlbGYucHVtcCwgImNvbm5lY3RlZCIsIEZhbHNlKSwNCiAgICAgICAgICAgIHNlbGYu
cHVtcF9wb3J0LA0KICAgICAgICAgICAgbGFtYmRhIHBvcnQ6IHNlbGYucHVtcC5jb25uZWN0KA0K
ICAgICAgICAgICAgICAgIHBvcnQsDQogICAgICAgICAgICAgICAgX2ludF9mcm9tX3ZhcihzZWxm
LnB1bXBfYmF1ZCwgUFVNUF9CQVVEKSwNCiAgICAgICAgICAgICAgICBfaW50X2Zyb21fdmFyKHNl
bGYuYWRkcl9wdW1wLCBQVU1QX0FERFJfREVGQVVMVCksDQogICAgICAgICAgICApLA0KICAgICAg
ICAgICAgbGFtYmRhIHBvcnQ6IHNlbGYuX2F1dG9fY29ubmVjdF9zdWNjZXNzX3B1bXAocG9ydCks
DQogICAgICAgICAgICBzZWxmLnB1bXBfc3RhdHVzLA0KICAgICAgICApDQogICAgICAgIHRyeV9k
ZXZpY2UoDQogICAgICAgICAgICAi57un55S15ZmoIiwNCiAgICAgICAgICAgIGdldGF0dHIoc2Vs
Zi5yZWxheSwgImNvbm5lY3RlZCIsIEZhbHNlKSwNCiAgICAgICAgICAgIHNlbGYucmVsYXlfcG9y
dCwNCiAgICAgICAgICAgIGxhbWJkYSBwb3J0OiBzZWxmLnJlbGF5LmNvbm5lY3QocG9ydCwgYmF1
ZD1faW50X2Zyb21fdmFyKHNlbGYucmVsYXlfYmF1ZCwgOTYwMCkpLA0KICAgICAgICAgICAgbGFt
YmRhIHBvcnQ6IHNlbGYuX2F1dG9fY29ubmVjdF9zdWNjZXNzX3JlbGF5KHBvcnQpLA0KICAgICAg
ICAgICAgc2VsZi5yZWxheV9zdGF0dXMsDQogICAgICAgICkNCg0KICAgICAgICBpZiBmYWlsdXJl
czoNCiAgICAgICAgICAgIGRldGFpbCA9IFtdDQogICAgICAgICAgICBmb3IgbmFtZSwgZXJyIGlu
IGZhaWx1cmVzOg0KICAgICAgICAgICAgICAgIGlmIGVyciBpcyBOb25lOg0KICAgICAgICAgICAg
ICAgICAgICBkZXRhaWwuYXBwZW5kKGYie25hbWV9OiDmnKrog73lnKjku7vkvZXkuLLlj6PkuIro
v57mjqUiKQ0KICAgICAgICAgICAgICAgIGVsc2U6DQogICAgICAgICAgICAgICAgICAgIGRldGFp
bC5hcHBlbmQoZiJ7bmFtZX06IHtlcnJ9IikNCiAgICAgICAgICAgIG1zZyA9ICLku6XkuIvorr7l
pIfoh6rliqjov57mjqXlpLHotKXvvIzor7fmo4Dmn6UgVVNCIOaPkuWPo++8mlxuIiArICJcbiIu
am9pbihkZXRhaWwpDQogICAgICAgICAgICBzZWxmLl9zZXRfc3RhdHVzKG1zZy5yZXBsYWNlKCJc
biIsICIgIikpDQogICAgICAgICAgICBtZXNzYWdlYm94LnNob3d3YXJuaW5nKCLmj5DnpLoiLCBt
c2cpDQogICAgICAgIGVsaWYgc3VjY2Vzc2VzOg0KICAgICAgICAgICAgc3VtbWFyeSA9IGYi6Ieq
5Yqo6L+e5o6l5a6M5oiQ77yIeycsICcuam9pbihzdWNjZXNzZXMpfe+8ieOAgiINCiAgICAgICAg
ICAgIHNlbGYuX3NldF9zdGF0dXMoc3VtbWFyeSkNCiAgICAgICAgZWxzZToNCiAgICAgICAgICAg
IHNlbGYuX3NldF9zdGF0dXMoIuiHquWKqOi/nuaOpe+8muaJgOacieiuvuWkh+Wdh+W3sui/nuaO
peOAgiIpDQoNCiAgICBkZWYgX2F1dG9fY29ubmVjdF9zdWNjZXNzX3BzdShzZWxmLCBwb3J0OiBz
dHIpOg0KICAgICAgICBzZWxmLnBzdV9wb3J0LnNldChwb3J0KQ0KICAgICAgICBzZWxmLnBzdV9z
dGF0dXMuc2V0KCLlt7Lov57mjqUiKQ0KICAgICAgICBzZWxmLl9zZXRfc3RhdHVzKCLnlLXmupDl
t7Lov57mjqXvvIjoh6rliqjvvIkiKQ0KICAgICAgICB0cnk6DQogICAgICAgICAgICBzZWxmLl9z
YXZlX2NvbmZpZygpDQogICAgICAgIGV4Y2VwdCBFeGNlcHRpb246DQogICAgICAgICAgICBwYXNz
DQogICAgICAgIHNlbGYuX21heWJlX3N0YXJ0X2FjcXVpc2l0aW9uKCkNCg0KICAgIGRlZiBfYXV0
b19jb25uZWN0X3N1Y2Nlc3NfdGNtKHNlbGYsIHBvcnQ6IHN0cik6DQogICAgICAgIHNlbGYudGNt
X3BvcnQuc2V0KHBvcnQpDQogICAgICAgIHNlbGYudGNtX3N0YXR1cy5zZXQoIuW3sui/nuaOpSIp
DQogICAgICAgIHNlbGYuX3NldF9zdGF0dXMoIua4qeW6puS7quW3sui/nuaOpe+8iOiHquWKqO+8
iSIpDQogICAgICAgIHRyeToNCiAgICAgICAgICAgIHNlbGYuX3NhdmVfY29uZmlnKCkNCiAgICAg
ICAgZXhjZXB0IEV4Y2VwdGlvbjoNCiAgICAgICAgICAgIHBhc3MNCiAgICAgICAgc2VsZi5fbWF5
YmVfc3RhcnRfYWNxdWlzaXRpb24oKQ0KDQogICAgZGVmIF9hdXRvX2Nvbm5lY3Rfc3VjY2Vzc19w
dW1wKHNlbGYsIHBvcnQ6IHN0cik6DQogICAgICAgIHNlbGYucHVtcF9wb3J0LnNldChwb3J0KQ0K
ICAgICAgICBzZWxmLnB1bXBfc3RhdHVzLnNldCgi5bey6L+e5o6lIikNCiAgICAgICAgc2VsZi5f
c2V0X3N0YXR1cygi5b6q546v5rO15bey6L+e5o6l77yI6Ieq5Yqo77yJIikNCiAgICAgICAgdHJ5
Og0KICAgICAgICAgICAgc2VsZi5fc2F2ZV9jb25maWcoKQ0KICAgICAgICBleGNlcHQgRXhjZXB0
aW9uOg0KICAgICAgICAgICAgcGFzcw0KICAgICAgICBzZWxmLl9tYXliZV9zdGFydF9hY3F1aXNp
dGlvbigpDQogICAgICAgIGlmIHNlbGYuYWNxX3J1bm5pbmc6DQogICAgICAgICAgICB0cnk6DQog
ICAgICAgICAgICAgICAgc2VsZi5fZW5zdXJlX3B1bXBfc2FtcGxlcl9ydW5uaW5nKCkNCiAgICAg
ICAgICAgIGV4Y2VwdCBFeGNlcHRpb246DQogICAgICAgICAgICAgICAgcGFzcw0KDQogICAgZGVm
IF9hdXRvX2Nvbm5lY3Rfc3VjY2Vzc19yZWxheShzZWxmLCBwb3J0OiBzdHIpOg0KICAgICAgICBz
ZWxmLnJlbGF5X3BvcnQuc2V0KHBvcnQpDQogICAgICAgIHNlbGYucmVsYXlfc3RhdHVzLnNldCgi
5bey6L+e5o6lIikNCiAgICAgICAgc2VsZi5fc2V0X3N0YXR1cygi57un55S15Zmo5bey6L+e5o6l
77yI6Ieq5Yqo77yJIikNCiAgICAgICAgdHJ5Og0KICAgICAgICAgICAgc2VsZi5fc2F2ZV9jb25m
aWcoKQ0KICAgICAgICBleGNlcHQgRXhjZXB0aW9uOg0KICAgICAgICAgICAgcGFzcw0KICAgICAg
ICBzZWxmLl9tYXliZV9zdGFydF9hY3F1aXNpdGlvbigpDQoNCiAgICAjIC0tLS0tLS0tLS0g6L+e
5o6lL+aWreW8gCAtLS0tLS0tLS0tDQogICAgZGVmIF9jb25uZWN0X3BzdShzZWxmKToNCiAgICAg
ICAgdHJ5Og0KICAgICAgICAgICAgaWYgc2VsZi5wc3UuY29ubmVjdGVkOg0KICAgICAgICAgICAg
ICAgIG1lc3NhZ2Vib3guc2hvd2luZm8oIuaPkOekuiIsICLnlLXmupDlt7Lov57mjqUiKQ0KICAg
ICAgICAgICAgICAgIHJldHVybg0KICAgICAgICAgICAgc2VsZi5wc3UuY29ubmVjdChzZWxmLnBz
dV9wb3J0LmdldCgpLCBzZWxmLnBzdV9iYXVkLmdldCgpLCBzZWxmLmFkZHJfcHN1LmdldCgpKQ0K
ICAgICAgICAgICAgc2VsZi5wc3Vfc3RhdHVzLnNldCgi5bey6L+e5o6lIikNCiAgICAgICAgICAg
IHNlbGYuX3NldF9zdGF0dXMoIueUtea6kOW3sui/nuaOpe+8iOi/nOeoi++8iSIpDQogICAgICAg
ICAgICBzZWxmLl9zYXZlX2NvbmZpZygpDQogICAgICAgICAgICBzZWxmLl9tYXliZV9zdGFydF9h
Y3F1aXNpdGlvbigpDQogICAgICAgIGV4Y2VwdCBFeGNlcHRpb24gYXMgZToNCiAgICAgICAgICAg
IHNlbGYucHN1X3N0YXR1cy5zZXQoIui/nuaOpeWksei0pSIpDQogICAgICAgICAgICBzZWxmLl9z
ZXRfc3RhdHVzKGYi6L+e5o6l55S15rqQ5aSx6LSlOiB7ZX0iKQ0KICAgICAgICAgICAgbWVzc2Fn
ZWJveC5zaG93ZXJyb3IoIumUmeivryIsIGYi6L+e5o6l55S15rqQ5aSx6LSl77yaXG57ZX0iKQ0K
DQogICAgZGVmIF9kaXNjb25uZWN0X3BzdShzZWxmKToNCiAgICAgICAgc2VsZi5wc3UuZGlzY29u
bmVjdCgpDQogICAgICAgIHNlbGYucHN1X3N0YXR1cy5zZXQoIuacqui/nuaOpSIpDQogICAgICAg
IHNlbGYuX3NldF9zdGF0dXMoIueUtea6kOW3suaWreW8gCIpDQogICAgICAgIHNlbGYuZGlzYWJs
ZV9waWQoKQ0KICAgICAgICBzZWxmLl9zYXZlX2NvbmZpZygpDQoNCiAgICBkZWYgX2Nvbm5lY3Rf
dGNtKHNlbGYpOg0KICAgICAgICB0cnk6DQogICAgICAgICAgICBpZiBzZWxmLnRjbS5jb25uZWN0
ZWQ6DQogICAgICAgICAgICAgICAgbWVzc2FnZWJveC5zaG93aW5mbygi5o+Q56S6IiwgIua4qeW6
puS7quW3sui/nuaOpSIpDQogICAgICAgICAgICAgICAgcmV0dXJuDQogICAgICAgICAgICBzZWxm
LnRjbS5jb25uZWN0KHNlbGYudGNtX3BvcnQuZ2V0KCksIHNlbGYudGNtX2JhdWQuZ2V0KCksIHNl
bGYuYWRkcl90Y20uZ2V0KCkpDQogICAgICAgICAgICBzZWxmLnRjbV9zdGF0dXMuc2V0KCLlt7Lo
v57mjqUiKQ0KICAgICAgICAgICAgc2VsZi5fc2V0X3N0YXR1cygi5rip5bqm5Luq5bey6L+e5o6l
IikNCiAgICAgICAgICAgIHNlbGYuX3NhdmVfY29uZmlnKCkNCiAgICAgICAgICAgIHNlbGYuX21h
eWJlX3N0YXJ0X2FjcXVpc2l0aW9uKCkNCiAgICAgICAgZXhjZXB0IEV4Y2VwdGlvbiBhcyBlOg0K
ICAgICAgICAgICAgc2VsZi50Y21fc3RhdHVzLnNldCgi6L+e5o6l5aSx6LSlIikNCiAgICAgICAg
ICAgIHNlbGYuX3NldF9zdGF0dXMoZiLov57mjqXmuKnluqbku6rlpLHotKU6IHtlfSIpDQogICAg
ICAgICAgICBtZXNzYWdlYm94LnNob3dlcnJvcigi6ZSZ6K+vIiwgZiLov57mjqXmuKnluqbku6rl
pLHotKXvvJpcbntlfSIpDQoNCiAgICBkZWYgX2Rpc2Nvbm5lY3RfdGNtKHNlbGYpOg0KICAgICAg
ICBzZWxmLnRjbS5kaXNjb25uZWN0KCkNCiAgICAgICAgc2VsZi50Y21fc3RhdHVzLnNldCgi5pyq
6L+e5o6lIikNCiAgICAgICAgc2VsZi5fc2V0X3N0YXR1cygi5rip5bqm5Luq5bey5pat5byAIikN
CiAgICAgICAgc2VsZi5kaXNhYmxlX3BpZCgpDQogICAgICAgIHNlbGYuX3NhdmVfY29uZmlnKCkN
Cg0KICAgIGRlZiBfY2hvb3NlX2Nzdl9kaXIoc2VsZik6DQogICAgICAgICIiIuiuqeeUqOaIt+mA
ieaLqSBDU1Yg5L+d5a2Y55uu5b2V77yM5bm26JC955uY5YiwIGNvbmZpZ+OAgiIiIg0KICAgICAg
ICB0cnk6DQogICAgICAgICAgICBjdXIgPSBzZWxmLmNzdl9kaXIuZ2V0KCkuc3RyaXAoKSBvciBz
dHIoZ2V0X2xvZ3NfZGlyKCkpDQogICAgICAgICAgICBwYXRoID0gZmlsZWRpYWxvZy5hc2tkaXJl
Y3RvcnkoaW5pdGlhbGRpcj1jdXIsIHRpdGxlPSLpgInmi6kgQ1NWIOS/neWtmOebruW9lSIpDQog
ICAgICAgICAgICBpZiBwYXRoOg0KICAgICAgICAgICAgICAgIHAgPSBQYXRoKHBhdGgpDQogICAg
ICAgICAgICAgICAgcC5ta2RpcihwYXJlbnRzPVRydWUsIGV4aXN0X29rPVRydWUpDQogICAgICAg
ICAgICAgICAgc2VsZi5jc3ZfZGlyLnNldChzdHIocCkpDQogICAgICAgICAgICAgICAgc2VsZi5f
c2V0X3N0YXR1cyhmIkNTViDkv53lrZjnm67lvZXlt7Lorr7nva7vvJp7cH0iKQ0KICAgICAgICAg
ICAgICAgIHNlbGYuX3NhdmVfY29uZmlnKCkNCiAgICAgICAgZXhjZXB0IEV4Y2VwdGlvbiBhcyBl
Og0KICAgICAgICAgICAgbWVzc2FnZWJveC5zaG93ZXJyb3IoIumUmeivryIsIGYi6YCJ5oup55uu
5b2V5aSx6LSl77yaXG57ZX0iKQ0KDQogICAgQHN0YXRpY21ldGhvZA0KICAgIGRlZiBfY3N2X3Nh
bml0aXplX25hbWUobmFtZTogc3RyKSAtPiBzdHI6DQogICAgICAgICIiIldpbmRvd3MvVW5peCDp
gJrnlKjnmoTlronlhajmlofku7blkI3mm7/mjaLjgIIiIiINCiAgICAgICAgYmFkID0gJzw+OiIv
XFx8PyonDQogICAgICAgIHMgPSAiIi5qb2luKCgnXycgaWYgYyBpbiBiYWQgZWxzZSBjKSBmb3Ig
YyBpbiBuYW1lLnN0cmlwKCkpDQogICAgICAgIHJldHVybiBzIGlmIHMgZWxzZSAib3AiDQoNCiAg
ICBkZWYgX2RlYm91bmNlKHNlbGYsIGtleTogc3RyLCBtaW5faW50ZXJ2YWw9MC40KSAtPiBib29s
Og0KICAgICAgICAiIiLmjInpkq7pmLLmipbvvJptaW5faW50ZXJ2YWwg56eS5YaF6YeN5aSN54K5
5Ye75b+955Wl77yM6L+U5ZueIEZhbHNlIOihqOekuuaLpuaIquOAgiIiIg0KICAgICAgICBub3cg
PSB0aW1lLnBlcmZfY291bnRlcigpDQogICAgICAgIGxhc3QgPSBzZWxmLl9sYXN0X2NsaWNrX3Rz
LmdldChrZXksIDAuMCkNCiAgICAgICAgaWYgbm93IC0gbGFzdCA8IG1pbl9pbnRlcnZhbDoNCiAg
ICAgICAgICAgIHJldHVybiBGYWxzZQ0KICAgICAgICBzZWxmLl9sYXN0X2NsaWNrX3RzW2tleV0g
PSBub3cNCiAgICAgICAgcmV0dXJuIFRydWUNCg0KICAgIGRlZiBfY3N2X29wZW5fc2Vzc2lvbihz
ZWxmLCBvcF9uYW1lOiBzdHIpOg0KICAgICAgICAiIiINCiAgICAgICAg5omT5byA5paw55qEIENT
ViDkvJror53mlofku7bvvJoNCiAgICAgICAgICAtIOWmguaenOW3suacieaJk+W8gOeahOS8muiv
ne+8jOWFiOWuieWFqOWFs+mXre+8iOebuOW9k+S6juWIh+aWh+S7tu+8iQ0KICAgICAgICAgIC0g
5paH5Lu25ZCN77ya5pON5L2cX1lZWVltbWRkX0hITU1TUy5jc3YNCiAgICAgICAgIiIiDQogICAg
ICAgIHRyeToNCiAgICAgICAgICAgICMg6Iul5b2T5YmN5pyJ5Lya6K+d77yM5YWI5YWz6Zet77yI
5YiH5o2i77yJDQogICAgICAgICAgICBpZiBzZWxmLmNzdl93cml0ZXI6DQogICAgICAgICAgICAg
ICAgb2xkID0gc2VsZi5jc3Zfc2Vzc2lvbl9wYXRoDQogICAgICAgICAgICAgICAgdHJ5Og0KICAg
ICAgICAgICAgICAgICAgICBzZWxmLmNzdl9maWxlLmZsdXNoKCk7DQogICAgICAgICAgICAgICAg
ICAgIHNlbGYuY3N2X2ZpbGUuY2xvc2UoKQ0KICAgICAgICAgICAgICAgIGV4Y2VwdCBFeGNlcHRp
b246DQogICAgICAgICAgICAgICAgICAgIHBhc3MNCiAgICAgICAgICAgICAgICBzZWxmLmNzdl9m
aWxlID0gTm9uZTsNCiAgICAgICAgICAgICAgICBzZWxmLmNzdl93cml0ZXIgPSBOb25lDQogICAg
ICAgICAgICAgICAgc2VsZi5fc2V0X3N0YXR1cyhmIuW3suS/neWtmO+8mntvbGR9IikNCg0KICAg
ICAgICAgICAgb3AgPSBzZWxmLl9jc3Zfc2FuaXRpemVfbmFtZShvcF9uYW1lKQ0KICAgICAgICAg
ICAgdHMgPSBkYXRldGltZS5ub3coKS5zdHJmdGltZSgiJVklbSVkXyVIJU0lUyIpDQogICAgICAg
ICAgICBkaXJwID0gUGF0aChzZWxmLmNzdl9kaXIuZ2V0KCkuc3RyaXAoKSBvciBzdHIoZ2V0X2xv
Z3NfZGlyKCkpKQ0KICAgICAgICAgICAgZGlycC5ta2RpcihwYXJlbnRzPVRydWUsIGV4aXN0X29r
PVRydWUpDQogICAgICAgICAgICBmcGF0aCA9IGRpcnAgLyBmIntvcH1fe3RzfS5jc3YiDQoNCiAg
ICAgICAgICAgIHNlbGYuY3N2X2ZpbGUgPSBvcGVuKGZwYXRoLCAidyIsIG5ld2xpbmU9IiIsIGVu
Y29kaW5nPSJ1dGYtOCIpDQogICAgICAgICAgICBzZWxmLmNzdl93cml0ZXIgPSBjc3Yud3JpdGVy
KHNlbGYuY3N2X2ZpbGUpDQogICAgICAgICAgICBzZWxmLmNzdl93cml0ZXIud3JpdGVyb3coWyJ0
aW1lX3MiLCAidGVtcF9DIiwgInRhcmdldF9DIiwNCiAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgIlZfc2V0IiwgIlZfb3V0IiwgIkFfb3V0IiwgIlBfb3V0IiwNCiAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIktwIiwgIktpIiwgIktkIiwgImUiLCAiQ0Mi
LCAibm90ZSJdKQ0KICAgICAgICAgICAgc2VsZi5jc3Zfc2Vzc2lvbl9vcCA9IG9wX25hbWUNCiAg
ICAgICAgICAgIHNlbGYuY3N2X3Nlc3Npb25fcGF0aCA9IGZwYXRoDQogICAgICAgICAgICBzZWxm
Ll9zZXRfc3RhdHVzKGYi5byA5aeL6K6w5b2V77yae2ZwYXRoLm5hbWV9IikNCiAgICAgICAgZXhj
ZXB0IEV4Y2VwdGlvbiBhcyBlOg0KICAgICAgICAgICAgc2VsZi5jc3ZfZmlsZSA9IE5vbmU7DQog
ICAgICAgICAgICBzZWxmLmNzdl93cml0ZXIgPSBOb25lDQogICAgICAgICAgICBzZWxmLmNzdl9z
ZXNzaW9uX29wID0gTm9uZTsNCiAgICAgICAgICAgIHNlbGYuY3N2X3Nlc3Npb25fcGF0aCA9IE5v
bmUNCiAgICAgICAgICAgIG1lc3NhZ2Vib3guc2hvd2Vycm9yKCLplJnor68iLCBmIuWIm+W7uiBD
U1Yg5aSx6LSl77yaXG57ZX0iKQ0KDQogICAgZGVmIF9jc3ZfY2xvc2Vfc2Vzc2lvbihzZWxmLCBl
bmRfcmVhc29uOiBzdHIpOg0KICAgICAgICAiIiINCiAgICAgICAg5YWz6Zet5b2T5YmNIENTViDk
vJror53vvIjoi6XmnInvvInvvJrlhpnlhaXokL3nm5jvvIzmuIXnqbrlj6Xmn4TjgIINCiAgICAg
ICAgZW5kX3JlYXNvbiDnlKjkuo7ml6Xlv5flsZXnpLrvvJvkuI3lvoDmlofku7blsL7lhpnms6jp
h4rvvIzpgb/lhY0gQ1NWIOS4jeagh+WHhuOAgg0KICAgICAgICAiIiINCiAgICAgICAgaWYgbm90
IHNlbGYuY3N2X3dyaXRlcjoNCiAgICAgICAgICAgICMg5rKh5Lya6K+d5Lmf5LiN5oql6ZSZ77yM
5o+Q5Y2H6bKB5qOS5oCnDQogICAgICAgICAgICBzZWxmLl9zZXRfc3RhdHVzKCLmsqHmnInov5vo
oYzkuK3nmoQgQ1NWIOS8muivne+8iOi3s+i/h+S/neWtmO+8iSIpDQogICAgICAgICAgICByZXR1
cm4NCiAgICAgICAgdHJ5Og0KICAgICAgICAgICAgcGF0aCA9IHNlbGYuY3N2X3Nlc3Npb25fcGF0
aA0KICAgICAgICAgICAgIyDlhbPpl60NCiAgICAgICAgICAgIHRyeToNCiAgICAgICAgICAgICAg
ICBzZWxmLmNzdl9maWxlLmZsdXNoKCk7DQogICAgICAgICAgICAgICAgc2VsZi5jc3ZfZmlsZS5j
bG9zZSgpDQogICAgICAgICAgICBleGNlcHQgRXhjZXB0aW9uOg0KICAgICAgICAgICAgICAgIHBh
c3MNCiAgICAgICAgICAgIGZpbmFsbHk6DQogICAgICAgICAgICAgICAgc2VsZi5jc3ZfZmlsZSA9
IE5vbmU7DQogICAgICAgICAgICAgICAgc2VsZi5jc3Zfd3JpdGVyID0gTm9uZQ0KICAgICAgICAg
ICAgICAgIHNlbGYuY3N2X3Nlc3Npb25fb3AgPSBOb25lOw0KICAgICAgICAgICAgICAgIHNlbGYu
Y3N2X3Nlc3Npb25fcGF0aCA9IE5vbmUNCiAgICAgICAgICAgIHNlbGYuX3NldF9zdGF0dXMoZiLl
t7Lkv53lrZjvvIh7ZW5kX3JlYXNvbn3vvInvvJp7cGF0aH0iKQ0KICAgICAgICBleGNlcHQgRXhj
ZXB0aW9uIGFzIGU6DQogICAgICAgICAgICBzZWxmLl9zZXRfc3RhdHVzKGYi5L+d5a2YIENTViDl
pLHotKXvvJp7ZX0iKQ0KDQogICAgZGVmIF9jb21wdXRlX21hZV9yZWNlbnQoc2VsZiwgd2luZG93
X3M6IGZsb2F0KSAtPiBmbG9hdCB8IE5vbmU6DQogICAgICAgICIiIg0KICAgICAgICDlnKjmnIDo
v5Egd2luZG93X3Mg56eS5YaF77yM55SoIGVycl9idWYg6K6h566XIE1BRe+8iHzor6/lt65855qE
5bmz5Z2H77yJ44CCDQogICAgICAgIOayoeaciei2s+Wkn+eCueWImei/lOWbniBOb25l44CCDQog
ICAgICAgICIiIg0KICAgICAgICB0cnk6DQogICAgICAgICAgICB3aXRoIHNlbGYuaGlzdG9yeV9s
b2NrOg0KICAgICAgICAgICAgICAgIHRfbGlzdCA9IGxpc3Qoc2VsZi50X2J1ZikNCiAgICAgICAg
ICAgICAgICBlX2xpc3QgPSBsaXN0KHNlbGYuZXJyX2J1ZikNCiAgICAgICAgICAgIGlmIG5vdCB0
X2xpc3Qgb3Igbm90IGVfbGlzdDoNCiAgICAgICAgICAgICAgICByZXR1cm4gTm9uZQ0KICAgICAg
ICAgICAgdF9ub3cgPSB0X2xpc3RbLTFdDQogICAgICAgICAgICB0X21pbiA9IHRfbm93IC0gbWF4
KDEuMCwgZmxvYXQod2luZG93X3MpKQ0KICAgICAgICAgICAgZXJyb3JzID0gWw0KICAgICAgICAg
ICAgICAgIGUgZm9yIHQsIGUgaW4gemlwKHRfbGlzdCwgZV9saXN0KQ0KICAgICAgICAgICAgICAg
IGlmIHQgPj0gdF9taW4gYW5kIGUgaXMgbm90IE5vbmUgYW5kIG5vdCBpc25hbihlKQ0KICAgICAg
ICAgICAgXQ0KICAgICAgICAgICAgaWYgbGVuKGVycm9ycykgPCA1Og0KICAgICAgICAgICAgICAg
IHJldHVybiBOb25lDQogICAgICAgICAgICByZXR1cm4gc3VtKGFicyh4KSBmb3IgeCBpbiBlcnJv
cnMpIC8gbGVuKGVycm9ycykNCiAgICAgICAgZXhjZXB0IEV4Y2VwdGlvbjoNCiAgICAgICAgICAg
IHJldHVybiBOb25lDQoNCiAgICBkZWYgX2Nvbm5lY3RfcmVsYXkoc2VsZik6DQogICAgICAgIHRy
eToNCiAgICAgICAgICAgIGlmIHNlbGYucmVsYXkuY29ubmVjdGVkOg0KICAgICAgICAgICAgICAg
IG1lc3NhZ2Vib3guc2hvd2luZm8oIuaPkOekuiIsICLnu6fnlLXlmajlt7Lov57mjqUiKTsgcmV0
dXJuDQogICAgICAgICAgICBwb3J0ID0gc2VsZi5yZWxheV9wb3J0LmdldCgpLnN0cmlwKCkNCiAg
ICAgICAgICAgIGJhdWQgPSBpbnQoc2VsZi5yZWxheV9iYXVkLmdldCgpIG9yIDk2MDApDQogICAg
ICAgICAgICBpZiBub3QgcG9ydDoNCiAgICAgICAgICAgICAgICByYWlzZSBWYWx1ZUVycm9yKCLm
nKrpgInmi6nnu6fnlLXlmajnq6/lj6MiKQ0KICAgICAgICAgICAgc2VsZi5yZWxheS5jb25uZWN0
KHBvcnQsIGJhdWQ9YmF1ZCkNCiAgICAgICAgICAgIHNlbGYucmVsYXlfc3RhdHVzLnNldCgi5bey
6L+e5o6lIikNCiAgICAgICAgICAgIHNlbGYuX3NldF9zdGF0dXMoIue7p+eUteWZqOW3sui/nuaO
pSIpDQogICAgICAgICAgICAjIOiuvue9ruebuOS9jei1t+eCuQ0KICAgICAgICAgICAgc2VsZi5f
cmVsYXlfZXBvY2ggPSB0aW1lLnBlcmZfY291bnRlcigpDQogICAgICAgICAgICBzZWxmLl9zYXZl
X2NvbmZpZygpDQogICAgICAgICAgICAjIOS4jeW8uuWItuS9nOS4uumHh+mbhuWQr+WKqOadoeS7
tu+8mue7p+eUteWZqOWPr+mAiQ0KICAgICAgICAgICAgc2VsZi5fbWF5YmVfc3RhcnRfYWNxdWlz
aXRpb24oKQ0KICAgICAgICBleGNlcHQgRXhjZXB0aW9uIGFzIGU6DQogICAgICAgICAgICBzZWxm
LnJlbGF5X3N0YXR1cy5zZXQoIui/nuaOpeWksei0pSIpDQogICAgICAgICAgICBzZWxmLl9zZXRf
c3RhdHVzKGYi6L+e5o6l57un55S15Zmo5aSx6LSlOiB7ZX0iKQ0KICAgICAgICAgICAgbWVzc2Fn
ZWJveC5zaG93ZXJyb3IoIumUmeivryIsIGYi6L+e5o6l57un55S15Zmo5aSx6LSl77yaXG57ZX0i
KQ0KDQogICAgZGVmIF9kaXNjb25uZWN0X3JlbGF5KHNlbGYpOg0KICAgICAgICB0cnk6DQogICAg
ICAgICAgICBpZiBzZWxmLnJlbGF5LmNvbm5lY3RlZCBhbmQgc2VsZi5fcmVsYXlfaXNfb246DQog
ICAgICAgICAgICAgICAgIyDmlq3lvIDliY3lsL3ph4/lhbPmjokNCiAgICAgICAgICAgICAgICB0
cnk6DQogICAgICAgICAgICAgICAgICAgIHNlbGYucmVsYXkuc2V0KHNlbGYucmVsYXlfY2hhbi5n
ZXQoKSwgRmFsc2UsIGZlZWRiYWNrPUZhbHNlKQ0KICAgICAgICAgICAgICAgIGV4Y2VwdCBFeGNl
cHRpb246DQogICAgICAgICAgICAgICAgICAgIHBhc3MNCiAgICAgICAgZmluYWxseToNCiAgICAg
ICAgICAgIHNlbGYucmVsYXkuZGlzY29ubmVjdCgpDQogICAgICAgICAgICBzZWxmLnJlbGF5X3N0
YXR1cy5zZXQoIuacqui/nuaOpSIpDQogICAgICAgICAgICBzZWxmLl9zZXRfc3RhdHVzKCLnu6fn
lLXlmajlt7Lmlq3lvIAiKQ0KICAgICAgICAgICAgc2VsZi5fc2F2ZV9jb25maWcoKQ0KDQogICAg
ZGVmIF9jb25uZWN0X3B1bXAoc2VsZik6DQogICAgICAgIHRyeToNCiAgICAgICAgICAgIGlmIHNl
bGYucHVtcC5jb25uZWN0ZWQ6DQogICAgICAgICAgICAgICAgbWVzc2FnZWJveC5zaG93aW5mbygi
5o+Q56S6IiwgIuW+queOr+azteW3sui/nuaOpSIpDQogICAgICAgICAgICAgICAgcmV0dXJuDQog
ICAgICAgICAgICBzZWxmLnB1bXAuY29ubmVjdChzZWxmLnB1bXBfcG9ydC5nZXQoKSwgc2VsZi5w
dW1wX2JhdWQuZ2V0KCksIHNlbGYuYWRkcl9wdW1wLmdldCgpKQ0KICAgICAgICAgICAgc2VsZi5w
dW1wX3N0YXR1cy5zZXQoIuW3sui/nuaOpSIpDQogICAgICAgICAgICBzZWxmLl9zZXRfc3RhdHVz
KCLlvqrnjq/ms7Xlt7Lov57mjqUiKQ0KICAgICAgICAgICAgc2VsZi5fc2F2ZV9jb25maWcoKQ0K
ICAgICAgICAgICAgc2VsZi5fbWF5YmVfc3RhcnRfYWNxdWlzaXRpb24oKQ0KICAgICAgICAgICAg
aWYgc2VsZi5hY3FfcnVubmluZzoNCiAgICAgICAgICAgICAgICB0cnk6DQogICAgICAgICAgICAg
ICAgICAgIHNlbGYuX2Vuc3VyZV9wdW1wX3NhbXBsZXJfcnVubmluZygpDQogICAgICAgICAgICAg
ICAgZXhjZXB0IEV4Y2VwdGlvbjoNCiAgICAgICAgICAgICAgICAgICAgcGFzcw0KICAgICAgICBl
eGNlcHQgRXhjZXB0aW9uIGFzIGU6DQogICAgICAgICAgICBzZWxmLnB1bXBfc3RhdHVzLnNldCgi
6L+e5o6l5aSx6LSlIikNCiAgICAgICAgICAgIHNlbGYuX3NldF9zdGF0dXMoZiLov57mjqXlvqrn
jq/ms7XlpLHotKU6IHtlfSIpDQogICAgICAgICAgICBtZXNzYWdlYm94LnNob3dlcnJvcigi6ZSZ
6K+vIiwgZiLov57mjqXlvqrnjq/ms7XlpLHotKXvvJpcbntlfSIpDQoNCiAgICBkZWYgX2Rpc2Nv
bm5lY3RfcHVtcChzZWxmKToNCiAgICAgICAgc2VsZi5wdW1wLmRpc2Nvbm5lY3QoKQ0KICAgICAg
ICB0cnk6DQogICAgICAgICAgICBzZWxmLl9zdG9wX3B1bXBfc2FtcGxlcigpDQogICAgICAgIGV4
Y2VwdCBFeGNlcHRpb246DQogICAgICAgICAgICBwYXNzDQogICAgICAgIHNlbGYucHVtcF9zdGF0
dXMuc2V0KCLmnKrov57mjqUiKQ0KICAgICAgICBzZWxmLl9zZXRfc3RhdHVzKCLlvqrnjq/ms7Xl
t7Lmlq3lvIAiKQ0KICAgICAgICBzZWxmLmRpc2FibGVfcGlkKCkNCiAgICAgICAgc2VsZi5fc2F2
ZV9jb25maWcoKQ0KDQoNCiAgICBkZWYgX2NvbXB1dGVfcmVjZW50X3Nsb3BlX2NwbShzZWxmLCB3
aW5kb3dfczogZmxvYXQpIC0+IGZsb2F0IHwgTm9uZToNCiAgICAgICAgIiIiDQogICAgICAgIOeU
qOacgOi/kSB3aW5kb3dfcyDnp5LnmoQgKHQsdGVtcCkg5YGa5pyA5bCP5LqM5LmY5ouf5ZCI77yM
6L+U5Zue5pac546H77yIwrBDL+WIhumSn++8ieOAgg0KICAgICAgICDngrnlpKrlsJHmiJbpgIDl
jJbov5Tlm54gTm9uZeOAgg0KICAgICAgICAiIiINCiAgICAgICAgdHJ5Og0KICAgICAgICAgICAg
dF9saXN0ID0gbGlzdChzZWxmLnRfYnVmKQ0KICAgICAgICAgICAgeV9saXN0ID0gbGlzdChzZWxm
LnRlbXBfYnVmKQ0KICAgICAgICAgICAgaWYgbm90IHRfbGlzdCBvciBub3QgeV9saXN0Og0KICAg
ICAgICAgICAgICAgIHJldHVybiBOb25lDQogICAgICAgICAgICB0X25vdyA9IHRfbGlzdFstMV0N
CiAgICAgICAgICAgIHRfbWluID0gdF9ub3cgLSBtYXgoNS4wLCBmbG9hdCh3aW5kb3dfcykpDQog
ICAgICAgICAgICBpMCA9IDANCiAgICAgICAgICAgIGZvciBpIGluIHJhbmdlKGxlbih0X2xpc3Qp
IC0gMSwgLTEsIC0xKToNCiAgICAgICAgICAgICAgICBpZiB0X2xpc3RbaV0gPCB0X21pbjoNCiAg
ICAgICAgICAgICAgICAgICAgaTAgPSBpICsgMQ0KICAgICAgICAgICAgICAgICAgICBicmVhaw0K
ICAgICAgICAgICAgeHMgPSBbXTsNCiAgICAgICAgICAgIHlzID0gW10NCiAgICAgICAgICAgIGZv
ciB0eCwgdHkgaW4gemlwKHRfbGlzdFtpMDpdLCB5X2xpc3RbaTA6XSk6DQogICAgICAgICAgICAg
ICAgaWYgKHR5IGlzIG5vdCBOb25lKSBhbmQgKG5vdCBpc25hbih0eSkpOg0KICAgICAgICAgICAg
ICAgICAgICB4cy5hcHBlbmQodHgpOw0KICAgICAgICAgICAgICAgICAgICB5cy5hcHBlbmQodHkp
DQogICAgICAgICAgICBpZiBsZW4oeHMpIDwgODoNCiAgICAgICAgICAgICAgICByZXR1cm4gTm9u
ZQ0KICAgICAgICAgICAgIyDljrvnm7jlr7nml7bpl7TvvIzpmLLmraLnl4XmgIENCiAgICAgICAg
ICAgIHQwID0geHNbMF0NCiAgICAgICAgICAgIHhyID0gW3ggLSB0MCBmb3IgeCBpbiB4c10NCiAg
ICAgICAgICAgIG4gPSBmbG9hdChsZW4oeHIpKQ0KICAgICAgICAgICAgc3ggPSBzdW0oeHIpOw0K
ICAgICAgICAgICAgc3kgPSBzdW0oeXMpDQogICAgICAgICAgICBzeHggPSBzdW0oeHggKiB4eCBm
b3IgeHggaW4geHIpDQogICAgICAgICAgICBzeHkgPSBzdW0oeHggKiB5eSBmb3IgeHgsIHl5IGlu
IHppcCh4ciwgeXMpKQ0KICAgICAgICAgICAgZGVub20gPSBuICogc3h4IC0gc3ggKiBzeA0KICAg
ICAgICAgICAgaWYgYWJzKGRlbm9tKSA8IDFlLTk6DQogICAgICAgICAgICAgICAgcmV0dXJuIE5v
bmUNCiAgICAgICAgICAgIGEgPSAobiAqIHN4eSAtIHN4ICogc3kpIC8gZGVub20gICMgwrBDL+en
kg0KICAgICAgICAgICAgcmV0dXJuIGEgKiA2MC4wICAjIOi9rCDCsEMv5YiG6ZKfDQogICAgICAg
IGV4Y2VwdCBFeGNlcHRpb246DQogICAgICAgICAgICByZXR1cm4gTm9uZQ0KDQogICAgIyAtLS0t
LS0tLS0tIOS7pOeJjOW3peWFtyAtLS0tLS0tLS0tDQogICAgZGVmIF9uZXh0X3RvayhzZWxmKToN
CiAgICAgICAgIyDpppbmrKHosIPnlKjml7bliJ3lp4vljJYNCiAgICAgICAgaWYgbm90IGhhc2F0
dHIoc2VsZiwgIl90b2tfbG9jayIpOg0KICAgICAgICAgICAgc2VsZi5fdG9rX2xvY2sgPSB0aHJl
YWRpbmcuTG9jaygpDQogICAgICAgICAgICBzZWxmLl90b2sgPSAwDQogICAgICAgIHdpdGggc2Vs
Zi5fdG9rX2xvY2s6DQogICAgICAgICAgICBzZWxmLl90b2sgKz0gMQ0KICAgICAgICAgICAgcmV0
dXJuIHNlbGYuX3Rvaw0KDQogICAgIyAtLS0tLS0tLS0tIOe6v+eoi+WuieWFqOeahCBVSSDlt6Xl
hbcgLS0tLS0tLS0tLQ0KICAgIGRlZiBfdGtfY2FsbChzZWxmLCBmbiwgKmFyZ3MsICoqa3dhcmdz
KToNCiAgICAgICAgIiIi5Zyo5Li757q/56iL5omn6KGM5Lu75oSPIGZuKCphcmdzLCAqKmt3YXJn
cynjgIIiIiINCiAgICAgICAgdHJ5Og0KICAgICAgICAgICAgIyDoi6Xlt7LlnKjkuLvnur/nqIvv
vIznm7TmjqXosIPnlKjvvJvlkKbliJnmipXpgJLliLDkuLvnur/nqIsNCiAgICAgICAgICAgIGlm
IHRocmVhZGluZy5jdXJyZW50X3RocmVhZCgpIGlzIHRocmVhZGluZy5tYWluX3RocmVhZCgpOg0K
ICAgICAgICAgICAgICAgIGZuKCphcmdzLCAqKmt3YXJncykNCiAgICAgICAgICAgIGVsc2U6DQog
ICAgICAgICAgICAgICAgc2VsZi5yb290LmFmdGVyKDAsIGxhbWJkYTogZm4oKmFyZ3MsICoqa3dh
cmdzKSkNCiAgICAgICAgZXhjZXB0IEV4Y2VwdGlvbjoNCiAgICAgICAgICAgIHBhc3MNCg0KICAg
IGRlZiBfdGtfY2FsbF9zeW5jKHNlbGYsIGZuLCAqYXJncywgKiprd2FyZ3MpOg0KICAgICAgICAi
IiLlnKjkuLvnur/nqIvlkIzmraXmiafooYzlh73mlbDlubbov5Tlm57nu5PmnpzjgIIiIiINCiAg
ICAgICAgaWYgdGhyZWFkaW5nLmN1cnJlbnRfdGhyZWFkKCkgaXMgdGhyZWFkaW5nLm1haW5fdGhy
ZWFkKCk6DQogICAgICAgICAgICByZXR1cm4gZm4oKmFyZ3MsICoqa3dhcmdzKQ0KDQogICAgICAg
IHJlc3VsdCA9IHt9DQogICAgICAgIGV2ZW50ID0gdGhyZWFkaW5nLkV2ZW50KCkNCg0KICAgICAg
ICBkZWYgd3JhcHBlcigpOg0KICAgICAgICAgICAgdHJ5Og0KICAgICAgICAgICAgICAgIHJlc3Vs
dFsidmFsdWUiXSA9IGZuKCphcmdzLCAqKmt3YXJncykNCiAgICAgICAgICAgIGV4Y2VwdCBFeGNl
cHRpb24gYXMgZXhjOiAgIyBub3FhOiBCTEUwMDENCiAgICAgICAgICAgICAgICByZXN1bHRbImVy
cm9yIl0gPSBleGMNCiAgICAgICAgICAgIGZpbmFsbHk6DQogICAgICAgICAgICAgICAgZXZlbnQu
c2V0KCkNCg0KICAgICAgICB0cnk6DQogICAgICAgICAgICBzZWxmLnJvb3QuYWZ0ZXIoMCwgd3Jh
cHBlcikNCiAgICAgICAgICAgIGlmIG5vdCBldmVudC53YWl0KHRpbWVvdXQ9My4wKToNCiAgICAg
ICAgICAgICAgICByYWlzZSBUaW1lb3V0RXJyb3IoIlVJIHRocmVhZCB1bnJlc3BvbnNpdmUiKQ0K
ICAgICAgICBleGNlcHQgRXhjZXB0aW9uOg0KICAgICAgICAgICAgcmFpc2UNCg0KICAgICAgICBp
ZiAiZXJyb3IiIGluIHJlc3VsdDoNCiAgICAgICAgICAgIHJhaXNlIHJlc3VsdFsiZXJyb3IiXQ0K
ICAgICAgICByZXR1cm4gcmVzdWx0LmdldCgidmFsdWUiKQ0KDQogICAgZGVmIF90a19zZXQoc2Vs
ZiwgdGt2YXIsIHZhbHVlKToNCiAgICAgICAgIiIi57q/56iL5a6J5YWo5Zyw6K6+572uIFRrIOWP
mOmHjy4iIiINCiAgICAgICAgc2VsZi5fdGtfY2FsbChsYW1iZGEgdjogdGt2YXIuc2V0KHYpLCB2
YWx1ZSkNCg0KICAgIGRlZiBfZ2Yoc2VsZiwgdGt2YXIsIGRlZmF1bHQsIGxvPU5vbmUsIGhpPU5v
bmUpOg0KICAgICAgICAiIiINCiAgICAgICAgZ2V0LWZsb2F077ya5LuOIFRrIOWPmOmHj+WPliBm
bG9hdO+8jOepui/pnZ7ms5XkuIDlvovlm57okL0gZGVmYXVsdO+8jOW5tuWPr+mAieWkuee0p+WI
sCBbbG8sIGhpXeOAgg0KICAgICAgICAiIiINCiAgICAgICAgdHJ5Og0KICAgICAgICAgICAgcyA9
IHRrdmFyLmdldCgpIGlmIGhhc2F0dHIodGt2YXIsICJnZXQiKSBlbHNlIHRrdmFyDQogICAgICAg
ICAgICBpZiBzIGlzIE5vbmUgb3Igc3RyKHMpLnN0cmlwKCkgPT0gIiI6DQogICAgICAgICAgICAg
ICAgdmFsID0gZmxvYXQoZGVmYXVsdCkNCiAgICAgICAgICAgIGVsc2U6DQogICAgICAgICAgICAg
ICAgdmFsID0gZmxvYXQocykNCiAgICAgICAgICAgIGlmIHZhbCAhPSB2YWw6ICAjIE5hTg0KICAg
ICAgICAgICAgICAgIHZhbCA9IGZsb2F0KGRlZmF1bHQpDQogICAgICAgIGV4Y2VwdCBFeGNlcHRp
b246DQogICAgICAgICAgICB2YWwgPSBmbG9hdChkZWZhdWx0KQ0KICAgICAgICBpZiBsbyBpcyBu
b3QgTm9uZToNCiAgICAgICAgICAgIHZhbCA9IG1heChsbywgdmFsKQ0KICAgICAgICBpZiBoaSBp
cyBub3QgTm9uZToNCiAgICAgICAgICAgIHZhbCA9IG1pbihoaSwgdmFsKQ0KICAgICAgICByZXR1
cm4gdmFsDQoNCiAgICBkZWYgX2dpKHNlbGYsIHRrdmFyLCBkZWZhdWx0LCBsbz1Ob25lLCBoaT1O
b25lKToNCiAgICAgICAgIiIiDQogICAgICAgIGdldC1pbnTvvJrku44gVGsg5Y+Y6YeP5Y+WIGlu
dO+8jOepui/pnZ7ms5Xlm57okL0gZGVmYXVsdO+8jOW5tuWPr+mAieWkuee0p+OAgg0KICAgICAg
ICAiIiINCiAgICAgICAgdiA9IGludChyb3VuZChzZWxmLl9nZih0a3ZhciwgZGVmYXVsdCkpKQ0K
ICAgICAgICBpZiBsbyBpcyBub3QgTm9uZToNCiAgICAgICAgICAgIHYgPSBtYXgobG8sIHYpDQog
ICAgICAgIGlmIGhpIGlzIG5vdCBOb25lOg0KICAgICAgICAgICAgdiA9IG1pbihoaSwgdikNCiAg
ICAgICAgcmV0dXJuIHYNCg0KICAgIGRlZiBfc2V0X3N0YXR1cyhzZWxmLCBtc2c6IHN0cik6DQog
ICAgICAgICIiIue6v+eoi+WuieWFqOeahOeKtuaAgeagj+abtOaWsOOAgiIiIg0KICAgICAgICAj
IOWFiOabtOaWsOWQjuerr+e8k+WtmA0KICAgICAgICB3aXRoIHNlbGYuX3N0YXR1c19sb2NrOg0K
ICAgICAgICAgICAgc2VsZi5fc3RhdHVzX21zZyA9IG1zZw0KICAgICAgICAjIOWGjeiuqeS4u+e6
v+eoi+aUuSBUayBTdHJpbmdWYXINCiAgICAgICAgc2VsZi5fdGtfc2V0KHNlbGYuc3RhdHVzX3Rl
eHQsIG1zZykNCg0KICAgICMgLS0tLS0tLS0tLSDph4fmoLflmajnrqHnkIYgLS0tLS0tLS0tLQ0K
ICAgIGRlZiBfc3RvcF9wdW1wX3NhbXBsZXIoc2VsZik6DQogICAgICAgICIiIuWBnOatouW+queO
r+aztemHh+agt+e6v+eoi++8jOW5tua4heeQhuWPpeafhOOAgiIiIg0KICAgICAgICBzYW1wbGVy
ID0gZ2V0YXR0cihzZWxmLCAiX3NhbXBsZXJfcHVtcCIsIE5vbmUpDQogICAgICAgIGlmIG5vdCBz
YW1wbGVyOg0KICAgICAgICAgICAgc2VsZi5fc2FtcGxlcl9wdW1wID0gTm9uZQ0KICAgICAgICAg
ICAgcmV0dXJuDQogICAgICAgIHRyeToNCiAgICAgICAgICAgIHNhbXBsZXIuc3RvcCgpDQogICAg
ICAgIGV4Y2VwdCBFeGNlcHRpb246DQogICAgICAgICAgICBwYXNzDQogICAgICAgIHNlbGYuX3Nh
bXBsZXJfcHVtcCA9IE5vbmUNCg0KICAgIGRlZiBfZW5zdXJlX3B1bXBfc2FtcGxlcl9ydW5uaW5n
KHNlbGYpOg0KICAgICAgICAiIiLlnKjph4fpm4bov5DooYzml7bmoLnmja7ov57mjqXnirbmgIHl
kK/liqgv5YGc5q2i5b6q546v5rO16YeH5qC35Zmo44CCIiIiDQogICAgICAgIGlmIG5vdCBnZXRh
dHRyKHNlbGYsICJhY3FfcnVubmluZyIsIEZhbHNlKToNCiAgICAgICAgICAgIHJldHVybg0KICAg
ICAgICBpZiBub3QgKGhhc2F0dHIoc2VsZiwgInB1bXAiKSBhbmQgZ2V0YXR0cihzZWxmLnB1bXAs
ICJjb25uZWN0ZWQiLCBGYWxzZSkpOg0KICAgICAgICAgICAgc2VsZi5fc3RvcF9wdW1wX3NhbXBs
ZXIoKQ0KICAgICAgICAgICAgcmV0dXJuDQogICAgICAgIGlmIGdldGF0dHIoc2VsZiwgIl9zYW1w
bGVyX3B1bXAiLCBOb25lKToNCiAgICAgICAgICAgIHJldHVybg0KICAgICAgICBzZWxmLl9zYW1w
bGVyX3B1bXAgPSBfQXN5bmNTYW1wbGVyKCJwdW1wIiwgbGFtYmRhOiBfcmVhZF9wdW1wX29uY2Uo
c2VsZikpDQogICAgICAgIHNlbGYuX3NhbXBsZXJfcHVtcC5zdGFydCgpDQoNCiAgICAjIC0tLS0t
LS0tLS0g6YeH6ZuGL+aOp+WItiAtLS0tLS0tLS0tDQogICAgZGVmIF9tYXliZV9zdGFydF9hY3F1
aXNpdGlvbihzZWxmKToNCiAgICAgICAgIyDkuInkuKrorr7lpIfpg73ov57kuIrlsLHlkK/liqjp
h4fpm4bvvJvmjInpkq7kuI3lho3lnKjov5nph4znpoHnlKgv5ZCv55SoDQogICAgICAgIGlmIChz
ZWxmLnBzdS5jb25uZWN0ZWQgYW5kIHNlbGYudGNtLmNvbm5lY3RlZCBhbmQgc2VsZi5wdW1wLmNv
bm5lY3RlZA0KICAgICAgICAgICAgICAgIGFuZCBub3Qgc2VsZi5hY3FfcnVubmluZyk6DQogICAg
ICAgICAgICBzZWxmLnN0YXJ0X2FjcXVpc2l0aW9uKCkNCiAgICAgICAgIyDkv53mjIHmjInpkq7l
p4vnu4jlj6/ngrnvvIzlhbfkvZPog73lkKbmiafooYznlLEgZW5hYmxlX3BpZC9kaXNhYmxlX3Bp
ZCDoh6rlt7HliKTmlq0NCg0KICAgIGRlZiBzdGFydF9hY3F1aXNpdGlvbihzZWxmKToNCiAgICAg
ICAgaWYgc2VsZi5hY3FfcnVubmluZzoNCiAgICAgICAgICAgIHJldHVybg0KICAgICAgICBzZWxm
LnN0b3BfZXZlbnQuY2xlYXIoKQ0KICAgICAgICAjIOmHjee9riB0b2tlbiDorqHmlbDlmajvvIzk
v53or4HkuYvlkI7ljZXosIPpgJLlop4NCiAgICAgICAgc2VsZi5fdG9rID0gMA0KICAgICAgICBp
ZiBub3QgaGFzYXR0cihzZWxmLCAiX3Rva19sb2NrIik6DQogICAgICAgICAgICBzZWxmLl90b2tf
bG9jayA9IHRocmVhZGluZy5Mb2NrKCkNCg0KICAgICAgICBzZWxmLmFjcV9ydW5uaW5nID0gVHJ1
ZQ0KICAgICAgICBzZWxmLl9hY3FfdDAgPSB0aW1lLnBlcmZfY291bnRlcigpDQogICAgICAgIHNl
bGYuX3NldF9zdGF0dXMoIumHh+mbhuS4reKApiIpDQogICAgICAgIF9zdGFydF9hc3luY19zYW1w
bGVycyhzZWxmKQ0KICAgICAgICBzZWxmLnRocmVhZCA9IHRocmVhZGluZy5UaHJlYWQodGFyZ2V0
PXNlbGYuX2FjcV9sb29wLCBkYWVtb249VHJ1ZSkNCiAgICAgICAgc2VsZi50aHJlYWQuc3RhcnQo
KQ0KDQogICAgZGVmIHN0b3BfYWNxdWlzaXRpb24oc2VsZik6DQogICAgICAgIGlmIG5vdCBzZWxm
LmFjcV9ydW5uaW5nOg0KICAgICAgICAgICAgcmV0dXJuDQogICAgICAgIHNlbGYuc3RvcF9ldmVu
dC5zZXQoKQ0KICAgICAgICAjIOKYhSDmlrDlop7vvJrlhYjlgZzph4fmoLflmajvvIzlho3nrYnk
uLvnjq/pgIDlh7rvvIzpgb/lhY3mgqzmjIINCiAgICAgICAgX3N0b3BfYXN5bmNfc2FtcGxlcnMo
c2VsZikNCiAgICAgICAgaWYgc2VsZi50aHJlYWQ6DQogICAgICAgICAgICBzZWxmLnRocmVhZC5q
b2luKHRpbWVvdXQ9Mi4wKQ0KICAgICAgICBzZWxmLmFjcV9ydW5uaW5nID0gRmFsc2UNCiAgICAg
ICAgc2VsZi5fc2V0X3N0YXR1cygi6YeH6ZuG5bey5YGc5q2iIikNCg0KICAgIGRlZiBlbmFibGVf
cGlkKHNlbGYsIG9yaWdpbj0idXNlciIsIG5vdGlmeT1UcnVlKToNCiAgICAgICAgIyDpmLLmipbv
vIzpgb/lhY3lj4zlh7vlj43lpI3lvIDmlofku7YNCiAgICAgICAgaWYgb3JpZ2luID09ICJ1c2Vy
IiBhbmQgbm90IHNlbGYuX2RlYm91bmNlKCJlbmFibGVfcGlkIik6DQogICAgICAgICAgICByZXR1
cm4gRmFsc2UNCg0KICAgICAgICBpZiBub3Qgc2VsZi5hY3FfcnVubmluZzoNCiAgICAgICAgICAg
IGlmIG5vdGlmeToNCiAgICAgICAgICAgICAgICBtZXNzYWdlYm94LnNob3d3YXJuaW5nKCLmj5Dn
pLoiLCAi6K+35YWI6L+e5o6l6K6+5aSH77yM6YeH6ZuG5Lya6Ieq5Yqo5byA5aeL44CCIikNCiAg
ICAgICAgICAgIHJldHVybiBGYWxzZQ0KICAgICAgICB0cnk6DQogICAgICAgICAgICAjIOWQjOat
peWPguaVsA0KICAgICAgICAgICAgc2VsZi5fc3luY19wYXJhbXNfdG9fYmFja2dyb3VuZCgpDQoN
CiAgICAgICAgICAgICMg6K+75LiA5qyh5rip5bqm77yI6ZmQ5pe2IDAuNnPvvInvvIzpgb/lhY3p
mLvloZ4gVUkNCiAgICAgICAgICAgIG9rX3RlbXAgPSBGYWxzZQ0KICAgICAgICAgICAgdHJ5Og0K
ICAgICAgICAgICAgICAgICMg6Iul6L+Y5rKh6YeH5qC35Zmo77yM5YWc5bqV5ZCv5Yqo5LiA5LiL
77yI5LiN5b2x5ZON5Li754q25oCB77yJDQogICAgICAgICAgICAgICAgaWYgbm90IGdldGF0dHIo
c2VsZiwgIl9zYW1wbGVyX3RjbSIsIE5vbmUpOg0KICAgICAgICAgICAgICAgICAgICBfc3RhcnRf
YXN5bmNfc2FtcGxlcnMoc2VsZikNCiAgICAgICAgICAgICAgICAjIOWPkeS4gOS4quW/q+mAn+iv
t+axguW5tuetieW+heWIsOacn+aIluWujOaIkA0KICAgICAgICAgICAgICAgIHRvayA9IHNlbGYu
X25leHRfdG9rKCkNCiAgICAgICAgICAgICAgICBzZWxmLl9zYW1wbGVyX3RjbS5yZXF1ZXN0KHRv
aykNCiAgICAgICAgICAgICAgICBkZWFkbGluZSA9IHRpbWUucGVyZl9jb3VudGVyKCkgKyAwLjYN
CiAgICAgICAgICAgICAgICB3aGlsZSB0aW1lLnBlcmZfY291bnRlcigpIDwgZGVhZGxpbmU6DQog
ICAgICAgICAgICAgICAgICAgIF8sIF8sIG9rLCBkb25lID0gc2VsZi5fc2FtcGxlcl90Y20ubGF0
ZXN0KCkNCiAgICAgICAgICAgICAgICAgICAgaWYgZG9uZSA9PSB0b2sgYW5kIG9rOiAgIyDlv4Xp
obvmmK/igJzmnKzmrKHigJ3nmoTlm57ljIUNCiAgICAgICAgICAgICAgICAgICAgICAgIG9rX3Rl
bXAgPSBUcnVlDQogICAgICAgICAgICAgICAgICAgICAgICBicmVhaw0KICAgICAgICAgICAgICAg
ICAgICB0aW1lLnNsZWVwKDAuMDEpDQogICAgICAgICAgICBleGNlcHQgRXhjZXB0aW9uOg0KICAg
ICAgICAgICAgICAgIG9rX3RlbXAgPSBGYWxzZQ0KDQogICAgICAgICAgICBpZiBub3Qgb2tfdGVt
cCBhbmQgbm90aWZ5Og0KICAgICAgICAgICAgICAgIG1lc3NhZ2Vib3guc2hvd3dhcm5pbmcoIuaP
kOekuiIsICLmuKnluqbku6rmmoLmnKrov5Tlm57mnInmlYjor7vmlbDvvIzlsIblnKjph4fpm4bl
vqrnjq/kuK3nu6fnu63nrYnlvoXvvIjkuI3pmLvloZ7vvInjgIIiKQ0KDQogICAgICAgICAgICAj
IOaJk+W8gOi+k+WHuuW5tuaKiuW9k+WJjeiuvuWumueUteWOi+aYjuehruWGmeWbnu+8iDAg5oiW
5LiK5qyh5YC877yJDQogICAgICAgICAgICBzZWxmLnBzdS5zZXRfb3V0cHV0KFRydWUpDQogICAg
ICAgICAgICBzZWxmLmxhc3RfdnNldCA9IG1heCgwLjAsIGZsb2F0KGdldGF0dHIoc2VsZiwgImxh
c3RfdnNldCIsIDAuMCkpKQ0KICAgICAgICAgICAgdHJ5Og0KICAgICAgICAgICAgICAgIHNlbGYu
cHN1LnNldF92b2x0YWdlKHNlbGYubGFzdF92c2V0KQ0KICAgICAgICAgICAgZXhjZXB0IEV4Y2Vw
dGlvbjoNCiAgICAgICAgICAgICAgICBwYXNzDQoNCiAgICAgICAgICAgIHdpdGggc2VsZi5wYXJh
bXNfbG9jazoNCiAgICAgICAgICAgICAgICBpZiAiY3RybF9kaXIiIG5vdCBpbiBzZWxmLnBhcmFt
czoNCiAgICAgICAgICAgICAgICAgICAgc2VsZi5wYXJhbXNbImN0cmxfZGlyIl0gPSAxLjANCiAg
ICAgICAgICAgICAgICBzZWxmLnBpZCA9IFBJRChzZWxmLnBhcmFtc1sia3AiXSwgc2VsZi5wYXJh
bXNbImtpIl0sIHNlbGYucGFyYW1zWyJrZCJdLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgIHVfbWluPTAuMCwgdV9tYXg9c2VsZi5wYXJhbXNbInZfbGltaXQiXSkNCg0KICAgICAgICAg
ICAgc2VsZi5jb250cm9sX2VuYWJsZWQgPSBUcnVlDQogICAgICAgICAgICBzZWxmLl9zZXRfc3Rh
dHVzKCJQSUQg5bey5ZCv5Yqo77yI6L6T5Ye65bey5byA5ZCv77yJIikNCg0KICAgICAgICAgICAg
IyDimIUg5Y+q5pyJ55So5oi354K55oyJ6ZKu77yIb3JpZ2luPSJ1c2VyIu+8ieaJjeW8gOaWsCBD
U1bvvIzkvJror53lkI3igJzlkK/liqhQSUTigJ0NCiAgICAgICAgICAgIGlmIG9yaWdpbiA9PSAi
dXNlciI6DQogICAgICAgICAgICAgICAgIyDoi6UgUElEIOW3suWcqOi/kOihjO+8jOi/memHjOet
ieS7t+KAnOWIh+aNouaWsOaWh+S7tuKAne+8jOS4jeS8mumHjee9ruaOp+WItg0KICAgICAgICAg
ICAgICAgIHNlbGYuX2Nzdl9vcGVuX3Nlc3Npb24oIuWQr+WKqFBJRCIpDQoNCiAgICAgICAgICAg
IHJldHVybiBUcnVlDQoNCiAgICAgICAgZXhjZXB0IEV4Y2VwdGlvbiBhcyBlOg0KICAgICAgICAg
ICAgaWYgbm90aWZ5Og0KICAgICAgICAgICAgICAgIG1lc3NhZ2Vib3guc2hvd2Vycm9yKCLplJno
r68iLCBmIuW8gOWQr+i+k+WHuuWksei0pe+8mlxue2V9IikNCiAgICAgICAgICAgIHJldHVybiBG
YWxzZQ0KDQogICAgZGVmIGRpc2FibGVfcGlkKHNlbGYpOg0KICAgICAgICAjIOmYsuaKlg0KICAg
ICAgICBpZiBub3Qgc2VsZi5fZGVib3VuY2UoImRpc2FibGVfcGlkIik6DQogICAgICAgICAgICBy
ZXR1cm4NCg0KICAgICAgICAjIOS7u+S9leKAnOWBnOatoiBQSUTigJ3pg73kvJrlsJ3or5XmlLbl
sL7lvZPliY0gQ1NWDQogICAgICAgIHNlbGYuX2Nzdl9jbG9zZV9zZXNzaW9uKCLlgZzmraJQSUQi
KQ0KDQogICAgICAgIHNlbGYuY29udHJvbF9lbmFibGVkID0gRmFsc2UNCiAgICAgICAgdHJ5Og0K
ICAgICAgICAgICAgaWYgc2VsZi5wc3UuY29ubmVjdGVkOg0KICAgICAgICAgICAgICAgIHNlbGYu
cHN1LnNldF9vdXRwdXQoRmFsc2UpDQogICAgICAgIGV4Y2VwdCBFeGNlcHRpb246DQogICAgICAg
ICAgICBwYXNzDQoNCiAgICAgICAgIyDimIUg5YGc5q2i5rip5o6n5ZCO77ya56Gu5L+d5b6q546v
5rO15aSE5LqOIE9OIOS4lOWbnuWIsOWfuue6vyB2bWlu77yI6buY6K6kIDEzIFbvvIkNCiAgICAg
ICAgdHJ5Og0KICAgICAgICAgICAgaWYgaGFzYXR0cihzZWxmLCAicHVtcCIpIGFuZCBzZWxmLnB1
bXAgYW5kIHNlbGYucHVtcC5jb25uZWN0ZWQ6DQogICAgICAgICAgICAgICAgdm1pbiA9IGZsb2F0
KHNlbGYucHVtcF92bWluLmdldCgpIG9yIDEzLjApDQogICAgICAgICAgICAgICAgc2VsZi5wdW1w
LnNldF9vdXRwdXQoVHJ1ZSkNCiAgICAgICAgICAgICAgICBzZWxmLnB1bXAuc2V0X3ZvbHRhZ2Uo
dm1pbikNCiAgICAgICAgICAgICAgICBzZWxmLnB1bXBfbGFzdF92c2V0ID0gdm1pbg0KICAgICAg
ICBleGNlcHQgRXhjZXB0aW9uIGFzIGU6DQogICAgICAgICAgICBzZWxmLl9zZXRfc3RhdHVzKGYi
5YGc5q2iUElE5pe26K6+572u5rO15Z+657q/5aSx6LSl77yae2V9IikNCg0KICAgICAgICBzZWxm
Ll9zZXRfc3RhdHVzKCJQSUQg5bey5YGc5q2i77yI6L6T5Ye65bey5YWz6Zet77yb5rO15bey5Zue
5Yiw5Z+657q/77yJIikNCg0KICAgIGRlZiBfYXBwbHlfdGFyZ2V0KHNlbGYpOg0KICAgICAgICAi
IiLmiYvliqjlupTnlKjnm67moIfvvIjku47ovpPlhaXmoYbop6PmnpDvvIzpnZ7ms5XliJnkv53m
jIHml6flgLzvvIkiIiINCiAgICAgICAgdCA9IHNhZmVfZmxvYXQoc2VsZi50YXJnZXRfdGVtcC5n
ZXQoKSwgTm9uZSkNCiAgICAgICAgIyDnoa7kv53lrZjlnKggX2xhc3RfdmFsaWRfdGFyZ2V0DQog
ICAgICAgIGlmIG5vdCBoYXNhdHRyKHNlbGYsICJfbGFzdF92YWxpZF90YXJnZXQiKToNCiAgICAg
ICAgICAgIHNlbGYuX2xhc3RfdmFsaWRfdGFyZ2V0ID0gc2FmZV9mbG9hdChzZWxmLnRhcmdldF90
ZW1wLmdldCgpLCAyNS4wKSBvciAyNS4wDQoNCiAgICAgICAgaWYgdCBpcyBOb25lOg0KICAgICAg
ICAgICAgc2VsZi5fc2V0X3N0YXR1cyhmIuebruagh+i+k+WFpeaXoOaViO+8jOS/neaMgeWOn+eb
ruaghyB7c2VsZi5fbGFzdF92YWxpZF90YXJnZXQ6LjNmfSDCsEMiKQ0KICAgICAgICBlbHNlOg0K
ICAgICAgICAgICAgc2VsZi5fbGFzdF92YWxpZF90YXJnZXQgPSBmbG9hdCh0KQ0KICAgICAgICAg
ICAgd2l0aCBzZWxmLnBhcmFtc19sb2NrOg0KICAgICAgICAgICAgICAgIHNlbGYucGFyYW1zWyJ0
YXJnZXQiXSA9IHNlbGYuX2xhc3RfdmFsaWRfdGFyZ2V0DQogICAgICAgICAgICBzZWxmLnBpZC5y
ZXNldCgpDQogICAgICAgICAgICBzZWxmLl9zZXRfc3RhdHVzKGYi55uu5qCH5bey5bqU55SoOiB7
c2VsZi5fbGFzdF92YWxpZF90YXJnZXQ6LjNmfSDCsEMiKQ0KICAgICAgICBzZWxmLl9zYXZlX2Nv
bmZpZygpDQoNCiAgICAjIC0tLS0tLS0tLS0g57q/5oCn56iL5bqPIC0tLS0tLS0tLS0NCiAgICBk
ZWYgX3N0YXJ0X3JhbXAoc2VsZiwgb3JpZ2luPSJ1c2VyIiwgbm90aWZ5PVRydWUpOg0KICAgICAg
ICBpZiBzZWxmLnJhbXBfYWN0aXZlOg0KICAgICAgICAgICAgaWYgbm90aWZ5Og0KICAgICAgICAg
ICAgICAgIG1lc3NhZ2Vib3guc2hvd2luZm8oIuaPkOekuiIsICLnur/mgKfnqIvluo/lt7LlnKjo
v5DooYzjgIIiKQ0KICAgICAgICAgICAgcmV0dXJuIEZhbHNlDQogICAgICAgIGlmIG5vdCBzZWxm
LmFjcV9ydW5uaW5nOg0KICAgICAgICAgICAgaWYgbm90aWZ5Og0KICAgICAgICAgICAgICAgIG1l
c3NhZ2Vib3guc2hvd3dhcm5pbmcoIuaPkOekuiIsICLmnKrlnKjph4fpm4bnirbmgIHvvIzml6Dm
s5XmiafooYznur/mgKfnqIvluo/jgILor7flhYjov57mjqXorr7lpIfjgIIiKQ0KICAgICAgICAg
ICAgcmV0dXJuIEZhbHNlDQoNCiAgICAgICAgIyDpmLLmipYNCiAgICAgICAgaWYgb3JpZ2luID09
ICJ1c2VyIiBhbmQgbm90IHNlbGYuX2RlYm91bmNlKCJzdGFydF9yYW1wIik6DQogICAgICAgICAg
ICByZXR1cm4gRmFsc2UNCg0KICAgICAgICB0MCA9IHNhZmVfZmxvYXQoc2VsZi5yYW1wX3N0YXJ0
LmdldCgpLCBOb25lKQ0KICAgICAgICB0MSA9IHNhZmVfZmxvYXQoc2VsZi5yYW1wX2VuZC5nZXQo
KSwgTm9uZSkNCiAgICAgICAgcmF0ZSA9IHNhZmVfZmxvYXQoc2VsZi5yYW1wX3JhdGUuZ2V0KCks
IE5vbmUpICAjIMKwQy9taW4NCiAgICAgICAgaG9sZG0gPSBtYXgoMC4wLCBzYWZlX2Zsb2F0KHNl
bGYucmFtcF9ob2xkX21pbi5nZXQoKSwgMC4wKSBvciAwLjApDQogICAgICAgIGlmIE5vbmUgaW4g
KHQwLCB0MSwgcmF0ZSkgb3IgcmF0ZSA8PSAwOg0KICAgICAgICAgICAgaWYgbm90aWZ5Og0KICAg
ICAgICAgICAgICAgIG1lc3NhZ2Vib3guc2hvd2Vycm9yKCLplJnor68iLCAi6K+35q2j56Gu5aGr
5YaZIOi1t+eCuS/nu4jngrkv6YCf546HKD4wKeOAgiIpDQogICAgICAgICAgICByZXR1cm4gRmFs
c2UNCg0KICAgICAgICAjIOiLpeacquWQryBQSUTvvIzov5nph4zoh6rliqjlkK/vvIjkvYbmoIfo
rrDkuLogcmFtcCDmnaXmupDvvIzpgb/lhY3ph43lpI3lvIAgQ1NW77yJDQogICAgICAgIGlmIG5v
dCBzZWxmLmNvbnRyb2xfZW5hYmxlZDoNCiAgICAgICAgICAgIHNlbGYuZW5hYmxlX3BpZChvcmln
aW49InJhbXAiLCBub3RpZnk9bm90aWZ5KQ0KICAgICAgICAgICAgaWYgbm90IHNlbGYuY29udHJv
bF9lbmFibGVkOg0KICAgICAgICAgICAgICAgIHJldHVybiBGYWxzZQ0KDQogICAgICAgICMg4piF
IOS4jeWcqOi/memHjOW8gENTVu+8iOetieecn+ato+i/m+WFpee6v+aAp+auteaXtuWGjeW8gO+8
iQ0KICAgICAgICB3aXRoIHNlbGYucGFyYW1zX2xvY2s6DQogICAgICAgICAgICBzZWxmLnBhcmFt
c1sidGFyZ2V0Il0gPSBmbG9hdCh0MCkNCiAgICAgICAgc2VsZi5fbGFzdF92YWxpZF90YXJnZXQg
PSBmbG9hdCh0MCkNCiAgICAgICAgc2VsZi50YXJnZXRfdGVtcC5zZXQoZiJ7ZmxvYXQodDApOi4z
Zn0iKQ0KDQogICAgICAgIHNlbGYucmFtcF9zdG9wX2V2dC5jbGVhcigpDQogICAgICAgIHNlbGYu
cmFtcF9hY3RpdmUgPSBUcnVlDQogICAgICAgIHNlbGYuX3NldF9zdGF0dXMoIue6v+aAp+eoi+W6
j+i/kOihjOS4reKApu+8iOWFiOWIsOi1t+eCue+8jOWGjeW8gOi3ke+8iSIpDQogICAgICAgIGxv
b3BfZmxhZyA9IGJvb2woc2VsZi5yYW1wX2N5Y2xlX2VuYWJsZS5nZXQoKSkNCiAgICAgICAgc2Vs
Zi5yYW1wX3RocmVhZCA9IHRocmVhZGluZy5UaHJlYWQoDQogICAgICAgICAgICB0YXJnZXQ9c2Vs
Zi5fcmFtcF93b3JrZXIsDQogICAgICAgICAgICBhcmdzPShmbG9hdCh0MCksIGZsb2F0KHQxKSwg
ZmxvYXQocmF0ZSksIGZsb2F0KGhvbGRtKSwgVHJ1ZSwgbG9vcF9mbGFnKSwgICMgd2FpdF90b19z
dGFydD1UcnVlLCBsb29wDQogICAgICAgICAgICBkYWVtb249VHJ1ZQ0KICAgICAgICApDQogICAg
ICAgIHNlbGYucmFtcF90aHJlYWQuc3RhcnQoKQ0KICAgICAgICByZXR1cm4gVHJ1ZQ0KDQogICAg
ZGVmIF9yYW1wX3dvcmtlcihzZWxmLCB0MCwgdDEsIHJhdGVfY19wZXJfbWluLCBob2xkX21pbiwg
d2FpdF90b19zdGFydD1UcnVlLCBsb29wPUZhbHNlKToNCiAgICAgICAgIiIiDQogICAgICAgIOe6
v+aAp+WNhy/pmY3muKnlt6XkvZznur/nqIvvvIjmlK/mjIHlvoDov5Tlvqrnjq/vvInvvJoNCiAg
ICAgICAgICAtIOesrOS4gOasoeaMiSBNQUUg5Yik56iz77yI5Y+v6YCJ77yJ77yM6ZqP5ZCO55u0
5o6l5b6A6L+U77ybDQogICAgICAgICAgLSDmr4/kuIDmrrXvvJrmjInorr7lrprpgJ/njofnur/m
gKfmjqjov5sg4oaSIOacq+err+S/nea4qSjlj6/pgIkp77ybDQogICAgICAgICAgLSBDU1bvvJrm
lpznjofot6jov4fotbfmraLpmIjliJnlvIAv5YGc77yM5q615LiO5q615LmL6Ze06Ieq5Yqo5pS2
5bC+L+mHjeW8gO+8mw0KICAgICAgICAgIC0g4oCc5b6q546v5Y+Y5rip4oCd5Yu+6YCJ5YWz6Zet
5ZCO77yM5pys5q6157uT5p2f5Y2z5YGc5q2i77yb4oCc5YGc5q2i57q/5oCn56iL5bqP4oCd56uL
5Y2z5YGc5q2i44CCDQogICAgICAgICIiIg0KICAgICAgICBzZXRhdHRyKHNlbGYsICJfYXV0b19j
bGlja19kb25lX3RoaXNfcmFtcCIsIEZhbHNlKQ0KDQogICAgICAgIGRlZiBfYXBwbHlfdGFyZ2V0
X25vdyh2YWw6IGZsb2F0KToNCiAgICAgICAgICAgIHdpdGggc2VsZi5wYXJhbXNfbG9jazoNCiAg
ICAgICAgICAgICAgICBzZWxmLnBhcmFtc1sidGFyZ2V0Il0gPSBmbG9hdCh2YWwpDQogICAgICAg
ICAgICBzZWxmLl9sYXN0X3ZhbGlkX3RhcmdldCA9IGZsb2F0KHZhbCkNCiAgICAgICAgICAgIHNl
bGYuX3RrX3NldChzZWxmLnRhcmdldF90ZW1wLCBmIntmbG9hdCh2YWwpOi4zZn0iKQ0KDQogICAg
ICAgICMgPT09PT0g6aaW5q6177ya5oqK55uu5qCH5ouJ5Yiw6LW354K577yM5bm25oyJ6ZyA5Yik
56izID09PT09DQogICAgICAgIF9hcHBseV90YXJnZXRfbm93KHQwKQ0KDQogICAgICAgIGlmIHdh
aXRfdG9fc3RhcnQgYW5kIG5vdCBzZWxmLnJhbXBfc3RvcF9ldnQuaXNfc2V0KCk6DQogICAgICAg
ICAgICAjIOeUqOS9oOeahOKAnOe7n+iuoeeql+WPoy/liKTnqLPpmIjlgLzigJ0NCiAgICAgICAg
ICAgIHRyeToNCiAgICAgICAgICAgICAgICB3aW5fcyA9IG1heCg1LjAsIHNhZmVfZmxvYXQoc2Vs
Zi5hY2Nfd2luZG93X3MuZ2V0KCksIDMwLjApIG9yIDMwLjApDQogICAgICAgICAgICAgICAgbWFl
X3RociA9IG1heCgwLjAsIHNhZmVfZmxvYXQoc2VsZi5tYWVfc3RhYmxlX3Roci5nZXQoKSwgMC4y
MCkgb3IgMC4yMCkNCiAgICAgICAgICAgIGV4Y2VwdCBFeGNlcHRpb246DQogICAgICAgICAgICAg
ICAgd2luX3MsIG1hZV90aHIgPSAzMC4wLCAwLjIwDQoNCiAgICAgICAgICAgIHRpbWVvdXRfcyA9
IDYwMC4wDQogICAgICAgICAgICBkZWFkbGluZSA9IHRpbWUucGVyZl9jb3VudGVyKCkgKyB0aW1l
b3V0X3MNCiAgICAgICAgICAgIHdoaWxlIG5vdCBzZWxmLnJhbXBfc3RvcF9ldnQuaXNfc2V0KCkg
YW5kIHRpbWUucGVyZl9jb3VudGVyKCkgPCBkZWFkbGluZToNCiAgICAgICAgICAgICAgICBtYWUg
PSBzZWxmLl9jb21wdXRlX21hZV9yZWNlbnQod2luX3MpDQogICAgICAgICAgICAgICAgaWYgKG1h
ZSBpcyBub3QgTm9uZSkgYW5kIChtYWUgPD0gbWFlX3Rocik6DQogICAgICAgICAgICAgICAgICAg
IGJyZWFrDQogICAgICAgICAgICAgICAgc2VsZi5fdGtfc2V0KHNlbGYudGFyZ2V0X3RlbXAsIGYi
e2Zsb2F0KHQwKTouM2Z9IikNCiAgICAgICAgICAgICAgICB0aW1lLnNsZWVwKDAuMykNCg0KICAg
ICAgICAgICAgaWYgc2VsZi5yYW1wX3N0b3BfZXZ0LmlzX3NldCgpOg0KICAgICAgICAgICAgICAg
IHNlbGYucmFtcF9hY3RpdmUgPSBGYWxzZQ0KICAgICAgICAgICAgICAgIHNlbGYuX3NldF9zdGF0
dXMoIue6v+aAp+eoi+W6j+W3suWBnOatou+8iOacqui/m+WFpee6v+aAp+aute+8iSIpDQogICAg
ICAgICAgICAgICAgcmV0dXJuDQoNCiAgICAgICAgICAgIGlmIHRpbWUucGVyZl9jb3VudGVyKCkg
Pj0gZGVhZGxpbmU6DQogICAgICAgICAgICAgICAgc2VsZi5fc2V0X3N0YXR1cyhmIuacquWcqCB7
aW50KHRpbWVvdXRfcyl9IHMg5YaF6L6+5YiwIE1BReKJpHttYWVfdGhyOi4zZn3vvIzku43lvIDl
p4vnur/mgKfmrrUiKQ0KDQogICAgICAgICMgPT09PT0g5b6A6L+U5b6q546v77ya5q+P5qyh6LeR
5LiA5q6177yIc3RhcnQtPmVuZO+8iT09PT09DQogICAgICAgIGN1cl9zdGFydCwgY3VyX2VuZCA9
IGZsb2F0KHQwKSwgZmxvYXQodDEpDQogICAgICAgIGZpcnN0X3NlZ21lbnQgPSBUcnVlDQoNCiAg
ICAgICAgd2hpbGUgbm90IHNlbGYucmFtcF9zdG9wX2V2dC5pc19zZXQoKToNCiAgICAgICAgICAg
ICMg77yI6L+Q6KGM5Lit5YWB6K645Yqo5oCB6K+74oCc5b6q546v5Y+Y5rip4oCd5byA5YWz77yM
5L6/5LqO5Lit6YCU5YWz6Zet77yJDQogICAgICAgICAgICBsb29wX25vdyA9IGJvb2woc2VsZi5y
YW1wX2N5Y2xlX2VuYWJsZS5nZXQoKSkgaWYgbG9vcCBlbHNlIEZhbHNlDQoNCiAgICAgICAgICAg
ICMgLS0tIOS4gOauteeahOWPguaVsCAtLS0NCiAgICAgICAgICAgIHNpZ24gPSAxLjAgaWYgY3Vy
X2VuZCA+PSBjdXJfc3RhcnQgZWxzZSAtMS4wDQogICAgICAgICAgICBzZWxmLl9yYW1wX2xhc3Rf
c2lnbiA9IHNpZ24NCiAgICAgICAgICAgIHJhdGVfY19wZXJfcyA9IGFicyhyYXRlX2NfcGVyX21p
bikgLyA2MC4wDQoNCiAgICAgICAgICAgICMg5pac546H6ZiI5YC877yI55So5LqOIENTViDlvIAv
5YGc77yJDQogICAgICAgICAgICB0cnk6DQogICAgICAgICAgICAgICAgZml0X3dpbiA9IG1heCg1
LjAsIHNhZmVfZmxvYXQoc2VsZi5maXRfd2luZG93X3MuZ2V0KCksIDQwLjApIG9yIDQwLjApDQog
ICAgICAgICAgICBleGNlcHQgRXhjZXB0aW9uOg0KICAgICAgICAgICAgICAgIGZpdF93aW4gPSA0
MC4wDQogICAgICAgICAgICB0aHJfc3RhcnQgPSBzYWZlX2Zsb2F0KHNlbGYuc2xvcGVfc3RhcnRf
dGhyX2NwbS5nZXQoKSwgMC4wKQ0KICAgICAgICAgICAgdGhyX3N0b3AgPSBzYWZlX2Zsb2F0KHNl
bGYuc2xvcGVfc3RvcF90aHJfY3BtLmdldCgpLCAwLjApDQogICAgICAgICAgICBpZiAodGhyX3N0
YXJ0IGlzIE5vbmUpIG9yICh0aHJfc3RhcnQgPD0gMCk6DQogICAgICAgICAgICAgICAgdGhyX3N0
YXJ0ID0gbWF4KDAuMDIsIDAuNSAqIGFicyhyYXRlX2NfcGVyX21pbikpDQogICAgICAgICAgICBp
ZiAodGhyX3N0b3AgaXMgTm9uZSkgb3IgKHRocl9zdG9wIDw9IDApOg0KICAgICAgICAgICAgICAg
IHRocl9zdG9wID0gbWF4KDAuMDEsIDAuMiAqIGFicyhyYXRlX2NfcGVyX21pbikpDQoNCiAgICAg
ICAgICAgICMg6LW354K55a+56b2Q77yI6aaW5q615bey5a+56b2Q6L+H77yb5ZCO57ut5q6155u0
5o6l6K6+55uu5qCH5Li65paw6LW354K55Y2z5Y+v77yJDQogICAgICAgICAgICBfYXBwbHlfdGFy
Z2V0X25vdyhjdXJfc3RhcnQpDQoNCiAgICAgICAgICAgICMgLS0tIOe6v+aAp+aOqOi/m+acrOau
tSAtLS0NCiAgICAgICAgICAgIHRfc2VnMCA9IHRpbWUucGVyZl9jb3VudGVyKCkNCiAgICAgICAg
ICAgIGNzdl9zdGFydGVkID0gRmFsc2UNCiAgICAgICAgICAgIGJlbG93X3N0b3Bfc2luY2UgPSBO
b25lDQoNCiAgICAgICAgICAgIHdoaWxlIG5vdCBzZWxmLnJhbXBfc3RvcF9ldnQuaXNfc2V0KCk6
DQogICAgICAgICAgICAgICAgZWxhcHNlZCA9IHRpbWUucGVyZl9jb3VudGVyKCkgLSB0X3NlZzAN
CiAgICAgICAgICAgICAgICB0YXJnZXQgPSBjdXJfc3RhcnQgKyBzaWduICogcmF0ZV9jX3Blcl9z
ICogZWxhcHNlZA0KICAgICAgICAgICAgICAgIHJlYWNoZWQgPSAodGFyZ2V0ID49IGN1cl9lbmQp
IGlmIChzaWduID4gMCkgZWxzZSAodGFyZ2V0IDw9IGN1cl9lbmQpDQogICAgICAgICAgICAgICAg
aWYgcmVhY2hlZDoNCiAgICAgICAgICAgICAgICAgICAgdGFyZ2V0ID0gY3VyX2VuZA0KDQogICAg
ICAgICAgICAgICAgX2FwcGx5X3RhcmdldF9ub3codGFyZ2V0KQ0KDQogICAgICAgICAgICAgICAg
IyBDU1Yg5Yik5a6a77ya55So5pyA6L+RIGZpdF93aW4g56eS5ouf5ZCI5b6X5Yiw55qE5pac546H
DQogICAgICAgICAgICAgICAgc2xvcGVfY3BtID0gc2VsZi5fY29tcHV0ZV9yZWNlbnRfc2xvcGVf
Y3BtKGZpdF93aW4pDQoNCiAgICAgICAgICAgICAgICAjIOW8gOWni++8mui3qOS4iui1t+Wni+mY
iA0KICAgICAgICAgICAgICAgIGlmIChub3QgY3N2X3N0YXJ0ZWQpIGFuZCAoc2xvcGVfY3BtIGlz
IG5vdCBOb25lKSBhbmQgKGFicyhzbG9wZV9jcG0pID49IHRocl9zdGFydCk6DQogICAgICAgICAg
ICAgICAgICAgIHNlbGYuX2Nzdl9vcGVuX3Nlc3Npb24oIuWQr+WKqOe6v+aAp+eoi+W6jyIpCiAg
ICAgICAgICAgICAgICAgICAgc2VsZi5fc2V0X3N0YXR1cyhmIue6v+aAp+eoi+W6j++8muaWnOeO
hyB8e3Nsb3BlX2NwbTouM2Z9fOKJpXt0aHJfc3RhcnQ6LjNmfSDCsEMvbWlu77yM5byA5aeL6K6w
5b2VIENTViIpDQogICAgICAgICAgICAgICAgICAgIGNzdl9zdGFydGVkID0gVHJ1ZQ0KICAgICAg
ICAgICAgICAgICAgICBiZWxvd19zdG9wX3NpbmNlID0gTm9uZQ0KICAgICAgICAgICAgICAgICAg
ICBpZiBoYXNhdHRyKHNlbGYsICJfdHJ5X2F1dG9fY2xpY2tfc3RhcnQiKSBhbmQgZmlyc3Rfc2Vn
bWVudCBhbmQgbm90IGdldGF0dHIoc2VsZiwNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICJfYXV0b19jbGlja19kb25lX3RoaXNfcmFtcCIsDQogICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICBGYWxzZSk6DQogICAgICAgICAgICAgICAgICAgICAgICBz
ZWxmLl90cnlfYXV0b19jbGlja19zdGFydCgpDQogICAgICAgICAgICAgICAgICAgICAgICBzZXRh
dHRyKHNlbGYsICJfYXV0b19jbGlja19kb25lX3RoaXNfcmFtcCIsIFRydWUpDQoNCiAgICAgICAg
ICAgICAgICAjIOWBnOatou+8muS9juS6juWBnOatoumYiOS4lOaMgee7reKJpTIgcw0KICAgICAg
ICAgICAgICAgIGlmIGNzdl9zdGFydGVkIGFuZCAoc2xvcGVfY3BtIGlzIG5vdCBOb25lKSBhbmQg
KGFicyhzbG9wZV9jcG0pIDw9IHRocl9zdG9wKToNCiAgICAgICAgICAgICAgICAgICAgaWYgYmVs
b3dfc3RvcF9zaW5jZSBpcyBOb25lOg0KICAgICAgICAgICAgICAgICAgICAgICAgYmVsb3dfc3Rv
cF9zaW5jZSA9IHRpbWUucGVyZl9jb3VudGVyKCkNCiAgICAgICAgICAgICAgICAgICAgZWxpZiB0
aW1lLnBlcmZfY291bnRlcigpIC0gYmVsb3dfc3RvcF9zaW5jZSA+PSAyLjA6DQogICAgICAgICAg
ICAgICAgICAgICAgICBzZWxmLl9jc3ZfY2xvc2Vfc2Vzc2lvbigi57q/5oCn5pac546H5Zue6JC9
77yI5YGc5q2i6K6w5b2V77yJIikNCiAgICAgICAgICAgICAgICAgICAgICAgIGNzdl9zdGFydGVk
ID0gRmFsc2UNCiAgICAgICAgICAgICAgICAgICAgICAgIGJlbG93X3N0b3Bfc2luY2UgPSBOb25l
DQogICAgICAgICAgICAgICAgZWxzZToNCiAgICAgICAgICAgICAgICAgICAgYmVsb3dfc3RvcF9z
aW5jZSA9IE5vbmUNCg0KICAgICAgICAgICAgICAgIGlmIHJlYWNoZWQ6DQogICAgICAgICAgICAg
ICAgICAgIGJyZWFrDQogICAgICAgICAgICAgICAgdGltZS5zbGVlcCgwLjEpDQoNCiAgICAgICAg
ICAgICMg5pyr56uv5L+d5ripDQogICAgICAgICAgICBpZiBub3Qgc2VsZi5yYW1wX3N0b3BfZXZ0
LmlzX3NldCgpOg0KICAgICAgICAgICAgICAgIGhvbGRfcyA9IG1heCgwLjAsIGZsb2F0KGhvbGRf
bWluKSAqIDYwLjApDQogICAgICAgICAgICAgICAgdF9ob2xkX2VuZCA9IHRpbWUucGVyZl9jb3Vu
dGVyKCkgKyBob2xkX3MNCiAgICAgICAgICAgICAgICB3aGlsZSBub3Qgc2VsZi5yYW1wX3N0b3Bf
ZXZ0LmlzX3NldCgpIGFuZCB0aW1lLnBlcmZfY291bnRlcigpIDwgdF9ob2xkX2VuZDoNCiAgICAg
ICAgICAgICAgICAgICAgX2FwcGx5X3RhcmdldF9ub3coY3VyX2VuZCkNCiAgICAgICAgICAgICAg
ICAgICAgc2xvcGVfY3BtID0gc2VsZi5fY29tcHV0ZV9yZWNlbnRfc2xvcGVfY3BtKGZpdF93aW4p
DQogICAgICAgICAgICAgICAgICAgIGlmIGNzdl9zdGFydGVkIGFuZCAoc2xvcGVfY3BtIGlzIG5v
dCBOb25lKSBhbmQgKGFicyhzbG9wZV9jcG0pIDw9IHRocl9zdG9wKToNCiAgICAgICAgICAgICAg
ICAgICAgICAgIGlmIGJlbG93X3N0b3Bfc2luY2UgaXMgTm9uZToNCiAgICAgICAgICAgICAgICAg
ICAgICAgICAgICBiZWxvd19zdG9wX3NpbmNlID0gdGltZS5wZXJmX2NvdW50ZXIoKQ0KICAgICAg
ICAgICAgICAgICAgICAgICAgZWxpZiB0aW1lLnBlcmZfY291bnRlcigpIC0gYmVsb3dfc3RvcF9z
aW5jZSA+PSAyLjA6DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi5fY3N2X2Nsb3Nl
X3Nlc3Npb24oIue6v+aAp+aWnOeOh+WbnuiQve+8iOWBnOatouiusOW9le+8iSIpDQogICAgICAg
ICAgICAgICAgICAgICAgICAgICAgY3N2X3N0YXJ0ZWQgPSBGYWxzZQ0KICAgICAgICAgICAgICAg
ICAgICAgICAgICAgIGJlbG93X3N0b3Bfc2luY2UgPSBOb25lDQogICAgICAgICAgICAgICAgICAg
ICAgICAgICAgYnJlYWsNCiAgICAgICAgICAgICAgICAgICAgZWxzZToNCiAgICAgICAgICAgICAg
ICAgICAgICAgIGJlbG93X3N0b3Bfc2luY2UgPSBOb25lDQogICAgICAgICAgICAgICAgICAgIHRp
bWUuc2xlZXAoMC4xKQ0KDQogICAgICAgICAgICAjIOauteaUtuWwvg0KICAgICAgICAgICAgaWYg
Y3N2X3N0YXJ0ZWQ6DQogICAgICAgICAgICAgICAgc2VsZi5fY3N2X2Nsb3NlX3Nlc3Npb24oIue6
v+aAp+auteWujOaIkO+8iOWFnOW6leWFs+mXre+8iSIpDQoNCiAgICAgICAgICAgIGlmIHNlbGYu
cmFtcF9zdG9wX2V2dC5pc19zZXQoKToNCiAgICAgICAgICAgICAgICBicmVhaw0KDQogICAgICAg
ICAgICAjIOiLpeS4jeW+queOr++8jOaIluW+queOr+W8gOWFs+W3suiiq+WFs+mXre+8jOWImee7
k+adnw0KICAgICAgICAgICAgaWYgbm90IGxvb3Bfbm93Og0KICAgICAgICAgICAgICAgIGJyZWFr
DQoNCiAgICAgICAgICAgICMg5b6A6L+U77ya5Lqk5o2i6LW357uI54K577yM57un57ut5LiL5LiA
5q6177yb5ZCO57ut5q615LiN5YaN5YGaIE1BRSDliKTnqLMNCiAgICAgICAgICAgIGN1cl9zdGFy
dCwgY3VyX2VuZCA9IGN1cl9lbmQsIGN1cl9zdGFydA0KICAgICAgICAgICAgZmlyc3Rfc2VnbWVu
dCA9IEZhbHNlDQogICAgICAgICAgICBzZWxmLl9zZXRfc3RhdHVzKGYi5b6q546v5Y+Y5rip77ya
5YiH5o2i6Iez5LiL5LiA5q6177yIe2N1cl9zdGFydDouM2Z9IOKGkiB7Y3VyX2VuZDouM2Z9IMKw
Q++8iSIpDQoNCiAgICAgICAgIyDlhajpg6jnu5PmnZ8NCiAgICAgICAgc2VsZi5yYW1wX2FjdGl2
ZSA9IEZhbHNlDQogICAgICAgIHNlbGYuX3JhbXBfbGFzdF9zaWduID0gTm9uZQ0KICAgICAgICBz
ZWxmLl9zZXRfc3RhdHVzKCLnur/mgKfnqIvluo/lrozmiJAiKQ0KDQogICAgZGVmIF9zdG9wX3Jh
bXAoc2VsZik6DQogICAgICAgICMg6Ziy5oqWDQogICAgICAgIGlmIG5vdCBzZWxmLl9kZWJvdW5j
ZSgic3RvcF9yYW1wIik6DQogICAgICAgICAgICByZXR1cm4NCg0KICAgICAgICBpZiBub3Qgc2Vs
Zi5yYW1wX2FjdGl2ZToNCiAgICAgICAgICAgICMg5Y2z5L2/5rKh5Zyo6LeR77yM5Lmf5bCd6K+V
5pS25bC+77yI5o+Q5Y2H6bKB5qOS5oCn77yJDQogICAgICAgICAgICBzZWxmLl9jc3ZfY2xvc2Vf
c2Vzc2lvbigi5YGc5q2i57q/5oCn56iL5bqPIikNCiAgICAgICAgICAgIHNlbGYuX3NldF9zdGF0
dXMoIue6v+aAp+eoi+W6j+acqui/kOihjO+8iOW3suW/veeVpe+8iSIpDQogICAgICAgICAgICBy
ZXR1cm4NCiAgICAgICAgc2VsZi5yYW1wX3N0b3BfZXZ0LnNldCgpDQogICAgICAgIGlmIHNlbGYu
cmFtcF90aHJlYWQ6DQogICAgICAgICAgICBzZWxmLnJhbXBfdGhyZWFkLmpvaW4odGltZW91dD0y
LjApDQogICAgICAgIHNlbGYucmFtcF9hY3RpdmUgPSBGYWxzZQ0KICAgICAgICBzZWxmLl9yYW1w
X2xhc3Rfc2lnbiA9IE5vbmUNCiAgICAgICAgc2VsZi5fc2V0X3N0YXR1cygi57q/5oCn56iL5bqP
5bey5YGc5q2iIikNCiAgICAgICAgIyDlgZzmraLnur/mgKfnqIvluo8gPT4g5L+d5a2YIENTVg0K
ICAgICAgICBzZWxmLl9jc3ZfY2xvc2Vfc2Vzc2lvbigi5YGc5q2i57q/5oCn56iL5bqPIikNCg0K
ICAgICMgLS0tLS0tLS0tLSBUQ1Ag5o6n5Yi25o6l5Y+jIC0tLS0tLS0tLS0NCiAgICBkZWYgX2hh
bmRsZV90Y3BfY29tbWFuZChzZWxmLCByZXF1ZXN0KToNCiAgICAgICAgY21kID0gc3RyKHJlcXVl
c3QuZ2V0KCJjbWQiLCAiIikpLnN0cmlwKCkubG93ZXIoKQ0KICAgICAgICBpZiBub3QgY21kOg0K
ICAgICAgICAgICAgcmFpc2UgVmFsdWVFcnJvcigibWlzc2luZyBjbWQiKQ0KDQogICAgICAgIGlm
IGNtZCA9PSAicGluZyI6DQogICAgICAgICAgICByZXR1cm4geyJ0aW1lc3RhbXAiOiB0aW1lLnRp
bWUoKX0NCg0KICAgICAgICBpZiBjbWQgPT0gInN0YXR1cyI6DQogICAgICAgICAgICByZXR1cm4g
eyJzdGF0dXMiOiBzZWxmLmdldF90Y3Bfc3RhdHVzKCl9DQoNCiAgICAgICAgaWYgY21kID09ICJz
ZXRfdGFyZ2V0IjoNCiAgICAgICAgICAgIGlmICJ2YWx1ZSIgbm90IGluIHJlcXVlc3Q6DQogICAg
ICAgICAgICAgICAgcmFpc2UgVmFsdWVFcnJvcigibWlzc2luZyB2YWx1ZSIpDQogICAgICAgICAg
ICBhbGxvdyA9IGJvb2wocmVxdWVzdC5nZXQoImFsbG93X3JhbXAiLCBGYWxzZSkpDQogICAgICAg
ICAgICBzZWxmLnNldF90YXJnZXRfdGVtcGVyYXR1cmUocmVxdWVzdFsidmFsdWUiXSwgYWxsb3df
ZHVyaW5nX3JhbXA9YWxsb3cpDQogICAgICAgICAgICBpZiByZXF1ZXN0LmdldCgic3RhcnQiLCBG
YWxzZSk6DQogICAgICAgICAgICAgICAgc2VsZi5zdGFydF9waWRfcmVtb3RlKCkNCiAgICAgICAg
ICAgIHJldHVybiB7InJlc3VsdCI6ICJ0YXJnZXQtdXBkYXRlZCJ9DQoNCiAgICAgICAgaWYgY21k
ID09ICJzdGFydF9waWQiOg0KICAgICAgICAgICAgb2sgPSBzZWxmLnN0YXJ0X3BpZF9yZW1vdGUo
KQ0KICAgICAgICAgICAgcmV0dXJuIHsicmVzdWx0Ijogb2t9DQoNCiAgICAgICAgaWYgY21kID09
ICJzdG9wX3BpZCI6DQogICAgICAgICAgICBzZWxmLnN0b3BfcGlkX3JlbW90ZSgpDQogICAgICAg
ICAgICByZXR1cm4geyJyZXN1bHQiOiBUcnVlfQ0KDQogICAgICAgIGlmIGNtZCA9PSAic3RhcnRf
cmFtcCI6DQogICAgICAgICAgICBwYXJhbXMgPSByZXF1ZXN0LmdldCgicGFyYW1zIiwge30pDQog
ICAgICAgICAgICBzdGFydCA9IHBhcmFtcy5nZXQoInN0YXJ0IiwgcmVxdWVzdC5nZXQoInN0YXJ0
IikpDQogICAgICAgICAgICBlbmQgPSBwYXJhbXMuZ2V0KCJlbmQiLCByZXF1ZXN0LmdldCgiZW5k
IikpDQogICAgICAgICAgICByYXRlID0gcGFyYW1zLmdldCgicmF0ZSIsIHJlcXVlc3QuZ2V0KCJy
YXRlIikpDQogICAgICAgICAgICBpZiBzdGFydCBpcyBOb25lIG9yIGVuZCBpcyBOb25lIG9yIHJh
dGUgaXMgTm9uZToNCiAgICAgICAgICAgICAgICByYWlzZSBWYWx1ZUVycm9yKCJzdGFydC9lbmQv
cmF0ZSByZXF1aXJlZCIpDQogICAgICAgICAgICBob2xkID0gcGFyYW1zLmdldCgiaG9sZCIsIHJl
cXVlc3QuZ2V0KCJob2xkIiwgMC4wKSkNCiAgICAgICAgICAgIGxvb3AgPSBwYXJhbXMuZ2V0KCJs
b29wIiwgcmVxdWVzdC5nZXQoImxvb3AiLCBGYWxzZSkpDQogICAgICAgICAgICBvayA9IHNlbGYu
c3RhcnRfcmFtcF9yZW1vdGUoc3RhcnQsIGVuZCwgcmF0ZSwgaG9sZD1ob2xkLCBsb29wPWxvb3Ap
DQogICAgICAgICAgICByZXR1cm4geyJyZXN1bHQiOiBva30NCg0KICAgICAgICBpZiBjbWQgPT0g
InN0b3BfcmFtcCI6DQogICAgICAgICAgICBzZWxmLnN0b3BfcmFtcF9yZW1vdGUoKQ0KICAgICAg
ICAgICAgcmV0dXJuIHsicmVzdWx0IjogVHJ1ZX0NCg0KICAgICAgICByYWlzZSBWYWx1ZUVycm9y
KGYidW5rbm93biBjbWQ6IHtjbWR9IikNCg0KICAgIGRlZiBnZXRfdGNwX3N0YXR1cyhzZWxmKToN
CiAgICAgICAgbWV0cmljcyA9IHNlbGYuX2NvbXB1dGVfZXJyb3JfbWV0cmljcygpDQogICAgICAg
IHdpdGggc2VsZi5ydF9sb2NrOg0KICAgICAgICAgICAgcnQgPSBkaWN0KHNlbGYucnQpDQogICAg
ICAgIHdpdGggc2VsZi5wYXJhbXNfbG9jazoNCiAgICAgICAgICAgIHRhcmdldCA9IGZsb2F0KHNl
bGYucGFyYW1zLmdldCgidGFyZ2V0IiwgMC4wKSkNCiAgICAgICAgdHJ5Og0KICAgICAgICAgICAg
ZGlzcGxheV90YXJnZXQgPSBmbG9hdChzZWxmLnRhcmdldF90ZW1wLmdldCgpKQ0KICAgICAgICAg
ICAgaWYgZGlzcGxheV90YXJnZXQgPT0gZGlzcGxheV90YXJnZXQ6DQogICAgICAgICAgICAgICAg
dGFyZ2V0ID0gZmxvYXQoZGlzcGxheV90YXJnZXQpDQogICAgICAgIGV4Y2VwdCBFeGNlcHRpb246
DQogICAgICAgICAgICBwYXNzDQoNCiAgICAgICAgZGVmIF9zYWZlKHZhbHVlKToNCiAgICAgICAg
ICAgIHRyeToNCiAgICAgICAgICAgICAgICB2ID0gZmxvYXQodmFsdWUpDQogICAgICAgICAgICBl
eGNlcHQgRXhjZXB0aW9uOg0KICAgICAgICAgICAgICAgIHJldHVybiBOb25lDQogICAgICAgICAg
ICBpZiB2ICE9IHY6DQogICAgICAgICAgICAgICAgcmV0dXJuIE5vbmUNCiAgICAgICAgICAgIHJl
dHVybiB2DQoNCiAgICAgICAgc3RhdHVzID0gew0KICAgICAgICAgICAgInRpbWVzdGFtcCI6IHRp
bWUudGltZSgpLA0KICAgICAgICAgICAgImFjcV9ydW5uaW5nIjogYm9vbChzZWxmLmFjcV9ydW5u
aW5nKSwNCiAgICAgICAgICAgICJwaWRfZW5hYmxlZCI6IGJvb2woc2VsZi5jb250cm9sX2VuYWJs
ZWQpLA0KICAgICAgICAgICAgInJhbXBfYWN0aXZlIjogYm9vbChnZXRhdHRyKHNlbGYsICJyYW1w
X2FjdGl2ZSIsIEZhbHNlKSksDQogICAgICAgICAgICAidGFyZ2V0IjogdGFyZ2V0LA0KICAgICAg
ICAgICAgInRlbXBlcmF0dXJlIjogX3NhZmUocnQuZ2V0KCJ0ZW1wIikpLA0KICAgICAgICAgICAg
InZvbHRhZ2UiOiBfc2FmZShydC5nZXQoInZfb3V0IikpLA0KICAgICAgICAgICAgImN1cnJlbnQi
OiBfc2FmZShydC5nZXQoImFfb3V0IikpLA0KICAgICAgICAgICAgInBvd2VyIjogX3NhZmUocnQu
Z2V0KCJwX291dCIpKSwNCiAgICAgICAgICAgICJlcnJvciI6IF9zYWZlKHJ0LmdldCgiZXJyIikp
LA0KICAgICAgICAgICAgIm1hZSI6IG1ldHJpY3MuZ2V0KCJtYWUiKSwNCiAgICAgICAgICAgICJy
bXNlIjogbWV0cmljcy5nZXQoInJtc2UiKSwNCiAgICAgICAgICAgICJoaXRfcmF0aW8iOiBtZXRy
aWNzLmdldCgiaGl0X3JhdGlvIiksDQogICAgICAgICAgICAid2luZG93IjogbWV0cmljcy5nZXQo
IndpbmRvdyIpLA0KICAgICAgICAgICAgInNhbXBsZXMiOiBtZXRyaWNzLmdldCgic2FtcGxlcyIp
LA0KICAgICAgICAgICAgIm5vdGUiOiBydC5nZXQoIm5vdGUiKSwNCiAgICAgICAgfQ0KICAgICAg
ICBpZiBzZWxmLl9hY3FfdDAgYW5kIG1ldHJpY3MuZ2V0KCJsYXN0X3RpbWUiKSBpcyBub3QgTm9u
ZToNCiAgICAgICAgICAgIHN0YXR1c1sibGFzdF9zYW1wbGVfdHMiXSA9IHNlbGYuX2FjcV90MCAr
IG1ldHJpY3NbImxhc3RfdGltZSJdDQogICAgICAgIHJldHVybiBzdGF0dXMNCg0KICAgIGRlZiBz
ZXRfdGFyZ2V0X3RlbXBlcmF0dXJlKHNlbGYsIHZhbHVlLCBhbGxvd19kdXJpbmdfcmFtcD1GYWxz
ZSk6DQogICAgICAgIHZhbHVlID0gZmxvYXQodmFsdWUpDQogICAgICAgIGlmIHZhbHVlID4gVEVN
UF9MSU1JVF9DVVRPRkY6DQogICAgICAgICAgICByYWlzZSBWYWx1ZUVycm9yKGYi55uu5qCH5rip
5bqmIHt2YWx1ZTouMmZ9IOi2hei/h+WuieWFqOS4iumZkCB7VEVNUF9MSU1JVF9DVVRPRkY6LjFm
fcKwQyIpDQogICAgICAgIGlmIG5vdCBhbGxvd19kdXJpbmdfcmFtcCBhbmQgZ2V0YXR0cihzZWxm
LCAicmFtcF9hY3RpdmUiLCBGYWxzZSk6DQogICAgICAgICAgICByYWlzZSBSdW50aW1lRXJyb3Io
InJhbXAgYWN0aXZlIikNCiAgICAgICAgd2l0aCBzZWxmLnBhcmFtc19sb2NrOg0KICAgICAgICAg
ICAgc2VsZi5wYXJhbXNbInRhcmdldCJdID0gZmxvYXQodmFsdWUpDQogICAgICAgIHNlbGYuX2xh
c3RfdmFsaWRfdGFyZ2V0ID0gZmxvYXQodmFsdWUpDQogICAgICAgIHNlbGYuX3RrX3NldChzZWxm
LnRhcmdldF90ZW1wLCBmIntmbG9hdCh2YWx1ZSk6LjNmfSIpDQogICAgICAgIHJldHVybiBUcnVl
DQoNCiAgICBkZWYgc3RhcnRfcGlkX3JlbW90ZShzZWxmKToNCiAgICAgICAgcmV0dXJuIHNlbGYu
ZW5hYmxlX3BpZChvcmlnaW49InRjcCIsIG5vdGlmeT1GYWxzZSkNCg0KICAgIGRlZiBzdG9wX3Bp
ZF9yZW1vdGUoc2VsZik6DQogICAgICAgIHNlbGYuZGlzYWJsZV9waWQoKQ0KICAgICAgICByZXR1
cm4gVHJ1ZQ0KDQogICAgZGVmIHN0YXJ0X3JhbXBfcmVtb3RlKHNlbGYsIHN0YXJ0LCBlbmQsIHJh
dGUsIGhvbGQ9MC4wLCBsb29wPUZhbHNlKToNCiAgICAgICAgZGVmIHJ1bm5lcigpOg0KICAgICAg
ICAgICAgc2VsZi5yYW1wX3N0YXJ0LnNldChmIntmbG9hdChzdGFydCk6LjNmfSIpDQogICAgICAg
ICAgICBzZWxmLnJhbXBfZW5kLnNldChmIntmbG9hdChlbmQpOi4zZn0iKQ0KICAgICAgICAgICAg
c2VsZi5yYW1wX3JhdGUuc2V0KGYie2Zsb2F0KHJhdGUpOi4zZn0iKQ0KICAgICAgICAgICAgc2Vs
Zi5yYW1wX2hvbGRfbWluLnNldChmIntmbG9hdChtYXgoMC4wLCBob2xkKSk6LjNmfSIpDQogICAg
ICAgICAgICBzZWxmLnJhbXBfY3ljbGVfZW5hYmxlLnNldChib29sKGxvb3ApKQ0KICAgICAgICAg
ICAgcmV0dXJuIHNlbGYuX3N0YXJ0X3JhbXAob3JpZ2luPSJ0Y3AiLCBub3RpZnk9RmFsc2UpDQoN
CiAgICAgICAgcmV0dXJuIGJvb2woc2VsZi5fdGtfY2FsbF9zeW5jKHJ1bm5lcikpDQoNCiAgICBk
ZWYgc3RvcF9yYW1wX3JlbW90ZShzZWxmKToNCiAgICAgICAgc2VsZi5fdGtfY2FsbChzZWxmLl9z
dG9wX3JhbXApDQogICAgICAgIHJldHVybiBUcnVlDQoNCiAgICAjIC0tLS0tLS0tLS0gVGsg5Y+C
5pWw5ZCM5q2lIC0tLS0tLS0tLS0NCiAgICBkZWYgX3N5bmNfcGFyYW1zX3RvX2JhY2tncm91bmQo
c2VsZik6DQogICAgICAgIHdpdGggc2VsZi5wYXJhbXNfbG9jazoNCiAgICAgICAgICAgICMg6YeH
5qC3546H4omlMC41IEh677yM6Ziy5q2iIGR0PeKIng0KICAgICAgICAgICAgc2VsZi5wYXJhbXNb
InNhbXBsZV9oeiJdID0gc2VsZi5fZ2Yoc2VsZi5zYW1wbGVfaHosIGRlZmF1bHQ9c2VsZi5wYXJh
bXMuZ2V0KCJzYW1wbGVfaHoiLCAyLjApLCBsbz0wLjUpDQoNCiAgICAgICAgICAgICMg55S15Y6L
6ZmQ5bmF4omlMO+8m3NsZXfiiaUwDQogICAgICAgICAgICBzZWxmLnBhcmFtc1sidl9saW1pdCJd
ID0gc2VsZi5fZ2Yoc2VsZi52X2xpbWl0LCBkZWZhdWx0PXNlbGYucGFyYW1zLmdldCgidl9saW1p
dCIsIDI4LjApLCBsbz0wLjApDQogICAgICAgICAgICBzZWxmLnBhcmFtc1sic2xld192cHMiXSA9
IHNlbGYuX2dmKHNlbGYuc2xld192cHMsIGRlZmF1bHQ9c2VsZi5wYXJhbXMuZ2V0KCJzbGV3X3Zw
cyIsIDIuMCksIGxvPTAuMCkNCg0KICAgICAgICAgICAgIyBQSUQg5Y+C5pWw77ya56m65bCx5L+d
5oyB5Y6f5YC877yb6LSf5YC85aS55oiQIDANCiAgICAgICAgICAgIHNlbGYucGFyYW1zWyJrcCJd
ID0gbWF4KDAuMCwgc2VsZi5fZ2Yoc2VsZi5rcCwgc2VsZi5wYXJhbXMuZ2V0KCJrcCIsIDEuMCkp
KQ0KICAgICAgICAgICAgc2VsZi5wYXJhbXNbImtpIl0gPSBtYXgoMC4wLCBzZWxmLl9nZihzZWxm
LmtpLCBzZWxmLnBhcmFtcy5nZXQoImtpIiwgMC4wKSkpDQogICAgICAgICAgICBzZWxmLnBhcmFt
c1sia2QiXSA9IG1heCgwLjAsIHNlbGYuX2dmKHNlbGYua2QsIHNlbGYucGFyYW1zLmdldCgia2Qi
LCAwLjApKSkNCg0KICAgICAgICAgICAgIyDmuKnluqbmu6Tms6LluLjmlbDiiaUwDQogICAgICAg
ICAgICBzZWxmLnBhcmFtc1sidGVtcF90YXUiXSA9IHNlbGYuX2dmKHNlbGYudGVtcF90YXUsIGRl
ZmF1bHQ9c2VsZi5wYXJhbXMuZ2V0KCJ0ZW1wX3RhdSIsIDMuMCksIGxvPTAuMCkNCg0KICAgICAg
ICAgICAgIyDimIUgcmFtcCDmnJ/pl7TkuI3opoblhpkgdGFyZ2V077yM5YW25L2Z5oOF5Ya156m6
L+mdnuazleiHquWKqOWbnuiQveWIsOS4iuasoeWQiOazleebruaghw0KICAgICAgICAgICAgaWYg
bm90IGdldGF0dHIoc2VsZiwgInJhbXBfYWN0aXZlIiwgRmFsc2UpOg0KICAgICAgICAgICAgICAg
IHQgPSBOb25lDQogICAgICAgICAgICAgICAgdHJ5Og0KICAgICAgICAgICAgICAgICAgICB0ID0g
ZmxvYXQoc2VsZi50YXJnZXRfdGVtcC5nZXQoKSkNCiAgICAgICAgICAgICAgICAgICAgaWYgdCAh
PSB0OiAgIyBOYU4NCiAgICAgICAgICAgICAgICAgICAgICAgIHQgPSBOb25lDQogICAgICAgICAg
ICAgICAgZXhjZXB0IEV4Y2VwdGlvbjoNCiAgICAgICAgICAgICAgICAgICAgdCA9IE5vbmUNCiAg
ICAgICAgICAgICAgICBpZiB0IGlzIE5vbmU6DQogICAgICAgICAgICAgICAgICAgICMg5rK/55So
5LiK5qyh5ZCI5rOVIG9yIDI14oSDDQogICAgICAgICAgICAgICAgICAgIHNlbGYuX2xhc3RfdmFs
aWRfdGFyZ2V0ID0gZmxvYXQoZ2V0YXR0cihzZWxmLCAiX2xhc3RfdmFsaWRfdGFyZ2V0IiwgMjUu
MCkpDQogICAgICAgICAgICAgICAgZWxzZToNCiAgICAgICAgICAgICAgICAgICAgc2VsZi5fbGFz
dF92YWxpZF90YXJnZXQgPSBmbG9hdCh0KQ0KICAgICAgICAgICAgICAgIHNlbGYucGFyYW1zWyJ0
YXJnZXQiXSA9IHNlbGYuX2xhc3RfdmFsaWRfdGFyZ2V0DQoNCiAgICBkZWYgX3NuYXBzaG90X3Bh
cmFtcyhzZWxmKToNCiAgICAgICAgd2l0aCBzZWxmLnBhcmFtc19sb2NrOg0KICAgICAgICAgICAg
cmV0dXJuIGRpY3Qoc2VsZi5wYXJhbXMpDQoNCiAgICAjIC0tLS0tLS0tLS0g6YeH6ZuG57q/56iL
IC0tLS0tLS0tLS0NCiAgICBkZWYgX2FjcV9sb29wKHNlbGYpOg0KICAgICAgICAiIiINCiAgICAg
ICAg5byC5q2l6YeH5qC3ICsg5ZCM5q2l6aKR546H5a6I57qm77yaDQogICAgICAgICAgLSDmr4/l
uKfvvIgxL3NhbXBsZV9oeu+8ieWPkSB0b2tlbu+8jOetieW+heiHs+acrOW4p+aIquatou+8mw0K
ICAgICAgICAgIC0g5pyq5oyJ5pe26L+U5Zue5YiZ5rK/55So5LiK5LiA5bin5YC877yM5LiN6Zi7
5aGe6IqC5ouN77ybDQogICAgICAgICAgLSDmmZrliLDnmoTmlbDmja7oh6rliqjnlKjkuo7kuIvk
uIDluKfjgIINCg0KICAgICAgICDmnKzniYjlop7lvLrvvJoNCiAgICAgICAgICAtIOe7p+eUteWZ
qOWcqCBQV03ihpTov57nu63liIfmjaLjgIHljaDnqbrmr5QgMOKGlD4wIOi+ueeVjOaXtuW8uuWI
tuWQjOatpe+8mw0KICAgICAgICAgIC0gUFdNL+i/nue7reaooeW8j+WQhOiHqueahOW/g+i3s+mH
jeWPke+8jOS/ruWkjeWBtuWPkeS4ouWMheaIluiuvuWkh+acquWTjeW6lO+8mw0KICAgICAgICAg
IC0g5pyA55+t5byA5pe26ZW/77yIT07ihpJPRkYg6Ziy5oqW77yJ77ybDQogICAgICAgICAgLSDm
qKHlvI/liIfmjaLnmoTms7XnlLXljosgJiDnm7jkvY3lubPmu5HjgIINCiAgICAgICAgIiIiDQoN
CiAgICAgICAgIyA9PT09IOWwj+W3peWFt++8mue6v+eoi+WuieWFqOWPluaVsCA9PT09DQogICAg
ICAgIGRlZiBfZ2Jvb2wodiwgZGVmYXVsdD1GYWxzZSk6DQogICAgICAgICAgICB0cnk6DQogICAg
ICAgICAgICAgICAgcmV0dXJuIGJvb2wodi5nZXQoKSkNCiAgICAgICAgICAgIGV4Y2VwdCBFeGNl
cHRpb246DQogICAgICAgICAgICAgICAgcmV0dXJuIGJvb2woZGVmYXVsdCkNCg0KICAgICAgICBk
ZWYgX2dmbG9hdCh2LCBkZWZhdWx0KToNCiAgICAgICAgICAgIHRyeToNCiAgICAgICAgICAgICAg
ICB4ID0gZmxvYXQodi5nZXQoKSkNCiAgICAgICAgICAgICAgICByZXR1cm4geCBpZiB4ID09IHgg
ZWxzZSBmbG9hdChkZWZhdWx0KQ0KICAgICAgICAgICAgZXhjZXB0IEV4Y2VwdGlvbjoNCiAgICAg
ICAgICAgICAgICByZXR1cm4gZmxvYXQoZGVmYXVsdCkNCg0KICAgICAgICAjID09PT0g57un55S1
5Zmo5bCP5bel5YW377ya5bqU55So54q25oCB77yI5pSv5oyB5by65Yi2L+W/g+i3s+OAgeacgOef
rU9O5L+d5oyB77yJID09PT0NCiAgICAgICAgZGVmIF9yZWxheV9hcHBseSh3YW50X2Nsb3NlZDog
Ym9vbCwgKiwgZm9yY2U6IGJvb2wgPSBGYWxzZSk6DQogICAgICAgICAgICAiIiINCiAgICAgICAg
ICAgIHdhbnRfY2xvc2VkOiDluIzmnJvms7XkvqfigJzlm57ot6/pl63lkIjigJ3vvIjor63kuYnl
sYLvvIkNCiAgICAgICAgICAgIGZvcmNlOiBUcnVlIOaXoOinhue8k+WtmOW8uuWItuS4i+WPkQ0K
ICAgICAgICAgICAgIiIiDQogICAgICAgICAgICBpZiBub3QgZ2V0YXR0cihzZWxmLnJlbGF5LCAi
Y29ubmVjdGVkIiwgRmFsc2UpOg0KICAgICAgICAgICAgICAgIHNlbGYuX3RrX3NldChzZWxmLnJl
bGF5X3B3bV9zdGF0ZSwgIuKAlCAo5pyq6L+eKSIpDQogICAgICAgICAgICAgICAgcmV0dXJuDQoN
CiAgICAgICAgICAgICMg5L2g55qE5o6l5rOV5piv5Y+N55u477ya6YC76L6R6Zet5ZCIPT3niann
kIYgT0ZGDQogICAgICAgICAgICBjbWRfb24gPSAobm90IHdhbnRfY2xvc2VkKSBpZiBSRUxBWV9J
TlZFUlQgZWxzZSB3YW50X2Nsb3NlZA0KICAgICAgICAgICAgbm93ID0gdGltZS5wZXJmX2NvdW50
ZXIoKQ0KDQogICAgICAgICAgICAjIOWIneWni+WMlui/kOihjOaAgQ0KICAgICAgICAgICAgaWYg
bm90IGhhc2F0dHIoc2VsZiwgIl9yZWxheV9jbWRfb24iKTogICAgICAgICAgICBzZWxmLl9yZWxh
eV9jbWRfb24gPSBOb25lDQogICAgICAgICAgICBpZiBub3QgaGFzYXR0cihzZWxmLCAiX3JlbGF5
X2xhc3Rfc3dpdGNoX3RzIik6ICAgICBzZWxmLl9yZWxheV9sYXN0X3N3aXRjaF90cyA9IDAuMA0K
DQogICAgICAgICAgICAjIOacgOefreW8gOaXtumVv++8iOS7hemZkOWItiBPTi0+T0ZG77yJDQog
ICAgICAgICAgICBtaW5fb25fbXMgPSBzZWxmLl9naShnZXRhdHRyKHNlbGYsICJwdW1wX3B3bV9t
aW5fb25fbXMiLCAxMjApLCAxMjAsIGxvPTIwLCBoaT0xMjAwKQ0KICAgICAgICAgICAgaWYgKHNl
bGYuX3JlbGF5X2NtZF9vbiBpcyBUcnVlKSBhbmQgKGNtZF9vbiBpcyBGYWxzZSk6DQogICAgICAg
ICAgICAgICAgaWYgKG5vdyAtIHNlbGYuX3JlbGF5X2xhc3Rfc3dpdGNoX3RzKSAqIDEwMDAuMCA8
IGZsb2F0KG1pbl9vbl9tcyk6DQogICAgICAgICAgICAgICAgICAgIHJldHVybiAgIyDmnKrliLDm
nIDnn63lvIDml7bplb8NCg0KICAgICAgICAgICAgIyDnm7jlkIznirbmgIHkuJTpnZ7lvLrliLbv
vJrot7Pov4cNCiAgICAgICAgICAgIGlmIChub3QgZm9yY2UpIGFuZCAoc2VsZi5fcmVsYXlfY21k
X29uIGlzIG5vdCBOb25lKSBhbmQgKGNtZF9vbiA9PSBzZWxmLl9yZWxheV9jbWRfb24pOg0KICAg
ICAgICAgICAgICAgIHJldHVybg0KDQogICAgICAgICAgICB0cnk6DQogICAgICAgICAgICAgICAg
Y2ggPSBpbnQoc2VsZi5yZWxheV9jaGFuLmdldCgpIG9yIDEpDQogICAgICAgICAgICAgICAgc2Vs
Zi5yZWxheS5zZXQoY2gsIGNtZF9vbiwgZmVlZGJhY2s9RmFsc2UpDQogICAgICAgICAgICAgICAg
c2VsZi5fcmVsYXlfY21kX29uID0gY21kX29uDQogICAgICAgICAgICAgICAgc2VsZi5fcmVsYXlf
bGFzdF9zd2l0Y2hfdHMgPSBub3cNCiAgICAgICAgICAgIGV4Y2VwdCBFeGNlcHRpb24gYXMgZToN
CiAgICAgICAgICAgICAgICBzZWxmLl9zZXRfc3RhdHVzKGYi5YaZ57un55S15Zmo5aSx6LSlOiB7
ZX0iKQ0KDQogICAgICAgICMgPT09PSDliJ3lgLwgPT09PQ0KICAgICAgICBwYXJhbXMgPSBzZWxm
Ll9zbmFwc2hvdF9wYXJhbXMoKQ0KICAgICAgICBzYW1wbGVfaHogPSBtYXgoMC41LCBmbG9hdChw
YXJhbXNbInNhbXBsZV9oeiJdKSkNCiAgICAgICAgZHQgPSAxLjAgLyBzYW1wbGVfaHoNCg0KICAg
ICAgICB2X2xpbWl0ID0gZmxvYXQocGFyYW1zWyJ2X2xpbWl0Il0pDQogICAgICAgIHNsZXcgPSBm
bG9hdChwYXJhbXNbInNsZXdfdnBzIl0pDQogICAgICAgIHRlbXBfdGF1ID0gbWF4KDAuMCwgZmxv
YXQocGFyYW1zWyJ0ZW1wX3RhdSJdKSkNCiAgICAgICAgdGVtcF9maWx0ID0gTm9uZQ0KDQogICAg
ICAgIHNlbGYubGFzdF92c2V0ID0gMC4wDQogICAgICAgIHNlbGYub3ZlcnRlbXBfc2h1dGRvd24g
PSBGYWxzZQ0KICAgICAgICB0X2xvb3AwID0gc2VsZi5fYWNxX3QwIG9yIHRpbWUucGVyZl9jb3Vu
dGVyKCkNCg0KICAgICAgICAjIOS4oua4qeW6puiuoeaVsO+8iOeUqOS6juWuieWFqOWFs+aWre+8
iQ0KICAgICAgICBub190ZW1wX2NvdW50ID0gMA0KICAgICAgICBtYXhfbm9fdGVtcCA9IG1heCgx
LCBpbnQoMi4wIC8gZHQpKSAgIyDiiaUycyDmnKrojrflvpfmlrDmuKnluqblsLHlhbPliqDng60N
Cg0KICAgICAgICAjIOaztei/kOihjOaAge+8iOWFnOW6le+8iQ0KICAgICAgICBpZiBub3QgaGFz
YXR0cihzZWxmLCAicHVtcF9sYXN0X3ZzZXQiKToNCiAgICAgICAgICAgIHNlbGYucHVtcF9sYXN0
X3ZzZXQgPSBmbG9hdChzZWxmLnB1bXBfdm1pbi5nZXQoKSBvciAxMy4wKQ0KDQogICAgICAgICMg
5LiK5LiA5bin6KeC5rWL77yI55So5LqO6LaF5pe25rK/55So77yJDQogICAgICAgIGxhc3RfdGVt
cF9yYXcgPSBmbG9hdCgnbmFuJykNCiAgICAgICAgbGFzdF9wc3UgPSAoMC4wLCAwLjAsIDApICAj
IChWLCBBLCBDVkNDKQ0KICAgICAgICBsYXN0X3B1bXAgPSAoMC4wLCAwLjAsIDAuMCkNCg0KICAg
ICAgICAjIOaooeW8jy/nm7jkvY0v5b+D6Lez5Yid5aeL5YyWDQogICAgICAgIFJFTEFZX0lOVkVS
VCA9IFRydWUNCiAgICAgICAgaWYgbm90IGhhc2F0dHIoc2VsZiwgIl9yZWxheV9lcG9jaCIpOiAg
ICAgICAgICBzZWxmLl9yZWxheV9lcG9jaCA9IHRpbWUucGVyZl9jb3VudGVyKCkNCiAgICAgICAg
aWYgbm90IGhhc2F0dHIoc2VsZiwgIl9yZWxheV9sYXN0X3JlZnJlc2giKTogICBzZWxmLl9yZWxh
eV9sYXN0X3JlZnJlc2ggPSAwLjANCiAgICAgICAgaWYgbm90IGhhc2F0dHIoc2VsZiwgIl9wcmV2
X2R1dHlfcG9zaXRpdmUiKTogICBzZWxmLl9wcmV2X2R1dHlfcG9zaXRpdmUgPSBOb25lDQogICAg
ICAgIGlmIG5vdCBoYXNhdHRyKHNlbGYsICJfcHdtX21vZGUiKTogICAgICAgICAgICAgc2VsZi5f
cHdtX21vZGUgPSBGYWxzZQ0KICAgICAgICBpZiBub3QgaGFzYXR0cihzZWxmLCAiX2R1dHlfZmls
dCIpOiAgICAgICAgICAgIHNlbGYuX2R1dHlfZmlsdCA9IDAuMA0KICAgICAgICBpZiBub3QgaGFz
YXR0cihzZWxmLCAiX2xhc3RfdmVxIik6ICAgICAgICAgICAgIHNlbGYuX2xhc3RfdmVxID0gMC4w
DQoNCiAgICAgICAgcHVtcF9waWRfcmVzZXRfbmVlZGVkID0gRmFsc2UNCiAgICAgICAgcHJldl9w
dW1wX21vZGUgPSBzZWxmLl9wd21fbW9kZQ0KDQogICAgICAgIHRva2VuID0gMA0KICAgICAgICBu
ZXh0X2RlYWRsaW5lID0gdGltZS5wZXJmX2NvdW50ZXIoKQ0KDQogICAgICAgIHdoaWxlIG5vdCBz
ZWxmLnN0b3BfZXZlbnQuaXNfc2V0KCk6DQogICAgICAgICAgICAjID09PT0g5Yqo5oCB6K+75Y+W
5Y+C5pWw77yI5q+P56eS5Yi35LiA5qyh77yJID09PT0NCiAgICAgICAgICAgIGN5Y2xlX3RzID0g
dGltZS5wZXJmX2NvdW50ZXIoKQ0KICAgICAgICAgICAgdF9yZWwgPSBjeWNsZV90cyAtIHRfbG9v
cDANCiAgICAgICAgICAgIGlmIGludCh0X3JlbCkgIT0gaW50KGdldGF0dHIoc2VsZiwgIl9sYXN0
X2R5bl91cGRfdCIsIC0xKSk6DQogICAgICAgICAgICAgICAgc2VsZi5fbGFzdF9keW5fdXBkX3Qg
PSB0X3JlbA0KICAgICAgICAgICAgICAgIHBhcmFtcyA9IHNlbGYuX3NuYXBzaG90X3BhcmFtcygp
DQoNCiAgICAgICAgICAgICAgICBzYW1wbGVfaHogPSBtYXgoMC41LCBmbG9hdChwYXJhbXNbInNh
bXBsZV9oeiJdKSkNCiAgICAgICAgICAgICAgICBkdCA9IDEuMCAvIHNhbXBsZV9oeg0KICAgICAg
ICAgICAgICAgIG1heF9ub190ZW1wID0gbWF4KDEsIGludCgyLjAgLyBkdCkpDQoNCiAgICAgICAg
ICAgICAgICB2X2xpbWl0ID0gZmxvYXQocGFyYW1zWyJ2X2xpbWl0Il0pDQogICAgICAgICAgICAg
ICAgc2xldyA9IGZsb2F0KHBhcmFtc1sic2xld192cHMiXSkNCiAgICAgICAgICAgICAgICB0ZW1w
X3RhdSA9IG1heCgwLjAsIGZsb2F0KHBhcmFtc1sidGVtcF90YXUiXSkpDQogICAgICAgICAgICAg
ICAgY3RybF9kaXIgPSBmbG9hdChwYXJhbXMuZ2V0KCJjdHJsX2RpciIsIDEuMCkpDQoNCiAgICAg
ICAgICAgICAgICAjIOWKoOeDrSBQSUQNCiAgICAgICAgICAgICAgICBpZiBoYXNhdHRyKHNlbGYs
ICJwaWQiKSBhbmQgc2VsZi5waWQ6DQogICAgICAgICAgICAgICAgICAgIHNlbGYucGlkLmtwID0g
c2VsZi5fZ2Yoc2VsZi5rcCwgc2VsZi5waWQua3AsIGxvPTAuMCkNCiAgICAgICAgICAgICAgICAg
ICAgc2VsZi5waWQua2kgPSBzZWxmLl9nZihzZWxmLmtpLCBzZWxmLnBpZC5raSwgbG89MC4wKQ0K
ICAgICAgICAgICAgICAgICAgICBzZWxmLnBpZC5rZCA9IHNlbGYuX2dmKHNlbGYua2QsIHNlbGYu
cGlkLmtkLCBsbz0wLjApDQogICAgICAgICAgICAgICAgICAgIHNlbGYucGlkLnVfbWF4ID0gdl9s
aW1pdA0KDQogICAgICAgICAgICAgICAgIyDms7Xlj4LmlbANCiAgICAgICAgICAgICAgICB0cnk6
DQogICAgICAgICAgICAgICAgICAgIHZtaW4gPSBzZWxmLl9nZihzZWxmLnB1bXBfdm1pbiwgMTMu
MCwgbG89MC4wKQ0KICAgICAgICAgICAgICAgICAgICB2bWF4ID0gc2VsZi5fZ2Yoc2VsZi5wdW1w
X3ZtYXgsIDI2LjAsIGxvPXZtaW4pDQogICAgICAgICAgICAgICAgICAgIHBzbGV3ID0gc2VsZi5f
Z2Yoc2VsZi5wdW1wX3NsZXdfdnBzLCAyLjUsIGxvPTAuMCkNCiAgICAgICAgICAgICAgICAgICAg
ZGVhZGJhbmQgPSBzZWxmLl9nZihzZWxmLnB1bXBfZGVhZGJhbmQsIDAuMzAsIGxvPTAuMCkNCiAg
ICAgICAgICAgICAgICBleGNlcHQgRXhjZXB0aW9uOg0KICAgICAgICAgICAgICAgICAgICB2bWlu
LCB2bWF4LCBwc2xldywgZGVhZGJhbmQgPSAxMy4wLCAyNi4wLCAyLjUsIDAuMzANCg0KICAgICAg
ICAgICAgICAgICMg5Ya35Y20IFBJRA0KICAgICAgICAgICAgICAgIGlmIGhhc2F0dHIoc2VsZiwg
InBpZF9jb29sIikgYW5kIHNlbGYucGlkX2Nvb2w6DQogICAgICAgICAgICAgICAgICAgIHNlbGYu
cGlkX2Nvb2wua3AgPSBzZWxmLl9nZihzZWxmLmtwX2Nvb2wsIHNlbGYucGlkX2Nvb2wua3AsIGxv
PTAuMCkNCiAgICAgICAgICAgICAgICAgICAgc2VsZi5waWRfY29vbC5raSA9IHNlbGYuX2dmKHNl
bGYua2lfY29vbCwgc2VsZi5waWRfY29vbC5raSwgbG89MC4wKQ0KICAgICAgICAgICAgICAgICAg
ICBzZWxmLnBpZF9jb29sLmtkID0gc2VsZi5fZ2Yoc2VsZi5rZF9jb29sLCBzZWxmLnBpZF9jb29s
LmtkLCBsbz0wLjApDQogICAgICAgICAgICAgICAgICAgIHNlbGYucGlkX2Nvb2wudV9taW4gPSAw
LjANCiAgICAgICAgICAgICAgICAgICAgc2VsZi5waWRfY29vbC51X21heCA9IG1heCgwLjAsIHZt
YXggLSB2bWluKQ0KICAgICAgICAgICAgZWxzZToNCiAgICAgICAgICAgICAgICBjdHJsX2RpciA9
IGZsb2F0KHBhcmFtcy5nZXQoImN0cmxfZGlyIiwgMS4wKSkNCiAgICAgICAgICAgICAgICB0cnk6
DQogICAgICAgICAgICAgICAgICAgIHZtaW4gPSBzZWxmLl9nZihzZWxmLnB1bXBfdm1pbiwgMTMu
MCwgbG89MC4wKQ0KICAgICAgICAgICAgICAgICAgICB2bWF4ID0gc2VsZi5fZ2Yoc2VsZi5wdW1w
X3ZtYXgsIDI2LjAsIGxvPXZtaW4pDQogICAgICAgICAgICAgICAgICAgIHBzbGV3ID0gc2VsZi5f
Z2Yoc2VsZi5wdW1wX3NsZXdfdnBzLCAyLjUsIGxvPTAuMCkNCiAgICAgICAgICAgICAgICAgICAg
ZGVhZGJhbmQgPSBzZWxmLl9nZihzZWxmLnB1bXBfZGVhZGJhbmQsIDAuMzAsIGxvPTAuMCkNCiAg
ICAgICAgICAgICAgICBleGNlcHQgRXhjZXB0aW9uOg0KICAgICAgICAgICAgICAgICAgICB2bWlu
LCB2bWF4LCBwc2xldywgZGVhZGJhbmQgPSAxMy4wLCAyNi4wLCAyLjUsIDAuMzANCg0KICAgICAg
ICAgICAgcHVtcF9jb25uZWN0ZWQgPSBoYXNhdHRyKHNlbGYsICJwdW1wIikgYW5kIGdldGF0dHIo
c2VsZi5wdW1wLCAiY29ubmVjdGVkIiwgRmFsc2UpDQoNCiAgICAgICAgICAgICMgPT09PSDlj5Hk
u6TniYwgPT09PQ0KICAgICAgICAgICAgdG9rZW4gPSBzZWxmLl9uZXh0X3RvaygpDQogICAgICAg
ICAgICBpZiBnZXRhdHRyKHNlbGYsICJfc2FtcGxlcl90Y20iLCBOb25lKSBpcyBub3QgTm9uZTog
ICBzZWxmLl9zYW1wbGVyX3RjbS5yZXF1ZXN0KHRva2VuKQ0KICAgICAgICAgICAgaWYgZ2V0YXR0
cihzZWxmLCAiX3NhbXBsZXJfcHN1IiwgTm9uZSkgaXMgbm90IE5vbmU6ICAgc2VsZi5fc2FtcGxl
cl9wc3UucmVxdWVzdCh0b2tlbikNCiAgICAgICAgICAgIGlmIHB1bXBfY29ubmVjdGVkIGFuZCBn
ZXRhdHRyKHNlbGYsICJfc2FtcGxlcl9wdW1wIiwgTm9uZSkgaXMgbm90IE5vbmU6DQogICAgICAg
ICAgICAgICAgc2VsZi5fc2FtcGxlcl9wdW1wLnJlcXVlc3QodG9rZW4pDQoNCiAgICAgICAgICAg
IGZyYW1lX2RlYWRsaW5lID0gY3ljbGVfdHMgKyBkdA0KDQogICAgICAgICAgICAjIOetieW+he+8
iOaIlui2heaXtue7p+e7re+8iQ0KICAgICAgICAgICAgd2hpbGUgdGltZS5wZXJmX2NvdW50ZXIo
KSA8IGZyYW1lX2RlYWRsaW5lOg0KICAgICAgICAgICAgICAgIHJlYWR5X3QgPSAoZ2V0YXR0cihz
ZWxmLCAiX3NhbXBsZXJfdGNtIiwgTm9uZSkgaXMgTm9uZSkgb3IgKHNlbGYuX3NhbXBsZXJfdGNt
LmxhdGVzdCgpWzNdID49IHRva2VuKQ0KICAgICAgICAgICAgICAgIHJlYWR5X3AgPSAoZ2V0YXR0
cihzZWxmLCAiX3NhbXBsZXJfcHN1IiwgTm9uZSkgaXMgTm9uZSkgb3IgKHNlbGYuX3NhbXBsZXJf
cHN1LmxhdGVzdCgpWzNdID49IHRva2VuKQ0KICAgICAgICAgICAgICAgIHJlYWR5X3UgPSBUcnVl
DQogICAgICAgICAgICAgICAgaWYgcHVtcF9jb25uZWN0ZWQgYW5kIGdldGF0dHIoc2VsZiwgIl9z
YW1wbGVyX3B1bXAiLCBOb25lKSBpcyBub3QgTm9uZToNCiAgICAgICAgICAgICAgICAgICAgcmVh
ZHlfdSA9IHNlbGYuX3NhbXBsZXJfcHVtcC5sYXRlc3QoKVszXSA+PSB0b2tlbg0KICAgICAgICAg
ICAgICAgIGlmIHJlYWR5X3QgYW5kIHJlYWR5X3AgYW5kIHJlYWR5X3U6DQogICAgICAgICAgICAg
ICAgICAgIGJyZWFrDQogICAgICAgICAgICAgICAgdGltZS5zbGVlcCgwLjAwMSkNCg0KICAgICAg
ICAgICAgIyA9PT09IOWPluaVsO+8iOacquWwsee7quayv+eUqOS4iuS4gOW4p++8iSA9PT09DQog
ICAgICAgICAgICAjIOa4qeW6pg0KICAgICAgICAgICAgdGVtcF9yYXcgPSBsYXN0X3RlbXBfcmF3
DQogICAgICAgICAgICBpZiBnZXRhdHRyKHNlbGYsICJfc2FtcGxlcl90Y20iLCBOb25lKToNCiAg
ICAgICAgICAgICAgICB2YWxfdCwgXywgb2tfdCwgZG9uZV90b2sgPSBzZWxmLl9zYW1wbGVyX3Rj
bS5sYXRlc3QoKQ0KICAgICAgICAgICAgICAgIGlmIGRvbmVfdG9rID09IHRva2VuIGFuZCBva190
Og0KICAgICAgICAgICAgICAgICAgICB0ZW1wX3JhdyA9IHZhbF90DQogICAgICAgICAgICAgICAg
ICAgIGxhc3RfdGVtcF9yYXcgPSB0ZW1wX3Jhdw0KICAgICAgICAgICAgICAgICAgICBub190ZW1w
X2NvdW50ID0gMA0KICAgICAgICAgICAgICAgIGVsc2U6DQogICAgICAgICAgICAgICAgICAgIG5v
X3RlbXBfY291bnQgKz0gMQ0KICAgICAgICAgICAgZWxzZToNCiAgICAgICAgICAgICAgICB0ZW1w
X3JhdyA9IGZsb2F0KCduYW4nKQ0KICAgICAgICAgICAgICAgIG5vX3RlbXBfY291bnQgKz0gMQ0K
DQogICAgICAgICAgICAjIOeUtea6kA0KICAgICAgICAgICAgdl9vdXQsIGFfb3V0LCBjdmNjID0g
bGFzdF9wc3UNCiAgICAgICAgICAgIGlmIGdldGF0dHIoc2VsZiwgIl9zYW1wbGVyX3BzdSIsIE5v
bmUpOg0KICAgICAgICAgICAgICAgIHZhbF9wLCBfLCBva19wLCBkb25lX3RvayA9IHNlbGYuX3Nh
bXBsZXJfcHN1LmxhdGVzdCgpDQogICAgICAgICAgICAgICAgaWYgZG9uZV90b2sgPj0gdG9rZW4g
YW5kIG9rX3AgYW5kIGlzaW5zdGFuY2UodmFsX3AsIHR1cGxlKSBhbmQgbGVuKHZhbF9wKSA9PSAz
Og0KICAgICAgICAgICAgICAgICAgICB2X291dCwgYV9vdXQsIGN2Y2MgPSB2YWxfcA0KICAgICAg
ICAgICAgICAgICAgICBsYXN0X3BzdSA9ICh2X291dCwgYV9vdXQsIGN2Y2MpDQoNCiAgICAgICAg
ICAgICMg5b6q546v5rO1DQogICAgICAgICAgICBwdW1wX3YsIHB1bXBfaSwgcHVtcF9wID0gbGFz
dF9wdW1wDQogICAgICAgICAgICBpZiBwdW1wX2Nvbm5lY3RlZCBhbmQgZ2V0YXR0cihzZWxmLCAi
X3NhbXBsZXJfcHVtcCIsIE5vbmUpOg0KICAgICAgICAgICAgICAgIHZhbF91LCBfLCBva191LCBk
b25lX3RvayA9IHNlbGYuX3NhbXBsZXJfcHVtcC5sYXRlc3QoKQ0KICAgICAgICAgICAgICAgIGlm
IGRvbmVfdG9rID49IHRva2VuIGFuZCBva191IGFuZCBpc2luc3RhbmNlKHZhbF91LCB0dXBsZSkg
YW5kIGxlbih2YWxfdSkgPT0gMzoNCiAgICAgICAgICAgICAgICAgICAgcHVtcF92LCBwdW1wX2ks
IHB1bXBfcCA9IHZhbF91DQogICAgICAgICAgICAgICAgICAgIGxhc3RfcHVtcCA9IChwdW1wX3Ys
IHB1bXBfaSwgcHVtcF9wKQ0KDQogICAgICAgICAgICAjID09PT0g5rip5bqm5ruk5rOiID09PT0N
CiAgICAgICAgICAgIGlmIHRlbXBfcmF3ID09IHRlbXBfcmF3OiAgIyDpnZ4gTmFODQogICAgICAg
ICAgICAgICAgaWYgdGVtcF90YXUgPD0gMWUtNiBvciB0ZW1wX2ZpbHQgaXMgTm9uZToNCiAgICAg
ICAgICAgICAgICAgICAgdGVtcF9maWx0ID0gZmxvYXQodGVtcF9yYXcpDQogICAgICAgICAgICAg
ICAgZWxzZToNCiAgICAgICAgICAgICAgICAgICAgYWxwaGEgPSBtYXgoMC4wLCBtaW4oMS4wLCBk
dCAvIHRlbXBfdGF1KSkNCiAgICAgICAgICAgICAgICAgICAgdGVtcF9maWx0ICs9IGFscGhhICog
KGZsb2F0KHRlbXBfcmF3KSAtIHRlbXBfZmlsdCkNCg0KICAgICAgICAgICAgIyDor6/lt64NCiAg
ICAgICAgICAgIG5vdGUgPSAiIg0KICAgICAgICAgICAgZXJyX3BoeXMgPSBmbG9hdCgnbmFuJykN
CiAgICAgICAgICAgIGlmIHRlbXBfZmlsdCBpcyBub3QgTm9uZSBhbmQgdGVtcF9maWx0ID09IHRl
bXBfZmlsdDoNCiAgICAgICAgICAgICAgICBlcnJfcGh5cyA9IChwYXJhbXNbInRhcmdldCJdIC0g
dGVtcF9maWx0KQ0KDQogICAgICAgICAgICAjID09PT0g5aSx6IGU5YWz5patID09PT0NCiAgICAg
ICAgICAgIGlmIHNlbGYuY29udHJvbF9lbmFibGVkIGFuZCBub190ZW1wX2NvdW50ID49IG1heF9u
b190ZW1wOg0KICAgICAgICAgICAgICAgIHRyeToNCiAgICAgICAgICAgICAgICAgICAgc2VsZi5w
c3Uuc2V0X291dHB1dChGYWxzZSkNCiAgICAgICAgICAgICAgICAgICAgbm90ZSA9IChub3RlICsg
IjsgIiBpZiBub3RlIGVsc2UgIiIpICsgInNlbnNvcl9sb3N0X3NodXRkb3duIg0KICAgICAgICAg
ICAgICAgICAgICBzZWxmLmNvbnRyb2xfZW5hYmxlZCA9IEZhbHNlDQogICAgICAgICAgICAgICAg
ICAgIHNlbGYucGlkLnJlc2V0KCkNCiAgICAgICAgICAgICAgICAgICAgc2VsZi5fc2V0X3N0YXR1
cygi5rip5bqm5paw5pWw5o2u6LaF5pe2PjJz77yM5bey5YWz6Zet5Yqg54Ot6L6T5Ye6IikNCiAg
ICAgICAgICAgICAgICBleGNlcHQgRXhjZXB0aW9uIGFzIGU6DQogICAgICAgICAgICAgICAgICAg
IHNlbGYuX3NldF9zdGF0dXMoZiLmuKnluqbkuKLlpLHlhbPmnLrlpLHotKU6IHtlfSIpDQoNCiAg
ICAgICAgICAgICMgPT09PSDotoXmuKnkv53miqQgPT09PQ0KICAgICAgICAgICAgaWYgc2VsZi5j
b250cm9sX2VuYWJsZWQgYW5kICh0ZW1wX2ZpbHQgaXMgbm90IE5vbmUpIGFuZCAodGVtcF9maWx0
ID09IHRlbXBfZmlsdCk6DQogICAgICAgICAgICAgICAgaWYgdGVtcF9maWx0ID49IFRFTVBfTElN
SVRfQ1VUT0ZGIGFuZCBub3Qgc2VsZi5vdmVydGVtcF9zaHV0ZG93bjoNCiAgICAgICAgICAgICAg
ICAgICAgdHJ5Og0KICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi5wc3Uuc2V0X291dHB1dChG
YWxzZSkNCiAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYub3ZlcnRlbXBfc2h1dGRvd24gPSBU
cnVlDQogICAgICAgICAgICAgICAgICAgICAgICBub3RlID0gKG5vdGUgKyAiOyAiIGlmIG5vdGUg
ZWxzZSAiIikgKyAib3ZlcnRlbXBfc2h1dGRvd24iDQogICAgICAgICAgICAgICAgICAgICAgICBz
ZWxmLnBpZC5yZXNldCgpDQogICAgICAgICAgICAgICAgICAgIGV4Y2VwdCBFeGNlcHRpb24gYXMg
ZToNCiAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYuX3NldF9zdGF0dXMoZiLotoXmuKnlhbPm
nLrlpLHotKU6IHtlfSIpDQogICAgICAgICAgICAgICAgaWYgdGVtcF9maWx0IDw9IFRFTVBfTElN
SVRfUkVTVU1FIGFuZCBzZWxmLm92ZXJ0ZW1wX3NodXRkb3duOg0KICAgICAgICAgICAgICAgICAg
ICB0cnk6DQogICAgICAgICAgICAgICAgICAgICAgICBzZWxmLnBzdS5zZXRfb3V0cHV0KFRydWUp
DQogICAgICAgICAgICAgICAgICAgICAgICBzZWxmLm92ZXJ0ZW1wX3NodXRkb3duID0gRmFsc2UN
CiAgICAgICAgICAgICAgICAgICAgICAgIG5vdGUgPSAobm90ZSArICI7ICIgaWYgbm90ZSBlbHNl
ICIiKSArICJvdmVydGVtcF9yZXN1bWUiDQogICAgICAgICAgICAgICAgICAgICAgICBzZWxmLnBp
ZC5yZXNldCgpDQogICAgICAgICAgICAgICAgICAgIGV4Y2VwdCBFeGNlcHRpb24gYXMgZToNCiAg
ICAgICAgICAgICAgICAgICAgICAgIHNlbGYuX3NldF9zdGF0dXMoZiLmgaLlpI3ovpPlh7rlpLHo
tKU6IHtlfSIpDQoNCiAgICAgICAgICAgICMgPT09PSDliqDng63kvqcgUElEID09PT0NCiAgICAg
ICAgICAgIGlmIHNlbGYuY29udHJvbF9lbmFibGVkIGFuZCAodGVtcF9maWx0IGlzIG5vdCBOb25l
KSBhbmQgKHRlbXBfZmlsdCA9PSB0ZW1wX2ZpbHQpIGFuZCAoDQogICAgICAgICAgICBub3Qgc2Vs
Zi5vdmVydGVtcF9zaHV0ZG93bik6DQogICAgICAgICAgICAgICAgc3BfZWZmID0gcGFyYW1zWyJ0
YXJnZXQiXSAqIGN0cmxfZGlyDQogICAgICAgICAgICAgICAgbWVhc19lZmYgPSB0ZW1wX2ZpbHQg
KiBjdHJsX2Rpcg0KICAgICAgICAgICAgICAgIGF0X3VwcGVyID0gc2VsZi5sYXN0X3ZzZXQgPj0g
dl9saW1pdCAtIDFlLTYNCiAgICAgICAgICAgICAgICB2X3BpZF9lZmYsIF8gPSBzZWxmLnBpZC5z
dGVwKHNwX2VmZiwgbWVhc19lZmYsIGR0LCBjY19tb2RlPShjdmNjID09IDEpLCBhdF91cHBlcl9s
aW1pdD1hdF91cHBlcikNCiAgICAgICAgICAgICAgICBkdl9tYXggPSBzbGV3ICogZHQNCiAgICAg
ICAgICAgICAgICBkdiA9IG1heCgtZHZfbWF4LCBtaW4oZHZfbWF4LCB2X3BpZF9lZmYgLSBzZWxm
Lmxhc3RfdnNldCkpDQogICAgICAgICAgICAgICAgdl9zZXRfY21kID0gbWF4KDAuMCwgbWluKHZf
bGltaXQsIHNlbGYubGFzdF92c2V0ICsgZHYpKQ0KICAgICAgICAgICAgICAgIGlmIGFicyh2X3Nl
dF9jbWQgLSBzZWxmLmxhc3RfdnNldCkgPiAwLjAxOg0KICAgICAgICAgICAgICAgICAgICB0cnk6
DQogICAgICAgICAgICAgICAgICAgICAgICBzZWxmLnBzdS5zZXRfdm9sdGFnZSh2X3NldF9jbWQp
DQogICAgICAgICAgICAgICAgICAgICAgICBzZWxmLmxhc3RfdnNldCA9IHZfc2V0X2NtZA0KICAg
ICAgICAgICAgICAgICAgICBleGNlcHQgRXhjZXB0aW9uIGFzIGU6DQogICAgICAgICAgICAgICAg
ICAgICAgICBzZWxmLl9zZXRfc3RhdHVzKGYi5YaZ5Yqg54Ot55S15Y6L5aSx6LSlOiB7ZX0iKQ0K
DQogICAgICAgICAgICAjID09PT0g5b6q546v5rO177yI6Ieq5YqoIFBXTe+8mlBJRCAtPiBkdXR5
77ybVl9lcSA9IGR1dHkqVl9vbu+8iT09PT0NCiAgICAgICAgICAgICMg5YWI56Gu5L+d5rO15LiK
55S1DQogICAgICAgICAgICBpZiBwdW1wX2Nvbm5lY3RlZDoNCiAgICAgICAgICAgICAgICB0cnk6
DQogICAgICAgICAgICAgICAgICAgIHNlbGYucHVtcC5zZXRfb3V0cHV0KFRydWUpDQogICAgICAg
ICAgICAgICAgZXhjZXB0IEV4Y2VwdGlvbjoNCiAgICAgICAgICAgICAgICAgICAgcGFzcw0KDQog
ICAgICAgICAgICAgICAgIyDlj5bms7Xlj4LmlbANCiAgICAgICAgICAgICAgICB0cnk6DQogICAg
ICAgICAgICAgICAgICAgIHZtaW4gPSBzZWxmLl9nZihzZWxmLnB1bXBfdm1pbiwgMTMuMCwgbG89
MC4wKQ0KICAgICAgICAgICAgICAgICAgICB2bWF4ID0gc2VsZi5fZ2Yoc2VsZi5wdW1wX3ZtYXgs
IDI2LjAsIGxvPXZtaW4pDQogICAgICAgICAgICAgICAgICAgIHBzbGV3ID0gc2VsZi5fZ2Yoc2Vs
Zi5wdW1wX3NsZXdfdnBzLCAyLjUsIGxvPTAuMCkNCiAgICAgICAgICAgICAgICAgICAgZGVhZGJh
bmQgPSBzZWxmLl9nZihzZWxmLnB1bXBfZGVhZGJhbmQsIDAuMzAsIGxvPTAuMCkNCiAgICAgICAg
ICAgICAgICBleGNlcHQgRXhjZXB0aW9uOg0KICAgICAgICAgICAgICAgICAgICB2bWluLCB2bWF4
LCBwc2xldywgZGVhZGJhbmQgPSAxMy4wLCAyNi4wLCAyLjUsIDAuMzANCg0KICAgICAgICAgICAg
ICAgIHNwYW4gPSBtYXgoMWUtNiwgKHZtYXggLSB2bWluKSkNCiAgICAgICAgICAgICAgICB0ZW1w
X29rID0gKHRlbXBfZmlsdCBpcyBub3QgTm9uZSkgYW5kICh0ZW1wX2ZpbHQgPT0gdGVtcF9maWx0
KQ0KDQogICAgICAgICAgICAgICAgIyDnlLHor6/lt67ihpLlhrfljbQgUElEIOKGkiBkdXR5X3Jh
dw0KICAgICAgICAgICAgICAgIGlmIChub3Qgc2VsZi5jb250cm9sX2VuYWJsZWQpIG9yIChub3Qg
dGVtcF9vayk6DQogICAgICAgICAgICAgICAgICAgIHNlbGYucGlkX2Nvb2wucmVzZXQoKQ0KICAg
ICAgICAgICAgICAgICAgICBkdXR5X3JhdyA9IDAuMA0KICAgICAgICAgICAgICAgIGVsc2U6DQog
ICAgICAgICAgICAgICAgICAgIGhvdF9lcnIgPSAodGVtcF9maWx0IC0gcGFyYW1zWyJ0YXJnZXQi
XSkgICMgPjAg5YGP54OtIOKGkiDpnIDopoHlhrcNCiAgICAgICAgICAgICAgICAgICAgaWYgaG90
X2VyciA8PSBkZWFkYmFuZDoNCiAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYucGlkX2Nvb2wu
cmVzZXQoKQ0KICAgICAgICAgICAgICAgICAgICAgICAgZHV0eV9yYXcgPSAwLjANCiAgICAgICAg
ICAgICAgICAgICAgZWxzZToNCiAgICAgICAgICAgICAgICAgICAgICAgIGVfZWZmID0gaG90X2Vy
ciAtIGRlYWRiYW5kDQogICAgICAgICAgICAgICAgICAgICAgICBhdF91cHBlciA9IChzZWxmLnB1
bXBfbGFzdF92c2V0ID49ICh2bWF4IC0gMWUtNikpDQogICAgICAgICAgICAgICAgICAgICAgICB1
X3JlbCwgXyA9IHNlbGYucGlkX2Nvb2wuc3RlcCgwLjAsIC1lX2VmZiwgZHQsIGNjX21vZGU9RmFs
c2UsIGF0X3VwcGVyX2xpbWl0PWF0X3VwcGVyKQ0KICAgICAgICAgICAgICAgICAgICAgICAgdV9y
ZWwgPSBtYXgoMC4wLCBtaW4oc2VsZi5waWRfY29vbC51X21heCwgdV9yZWwpKSAgIyAwIH4gKHZt
YXgtdm1pbikNCiAgICAgICAgICAgICAgICAgICAgICAgIGR1dHlfcmF3ID0gbWF4KDAuMCwgbWlu
KDEuMCwgdV9yZWwgLyBzcGFuKSkNCg0KICAgICAgICAgICAgICAgICMgZHV0eSDlubPmu5HvvIjp
mZDpgJ/vvIkNCiAgICAgICAgICAgICAgICB0YXVfcyA9IDAuNg0KICAgICAgICAgICAgICAgIGFs
cGhhID0gbWF4KDAuMCwgbWluKDEuMCwgZHQgLyBtYXgoMWUtNiwgdGF1X3MpKSkNCiAgICAgICAg
ICAgICAgICBkdXR5X2xwID0gc2VsZi5fZHV0eV9maWx0ICsgYWxwaGEgKiAoZHV0eV9yYXcgLSBz
ZWxmLl9kdXR5X2ZpbHQpDQogICAgICAgICAgICAgICAgZHV0eV9lZmYgPSBzZWxmLl9kdXR5X2Zp
bHQgKyBtYXgoLTAuMDYsIG1pbigwLjA2LCBkdXR5X2xwIC0gc2VsZi5fZHV0eV9maWx0KSkNCiAg
ICAgICAgICAgICAgICBkdXR5X2VmZiA9IG1heCgwLjAsIG1pbigxLjAsIGR1dHlfZWZmKSkNCiAg
ICAgICAgICAgICAgICBzZWxmLl9kdXR5X2ZpbHQgPSBkdXR5X2VmZg0KDQogICAgICAgICAgICAg
ICAgIyDmqKHlvI/liKTlrprvvJrmiYvliqggUFdNIOS8mOWFiO+8jOWFtuasoeiHquWKqCBQV03v
vIjluKblm57lt67vvIkNCiAgICAgICAgICAgICAgICBtYW51YWxfcHdtID0gX2dib29sKGdldGF0
dHIoc2VsZiwgInB1bXBfcHdtX2VuYWJsZSIsIEZhbHNlKSwgRmFsc2UpDQogICAgICAgICAgICAg
ICAgYXV0b19wd20gPSBfZ2Jvb2woZ2V0YXR0cihzZWxmLCAicHVtcF9wd21fYXV0b19lbmFibGUi
LCBUcnVlKSwgVHJ1ZSkNCiAgICAgICAgICAgICAgICBoaV90aHIgPSBfZ2Zsb2F0KGdldGF0dHIo
c2VsZiwgInB1bXBfcHdtX2hpX3RlbXBfdGhyIiwgODAuMCksIDgwLjApDQogICAgICAgICAgICAg
ICAgaHlzdCA9IDIuMA0KDQogICAgICAgICAgICAgICAgcHJldl9wd21fbW9kZSA9IHNlbGYuX3B3
bV9tb2RlDQogICAgICAgICAgICAgICAgaWYgbWFudWFsX3B3bToNCiAgICAgICAgICAgICAgICAg
ICAgc2VsZi5fcHdtX21vZGUgPSBUcnVlDQogICAgICAgICAgICAgICAgZWxzZToNCiAgICAgICAg
ICAgICAgICAgICAgaWYgbm90IHNlbGYuX3B3bV9tb2RlOg0KICAgICAgICAgICAgICAgICAgICAg
ICAgc2VsZi5fcHdtX21vZGUgPSBib29sKGF1dG9fcHdtIGFuZCB0ZW1wX29rIGFuZCAodGVtcF9m
aWx0ID49IGhpX3RociAtIDFlLTkpKQ0KICAgICAgICAgICAgICAgICAgICBlbHNlOg0KICAgICAg
ICAgICAgICAgICAgICAgICAgc2VsZi5fcHdtX21vZGUgPSBub3QgKHRlbXBfb2sgYW5kICh0ZW1w
X2ZpbHQgPD0gaGlfdGhyIC0gaHlzdCArIDFlLTkpKQ0KDQogICAgICAgICAgICAgICAgIyDljaDn
qbrmr5TkuIvpmZANCiAgICAgICAgICAgICAgICBtaW5fZHV0eV9wY3QgPSBzZWxmLl9nZihzZWxm
LnB1bXBfcHdtX21pbl9kdXR5LCA1LjAsIGxvPTAuMCwgaGk9MTAwLjApDQogICAgICAgICAgICAg
ICAgbWluX2R1dHkgPSBtYXgoMC4wLCBtaW4oMS4wLCBtaW5fZHV0eV9wY3QgLyAxMDAuMCkpDQoN
CiAgICAgICAgICAgICAgICAjIFBXTSDlhazlhbHlj4LmlbANCiAgICAgICAgICAgICAgICBwd21f
aHogPSBtYXgoMC4yLCBtaW4oMjAuMCwgX2dmbG9hdChnZXRhdHRyKHNlbGYsICJwdW1wX3B3bV9m
cmVxIiwgMS4wKSwgMS4wKSkpDQogICAgICAgICAgICAgICAgcGVyaW9kID0gMS4wIC8gcHdtX2h6
DQogICAgICAgICAgICAgICAgVl9vbl91c2VyID0gX2dmbG9hdChnZXRhdHRyKHNlbGYsICJwdW1w
X3B3bV92X29uIiwgdm1heCksIHZtYXgpDQogICAgICAgICAgICAgICAgVl9vbiA9IG1heCh2bWlu
LCBtaW4odm1heCwgVl9vbl91c2VyIGlmIFZfb25fdXNlciA+IDAgZWxzZSB2bWF4KSkNCg0KICAg
ICAgICAgICAgICAgICMgPT09PSDmqKHlvI/liIfmjaLvvJrlgZrlubPmu5Hov4fmuKEgJiDlvLrl
iLbnu6fnlLXlmajlkIzmraUgPT09PQ0KICAgICAgICAgICAgICAgIG1vZGVfY2hhbmdlZCA9IChw
cmV2X3B3bV9tb2RlICE9IHNlbGYuX3B3bV9tb2RlKQ0KICAgICAgICAgICAgICAgIGlmIG1vZGVf
Y2hhbmdlZDoNCiAgICAgICAgICAgICAgICAgICAgaWYgcHJldl9wd21fbW9kZSBhbmQgbm90IHNl
bGYuX3B3bV9tb2RlOg0KICAgICAgICAgICAgICAgICAgICAgICAgIyBQV00gLT4g6L+e57ut77ya
5Lul5LiK5qyh562J5pWI55S15Y6L5Li66LW354K5DQogICAgICAgICAgICAgICAgICAgICAgICBW
X3N0YXJ0ID0gbWF4KHZtaW4sIG1pbih2bWF4LCBzZWxmLl9sYXN0X3ZlcSkpDQogICAgICAgICAg
ICAgICAgICAgICAgICB0cnk6DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi5wdW1w
LnNldF92b2x0YWdlKFZfc3RhcnQpDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi5w
dW1wX2xhc3RfdnNldCA9IFZfc3RhcnQNCiAgICAgICAgICAgICAgICAgICAgICAgIGV4Y2VwdCBF
eGNlcHRpb24gYXMgZToNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZWxmLl9zZXRfc3Rh
dHVzKGYi5YiH5o2i5qih5byP5pe26K6+572u5rO155S15Y6L5aSx6LSlOiB7ZX0iKQ0KICAgICAg
ICAgICAgICAgICAgICAgICAgIyDnu6fnlLXlmajnq4vliLvpl63lkIjkuIDmrKHvvIjlvLrliLbv
vIkNCiAgICAgICAgICAgICAgICAgICAgICAgIF9yZWxheV9hcHBseShUcnVlLCBmb3JjZT1UcnVl
KQ0KICAgICAgICAgICAgICAgICAgICAgICAgIyDlhrfljbQgUElEIOmHjee9rg0KICAgICAgICAg
ICAgICAgICAgICAgICAgc2VsZi5waWRfY29vbC5yZXNldCgpDQogICAgICAgICAgICAgICAgICAg
ICAgICBub3RlID0gKG5vdGUgKyAiOyAiIGlmIG5vdGUgZWxzZSAiIikgKyAibW9kZV9zd2l0Y2g6
cHdtLT5jb250Ig0KDQogICAgICAgICAgICAgICAgICAgIGVsaWYgKG5vdCBwcmV2X3B3bV9tb2Rl
KSBhbmQgc2VsZi5fcHdtX21vZGU6DQogICAgICAgICAgICAgICAgICAgICAgICAjIOi/nue7rSAt
PiBQV03vvJrku6XlvZPliY0gdnNldCDmmKDlsIQgZHV0eSDotbfmraXvvIzph43nva7nm7jkvY3k
uLrigJznjrDlnKjigJ0NCiAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRfdiA9IHNlbGYu
cHVtcF9sYXN0X3ZzZXQNCiAgICAgICAgICAgICAgICAgICAgICAgIGR1dHlfY21kID0gbWF4KDAu
MCwgbWluKDEuMCwgKGN1cnJlbnRfdiAtIHZtaW4pIC8gc3BhbikpDQogICAgICAgICAgICAgICAg
ICAgICAgICBzZWxmLl9kdXR5X2ZpbHQgPSBkdXR5X2NtZA0KICAgICAgICAgICAgICAgICAgICAg
ICAgc2VsZi5fcmVsYXlfZXBvY2ggPSB0aW1lLnBlcmZfY291bnRlcigpDQogICAgICAgICAgICAg
ICAgICAgICAgICAjIOWFiOaKiuazteeUteWOi+mUgeWIsCBWX29u77yI5YWz55Sx57un55S15Zmo
5a6e546w77yJDQogICAgICAgICAgICAgICAgICAgICAgICB0cnk6DQogICAgICAgICAgICAgICAg
ICAgICAgICAgICAgc2VsZi5wdW1wLnNldF92b2x0YWdlKFZfb24pDQogICAgICAgICAgICAgICAg
ICAgICAgICAgICAgc2VsZi5wdW1wX2xhc3RfdnNldCA9IFZfb24NCiAgICAgICAgICAgICAgICAg
ICAgICAgIGV4Y2VwdCBFeGNlcHRpb24gYXMgZToNCiAgICAgICAgICAgICAgICAgICAgICAgICAg
ICBzZWxmLl9zZXRfc3RhdHVzKGYi5YiH5o2i5qih5byP5pe26K6+572u5rO155S15Y6L5aSx6LSl
OiB7ZX0iKQ0KICAgICAgICAgICAgICAgICAgICAgICAgIyDnrKzkuIDmi43lvLrliLbpl63lkIjv
vIzpmLLmraLljaHplJnnm7jkvY0NCiAgICAgICAgICAgICAgICAgICAgICAgIF9yZWxheV9hcHBs
eShUcnVlLCBmb3JjZT1UcnVlKQ0KICAgICAgICAgICAgICAgICAgICAgICAgbm90ZSA9IChub3Rl
ICsgIjsgIiBpZiBub3RlIGVsc2UgIiIpICsgIm1vZGVfc3dpdGNoOmNvbnQtPnB3bSINCg0KICAg
ICAgICAgICAgICAgICMgPT09PSDnrYnmlYggVnNldCDlr7nlpJbnu5/kuIDlj5HluIMgPT09PQ0K
ICAgICAgICAgICAgICAgIHZlcV90b19wdWJsaXNoID0gTm9uZQ0KDQogICAgICAgICAgICAgICAg
IyAtLS0tLS0tLS0tIFBXTSDliIbmlK8gLS0tLS0tLS0tLQ0KICAgICAgICAgICAgICAgIGlmIHNl
bGYuX3B3bV9tb2RlOg0KICAgICAgICAgICAgICAgICAgICBkdXR5X2NhbGMgPSBtYXgoMC4wLCBt
aW4oMS4wLCBkdXR5X2VmZikpICAjIOaYvuekuueUqA0KICAgICAgICAgICAgICAgICAgICBkdXR5
X3VzZSA9IGR1dHlfY2FsYyBpZiAoZHV0eV9jYWxjID49IG1pbl9kdXR5KSBlbHNlIDAuMCAgIyDl
iqjkvZznlKjvvIg8bWlu5YiZ5LiN6Zet5ZCI77yJDQogICAgICAgICAgICAgICAgICAgIFRvbiA9
IGR1dHlfdXNlICogcGVyaW9kDQogICAgICAgICAgICAgICAgICAgIFZfZXEgPSBkdXR5X3VzZSAq
IFZfb24NCiAgICAgICAgICAgICAgICAgICAgdmVxX3RvX3B1Ymxpc2ggPSBWX2VxDQoNCiAgICAg
ICAgICAgICAgICAgICAgIyDnlLXmupDplIHliLAgVl9vbu+8iOWNs+S9vyBkdXR5X3VzZT0wIOS5
n+mUgeS9j++8m+W8gOWFs+S6pOe7mee7p+eUteWZqO+8iQ0KICAgICAgICAgICAgICAgICAgICBp
ZiBhYnMoc2VsZi5wdW1wX2xhc3RfdnNldCAtIFZfb24pID4gMC4wNToNCiAgICAgICAgICAgICAg
ICAgICAgICAgIHRyeToNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZWxmLnB1bXAuc2V0
X3ZvbHRhZ2UoVl9vbikNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZWxmLnB1bXBfbGFz
dF92c2V0ID0gVl9vbg0KICAgICAgICAgICAgICAgICAgICAgICAgZXhjZXB0IEV4Y2VwdGlvbiBh
cyBlOg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYuX3NldF9zdGF0dXMoZiJQV03m
qKHlvI/orr7ms7XnlLXljovlpLHotKU6IHtlfSIpDQoNCiAgICAgICAgICAgICAgICAgICAgIyDn
m7jkvY3kuI7nu6fnlLXlmagNCiAgICAgICAgICAgICAgICAgICAgaWYgZ2V0YXR0cihzZWxmLnJl
bGF5LCAiY29ubmVjdGVkIiwgRmFsc2UpOg0KICAgICAgICAgICAgICAgICAgICAgICAgbm93X3Rz
ID0gdGltZS5wZXJmX2NvdW50ZXIoKQ0KICAgICAgICAgICAgICAgICAgICAgICAgaWYgc2VsZi5f
cmVsYXlfZXBvY2ggaXMgTm9uZToNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZWxmLl9y
ZWxheV9lcG9jaCA9IG5vd190cw0KICAgICAgICAgICAgICAgICAgICAgICAgcGhhc2UgPSAobm93
X3RzIC0gc2VsZi5fcmVsYXlfZXBvY2gpICUgcGVyaW9kDQogICAgICAgICAgICAgICAgICAgICAg
ICB3YW50X2Nsb3NlZCA9IChwaGFzZSA8IFRvbikgYW5kIChkdXR5X3VzZSA+IDAuMCkNCiAgICAg
ICAgICAgICAgICAgICAgICAgICMg5q2j5bi46ZqP55u45L2N5YiHDQogICAgICAgICAgICAgICAg
ICAgICAgICBfcmVsYXlfYXBwbHkod2FudF9jbG9zZWQsIGZvcmNlPUZhbHNlKQ0KDQogICAgICAg
ICAgICAgICAgICAgICAgICAjIDDihpQ+MCDovrnmsr/lvLrliLbkuIDmrKENCiAgICAgICAgICAg
ICAgICAgICAgICAgIGR1dHlfcG9zID0gKGR1dHlfdXNlID4gMC4wKQ0KICAgICAgICAgICAgICAg
ICAgICAgICAgaWYgKHNlbGYuX3ByZXZfZHV0eV9wb3NpdGl2ZSBpcyBub3QgTm9uZSkgYW5kIChk
dXR5X3BvcyAhPSBzZWxmLl9wcmV2X2R1dHlfcG9zaXRpdmUpOg0KICAgICAgICAgICAgICAgICAg
ICAgICAgICAgIF9yZWxheV9hcHBseSh3YW50X2Nsb3NlZCwgZm9yY2U9VHJ1ZSkNCiAgICAgICAg
ICAgICAgICAgICAgICAgIHNlbGYuX3ByZXZfZHV0eV9wb3NpdGl2ZSA9IGR1dHlfcG9zDQoNCiAg
ICAgICAgICAgICAgICAgICAgICAgICMg5b+D6Lez77ya5q+PMXMg5by65Yi26YeN5Y+RDQogICAg
ICAgICAgICAgICAgICAgICAgICBpZiBub3dfdHMgLSBzZWxmLl9yZWxheV9sYXN0X3JlZnJlc2gg
Pj0gMS4wOg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9yZWxheV9hcHBseSh3YW50X2Ns
b3NlZCwgZm9yY2U9VHJ1ZSkNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZWxmLl9yZWxh
eV9sYXN0X3JlZnJlc2ggPSBub3dfdHMNCg0KICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi5f
dGtfc2V0KHNlbGYucmVsYXlfcHdtX3N0YXRlLCAiT04iIGlmIHdhbnRfY2xvc2VkIGVsc2UgIk9G
RiIpDQogICAgICAgICAgICAgICAgICAgIGVsc2U6DQogICAgICAgICAgICAgICAgICAgICAgICBz
ZWxmLl90a19zZXQoc2VsZi5yZWxheV9wd21fc3RhdGUsICLigJQgKOacqui/nikiKQ0KDQogICAg
ICAgICAgICAgICAgICAgICMgVUkg5bGV56S6DQogICAgICAgICAgICAgICAgICAgIGRlZiBfZm10
X3BjdCh4KToNCiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAoZiJ7eCAqIDEwMDouM2Z9
JSIgaWYgeCA8IDAuMDEgZWxzZSBmInt4ICogMTAwOi4xZn0lIikNCg0KICAgICAgICAgICAgICAg
ICAgICBkaXNwX3R4dCA9IF9mbXRfcGN0KGR1dHlfY2FsYykNCiAgICAgICAgICAgICAgICAgICAg
aWYgZHV0eV9jYWxjIDwgbWluX2R1dHk6DQogICAgICAgICAgICAgICAgICAgICAgICBkaXNwX3R4
dCA9IGYie2Rpc3BfdHh0fSAoPG1pbiB7bWluX2R1dHkgKiAxMDA6LjFmfSUpIg0KDQogICAgICAg
ICAgICAgICAgICAgIHNlbGYuX3RrX3NldChzZWxmLnB3bV9kdXR5LCByb3VuZChkdXR5X2NhbGMg
KiAxMDAuMCwgMykpDQogICAgICAgICAgICAgICAgICAgIHNlbGYuX3RrX3NldChzZWxmLnB3bV9k
dXR5X3N0ciwgX2ZtdF9wY3QoZHV0eV9jYWxjKSkNCiAgICAgICAgICAgICAgICAgICAgc2VsZi5f
dGtfc2V0KHNlbGYucmVsYXlfcHdtX2R1dHksIGRpc3BfdHh0KQ0KDQogICAgICAgICAgICAgICAg
ICAgIG5vdGUgPSAobm90ZSArICI7ICIgaWYgbm90ZSBlbHNlICIiKSArICgNCiAgICAgICAgICAg
ICAgICAgICAgICAgIGYicHdtKFQ9e3BlcmlvZDouMmZ9cyxUb249e1RvbjouNGZ9cyxWX29uPXtW
X29uOi4yZn1WLCINCiAgICAgICAgICAgICAgICAgICAgICAgIGYiZHV0eV9jYWxjPXtkdXR5X2Nh
bGM6LjRmfSxkdXR5X3VzZT17ZHV0eV91c2U6LjRmfSxWZXE9e1ZfZXE6LjNmfVYpIg0KICAgICAg
ICAgICAgICAgICAgICApDQoNCiAgICAgICAgICAgICAgICAjIC0tLS0tLS0tLS0g6Z2eIFBXTe+8
iOi/nue7re+8iSAtLS0tLS0tLS0tDQogICAgICAgICAgICAgICAgZWxzZToNCiAgICAgICAgICAg
ICAgICAgICAgIyDnu6fnlLXlmajkv53mjIHpl63lkIjvvJvlv4Pot7Myc+W8uuWItuS4gOasoQ0K
ICAgICAgICAgICAgICAgICAgICBfcmVsYXlfYXBwbHkoVHJ1ZSwgZm9yY2U9bW9kZV9jaGFuZ2Vk
KSAgIyDliJrliIfmjaLml7blvLrliLbpl63lkIgNCiAgICAgICAgICAgICAgICAgICAgbm93X3Rz
ID0gdGltZS5wZXJmX2NvdW50ZXIoKQ0KICAgICAgICAgICAgICAgICAgICBpZiBub3dfdHMgLSBz
ZWxmLl9yZWxheV9sYXN0X3JlZnJlc2ggPj0gMi4wOg0KICAgICAgICAgICAgICAgICAgICAgICAg
X3JlbGF5X2FwcGx5KFRydWUsIGZvcmNlPVRydWUpDQogICAgICAgICAgICAgICAgICAgICAgICBz
ZWxmLl9yZWxheV9sYXN0X3JlZnJlc2ggPSBub3dfdHMNCg0KICAgICAgICAgICAgICAgICAgICAj
IOi/nue7reeUteWOiyA9IHZtaW4gKyBkdXR5X2VmZiAqIHNwYW7vvIzluKbms7XmlpznjofpmZDl
iLYNCiAgICAgICAgICAgICAgICAgICAgVl9lcV9jb250ID0gdm1pbiArIGR1dHlfZWZmICogc3Bh
bg0KICAgICAgICAgICAgICAgICAgICBkdl9tYXhfcHVtcCA9IG1heCgwLjAsIGZsb2F0KHBzbGV3
KSkgKiBkdA0KICAgICAgICAgICAgICAgICAgICB2X2NtZCA9IHNlbGYucHVtcF9sYXN0X3ZzZXQg
KyBtYXgoLWR2X21heF9wdW1wLCBtaW4oZHZfbWF4X3B1bXAsIFZfZXFfY29udCAtIHNlbGYucHVt
cF9sYXN0X3ZzZXQpKQ0KICAgICAgICAgICAgICAgICAgICB2X2NtZCA9IG1heCh2bWluLCBtaW4o
dm1heCwgdl9jbWQpKQ0KICAgICAgICAgICAgICAgICAgICBpZiBhYnModl9jbWQgLSBzZWxmLnB1
bXBfbGFzdF92c2V0KSA+IDAuMDI6DQogICAgICAgICAgICAgICAgICAgICAgICB0cnk6DQogICAg
ICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi5wdW1wLnNldF92b2x0YWdlKHZfY21kKQ0KICAg
ICAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYucHVtcF9sYXN0X3ZzZXQgPSB2X2NtZA0KICAg
ICAgICAgICAgICAgICAgICAgICAgZXhjZXB0IEV4Y2VwdGlvbiBhcyBlOg0KICAgICAgICAgICAg
ICAgICAgICAgICAgICAgIHNlbGYuX3NldF9zdGF0dXMoZiLlhpnlvqrnjq/ms7XnlLXljovlpLHo
tKU6IHtlfSIpDQoNCiAgICAgICAgICAgICAgICAgICAgdmVxX3RvX3B1Ymxpc2ggPSB2X2NtZA0K
ICAgICAgICAgICAgICAgICAgICBzZWxmLl90a19zZXQoc2VsZi5yZWxheV9wd21fc3RhdGUsICJP
TiIpDQogICAgICAgICAgICAgICAgICAgIHNlbGYuX3RrX3NldChzZWxmLnB3bV9kdXR5LCAwLjAp
DQogICAgICAgICAgICAgICAgICAgIHNlbGYuX3RrX3NldChzZWxmLnB3bV9kdXR5X3N0ciwgIuKA
lCIpDQogICAgICAgICAgICAgICAgICAgIHNlbGYuX3RrX3NldChzZWxmLnJlbGF5X3B3bV9kdXR5
LCAi4oCUIikNCg0KICAgICAgICAgICAgICAgICMg6K6w5b2V562J5pWI55S15Y6L77yI5YWc5bqV
77yJDQogICAgICAgICAgICAgICAgdHJ5Og0KICAgICAgICAgICAgICAgICAgICBzZWxmLl9sYXN0
X3ZlcSA9IHZlcV90b19wdWJsaXNoIGlmICh2ZXFfdG9fcHVibGlzaCBpcyBub3QgTm9uZSkgXA0K
ICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSAoc2VsZi5wdW1wX2xhc3RfdnNldCBpZiBub3Qg
c2VsZi5fcHdtX21vZGUgZWxzZSBkdXR5X2VmZiAqIFZfb24pDQogICAgICAgICAgICAgICAgZXhj
ZXB0IEV4Y2VwdGlvbjoNCiAgICAgICAgICAgICAgICAgICAgc2VsZi5fbGFzdF92ZXEgPSBzZWxm
LnB1bXBfbGFzdF92c2V0DQoNCiAgICAgICAgICAgICMgPT09PSDlrp7ml7blhbHkuqsv57yT5Yay
L0NTViA9PT09DQogICAgICAgICAgICBwX291dCA9IHZfb3V0ICogYV9vdXQNCiAgICAgICAgICAg
IHB2c2V0X3B1YiA9IGZsb2F0KA0KICAgICAgICAgICAgICAgIChzZWxmLl9sYXN0X3ZlcSBpZiBo
YXNhdHRyKHNlbGYsICJfbGFzdF92ZXEiKSBlbHNlIGdldGF0dHIoc2VsZiwgInB1bXBfbGFzdF92
c2V0IiwgMC4wKSkNCiAgICAgICAgICAgICkNCg0KICAgICAgICAgICAgd2l0aCBzZWxmLnJ0X2xv
Y2s6DQogICAgICAgICAgICAgICAgc2VsZi5ydC51cGRhdGUoew0KICAgICAgICAgICAgICAgICAg
ICAidGVtcCI6IDAuMCBpZiB0ZW1wX2ZpbHQgaXMgTm9uZSBvciBub3QgKHRlbXBfZmlsdCA9PSB0
ZW1wX2ZpbHQpIGVsc2UgZmxvYXQodGVtcF9maWx0KSwNCiAgICAgICAgICAgICAgICAgICAgInZf
b3V0IjogZmxvYXQodl9vdXQpLA0KICAgICAgICAgICAgICAgICAgICAiYV9vdXQiOiBmbG9hdChh
X291dCksDQogICAgICAgICAgICAgICAgICAgICJwX291dCI6IGZsb2F0KHBfb3V0KSwNCiAgICAg
ICAgICAgICAgICAgICAgImN2Y2MiOiBpbnQoY3ZjYyksDQogICAgICAgICAgICAgICAgICAgICJl
cnIiOiBmbG9hdCgnbmFuJykgaWYgbm90IChlcnJfcGh5cyA9PSBlcnJfcGh5cykgZWxzZSBmbG9h
dChlcnJfcGh5cyksDQogICAgICAgICAgICAgICAgICAgICJub3RlIjogbm90ZSwNCiAgICAgICAg
ICAgICAgICAgICAgInB1bXBfdiI6IGZsb2F0KHB1bXBfdiksDQogICAgICAgICAgICAgICAgICAg
ICJwdW1wX2EiOiBmbG9hdChwdW1wX2kpLA0KICAgICAgICAgICAgICAgICAgICAicHVtcF9wIjog
ZmxvYXQocHVtcF9wKSwNCiAgICAgICAgICAgICAgICAgICAgInB1bXBfdnNldCI6IHB2c2V0X3B1
YiwgICMg57uf5LiA55qE4oCc562J5pWIIFZzZXTigJ0NCiAgICAgICAgICAgICAgICB9KQ0KDQog
ICAgICAgICAgICB3aXRoIHNlbGYuaGlzdG9yeV9sb2NrOg0KICAgICAgICAgICAgICAgIHNlbGYu
dF9idWYuYXBwZW5kKHRfcmVsKQ0KICAgICAgICAgICAgICAgIHNlbGYudGVtcF9idWYuYXBwZW5k
KE5vbmUgaWYgKHRlbXBfZmlsdCBpcyBOb25lIG9yIG5vdCAodGVtcF9maWx0ID09IHRlbXBfZmls
dCkpIGVsc2UgZmxvYXQodGVtcF9maWx0KSkNCiAgICAgICAgICAgICAgICBzZWxmLnBvd2VyX2J1
Zi5hcHBlbmQocF9vdXQpDQogICAgICAgICAgICAgICAgd2l0aCBzZWxmLnBhcmFtc19sb2NrOg0K
ICAgICAgICAgICAgICAgICAgICBjdXJfdGFyZ2V0ID0gZmxvYXQoc2VsZi5wYXJhbXNbInRhcmdl
dCJdKQ0KICAgICAgICAgICAgICAgIHNlbGYudGFyZ2V0X2J1Zi5hcHBlbmQoY3VyX3RhcmdldCkN
CiAgICAgICAgICAgICAgICBzZWxmLmVycl9idWYuYXBwZW5kKE5vbmUgaWYgbm90IChlcnJfcGh5
cyA9PSBlcnJfcGh5cykgZWxzZSBmbG9hdChlcnJfcGh5cykpDQogICAgICAgICAgICAgICAgaWYg
aGFzYXR0cihzZWxmLCAicHVtcF92X2J1ZiIpOiBzZWxmLnB1bXBfdl9idWYuYXBwZW5kKHB1bXBf
diBpZiBwdW1wX2Nvbm5lY3RlZCBlbHNlIE5vbmUpDQogICAgICAgICAgICAgICAgaWYgaGFzYXR0
cihzZWxmLCAicHVtcF9pX2J1ZiIpOiBzZWxmLnB1bXBfaV9idWYuYXBwZW5kKHB1bXBfaSBpZiBw
dW1wX2Nvbm5lY3RlZCBlbHNlIE5vbmUpDQogICAgICAgICAgICAgICAgaWYgaGFzYXR0cihzZWxm
LCAicHVtcF9wX2J1ZiIpOiBzZWxmLnB1bXBfcF9idWYuYXBwZW5kKHB1bXBfcCBpZiBwdW1wX2Nv
bm5lY3RlZCBlbHNlIE5vbmUpDQoNCiAgICAgICAgICAgIGlmIHNlbGYuY3N2X3dyaXRlcjoNCiAg
ICAgICAgICAgICAgICB0cnk6DQogICAgICAgICAgICAgICAgICAgIHNlbGYuY3N2X3dyaXRlci53
cml0ZXJvdyhbDQogICAgICAgICAgICAgICAgICAgICAgICBmInt0X3JlbDouM2Z9IiwNCiAgICAg
ICAgICAgICAgICAgICAgICAgICIiIGlmICh0ZW1wX2ZpbHQgaXMgTm9uZSBvciBub3QgKHRlbXBf
ZmlsdCA9PSB0ZW1wX2ZpbHQpKSBlbHNlIGYie3RlbXBfZmlsdDouM2Z9IiwNCiAgICAgICAgICAg
ICAgICAgICAgICAgIGYie2N1cl90YXJnZXQ6LjNmfSIsDQogICAgICAgICAgICAgICAgICAgICAg
ICBmIntzZWxmLmxhc3RfdnNldDouNGZ9IiwNCiAgICAgICAgICAgICAgICAgICAgICAgIGYie3Zf
b3V0Oi40Zn0iLA0KICAgICAgICAgICAgICAgICAgICAgICAgZiJ7YV9vdXQ6LjRmfSIsDQogICAg
ICAgICAgICAgICAgICAgICAgICBmIntwX291dDouNGZ9IiwNCiAgICAgICAgICAgICAgICAgICAg
ICAgIGYie3NlbGYucGlkLmtwOi40Zn0iLA0KICAgICAgICAgICAgICAgICAgICAgICAgZiJ7c2Vs
Zi5waWQua2k6LjRmfSIsDQogICAgICAgICAgICAgICAgICAgICAgICBmIntzZWxmLnBpZC5rZDou
NGZ9IiwNCiAgICAgICAgICAgICAgICAgICAgICAgICIiIGlmIG5vdCAoZXJyX3BoeXMgPT0gZXJy
X3BoeXMpIGVsc2UgZiJ7ZXJyX3BoeXM6LjRmfSIsDQogICAgICAgICAgICAgICAgICAgICAgICAi
Q0MiIGlmIGN2Y2MgPT0gMSBlbHNlICJDViIsDQogICAgICAgICAgICAgICAgICAgICAgICBub3Rl
ICsgKGYiOyBwdW1wVj17c2VsZi5wdW1wX2xhc3RfdnNldDouMmZ9LHB1bXBQPXtwdW1wX3A6LjJm
fVciIGlmIHB1bXBfY29ubmVjdGVkIGVsc2UgIiIpDQogICAgICAgICAgICAgICAgICAgIF0pDQog
ICAgICAgICAgICAgICAgZXhjZXB0IEV4Y2VwdGlvbjoNCiAgICAgICAgICAgICAgICAgICAgcGFz
cw0KDQogICAgICAgICAgICAjID09PT0g5a+56b2Q6IqC5ouNID09PT0NCiAgICAgICAgICAgIG5l
eHRfZGVhZGxpbmUgKz0gZHQNCiAgICAgICAgICAgIHNsZWVwX3RpbWUgPSBuZXh0X2RlYWRsaW5l
IC0gdGltZS5wZXJmX2NvdW50ZXIoKQ0KICAgICAgICAgICAgaWYgc2xlZXBfdGltZSA+IDA6DQog
ICAgICAgICAgICAgICAgdGltZS5zbGVlcChzbGVlcF90aW1lKQ0KICAgICAgICAgICAgZWxzZToN
CiAgICAgICAgICAgICAgICBuZXh0X2RlYWRsaW5lID0gdGltZS5wZXJmX2NvdW50ZXIoKQ0KDQog
ICAgICAgICAgICAjIOiusOW9leacrOW4p+iAl+aXtu+8iOWPr+eUqOS6jkh65pi+56S677yJDQog
ICAgICAgICAgICB0cnk6DQogICAgICAgICAgICAgICAgaWYgaGFzYXR0cihzZWxmLCAiY3ljbGVf
dGltZXMiKToNCiAgICAgICAgICAgICAgICAgICAgc2VsZi5jeWNsZV90aW1lcy5hcHBlbmQodGlt
ZS5wZXJmX2NvdW50ZXIoKSAtIGN5Y2xlX3RzKQ0KICAgICAgICAgICAgZXhjZXB0IEV4Y2VwdGlv
bjoNCiAgICAgICAgICAgICAgICBwYXNzDQoNCiAgICAjIC0tLS0tLS0tLS0gR1VJIOWumuaXtuWI
t+aWsCAtLS0tLS0tLS0tDQogICAgZGVmIF9zY2hlZHVsZV9ndWlfdXBkYXRlKHNlbGYpOg0KICAg
ICAgICB1cGRhdGVfc3RhcnQgPSB0aW1lLnBlcmZfY291bnRlcigpDQoNCiAgICAgICAgIyDlkIzm
raXkuIDmrKHlj6/kv67mlLnlj4LmlbDvvIjkv53mjIHkuI7ljp/pgLvovpHkuIDoh7TvvIkNCiAg
ICAgICAgc2VsZi5fc3luY19wYXJhbXNfdG9fYmFja2dyb3VuZCgpDQogICAgICAgIHNlbGYuX2Zy
YW1lX2NvdW50ICs9IDENCg0KICAgICAgICAjIOmikeeOh+etlueVpe+8muS7quihqOavj+W4p+ab
tOaWsO+8jOe7mOWbviAzIOW4p+S4gOabtO+8iOe6piAzfjUgSHrvvIzlj5blhrPkuo4gdWlfcmVm
cmVzaF9tc++8iQ0KICAgICAgICBkYXNoX2V2ZXJ5ID0gMQ0KICAgICAgICBwbG90X2V2ZXJ5ID0g
Mw0KDQogICAgICAgIGlmIHNlbGYuX2ZyYW1lX2NvdW50ICUgZGFzaF9ldmVyeSA9PSAwOg0KICAg
ICAgICAgICAgc2VsZi5fdXBkYXRlX2luZGljYXRvcnMoKQ0KICAgICAgICAgICAgc2VsZi5fdXBk
YXRlX2Rhc2hib2FyZCgpDQogICAgICAgIGlmIHNlbGYuX2ZyYW1lX2NvdW50ICUgcGxvdF9ldmVy
eSA9PSAwOg0KICAgICAgICAgICAgc2VsZi5fdXBkYXRlX3Bsb3QoKQ0KDQogICAgICAgICMg6YCC
5bqm5o+Q6auYIEdVSSDliLfmlrDpopHnjofkuIvpmZDvvIg0MG1z77yJ77yM5pu06Lef5omLDQog
ICAgICAgIHNlbGYucm9vdC5hZnRlcihtYXgoNDAsIGludChzZWxmLnVpX3JlZnJlc2hfbXMuZ2V0
KCkgb3IgODApKSwgc2VsZi5fc2NoZWR1bGVfZ3VpX3VwZGF0ZSkNCg0KICAgICAgICAjIOiusOW9
leS4gOasoSBHVUkg5pu05paw6ICX5pe2DQogICAgICAgIHNlbGYuZ3VpX3VwZGF0ZV90aW1lcy5h
cHBlbmQodGltZS5wZXJmX2NvdW50ZXIoKSAtIHVwZGF0ZV9zdGFydCkNCg0KICAgIGRlZiBfdXBk
YXRlX2luZGljYXRvcnMoc2VsZik6DQogICAgICAgIGRlZiBwYWludChjYW52YXMsIHN0YXR1c190
ZXh0KToNCiAgICAgICAgICAgIGNhbnZhcy5kZWxldGUoImFsbCIpDQogICAgICAgICAgICBpZiAi
5bey6L+e5o6lIiBpbiBzdGF0dXNfdGV4dDoNCiAgICAgICAgICAgICAgICBjb2xvciA9ICIjMmVj
YzcxIg0KICAgICAgICAgICAgZWxpZiAi6L+e5o6l5aSx6LSlIiBpbiBzdGF0dXNfdGV4dDoNCiAg
ICAgICAgICAgICAgICBjb2xvciA9ICIjZTY3ZTIyIg0KICAgICAgICAgICAgZWxzZToNCiAgICAg
ICAgICAgICAgICBjb2xvciA9ICIjZTc0YzNjIg0KICAgICAgICAgICAgY2FudmFzLmNyZWF0ZV9v
dmFsKDIsIDIsIDE0LCAxNCwgZmlsbD1jb2xvciwgd2lkdGg9MCkNCg0KICAgICAgICBwYWludChz
ZWxmLnBzdV9pbmRpY2F0b3IsIHNlbGYucHN1X3N0YXR1cy5nZXQoKSkNCiAgICAgICAgcGFpbnQo
c2VsZi50Y21faW5kaWNhdG9yLCBzZWxmLnRjbV9zdGF0dXMuZ2V0KCkpDQogICAgICAgIHBhaW50
KHNlbGYucHVtcF9pbmRpY2F0b3IsIHNlbGYucHVtcF9zdGF0dXMuZ2V0KCkpDQogICAgICAgIHBh
aW50KHNlbGYucmVsYXlfaW5kaWNhdG9yLCBzZWxmLnJlbGF5X3N0YXR1cy5nZXQoKSkNCg0KICAg
IGRlZiBfdXBkYXRlX2Rhc2hib2FyZChzZWxmKToNCiAgICAgICAgIyDln7rmnKzor7vmlbDvvIjk
uInkvY3lsI/mlbDmoLzlvI/ljJbvvIkNCiAgICAgICAgd2l0aCBzZWxmLnJ0X2xvY2s6DQogICAg
ICAgICAgICBydCA9IGRpY3Qoc2VsZi5ydCkNCg0KICAgICAgICBkZWYgZm10Myh4LCBkYXNoPSLi
gJQiKToNCiAgICAgICAgICAgIHRyeToNCiAgICAgICAgICAgICAgICBpZiB4IGlzIE5vbmU6IHJl
dHVybiBkYXNoDQogICAgICAgICAgICAgICAgaWYgaXNpbnN0YW5jZSh4LCBmbG9hdCkgYW5kIGlz
bmFuKHgpOiByZXR1cm4gZGFzaA0KICAgICAgICAgICAgICAgIHJldHVybiBmIntmbG9hdCh4KTou
M2Z9Ig0KICAgICAgICAgICAgZXhjZXB0IEV4Y2VwdGlvbjoNCiAgICAgICAgICAgICAgICByZXR1
cm4gZGFzaA0KDQogICAgICAgIHNlbGYuY3VyX3RlbXAuc2V0KGZtdDMocnQuZ2V0KCJ0ZW1wIikp
KQ0KICAgICAgICBzZWxmLmN1cl92b3V0LnNldChmbXQzKHJ0LmdldCgidl9vdXQiKSkpDQogICAg
ICAgIHNlbGYuY3VyX2FvdXQuc2V0KGZtdDMocnQuZ2V0KCJhX291dCIpKSkNCiAgICAgICAgc2Vs
Zi5jdXJfcG91dC5zZXQoZm10MyhydC5nZXQoInBfb3V0IikpKQ0KICAgICAgICBzZWxmLmN2Y2Nf
c3RhdGUuc2V0KCJDQyIgaWYgcnQuZ2V0KCJjdmNjIiwgMCkgPT0gMSBlbHNlICJDViIpDQoNCiAg
ICAgICAgIyDmlrDlop7vvJrlvqrnjq/ms7Xlm5vpobkNCiAgICAgICAgc2VsZi5jdXJfcHVtcF92
LnNldChmbXQzKHJ0LmdldCgicHVtcF92IikpKQ0KICAgICAgICBzZWxmLmN1cl9wdW1wX2Euc2V0
KGZtdDMocnQuZ2V0KCJwdW1wX2EiKSkpDQogICAgICAgIHNlbGYuY3VyX3B1bXBfcC5zZXQoZm10
MyhydC5nZXQoInB1bXBfcCIpKSkNCiAgICAgICAgc2VsZi5jdXJfcHVtcF92c2V0LnNldChmbXQz
KHJ0LmdldCgicHVtcF92c2V0IikpKQ0KDQogICAgICAgICMg4oCU4oCUIOWunuaXtueyvuW6puiu
oeeulyDigJTigJQNCiAgICAgICAgd2luID0gc2FmZV9mbG9hdChzZWxmLmFjY193aW5kb3dfcy5n
ZXQoKSwgMzAuMCkgb3IgMzAuMA0KICAgICAgICB0b2wgPSBtYXgoMC4wLCBzYWZlX2Zsb2F0KHNl
bGYuYWNjX3RvbC5nZXQoKSwgMC41KSBvciAwLjUpDQogICAgICAgIHNlbGYuYWNjX2luZm8uc2V0
KGYi56qXPXt3aW46LjBmfSBz77yM5a655beuPcKxe3RvbDouMmZ9IMKwQyIpDQogICAgICAgIHNl
bGYuY3VyX2Vyci5zZXQoZm10MyhydC5nZXQoImVyciIpLCBkYXNoPSIwLjAwMCIpKQ0KDQogICAg
ICAgIHdpdGggc2VsZi5oaXN0b3J5X2xvY2s6DQogICAgICAgICAgICB0X2xpc3QgPSBsaXN0KHNl
bGYudF9idWYpDQogICAgICAgICAgICBlX2xpc3QgPSBsaXN0KHNlbGYuZXJyX2J1ZikNCiAgICAg
ICAgaWYgbm90IHRfbGlzdDoNCiAgICAgICAgICAgIHNlbGYubWFlX3dpbi5zZXQoIjAuMDAwIik7
DQogICAgICAgICAgICBzZWxmLnJtc2Vfd2luLnNldCgiMC4wMDAiKTsNCiAgICAgICAgICAgIHNl
bGYuaGl0X3JhdGlvLnNldCgiMC4wMDAiKQ0KICAgICAgICAgICAgcmV0dXJuDQoNCiAgICAgICAg
dF9ub3cgPSB0X2xpc3RbLTFdOw0KICAgICAgICB0X21pbiA9IHRfbm93IC0gd2luDQogICAgICAg
IGkwID0gMA0KICAgICAgICBmb3IgaSBpbiByYW5nZShsZW4odF9saXN0KSAtIDEsIC0xLCAtMSk6
DQogICAgICAgICAgICBpZiB0X2xpc3RbaV0gPCB0X21pbjoNCiAgICAgICAgICAgICAgICBpMCA9
IGkgKyAxDQogICAgICAgICAgICAgICAgYnJlYWsNCiAgICAgICAgZXcgPSBbZSBmb3IgZSBpbiBl
X2xpc3RbaTA6XSBpZiAoZSBpcyBub3QgTm9uZSBhbmQgbm90IGlzbmFuKGUpKV0NCiAgICAgICAg
aWYgbGVuKGV3KSA9PSAwOg0KICAgICAgICAgICAgc2VsZi5tYWVfd2luLnNldCgiMC4wMDAiKTsN
CiAgICAgICAgICAgIHNlbGYucm1zZV93aW4uc2V0KCIwLjAwMCIpOw0KICAgICAgICAgICAgc2Vs
Zi5oaXRfcmF0aW8uc2V0KCIwLjAwMCIpDQogICAgICAgIGVsc2U6DQogICAgICAgICAgICBtYWUg
PSBzdW0oYWJzKHgpIGZvciB4IGluIGV3KSAvIGxlbihldykNCiAgICAgICAgICAgIHJtc2UgPSBz
cXJ0KHN1bSh4ICogeCBmb3IgeCBpbiBldykgLyBsZW4oZXcpKQ0KICAgICAgICAgICAgaGl0ID0g
c3VtKDEgZm9yIHggaW4gZXcgaWYgYWJzKHgpIDw9IHRvbCkgLyBsZW4oZXcpICogMTAwLjANCiAg
ICAgICAgICAgIHNlbGYubWFlX3dpbi5zZXQoZiJ7bWFlOi4zZn0iKQ0KICAgICAgICAgICAgc2Vs
Zi5ybXNlX3dpbi5zZXQoZiJ7cm1zZTouM2Z9IikNCiAgICAgICAgICAgIHNlbGYuaGl0X3JhdGlv
LnNldChmIntoaXQ6LjNmfSIpDQoNCiAgICBkZWYgX2NvbXB1dGVfZXJyb3JfbWV0cmljcyhzZWxm
LCB3aW5kb3dfcz1Ob25lKToNCiAgICAgICAgaWYgd2luZG93X3MgaXMgTm9uZToNCiAgICAgICAg
ICAgIHRyeToNCiAgICAgICAgICAgICAgICB3aW5kb3dfcyA9IG1heCgxLjAsIHNhZmVfZmxvYXQo
c2VsZi5hY2Nfd2luZG93X3MuZ2V0KCksIDMwLjApIG9yIDMwLjApDQogICAgICAgICAgICBleGNl
cHQgRXhjZXB0aW9uOg0KICAgICAgICAgICAgICAgIHdpbmRvd19zID0gMzAuMA0KDQogICAgICAg
IHdpdGggc2VsZi5oaXN0b3J5X2xvY2s6DQogICAgICAgICAgICB0X2xpc3QgPSBsaXN0KHNlbGYu
dF9idWYpDQogICAgICAgICAgICBlX2xpc3QgPSBsaXN0KHNlbGYuZXJyX2J1ZikNCg0KICAgICAg
ICBpZiBub3QgdF9saXN0Og0KICAgICAgICAgICAgcmV0dXJuIHsNCiAgICAgICAgICAgICAgICAi
d2luZG93IjogZmxvYXQod2luZG93X3MpLA0KICAgICAgICAgICAgICAgICJzYW1wbGVzIjogMCwN
CiAgICAgICAgICAgICAgICAibWFlIjogTm9uZSwNCiAgICAgICAgICAgICAgICAicm1zZSI6IE5v
bmUsDQogICAgICAgICAgICAgICAgImhpdF9yYXRpbyI6IE5vbmUsDQogICAgICAgICAgICAgICAg
Imxhc3RfdGltZSI6IE5vbmUsDQogICAgICAgICAgICB9DQoNCiAgICAgICAgdF9ub3cgPSB0X2xp
c3RbLTFdDQogICAgICAgIHRfbWluID0gdF9ub3cgLSB3aW5kb3dfcw0KICAgICAgICBlcnJvcnMg
PSBbZSBmb3IgdCwgZSBpbiB6aXAodF9saXN0LCBlX2xpc3QpIGlmIHQgPj0gdF9taW4gYW5kIGUg
aXMgbm90IE5vbmUgYW5kIG5vdCBpc25hbihlKV0NCiAgICAgICAgaWYgbm90IGVycm9yczoNCiAg
ICAgICAgICAgIHJldHVybiB7DQogICAgICAgICAgICAgICAgIndpbmRvdyI6IGZsb2F0KHdpbmRv
d19zKSwNCiAgICAgICAgICAgICAgICAic2FtcGxlcyI6IDAsDQogICAgICAgICAgICAgICAgIm1h
ZSI6IE5vbmUsDQogICAgICAgICAgICAgICAgInJtc2UiOiBOb25lLA0KICAgICAgICAgICAgICAg
ICJoaXRfcmF0aW8iOiBOb25lLA0KICAgICAgICAgICAgICAgICJsYXN0X3RpbWUiOiB0X25vdywN
CiAgICAgICAgICAgIH0NCg0KICAgICAgICBtYWUgPSBzdW0oYWJzKHgpIGZvciB4IGluIGVycm9y
cykgLyBsZW4oZXJyb3JzKQ0KICAgICAgICBybXNlID0gc3FydChzdW0oeCAqIHggZm9yIHggaW4g
ZXJyb3JzKSAvIGxlbihlcnJvcnMpKQ0KICAgICAgICB0cnk6DQogICAgICAgICAgICB0b2wgPSBt
YXgoMC4wLCBzYWZlX2Zsb2F0KHNlbGYuYWNjX3RvbC5nZXQoKSwgMC41KSBvciAwLjUpDQogICAg
ICAgIGV4Y2VwdCBFeGNlcHRpb246DQogICAgICAgICAgICB0b2wgPSAwLjUNCiAgICAgICAgaGl0
ID0gc3VtKDEgZm9yIHggaW4gZXJyb3JzIGlmIGFicyh4KSA8PSB0b2wpIC8gbGVuKGVycm9ycykg
KiAxMDAuMA0KICAgICAgICByZXR1cm4gew0KICAgICAgICAgICAgIndpbmRvdyI6IGZsb2F0KHdp
bmRvd19zKSwNCiAgICAgICAgICAgICJzYW1wbGVzIjogbGVuKGVycm9ycyksDQogICAgICAgICAg
ICAibWFlIjogbWFlLA0KICAgICAgICAgICAgInJtc2UiOiBybXNlLA0KICAgICAgICAgICAgImhp
dF9yYXRpbyI6IGhpdCwNCiAgICAgICAgICAgICJsYXN0X3RpbWUiOiB0X25vdywNCiAgICAgICAg
fQ0KDQogICAgZGVmIF91cGRhdGVfcGxvdChzZWxmKToNCiAgICAgICAgdHJ5Og0KICAgICAgICAg
ICAgbm93ID0gdGltZS5wZXJmX2NvdW50ZXIoKQ0KICAgICAgICAgICAgIyDku43nhLblgZrkuKrp
mZDpopHvvIzpgb/lhY3ov4flr4bph43nu5jvvIjov5nph4zmlL7lrr3liLAgPj0gMTIwbXMg5omN
6YeN57uY5LiA5bin77yJDQogICAgICAgICAgICBpZiBub3cgLSBnZXRhdHRyKHNlbGYsICJfbGFz
dF9wbG90X3VwZGF0ZSIsIDAuMCkgPCAwLjEyOg0KICAgICAgICAgICAgICAgIHJldHVybg0KICAg
ICAgICAgICAgc2VsZi5fbGFzdF9wbG90X3VwZGF0ZSA9IG5vdw0KDQogICAgICAgICAgICAjIOKA
lOKAlCDlsI/lt6Xlhbcg4oCU4oCUICMNCiAgICAgICAgICAgIGRlZiBfc21vb3RoX21hKHNlcSwg
az01KToNCiAgICAgICAgICAgICAgICBpZiBrIDw9IDE6DQogICAgICAgICAgICAgICAgICAgIHJl
dHVybiBsaXN0KHNlcSkNCiAgICAgICAgICAgICAgICBmcm9tIGNvbGxlY3Rpb25zIGltcG9ydCBk
ZXF1ZQ0KICAgICAgICAgICAgICAgIG91dCwgZHEgPSBbXSwgZGVxdWUobWF4bGVuPWspDQogICAg
ICAgICAgICAgICAgZm9yIHYgaW4gc2VxOg0KICAgICAgICAgICAgICAgICAgICBpZiB2IGlzIE5v
bmUgb3IgKGlzaW5zdGFuY2UodiwgZmxvYXQpIGFuZCBpc25hbih2KSk6DQogICAgICAgICAgICAg
ICAgICAgICAgICBvdXQuYXBwZW5kKE5vbmUpDQogICAgICAgICAgICAgICAgICAgIGVsc2U6DQog
ICAgICAgICAgICAgICAgICAgICAgICBkcS5hcHBlbmQoZmxvYXQodikpDQogICAgICAgICAgICAg
ICAgICAgICAgICBvdXQuYXBwZW5kKHN1bShkcSkgLyBsZW4oZHEpKQ0KICAgICAgICAgICAgICAg
IHJldHVybiBvdXQNCg0KICAgICAgICAgICAgZGVmIF9yb2J1c3RfeWxpbSh2YWxzLCBwYWRfZnJh
Yz0wLjA4LCBwYWRfYWJzPTAuMzAsIG1pbl9zcGFuPTAuNTAsIGZsb29yMD1GYWxzZSk6DQogICAg
ICAgICAgICAgICAgdnYgPSBbZmxvYXQodikgZm9yIHYgaW4gdmFscyBpZiAodiBpcyBub3QgTm9u
ZSBhbmQgbm90IGlzbmFuKHYpKV0NCiAgICAgICAgICAgICAgICBpZiBub3QgdnY6DQogICAgICAg
ICAgICAgICAgICAgIHJldHVybiBOb25lDQogICAgICAgICAgICAgICAgdnYuc29ydCgpDQogICAg
ICAgICAgICAgICAgbiA9IGxlbih2dikNCiAgICAgICAgICAgICAgICBsbyA9IHZ2W2ludCgwLjAy
ICogKG4gLSAxKSldDQogICAgICAgICAgICAgICAgaGkgPSB2dltpbnQoMC45OCAqIChuIC0gMSkp
XQ0KICAgICAgICAgICAgICAgIGlmIGhpIC0gbG8gPCAxZS0xMjoNCiAgICAgICAgICAgICAgICAg
ICAgbG8gLT0gcGFkX2FiczsNCiAgICAgICAgICAgICAgICAgICAgaGkgKz0gcGFkX2Ficw0KICAg
ICAgICAgICAgICAgIGVsc2U6DQogICAgICAgICAgICAgICAgICAgIHBhZCA9IG1heChwYWRfYWJz
LCAoaGkgLSBsbykgKiBwYWRfZnJhYykNCiAgICAgICAgICAgICAgICAgICAgbG8gLT0gcGFkOw0K
ICAgICAgICAgICAgICAgICAgICBoaSArPSBwYWQNCiAgICAgICAgICAgICAgICBpZiBoaSAtIGxv
IDwgbWluX3NwYW46DQogICAgICAgICAgICAgICAgICAgIG1pZCA9IDAuNSAqIChoaSArIGxvKQ0K
ICAgICAgICAgICAgICAgICAgICBoYWxmID0gMC41ICogbWluX3NwYW4NCiAgICAgICAgICAgICAg
ICAgICAgbG8sIGhpID0gbWlkIC0gaGFsZiwgbWlkICsgaGFsZg0KICAgICAgICAgICAgICAgIGlm
IGZsb29yMDoNCiAgICAgICAgICAgICAgICAgICAgbG8gPSBtYXgoMC4wLCBsbykNCiAgICAgICAg
ICAgICAgICAgICAgaWYgaGkgLSBsbyA8IG1pbl9zcGFuOg0KICAgICAgICAgICAgICAgICAgICAg
ICAgaGkgPSBsbyArIG1pbl9zcGFuDQogICAgICAgICAgICAgICAgcmV0dXJuIChsbywgaGkpDQoN
CiAgICAgICAgICAgICMg4oCU4oCUIOaXoOaVsOaNriDigJTigJQgIw0KICAgICAgICAgICAgaWYg
bGVuKHNlbGYudF9idWYpIDwgMToNCiAgICAgICAgICAgICAgICBzZWxmLmNhbnZhcy5kcmF3X2lk
bGUoKQ0KICAgICAgICAgICAgICAgIHJldHVybg0KDQogICAgICAgICAgICAjIOWxleekuueql+WP
o++8iOenku+8iQ0KICAgICAgICAgICAgd2luX3MgPSBtYXgoMTAuMCwgc2FmZV9mbG9hdChzZWxm
LnBsb3Rfd2luZG93X3MuZ2V0KCksIDEyMC4wKSBvciAxMjAuMCkNCg0KICAgICAgICAgICAgIyDn
vJPlhrIgLT4g5YiX6KGoDQogICAgICAgICAgICB3aXRoIHNlbGYuaGlzdG9yeV9sb2NrOg0KICAg
ICAgICAgICAgICAgIHRfYWxsID0gbGlzdChzZWxmLnRfYnVmKQ0KICAgICAgICAgICAgeVRfYWxs
ID0gbGlzdChzZWxmLnRlbXBfYnVmKQ0KICAgICAgICAgICAgeUhlUF9hbGwgPSBsaXN0KHNlbGYu
cG93ZXJfYnVmKQ0KICAgICAgICAgICAgeVRhcl9hbGwgPSBsaXN0KHNlbGYudGFyZ2V0X2J1ZikN
CiAgICAgICAgICAgIHlQdW1wUF9hbGwgPSBsaXN0KGdldGF0dHIoc2VsZiwgInB1bXBfcF9idWYi
LCBbXSkpDQoNCiAgICAgICAgICAgICMg5pe26Ze05a+56b2Q5Yiw4oCc5b2T5YmN4oCdDQogICAg
ICAgICAgICAjIOKAlOKAlCDkvb/nlKjph4fpm4botbfngrnkuLrpm7bngrnnmoTml7bpl7TovbTv
vIjljZXosIPpgJLlop7vvIzkuI3kvJrooqvnqpflj6Pnp7vliqjigJzph43nva7igJ3vvInigJTi
gJQNCiAgICAgICAgICAgIHggPSBsaXN0KHRfYWxsKSAgIyB0X2J1ZiDph4zlrZjnmoTlsLHmmK/k
u47ph4fpm4botbfngrnntK/orqHnmoTnm7jlr7nnp5IgdF9yZWwNCg0KICAgICAgICAgICAgaWYg
c2VsZi5hY3FfcnVubmluZyBhbmQgc2VsZi5fYWNxX3QwIGlzIG5vdCBOb25lIGFuZCB4Og0KICAg
ICAgICAgICAgICAgICMg6K6p57q/5p2h4oCc6Lef5omL4oCd77ya6Iul5b2T5YmN5pe25Yi75bey
6LaF6L+H5pyA5ZCO5LiA5Liq5qC35pys77yM5YiZ6KGl5LiA5Liq4oCc5Yiw546w5Zyo4oCd55qE
54K5DQogICAgICAgICAgICAgICAgeF9ub3dfcmVsID0gKG5vdyAtIHNlbGYuX2FjcV90MCkNCiAg
ICAgICAgICAgICAgICBpZiB4X25vd19yZWwgPiB4Wy0xXSArIDFlLTk6DQogICAgICAgICAgICAg
ICAgICAgIHhfZGlzcCA9IHggKyBbeF9ub3dfcmVsXQ0KICAgICAgICAgICAgICAgICAgICB5VF9k
aXNwID0geVRfYWxsICsgW3lUX2FsbFstMV1dDQogICAgICAgICAgICAgICAgICAgIHlIZVBfZGlz
cCA9IHlIZVBfYWxsICsgW3lIZVBfYWxsWy0xXV0NCiAgICAgICAgICAgICAgICAgICAgeVRhcl9k
aXNwID0geVRhcl9hbGwgKyBbeVRhcl9hbGxbLTFdXQ0KICAgICAgICAgICAgICAgICAgICBpZiB5
UHVtcFBfYWxsOg0KICAgICAgICAgICAgICAgICAgICAgICAgeVB1bXBQX2FsbCA9IHlQdW1wUF9h
bGwgKyBbeVB1bXBQX2FsbFstMV1dDQogICAgICAgICAgICAgICAgZWxzZToNCiAgICAgICAgICAg
ICAgICAgICAgeF9kaXNwLCB5VF9kaXNwLCB5SGVQX2Rpc3AsIHlUYXJfZGlzcCA9IHgsIHlUX2Fs
bCwgeUhlUF9hbGwsIHlUYXJfYWxsDQogICAgICAgICAgICBlbHNlOg0KICAgICAgICAgICAgICAg
IHhfZGlzcCwgeVRfZGlzcCwgeUhlUF9kaXNwLCB5VGFyX2Rpc3AgPSB4LCB5VF9hbGwsIHlIZVBf
YWxsLCB5VGFyX2FsbA0KDQogICAgICAgICAgICAjIOaIqueql+WPow0KICAgICAgICAgICAgeG1p
bl93aW4gPSBtYXgoMC4wLCAoeF9kaXNwWy0xXSBpZiB4X2Rpc3AgZWxzZSAwLjApIC0gd2luX3Mp
DQogICAgICAgICAgICBpMCA9IDANCiAgICAgICAgICAgIGZvciBpIGluIHJhbmdlKGxlbih4X2Rp
c3ApIC0gMSwgLTEsIC0xKToNCiAgICAgICAgICAgICAgICBpZiB4X2Rpc3BbaV0gPCB4bWluX3dp
bjoNCiAgICAgICAgICAgICAgICAgICAgaTAgPSBpICsgMQ0KICAgICAgICAgICAgICAgICAgICBi
cmVhaw0KICAgICAgICAgICAgeHcgPSB4X2Rpc3BbaTA6XTsNCiAgICAgICAgICAgIHlUdyA9IHlU
X2Rpc3BbaTA6XTsNCiAgICAgICAgICAgIHlIZVB3ID0geUhlUF9kaXNwW2kwOl07DQogICAgICAg
ICAgICB5VGFydyA9IHlUYXJfZGlzcFtpMDpdDQogICAgICAgICAgICBwdW1wUHdfcmF3ID0geVB1
bXBQX2FsbFtpMDpdIGlmIHlQdW1wUF9hbGwgZWxzZSBbXQ0KDQogICAgICAgICAgICAjIOmhtumD
qO+8mua4qeW6pi/nm67moIcgKyDmnIDov5Hnqpflj6Pnur/mgKfmi5/lkIgNCiAgICAgICAgICAg
IHNlbGYubGluZV90ZW1wLnNldF9kYXRhKHh3LCB5VHcpDQogICAgICAgICAgICBzZWxmLmxpbmVf
dGFyZ2V0LnNldF9kYXRhKHh3LCB5VGFydykNCg0KICAgICAgICAgICAgZml0X3dpbiA9IG1heCg1
LjAsIHNhZmVfZmxvYXQoc2VsZi5maXRfd2luZG93X3MuZ2V0KCksIDQwLjApIG9yIDQwLjApDQog
ICAgICAgICAgICBpZiB4dzoNCiAgICAgICAgICAgICAgICB0X25vd19yZWwgPSB4d1stMV0NCiAg
ICAgICAgICAgICAgICB0X21pbiA9IHRfbm93X3JlbCAtIGZpdF93aW4NCiAgICAgICAgICAgICAg
ICBqMCA9IDANCiAgICAgICAgICAgICAgICBmb3IgaiBpbiByYW5nZShsZW4oeHcpIC0gMSwgLTEs
IC0xKToNCiAgICAgICAgICAgICAgICAgICAgaWYgeHdbal0gPCB0X21pbjoNCiAgICAgICAgICAg
ICAgICAgICAgICAgIGowID0gaiArIDENCiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrDQog
ICAgICAgICAgICAgICAgeHMsIHlzID0gW10sIFtdDQogICAgICAgICAgICAgICAgZm9yIHR4LCB0
eSBpbiB6aXAoeHdbajA6XSwgeVR3W2owOl0pOg0KICAgICAgICAgICAgICAgICAgICBpZiB0eSBp
cyBub3QgTm9uZSBhbmQgbm90IGlzbmFuKHR5KToNCiAgICAgICAgICAgICAgICAgICAgICAgIHhz
LmFwcGVuZCh0eCk7DQogICAgICAgICAgICAgICAgICAgICAgICB5cy5hcHBlbmQodHkpDQogICAg
ICAgICAgICAgICAgaWYgbGVuKHhzKSA+PSAyOg0KICAgICAgICAgICAgICAgICAgICBuID0gZmxv
YXQobGVuKHhzKSkNCiAgICAgICAgICAgICAgICAgICAgc3ggPSBzdW0oeHMpOw0KICAgICAgICAg
ICAgICAgICAgICBzeSA9IHN1bSh5cykNCiAgICAgICAgICAgICAgICAgICAgc3h4ID0gc3VtKHh4
ICogeHggZm9yIHh4IGluIHhzKQ0KICAgICAgICAgICAgICAgICAgICBzeHkgPSBzdW0oeHggKiB5
eSBmb3IgeHgsIHl5IGluIHppcCh4cywgeXMpKQ0KICAgICAgICAgICAgICAgICAgICBkZW5vbSA9
IG4gKiBzeHggLSBzeCAqIHN4DQogICAgICAgICAgICAgICAgICAgIGlmIGFicyhkZW5vbSkgPiAx
ZS05Og0KICAgICAgICAgICAgICAgICAgICAgICAgYSA9IChuICogc3h5IC0gc3ggKiBzeSkgLyBk
ZW5vbSAgIyDCsEMvcw0KICAgICAgICAgICAgICAgICAgICAgICAgYiA9IChzeSAtIGEgKiBzeCkg
LyBuDQogICAgICAgICAgICAgICAgICAgICAgICB4Zml0ID0gW3hzWzBdLCB4c1stMV1dDQogICAg
ICAgICAgICAgICAgICAgICAgICB5Zml0ID0gW2EgKiB4Zml0WzBdICsgYiwgYSAqIHhmaXRbMV0g
KyBiXQ0KICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi5saW5lX2ZpdC5zZXRfZGF0YSh4Zml0
LCB5Zml0KQ0KICAgICAgICAgICAgICAgICAgICAgICAgdHJ5Og0KICAgICAgICAgICAgICAgICAg
ICAgICAgICAgIHNlbGYuZml0X3Nsb3BlLnNldChmInthICogNjAuMDouM2Z9IikgICMgwrBDL21p
bg0KICAgICAgICAgICAgICAgICAgICAgICAgZXhjZXB0IEV4Y2VwdGlvbjoNCiAgICAgICAgICAg
ICAgICAgICAgICAgICAgICBwYXNzDQogICAgICAgICAgICAgICAgICAgIGVsc2U6DQogICAgICAg
ICAgICAgICAgICAgICAgICBzZWxmLmxpbmVfZml0LnNldF9kYXRhKFtdLCBbXSkNCiAgICAgICAg
ICAgICAgICAgICAgICAgIHRyeToNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZWxmLmZp
dF9zbG9wZS5zZXQoIjAuMDAwIikNCiAgICAgICAgICAgICAgICAgICAgICAgIGV4Y2VwdCBFeGNl
cHRpb246DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgcGFzcw0KDQogICAgICAgICAgICAj
IOW3puS4i++8muWKoOeDreWKn+eOhw0KICAgICAgICAgICAgc2VsZi5saW5lX3Bvd2VyLnNldF9k
YXRhKHh3LCB5SGVQdykNCg0KICAgICAgICAgICAgIyDlj7PkuIvvvJrms7Xlip/njofvvIjiiaUw
77yM6L275bqm5bmz5ruR77yJDQogICAgICAgICAgICBwdW1wUHcgPSBbXQ0KICAgICAgICAgICAg
Zm9yIHYgaW4gcHVtcFB3X3JhdzoNCiAgICAgICAgICAgICAgICBpZiB2IGlzIE5vbmUgb3IgKGlz
aW5zdGFuY2UodiwgZmxvYXQpIGFuZCBpc25hbih2KSk6DQogICAgICAgICAgICAgICAgICAgIHB1
bXBQdy5hcHBlbmQoTm9uZSkNCiAgICAgICAgICAgICAgICBlbHNlOg0KICAgICAgICAgICAgICAg
ICAgICB2diA9IGZsb2F0KHYpDQogICAgICAgICAgICAgICAgICAgIGlmIHZ2IDwgMC4wIG9yIHZ2
ID4gMTAwMC4wOg0KICAgICAgICAgICAgICAgICAgICAgICAgcHVtcFB3LmFwcGVuZChOb25lKQ0K
ICAgICAgICAgICAgICAgICAgICBlbHNlOg0KICAgICAgICAgICAgICAgICAgICAgICAgcHVtcFB3
LmFwcGVuZCh2dikNCiAgICAgICAgICAgIHB1bXBQdyA9IF9zbW9vdGhfbWEocHVtcFB3LCBrPTUp
DQoNCiAgICAgICAgICAgIG4gPSBtaW4obGVuKHh3KSwgbGVuKHB1bXBQdykpDQogICAgICAgICAg
ICBpZiBuID4gMDoNCiAgICAgICAgICAgICAgICBzZWxmLmxpbmVfcHVtcC5zZXRfZGF0YSh4d1s6
bl0sIHB1bXBQd1s6bl0pDQogICAgICAgICAgICAgICAgc2VsZi5saW5lX3B1bXAuc2V0X3Zpc2li
bGUoVHJ1ZSkNCiAgICAgICAgICAgIGVsc2U6DQogICAgICAgICAgICAgICAgc2VsZi5saW5lX3B1
bXAuc2V0X2RhdGEoW10sIFtdKQ0KICAgICAgICAgICAgICAgIHNlbGYubGluZV9wdW1wLnNldF92
aXNpYmxlKFRydWUpDQoNCiAgICAgICAgICAgICMg57uf5LiAIFgg6L206IyD5Zu0DQogICAgICAg
ICAgICB4bWF4ID0geHdbLTFdIGlmIHh3IGVsc2Ugd2luX3MNCiAgICAgICAgICAgIHhtaW4gPSBt
YXgoMC4wLCB4bWF4IC0gd2luX3MpDQogICAgICAgICAgICBzZWxmLmF4X3RlbXAuc2V0X3hsaW0o
eG1pbiwgeG1heCkNCiAgICAgICAgICAgIHNlbGYuYXhfcG93ZXIuc2V0X3hsaW0oeG1pbiwgeG1h
eCkNCiAgICAgICAgICAgIHNlbGYuYXhfcHVtcC5zZXRfeGxpbSh4bWluLCB4bWF4KQ0KICAgICAg
ICAgICAgaWYgaGFzYXR0cihzZWxmLCAiYXhfcHVtcDIiKSBhbmQgc2VsZi5heF9wdW1wMjoNCiAg
ICAgICAgICAgICAgICB0cnk6DQogICAgICAgICAgICAgICAgICAgIHNlbGYuYXhfcHVtcDIuc2V0
X3hsaW0oeG1pbiwgeG1heCkNCiAgICAgICAgICAgICAgICAgICAgc2VsZi5heF9wdW1wMi5zZXRf
eWxhYmVsKCIiKQ0KICAgICAgICAgICAgICAgICAgICBzZWxmLmF4X3B1bXAyLmdldF95YXhpcygp
LnNldF92aXNpYmxlKEZhbHNlKQ0KICAgICAgICAgICAgICAgIGV4Y2VwdCBFeGNlcHRpb246DQog
ICAgICAgICAgICAgICAgICAgIHBhc3MNCg0KICAgICAgICAgICAgIyDigJTigJQgWSDovbTojIPl
m7TorqHnrpfigJzpmZDpopHigJ3vvJrmnIDlpJogMC4zMHMg5pS55LiA5qyhIHlsaW0g4oCU4oCU
ICMNCiAgICAgICAgICAgIGlmIG5vdyAtIGdldGF0dHIoc2VsZiwgIl9sYXN0X3lsaW1fdXBkIiwg
MC4wKSA+IDAuMzA6DQogICAgICAgICAgICAgICAgIyDpobbpg6jvvJrmuKnluqbkuI7nm67moIfn
ur8NCiAgICAgICAgICAgICAgICB2YWxzX3QgPSBbXQ0KICAgICAgICAgICAgICAgIHZhbHNfdCAr
PSBbdiBmb3IgdiBpbiB5VHcgaWYgKHYgaXMgbm90IE5vbmUgYW5kIG5vdCBpc25hbih2KSldDQog
ICAgICAgICAgICAgICAgdmFsc190ICs9IFt2IGZvciB2IGluIHlUYXJ3IGlmICh2IGlzIG5vdCBO
b25lIGFuZCBub3QgaXNuYW4odikpXQ0KICAgICAgICAgICAgICAgIHIgPSBfcm9idXN0X3lsaW0o
dmFsc190LCBwYWRfZnJhYz0wLjEwLCBwYWRfYWJzPTAuMzAsIG1pbl9zcGFuPTAuODAsIGZsb29y
MD1GYWxzZSkNCiAgICAgICAgICAgICAgICBpZiByOg0KICAgICAgICAgICAgICAgICAgICBzZWxm
LmF4X3RlbXAuc2V0X3lsaW0oKnIpDQoNCiAgICAgICAgICAgICAgICAjIOW3puS4i++8muWKoOeD
reWKn+eOh++8iOKJpTDvvIkNCiAgICAgICAgICAgICAgICByID0gX3JvYnVzdF95bGltKFt2IGZv
ciB2IGluIHlIZVB3IGlmICh2IGlzIG5vdCBOb25lIGFuZCBub3QgaXNuYW4odikpXSwNCiAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhZF9mcmFjPTAuMTIsIHBhZF9hYnM9MS4wLCBt
aW5fc3Bhbj01LjAsIGZsb29yMD1UcnVlKQ0KICAgICAgICAgICAgICAgIGlmIHI6DQogICAgICAg
ICAgICAgICAgICAgIHNlbGYuYXhfcG93ZXIuc2V0X3lsaW0oKnIpDQoNCiAgICAgICAgICAgICAg
ICAjIOWPs+S4i++8muazteWKn+eOh++8iOKJpTDvvIkNCiAgICAgICAgICAgICAgICByID0gX3Jv
YnVzdF95bGltKHB1bXBQdywgcGFkX2ZyYWM9MC4xMiwgcGFkX2Ficz0xLjAsIG1pbl9zcGFuPTUu
MCwgZmxvb3IwPVRydWUpDQogICAgICAgICAgICAgICAgaWYgcjoNCiAgICAgICAgICAgICAgICAg
ICAgc2VsZi5heF9wdW1wLnNldF95bGltKCpyKQ0KDQogICAgICAgICAgICAgICAgc2VsZi5fbGFz
dF95bGltX3VwZCA9IG5vdw0KDQogICAgICAgICAgICB0cnk6DQogICAgICAgICAgICAgICAgc2Vs
Zi5heF9wdW1wLmxlZ2VuZChsb2M9InVwcGVyIHJpZ2h0IiwgZm9udHNpemU9OCkNCiAgICAgICAg
ICAgIGV4Y2VwdCBFeGNlcHRpb246DQogICAgICAgICAgICAgICAgcGFzcw0KDQogICAgICAgICAg
ICBzZWxmLmNhbnZhcy5kcmF3X2lkbGUoKQ0KDQogICAgICAgIGV4Y2VwdCBFeGNlcHRpb24gYXMg
ZToNCiAgICAgICAgICAgIHRyeToNCiAgICAgICAgICAgICAgICBzZWxmLl9zZXRfc3RhdHVzKGYi
57uY5Zu+5byC5bi477yae2V9IikNCiAgICAgICAgICAgIGV4Y2VwdCBFeGNlcHRpb246DQogICAg
ICAgICAgICAgICAgcGFzcw0KDQogICAgZGVmIF9jbGVhcl9wbG90KHNlbGYpOg0KICAgICAgICB3
aXRoIHNlbGYuaGlzdG9yeV9sb2NrOg0KICAgICAgICAgICAgc2VsZi50X2J1Zi5jbGVhcigpOw0K
ICAgICAgICAgICAgc2VsZi50ZW1wX2J1Zi5jbGVhcigpOw0KICAgICAgICAgICAgc2VsZi5wb3dl
cl9idWYuY2xlYXIoKQ0KICAgICAgICAgICAgc2VsZi5lcnJfYnVmLmNsZWFyKCk7DQogICAgICAg
ICAgICBzZWxmLnRhcmdldF9idWYuY2xlYXIoKQ0KICAgICAgICAgICAgaWYgaGFzYXR0cihzZWxm
LCAicHVtcF92X2J1ZiIpOiBzZWxmLnB1bXBfdl9idWYuY2xlYXIoKQ0KICAgICAgICAgICAgaWYg
aGFzYXR0cihzZWxmLCAicHVtcF9pX2J1ZiIpOiBzZWxmLnB1bXBfaV9idWYuY2xlYXIoKQ0KICAg
ICAgICAgICAgaWYgaGFzYXR0cihzZWxmLCAicHVtcF9wX2J1ZiIpOiBzZWxmLnB1bXBfcF9idWYu
Y2xlYXIoKQ0KDQogICAgICAgIHNlbGYubGluZV90ZW1wLnNldF9kYXRhKFtdLCBbXSkNCiAgICAg
ICAgc2VsZi5saW5lX3Bvd2VyLnNldF9kYXRhKFtdLCBbXSkNCiAgICAgICAgc2VsZi5saW5lX3Rh
cmdldC5zZXRfZGF0YShbXSwgW10pDQogICAgICAgIHNlbGYubGluZV9maXQuc2V0X2RhdGEoW10s
IFtdKQ0KICAgICAgICBpZiBoYXNhdHRyKHNlbGYsICJsaW5lX3B1bXBfdiIpOiBzZWxmLmxpbmVf
cHVtcF92LnNldF9kYXRhKFtdLCBbXSkNCiAgICAgICAgaWYgaGFzYXR0cihzZWxmLCAibGluZV9w
dW1wX2kiKTogc2VsZi5saW5lX3B1bXBfaS5zZXRfZGF0YShbXSwgW10pDQogICAgICAgIGlmIGhh
c2F0dHIoc2VsZiwgImxpbmVfcHVtcF9wIik6IHNlbGYubGluZV9wdW1wX3Auc2V0X2RhdGEoW10s
IFtdKQ0KDQogICAgICAgIHNlbGYuYXhfdGVtcC5yZWxpbSgpOw0KICAgICAgICBzZWxmLmF4X3Rl
bXAuYXV0b3NjYWxlX3ZpZXcoKQ0KICAgICAgICBzZWxmLmF4X3Bvd2VyLnJlbGltKCk7DQogICAg
ICAgIHNlbGYuYXhfcG93ZXIuYXV0b3NjYWxlX3ZpZXcoKQ0KICAgICAgICBpZiBoYXNhdHRyKHNl
bGYsICJheF9wdW1wIik6IHNlbGYuYXhfcHVtcC5yZWxpbSgpOyBzZWxmLmF4X3B1bXAuYXV0b3Nj
YWxlX3ZpZXcoKQ0KICAgICAgICBpZiBoYXNhdHRyKHNlbGYsICJheF9wdW1wMiIpOiBzZWxmLmF4
X3B1bXAyLnJlbGltKCk7IHNlbGYuYXhfcHVtcDIuYXV0b3NjYWxlX3ZpZXcoKQ0KICAgICAgICBz
ZWxmLmNhbnZhcy5kcmF3X2lkbGUoKQ0KDQogICAgIyAtLS0tLS0tLS0tIOmFjee9ruS/neWtmC/o
r7vlj5YgLS0tLS0tLS0tLQ0KICAgIGRlZiBfc2F2ZV9jb25maWcoc2VsZik6DQogICAgICAgIGRl
ZiBzMmkodiwgZGVmYXVsdD0wKToNCiAgICAgICAgICAgIHRyeToNCiAgICAgICAgICAgICAgICBz
ID0gdi5nZXQoKSBpZiBoYXNhdHRyKHYsICJnZXQiKSBlbHNlIHYNCiAgICAgICAgICAgIGV4Y2Vw
dCBFeGNlcHRpb246DQogICAgICAgICAgICAgICAgcyA9IHYNCiAgICAgICAgICAgIHMgPSAiIiBp
ZiBzIGlzIE5vbmUgZWxzZSBzdHIocykuc3RyaXAoKQ0KICAgICAgICAgICAgaWYgcyA9PSAiIjoN
CiAgICAgICAgICAgICAgICByZXR1cm4gaW50KGRlZmF1bHQpDQogICAgICAgICAgICB0cnk6DQog
ICAgICAgICAgICAgICAgcmV0dXJuIGludChmbG9hdChzKSkNCiAgICAgICAgICAgIGV4Y2VwdCBF
eGNlcHRpb246DQogICAgICAgICAgICAgICAgcmV0dXJuIGludChkZWZhdWx0KQ0KDQogICAgICAg
IGRlZiBzdmFsKHYpOg0KICAgICAgICAgICAgdHJ5Og0KICAgICAgICAgICAgICAgIHMgPSB2Lmdl
dCgpIGlmIGhhc2F0dHIodiwgImdldCIpIGVsc2Ugdg0KICAgICAgICAgICAgZXhjZXB0IEV4Y2Vw
dGlvbjoNCiAgICAgICAgICAgICAgICBzID0gdg0KICAgICAgICAgICAgcyA9ICIiIGlmIHMgaXMg
Tm9uZSBlbHNlIHN0cihzKQ0KICAgICAgICAgICAgcmV0dXJuIHMuc3RyaXAoKQ0KDQogICAgICAg
IGNmZyA9IHsNCiAgICAgICAgICAgICJwc3VfcG9ydCI6IHN2YWwoc2VsZi5wc3VfcG9ydCksDQog
ICAgICAgICAgICAicHN1X2JhdWQiOiBzMmkoc2VsZi5wc3VfYmF1ZCwgUFNVX0JBVUQpLA0KICAg
ICAgICAgICAgInBzdV9hZGRyIjogczJpKHNlbGYuYWRkcl9wc3UsIFBTVV9BRERSX0RFRkFVTFQp
LA0KICAgICAgICAgICAgInRjbV9wb3J0Ijogc3ZhbChzZWxmLnRjbV9wb3J0KSwNCiAgICAgICAg
ICAgICJ0Y21fYmF1ZCI6IHMyaShzZWxmLnRjbV9iYXVkLCBUQ01fQkFVRCksDQogICAgICAgICAg
ICAidGNtX2FkZHIiOiBzMmkoc2VsZi5hZGRyX3RjbSwgVENNX0FERFJfREVGQVVMVCksDQogICAg
ICAgICAgICAicmVsYXlfcG9ydCI6IHN2YWwoc2VsZi5yZWxheV9wb3J0KSwNCiAgICAgICAgICAg
ICJyZWxheV9iYXVkIjogczJpKHNlbGYucmVsYXlfYmF1ZCwgOTYwMCksDQogICAgICAgICAgICAi
cmVsYXlfY2hhbiI6IHMyaShzZWxmLnJlbGF5X2NoYW4sIDEpLA0KDQogICAgICAgICAgICAia3Ai
OiBzZWxmLmtwLmdldCgpLCAia2kiOiBzZWxmLmtpLmdldCgpLCAia2QiOiBzZWxmLmtkLmdldCgp
LA0KICAgICAgICAgICAgInNhbXBsZV9oeiI6IHNlbGYuc2FtcGxlX2h6LmdldCgpLA0KICAgICAg
ICAgICAgInZfbGltaXQiOiBzZWxmLnZfbGltaXQuZ2V0KCksDQogICAgICAgICAgICAic2xld192
cHMiOiBzZWxmLnNsZXdfdnBzLmdldCgpLA0KICAgICAgICAgICAgInBsb3Rfd2luZG93X3MiOiBz
ZWxmLnBsb3Rfd2luZG93X3MuZ2V0KCksDQogICAgICAgICAgICAidWlfcmVmcmVzaF9tcyI6IHNl
bGYudWlfcmVmcmVzaF9tcy5nZXQoKSwNCiAgICAgICAgICAgICJ0YXJnZXRfdGVtcF9zdHIiOiBz
ZWxmLnRhcmdldF90ZW1wLmdldCgpLA0KICAgICAgICAgICAgInRhcmdldF90ZW1wIjogZ2V0YXR0
cihzZWxmLCAiX2xhc3RfdmFsaWRfdGFyZ2V0Iiwgc2FmZV9mbG9hdChzZWxmLnRhcmdldF90ZW1w
LmdldCgpLCAyNS4wKSBvciAyNS4wKSwNCiAgICAgICAgICAgICJ0ZW1wX3RhdSI6IHNlbGYudGVt
cF90YXUuZ2V0KCksDQogICAgICAgICAgICAiYWNjX3dpbmRvd19zIjogc2VsZi5hY2Nfd2luZG93
X3MuZ2V0KCksDQogICAgICAgICAgICAiYWNjX3RvbCI6IHNlbGYuYWNjX3RvbC5nZXQoKSwNCiAg
ICAgICAgICAgICJmaXRfd2luZG93X3MiOiBzZWxmLmZpdF93aW5kb3dfcy5nZXQoKSwNCiAgICAg
ICAgICAgICJyYW1wX3N0YXJ0Ijogc2VsZi5yYW1wX3N0YXJ0LmdldCgpLA0KICAgICAgICAgICAg
InJhbXBfZW5kIjogc2VsZi5yYW1wX2VuZC5nZXQoKSwNCiAgICAgICAgICAgICJyYW1wX3JhdGUi
OiBzZWxmLnJhbXBfcmF0ZS5nZXQoKSwNCiAgICAgICAgICAgICJyYW1wX2hvbGRfbWluIjogc2Vs
Zi5yYW1wX2hvbGRfbWluLmdldCgpLA0KICAgICAgICAgICAgImNzdl9kaXIiOiBzZWxmLmNzdl9k
aXIuZ2V0KCksDQogICAgICAgICAgICAibWFlX3N0YWJsZV90aHIiOiBzZWxmLm1hZV9zdGFibGVf
dGhyLmdldCgpLA0KICAgICAgICAgICAgInNsb3BlX3N0YXJ0X3Rocl9jcG0iOiBzZWxmLnNsb3Bl
X3N0YXJ0X3Rocl9jcG0uZ2V0KCksDQogICAgICAgICAgICAic2xvcGVfc3RvcF90aHJfY3BtIjog
c2VsZi5zbG9wZV9zdG9wX3Rocl9jcG0uZ2V0KCksDQoNCiAgICAgICAgICAgICJhdXRvX2NsaWNr
X2VuYWJsZSI6IGJvb2woc2VsZi5hdXRvX2NsaWNrX2VuYWJsZS5nZXQoKSksDQogICAgICAgICAg
ICAiYXV0b19jbGlja194IjogczJpKHNlbGYuYXV0b19jbGlja194LCAwKSwNCiAgICAgICAgICAg
ICJhdXRvX2NsaWNrX3kiOiBzMmkoc2VsZi5hdXRvX2NsaWNrX3ksIDApLAogICAgICAgICAgICAi
YXV0b19jbGlja19idXR0b24iOiBzZWxmLmF1dG9fY2xpY2tfYnV0dG9uLmdldCgpLAogICAgICAg
ICAgICAiYXV0b19jbGlja19kb3VibGUiOiBib29sKHNlbGYuYXV0b19jbGlja19kb3VibGUuZ2V0
KCkpLAogICAgICAgICAgICAiYXV0b19jbGlja19kZWxheV9tcyI6IHMyaShzZWxmLmF1dG9fY2xp
Y2tfZGVsYXlfbXMsIDApLAoKICAgICAgICAgICAgInBpeGVsX2RldGVjdGlvbl9lbmFibGVkIjog
Ym9vbChzZWxmLnBpeGVsX2RldGVjdGlvbl9lbmFibGVkLmdldCgpKSwKICAgICAgICAgICAgInBp
eGVsX2RldGVjdGlvbl9yZWdpb24iOiBsaXN0KHNlbGYucGl4ZWxfZGV0ZWN0aW9uX3JlZ2lvbikg
aWYgc2VsZi5waXhlbF9kZXRlY3Rpb25fcmVnaW9uIGVsc2UgTm9uZSwKICAgICAgICAgICAgInBp
eGVsX3NlbnNpdGl2aXR5Ijogc2VsZi5waXhlbF9zZW5zaXRpdml0eV92YXIuZ2V0KCksCiAgICAg
ICAgICAgICJwaXhlbF90aW1lb3V0Ijogc2VsZi5waXhlbF90aW1lb3V0X3Zhci5nZXQoKSwKICAg
ICAgICAgICAgInBpeGVsX2xvZ19lbmFibGVkIjogYm9vbChzZWxmLnBpeGVsX2xvZ19lbmFibGVk
LmdldCgpKSwKICAgICAgICAgICAgInBpeGVsX2NsaWNrX2Nvb2xkb3duIjogczJpKHNlbGYucGl4
ZWxfY2xpY2tfY29vbGRvd25fdmFyLCAyMDAwKSwKICAgICAgICAgICAgImRldGVjdGlvbl9pbnRl
cnZhbCI6IHMyaShzZWxmLmRldGVjdGlvbl9pbnRlcnZhbF92YXIsIDEwMDApLAoNCiAgICAgICAg
ICAgICMgPT09IOaWsOWinu+8muW+queOr+azteaMgeS5heWMliA9PT0NCiAgICAgICAgICAgICJw
dW1wX3BvcnQiOiBzdmFsKHNlbGYucHVtcF9wb3J0KSwNCiAgICAgICAgICAgICJwdW1wX2JhdWQi
OiBzMmkoc2VsZi5wdW1wX2JhdWQsIFBVTVBfQkFVRCksDQogICAgICAgICAgICAicHVtcF9hZGRy
IjogczJpKHNlbGYuYWRkcl9wdW1wLCBQVU1QX0FERFJfREVGQVVMVCksDQogICAgICAgICAgICAi
cHVtcF92bWluIjogc2VsZi5wdW1wX3ZtaW4uZ2V0KCksDQogICAgICAgICAgICAicHVtcF92bWF4
Ijogc2VsZi5wdW1wX3ZtYXguZ2V0KCksDQogICAgICAgICAgICAicHVtcF9kZWFkYmFuZCI6IHNl
bGYucHVtcF9kZWFkYmFuZC5nZXQoKSwNCiAgICAgICAgICAgICJwdW1wX3NsZXdfdnBzIjogc2Vs
Zi5wdW1wX3NsZXdfdnBzLmdldCgpLA0KICAgICAgICAgICAgImtwX2Nvb2wiOiBzZWxmLmtwX2Nv
b2wuZ2V0KCksDQogICAgICAgICAgICAia2lfY29vbCI6IHNlbGYua2lfY29vbC5nZXQoKSwNCiAg
ICAgICAgICAgICJrZF9jb29sIjogc2VsZi5rZF9jb29sLmdldCgpLA0KDQogICAgICAgICAgICAj
IOKAlOKAlCBQV00g55u45YWzIOKAlOKAlA0KICAgICAgICAgICAgInB1bXBfcHdtX2VuYWJsZSI6
IGJvb2woc2VsZi5wdW1wX3B3bV9lbmFibGUuZ2V0KCkpLA0KICAgICAgICAgICAgInB1bXBfcHdt
X2F1dG9fb25faG90diI6IGJvb2woc2VsZi5wdW1wX3B3bV9hdXRvX29uX2hvdHYuZ2V0KCkpLA0K
ICAgICAgICAgICAgInB1bXBfcHdtX2hvdHZfdGhyIjogc2VsZi5wdW1wX3B3bV9ob3R2X3Roci5n
ZXQoKSwNCiAgICAgICAgICAgICJwdW1wX3B3bV9hdXRvX29uX3JhbXBfdXAiOiBib29sKHNlbGYu
cHVtcF9wd21fYXV0b19vbl9yYW1wX3VwLmdldCgpKSwNCiAgICAgICAgICAgICJwdW1wX3B3bV9h
dXRvX2R1dHkiOiBzZWxmLnB1bXBfcHdtX2F1dG9fZHV0eS5nZXQoKSwNCiAgICAgICAgICAgICJw
dW1wX3B3bV9lcnJfdGhyX0MiOiBzZWxmLnB1bXBfcHdtX2Vycl90aHJfQy5nZXQoKSwNCiAgICAg
ICAgICAgICJwdW1wX3B3bV9mcmVxIjogc2VsZi5wdW1wX3B3bV9mcmVxLmdldCgpLA0KICAgICAg
ICAgICAgInB1bXBfcHdtX3Zfb24iOiBzZWxmLnB1bXBfcHdtX3Zfb24uZ2V0KCksDQogICAgICAg
ICAgICAicHVtcF9wd21fdl9vZmYiOiBzZWxmLnB1bXBfcHdtX3Zfb2ZmLmdldCgpLA0KICAgICAg
ICAgICAgInB1bXBfcHdtX2Fsd2F5c19vbl90ZW1wIjogYm9vbChzZWxmLnB1bXBfcHdtX2Fsd2F5
c19vbl90ZW1wLmdldCgpKSwNCiAgICAgICAgICAgICJwdW1wX3B3bV9hbHdheXNfdGVtcF90aHIi
OiBzZWxmLnB1bXBfcHdtX2Fsd2F5c190ZW1wX3Roci5nZXQoKSwNCiAgICAgICAgICAgICJwdW1w
X3B3bV9taW5fZHV0eSI6IHNlbGYucHVtcF9wd21fbWluX2R1dHkuZ2V0KCksDQogICAgICAgIH0N
Cg0KICAgICAgICB0cnk6DQogICAgICAgICAgICBwYXRoID0gZ2V0X2NvbmZpZ19wYXRoKCkNCiAg
ICAgICAgICAgIHBhdGgud3JpdGVfdGV4dChqc29uLmR1bXBzKGNmZywgZW5zdXJlX2FzY2lpPUZh
bHNlLCBpbmRlbnQ9MiksIGVuY29kaW5nPSJ1dGYtOCIpDQogICAgICAgIGV4Y2VwdCBFeGNlcHRp
b246DQogICAgICAgICAgICBwYXNzDQoNCiAgICBkZWYgX2xvYWRfY29uZmlnKHNlbGYpOg0KICAg
ICAgICB0cnk6DQogICAgICAgICAgICBwYXRoID0gZ2V0X2NvbmZpZ19wYXRoKCkNCiAgICAgICAg
ICAgIGlmIG5vdCBwYXRoLmV4aXN0cygpOg0KICAgICAgICAgICAgICAgIHJldHVybg0KICAgICAg
ICAgICAgY2ZnID0ganNvbi5sb2FkcyhwYXRoLnJlYWRfdGV4dChlbmNvZGluZz0idXRmLTgiKSkN
Cg0KICAgICAgICAgICAgZGVmIF9nZXRfc3RyKGtleSwgZGVmYXVsdD0iIik6DQogICAgICAgICAg
ICAgICAgdmFsID0gY2ZnLmdldChrZXksIGRlZmF1bHQpDQogICAgICAgICAgICAgICAgaWYgdmFs
IGlzIE5vbmU6DQogICAgICAgICAgICAgICAgICAgIHJldHVybiAiIg0KICAgICAgICAgICAgICAg
IHJldHVybiBzdHIodmFsKS5zdHJpcCgpDQoNCiAgICAgICAgICAgIGRlZiBfZ2V0X2ludChrZXks
IGRlZmF1bHQpOg0KICAgICAgICAgICAgICAgIHZhbCA9IGNmZy5nZXQoa2V5LCBkZWZhdWx0KQ0K
ICAgICAgICAgICAgICAgIHRyeToNCiAgICAgICAgICAgICAgICAgICAgaWYgaXNpbnN0YW5jZSh2
YWwsIHN0cik6DQogICAgICAgICAgICAgICAgICAgICAgICB2YWwgPSB2YWwuc3RyaXAoKQ0KICAg
ICAgICAgICAgICAgICAgICAgICAgaWYgdmFsID09ICIiOg0KICAgICAgICAgICAgICAgICAgICAg
ICAgICAgIHJldHVybiBpbnQoZGVmYXVsdCkNCiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGlu
dChmbG9hdCh2YWwpKQ0KICAgICAgICAgICAgICAgIGV4Y2VwdCBFeGNlcHRpb246DQogICAgICAg
ICAgICAgICAgICAgIHJldHVybiBpbnQoZGVmYXVsdCkNCg0KICAgICAgICAgICAgc2VsZi5wc3Vf
cG9ydC5zZXQoX2dldF9zdHIoInBzdV9wb3J0Iiwgc2VsZi5wc3VfcG9ydC5nZXQoKSkpDQogICAg
ICAgICAgICBzZWxmLnBzdV9iYXVkLnNldChfZ2V0X2ludCgicHN1X2JhdWQiLCBzZWxmLnBzdV9i
YXVkLmdldCgpKSkNCiAgICAgICAgICAgIHNlbGYuYWRkcl9wc3Uuc2V0KF9nZXRfaW50KCJwc3Vf
YWRkciIsIHNlbGYuYWRkcl9wc3UuZ2V0KCkpKQ0KICAgICAgICAgICAgc2VsZi50Y21fcG9ydC5z
ZXQoX2dldF9zdHIoInRjbV9wb3J0Iiwgc2VsZi50Y21fcG9ydC5nZXQoKSkpDQogICAgICAgICAg
ICBzZWxmLnRjbV9iYXVkLnNldChfZ2V0X2ludCgidGNtX2JhdWQiLCBzZWxmLnRjbV9iYXVkLmdl
dCgpKSkNCiAgICAgICAgICAgIHNlbGYuYWRkcl90Y20uc2V0KF9nZXRfaW50KCJ0Y21fYWRkciIs
IHNlbGYuYWRkcl90Y20uZ2V0KCkpKQ0KICAgICAgICAgICAgc2VsZi5yZWxheV9wb3J0LnNldChf
Z2V0X3N0cigicmVsYXlfcG9ydCIsIHNlbGYucmVsYXlfcG9ydC5nZXQoKSkpDQogICAgICAgICAg
ICBzZWxmLnJlbGF5X2JhdWQuc2V0KF9nZXRfaW50KCJyZWxheV9iYXVkIiwgc2VsZi5yZWxheV9i
YXVkLmdldCgpKSkNCiAgICAgICAgICAgIHNlbGYucmVsYXlfY2hhbi5zZXQoX2dldF9pbnQoInJl
bGF5X2NoYW4iLCBzZWxmLnJlbGF5X2NoYW4uZ2V0KCkpKQ0KDQogICAgICAgICAgICBzZWxmLmtw
LnNldChjZmcuZ2V0KCJrcCIsIHNlbGYua3AuZ2V0KCkpKQ0KICAgICAgICAgICAgc2VsZi5raS5z
ZXQoY2ZnLmdldCgia2kiLCBzZWxmLmtpLmdldCgpKSkNCiAgICAgICAgICAgIHNlbGYua2Quc2V0
KGNmZy5nZXQoImtkIiwgc2VsZi5rZC5nZXQoKSkpDQogICAgICAgICAgICBzZWxmLnNhbXBsZV9o
ei5zZXQoY2ZnLmdldCgic2FtcGxlX2h6Iiwgc2VsZi5zYW1wbGVfaHouZ2V0KCkpKQ0KICAgICAg
ICAgICAgc2VsZi52X2xpbWl0LnNldChjZmcuZ2V0KCJ2X2xpbWl0Iiwgc2VsZi52X2xpbWl0Lmdl
dCgpKSkNCiAgICAgICAgICAgIHNlbGYuc2xld192cHMuc2V0KGNmZy5nZXQoInNsZXdfdnBzIiwg
c2VsZi5zbGV3X3Zwcy5nZXQoKSkpDQogICAgICAgICAgICBzZWxmLnBsb3Rfd2luZG93X3Muc2V0
KGNmZy5nZXQoInBsb3Rfd2luZG93X3MiLCBzZWxmLnBsb3Rfd2luZG93X3MuZ2V0KCkpKQ0KICAg
ICAgICAgICAgc2VsZi51aV9yZWZyZXNoX21zLnNldChjZmcuZ2V0KCJ1aV9yZWZyZXNoX21zIiwg
c2VsZi51aV9yZWZyZXNoX21zLmdldCgpKSkNCiAgICAgICAgICAgIHNlbGYudGVtcF90YXUuc2V0
KGNmZy5nZXQoInRlbXBfdGF1Iiwgc2VsZi50ZW1wX3RhdS5nZXQoKSkpDQogICAgICAgICAgICBz
ZWxmLmFjY193aW5kb3dfcy5zZXQoY2ZnLmdldCgiYWNjX3dpbmRvd19zIiwgc2VsZi5hY2Nfd2lu
ZG93X3MuZ2V0KCkpKQ0KICAgICAgICAgICAgc2VsZi5hY2NfdG9sLnNldChjZmcuZ2V0KCJhY2Nf
dG9sIiwgc2VsZi5hY2NfdG9sLmdldCgpKSkNCiAgICAgICAgICAgIHNlbGYuZml0X3dpbmRvd19z
LnNldChjZmcuZ2V0KCJmaXRfd2luZG93X3MiLCBzZWxmLmZpdF93aW5kb3dfcy5nZXQoKSkpDQog
ICAgICAgICAgICBzZWxmLmNzdl9kaXIuc2V0KGNmZy5nZXQoImNzdl9kaXIiLCBzZWxmLmNzdl9k
aXIuZ2V0KCkpKQ0KDQogICAgICAgICAgICBzZWxmLm1hZV9zdGFibGVfdGhyLnNldChjZmcuZ2V0
KCJtYWVfc3RhYmxlX3RociIsIHNlbGYubWFlX3N0YWJsZV90aHIuZ2V0KCkpKQ0KICAgICAgICAg
ICAgc2VsZi5zbG9wZV9zdGFydF90aHJfY3BtLnNldChjZmcuZ2V0KCJzbG9wZV9zdGFydF90aHJf
Y3BtIiwgc2VsZi5zbG9wZV9zdGFydF90aHJfY3BtLmdldCgpKSkNCiAgICAgICAgICAgIHNlbGYu
c2xvcGVfc3RvcF90aHJfY3BtLnNldChjZmcuZ2V0KCJzbG9wZV9zdG9wX3Rocl9jcG0iLCBzZWxm
LnNsb3BlX3N0b3BfdGhyX2NwbS5nZXQoKSkpDQoNCiAgICAgICAgICAgIHNlbGYuYXV0b19jbGlj
a19lbmFibGUuc2V0KGNmZy5nZXQoImF1dG9fY2xpY2tfZW5hYmxlIiwgc2VsZi5hdXRvX2NsaWNr
X2VuYWJsZS5nZXQoKSkpDQogICAgICAgICAgICBzZWxmLmF1dG9fY2xpY2tfeC5zZXQoc3RyKGNm
Zy5nZXQoImF1dG9fY2xpY2tfeCIsIGludChzZWxmLmF1dG9fY2xpY2tfeC5nZXQoKSBvciAiMCIp
KSkpDQogICAgICAgICAgICBzZWxmLmF1dG9fY2xpY2tfeS5zZXQoc3RyKGNmZy5nZXQoImF1dG9f
Y2xpY2tfeSIsIGludChzZWxmLmF1dG9fY2xpY2tfeS5nZXQoKSBvciAiMCIpKSkpDQogICAgICAg
ICAgICBzZWxmLmF1dG9fY2xpY2tfYnV0dG9uLnNldChjZmcuZ2V0KCJhdXRvX2NsaWNrX2J1dHRv
biIsIHNlbGYuYXV0b19jbGlja19idXR0b24uZ2V0KCkpKQ0KICAgICAgICAgICAgc2VsZi5hdXRv
X2NsaWNrX2RvdWJsZS5zZXQoY2ZnLmdldCgiYXV0b19jbGlja19kb3VibGUiLCBzZWxmLmF1dG9f
Y2xpY2tfZG91YmxlLmdldCgpKSkKICAgICAgICAgICAgc2VsZi5hdXRvX2NsaWNrX2RlbGF5X21z
LnNldCgKICAgICAgICAgICAgICAgIHN0cihjZmcuZ2V0KCJhdXRvX2NsaWNrX2RlbGF5X21zIiwg
aW50KHNlbGYuYXV0b19jbGlja19kZWxheV9tcy5nZXQoKSBvciAiMCIpKSkpCgogICAgICAgICAg
ICBzZWxmLnBpeGVsX2RldGVjdGlvbl9lbmFibGVkLnNldChjZmcuZ2V0KCJwaXhlbF9kZXRlY3Rp
b25fZW5hYmxlZCIsIHNlbGYucGl4ZWxfZGV0ZWN0aW9uX2VuYWJsZWQuZ2V0KCkpKQogICAgICAg
ICAgICByZWdpb24gPSBjZmcuZ2V0KCJwaXhlbF9kZXRlY3Rpb25fcmVnaW9uIikKICAgICAgICAg
ICAgaWYgaXNpbnN0YW5jZShyZWdpb24sIChsaXN0LCB0dXBsZSkpIGFuZCBsZW4ocmVnaW9uKSA9
PSA0OgogICAgICAgICAgICAgICAgc2VsZi5waXhlbF9kZXRlY3Rpb25fcmVnaW9uID0gdHVwbGUo
aW50KHYpIGZvciB2IGluIHJlZ2lvbikKICAgICAgICAgICAgc2VsZi5waXhlbF9zZW5zaXRpdml0
eV92YXIuc2V0KGNmZy5nZXQoInBpeGVsX3NlbnNpdGl2aXR5Iiwgc2VsZi5waXhlbF9zZW5zaXRp
dml0eV92YXIuZ2V0KCkpKQogICAgICAgICAgICBzZWxmLnBpeGVsX3RpbWVvdXRfdmFyLnNldChj
ZmcuZ2V0KCJwaXhlbF90aW1lb3V0Iiwgc2VsZi5waXhlbF90aW1lb3V0X3Zhci5nZXQoKSkpCiAg
ICAgICAgICAgIHNlbGYucGl4ZWxfbG9nX2VuYWJsZWQuc2V0KGNmZy5nZXQoInBpeGVsX2xvZ19l
bmFibGVkIiwgc2VsZi5waXhlbF9sb2dfZW5hYmxlZC5nZXQoKSkpCiAgICAgICAgICAgIHNlbGYu
cGl4ZWxfY2xpY2tfY29vbGRvd25fdmFyLnNldChfZ2V0X2ludCgicGl4ZWxfY2xpY2tfY29vbGRv
d24iLCBzZWxmLnBpeGVsX2NsaWNrX2Nvb2xkb3duX3Zhci5nZXQoKSkpCiAgICAgICAgICAgIHNl
bGYuZGV0ZWN0aW9uX2ludGVydmFsX3Zhci5zZXQoX2dldF9pbnQoImRldGVjdGlvbl9pbnRlcnZh
bCIsIHNlbGYuZGV0ZWN0aW9uX2ludGVydmFsX3Zhci5nZXQoKSkpCgogICAgICAgICAgICAjIOKA
lOKAlCBQV00g55u45YWzIOKAlOKAlAogICAgICAgICAgICBzZWxmLnB1bXBfcHdtX2VuYWJsZS5z
ZXQoY2ZnLmdldCgicHVtcF9wd21fZW5hYmxlIiwgc2VsZi5wdW1wX3B3bV9lbmFibGUuZ2V0KCkp
KQogICAgICAgICAgICBzZWxmLnB1bXBfcHdtX2F1dG9fb25faG90di5zZXQoY2ZnLmdldCgicHVt
cF9wd21fYXV0b19vbl9ob3R2Iiwgc2VsZi5wdW1wX3B3bV9hdXRvX29uX2hvdHYuZ2V0KCkpKQ0K
ICAgICAgICAgICAgc2VsZi5wdW1wX3B3bV9ob3R2X3Roci5zZXQoY2ZnLmdldCgicHVtcF9wd21f
aG90dl90aHIiLCBzZWxmLnB1bXBfcHdtX2hvdHZfdGhyLmdldCgpKSkNCiAgICAgICAgICAgIHNl
bGYucHVtcF9wd21fYXV0b19vbl9yYW1wX3VwLnNldChjZmcuZ2V0KCJwdW1wX3B3bV9hdXRvX29u
X3JhbXBfdXAiLCBzZWxmLnB1bXBfcHdtX2F1dG9fb25fcmFtcF91cC5nZXQoKSkpDQogICAgICAg
ICAgICBzZWxmLnB1bXBfcHdtX2F1dG9fZHV0eS5zZXQoY2ZnLmdldCgicHVtcF9wd21fYXV0b19k
dXR5Iiwgc2VsZi5wdW1wX3B3bV9hdXRvX2R1dHkuZ2V0KCkpKQ0KICAgICAgICAgICAgc2VsZi5w
dW1wX3B3bV9lcnJfdGhyX0Muc2V0KGNmZy5nZXQoInB1bXBfcHdtX2Vycl90aHJfQyIsIHNlbGYu
cHVtcF9wd21fZXJyX3Rocl9DLmdldCgpKSkNCiAgICAgICAgICAgIHNlbGYucHVtcF9wd21fZnJl
cS5zZXQoY2ZnLmdldCgicHVtcF9wd21fZnJlcSIsIHNlbGYucHVtcF9wd21fZnJlcS5nZXQoKSkp
DQogICAgICAgICAgICBzZWxmLnB1bXBfcHdtX3Zfb24uc2V0KGNmZy5nZXQoInB1bXBfcHdtX3Zf
b24iLCBzZWxmLnB1bXBfcHdtX3Zfb24uZ2V0KCkpKQ0KICAgICAgICAgICAgc2VsZi5wdW1wX3B3
bV92X29mZi5zZXQoY2ZnLmdldCgicHVtcF9wd21fdl9vZmYiLCBzZWxmLnB1bXBfcHdtX3Zfb2Zm
LmdldCgpKSkNCiAgICAgICAgICAgIHNlbGYucHVtcF9wd21fYWx3YXlzX29uX3RlbXAuc2V0KGNm
Zy5nZXQoInB1bXBfcHdtX2Fsd2F5c19vbl90ZW1wIiwNCiAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi5wdW1wX3B3bV9hbHdheXNfb25fdGVt
cC5nZXQoKSkpDQogICAgICAgICAgICBzZWxmLnB1bXBfcHdtX2Fsd2F5c190ZW1wX3Roci5zZXQo
Y2ZnLmdldCgicHVtcF9wd21fYWx3YXlzX3RlbXBfdGhyIiwNCiAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYucHVtcF9wd21fYWx3YXlzX3Rl
bXBfdGhyLmdldCgpKSkNCiAgICAgICAgICAgIHNlbGYucHVtcF9wd21fbWluX2R1dHkuc2V0KGNm
Zy5nZXQoInB1bXBfcHdtX21pbl9kdXR5Iiwgc2VsZi5wdW1wX3B3bV9taW5fZHV0eS5nZXQoKSkp
DQogICAgICAgICAgICAjIOebruagh+a4qeW6puaBouWkjQ0KICAgICAgICAgICAgdF9zdHIgPSBj
ZmcuZ2V0KCJ0YXJnZXRfdGVtcF9zdHIiLCBOb25lKQ0KICAgICAgICAgICAgdF92YWwgPSBjZmcu
Z2V0KCJ0YXJnZXRfdGVtcCIsIE5vbmUpDQogICAgICAgICAgICBpZiB0X3N0ciBpcyBub3QgTm9u
ZToNCiAgICAgICAgICAgICAgICBzZWxmLnRhcmdldF90ZW1wLnNldCh0X3N0cikNCiAgICAgICAg
ICAgICAgICB0ID0gc2FmZV9mbG9hdCh0X3N0ciwgTm9uZSkNCiAgICAgICAgICAgICAgICBpZiB0
IGlzIG5vdCBOb25lOg0KICAgICAgICAgICAgICAgICAgICBzZWxmLl9sYXN0X3ZhbGlkX3Rhcmdl
dCA9IGZsb2F0KHQpDQogICAgICAgICAgICBlbGlmIHRfdmFsIGlzIG5vdCBOb25lOg0KICAgICAg
ICAgICAgICAgIHNlbGYuX2xhc3RfdmFsaWRfdGFyZ2V0ID0gZmxvYXQodF92YWwpDQogICAgICAg
ICAgICAgICAgc2VsZi50YXJnZXRfdGVtcC5zZXQoZiJ7c2VsZi5fbGFzdF92YWxpZF90YXJnZXQ6
LjNmfSIpDQogICAgICAgICAgICBzZWxmLmFjY19pbmZvLnNldCgNCiAgICAgICAgICAgICAgICBm
Iueqlz17c2FmZV9mbG9hdChzZWxmLmFjY193aW5kb3dfcy5nZXQoKSwgMzApOi4wZn0gc++8jOWu
ueW3rj3CsXtzYWZlX2Zsb2F0KHNlbGYuYWNjX3RvbC5nZXQoKSwgMC41KTouMmZ9IMKwQyIpDQoN
CiAgICAgICAgICAgICMgcmFtcA0KICAgICAgICAgICAgc2VsZi5yYW1wX3N0YXJ0LnNldChjZmcu
Z2V0KCJyYW1wX3N0YXJ0Iiwgc2VsZi5yYW1wX3N0YXJ0LmdldCgpKSkNCiAgICAgICAgICAgIHNl
bGYucmFtcF9lbmQuc2V0KGNmZy5nZXQoInJhbXBfZW5kIiwgc2VsZi5yYW1wX2VuZC5nZXQoKSkp
DQogICAgICAgICAgICBzZWxmLnJhbXBfcmF0ZS5zZXQoY2ZnLmdldCgicmFtcF9yYXRlIiwgc2Vs
Zi5yYW1wX3JhdGUuZ2V0KCkpKQ0KICAgICAgICAgICAgc2VsZi5yYW1wX2hvbGRfbWluLnNldChj
ZmcuZ2V0KCJyYW1wX2hvbGRfbWluIiwgc2VsZi5yYW1wX2hvbGRfbWluLmdldCgpKSkNCg0KICAg
ICAgICAgICAgIyA9PT0g5paw5aKe77ya5b6q546v5rO15oGi5aSNID09PQ0KICAgICAgICAgICAg
c2VsZi5wdW1wX3BvcnQuc2V0KF9nZXRfc3RyKCJwdW1wX3BvcnQiLCBzZWxmLnB1bXBfcG9ydC5n
ZXQoKSkpDQogICAgICAgICAgICBzZWxmLnB1bXBfYmF1ZC5zZXQoX2dldF9pbnQoInB1bXBfYmF1
ZCIsIHNlbGYucHVtcF9iYXVkLmdldCgpKSkNCiAgICAgICAgICAgIHNlbGYuYWRkcl9wdW1wLnNl
dChfZ2V0X2ludCgicHVtcF9hZGRyIiwgc2VsZi5hZGRyX3B1bXAuZ2V0KCkpKQ0KICAgICAgICAg
ICAgc2VsZi5wdW1wX3ZtaW4uc2V0KGNmZy5nZXQoInB1bXBfdm1pbiIsIHNlbGYucHVtcF92bWlu
LmdldCgpKSkNCiAgICAgICAgICAgIHNlbGYucHVtcF92bWF4LnNldChjZmcuZ2V0KCJwdW1wX3Zt
YXgiLCBzZWxmLnB1bXBfdm1heC5nZXQoKSkpDQogICAgICAgICAgICBzZWxmLnB1bXBfZGVhZGJh
bmQuc2V0KGNmZy5nZXQoInB1bXBfZGVhZGJhbmQiLCBzZWxmLnB1bXBfZGVhZGJhbmQuZ2V0KCkp
KQ0KICAgICAgICAgICAgc2VsZi5wdW1wX3NsZXdfdnBzLnNldChjZmcuZ2V0KCJwdW1wX3NsZXdf
dnBzIiwgc2VsZi5wdW1wX3NsZXdfdnBzLmdldCgpKSkNCiAgICAgICAgICAgIHNlbGYua3BfY29v
bC5zZXQoY2ZnLmdldCgia3BfY29vbCIsIHNlbGYua3BfY29vbC5nZXQoKSkpDQogICAgICAgICAg
ICBzZWxmLmtpX2Nvb2wuc2V0KGNmZy5nZXQoImtpX2Nvb2wiLCBzZWxmLmtpX2Nvb2wuZ2V0KCkp
KQ0KICAgICAgICAgICAgc2VsZi5rZF9jb29sLnNldChjZmcuZ2V0KCJrZF9jb29sIiwgc2VsZi5r
ZF9jb29sLmdldCgpKSkNCg0KICAgICAgICAgICAgIyDlkI7lj7AgdGFyZ2V0IOWQjOatpQ0KICAg
ICAgICAgICAgd2l0aCBzZWxmLnBhcmFtc19sb2NrOg0KICAgICAgICAgICAgICAgIHNlbGYucGFy
YW1zWyJ0YXJnZXQiXSA9IHNlbGYuX2xhc3RfdmFsaWRfdGFyZ2V0DQoNCiAgICAgICAgICAgIHNl
bGYuX3N5bmNfY2xpY2tfdmFyc190b19lbnRyaWVzKCkNCiAgICAgICAgZXhjZXB0IEV4Y2VwdGlv
bjoNCiAgICAgICAgICAgIHBhc3MNCg0KICAgICMgLS0tLS0tLS0tLSDpgIDlh7rmuIXnkIYgLS0t
LS0tLS0tLQ0KICAgIGRlZiBjbGVhbnVwKHNlbGYpOg0KICAgICAgICAiIiLpgIDlh7rmuIXnkIbv
vJrlronlhajmlLblsL7nur/nqIvjgIHng63plK7jgIFDU1Yg5LiO6K6+5aSH44CCIiIiDQogICAg
ICAgIHRyeToNCiAgICAgICAgICAgICMg4oCU4oCUIOWdkOagh+aLvuWPluS4jiBFbnRlciDop6Pn
u5Eg4oCU4oCUDQogICAgICAgICAgICB0cnk6DQogICAgICAgICAgICAgICAgaWYgZ2V0YXR0cihz
ZWxmLCAiX3BpY2tfcnVubmluZyIsIEZhbHNlKSBhbmQgaGFzYXR0cihzZWxmLCAiX3N0b3BfcGlj
a19jb29yZCIpOg0KICAgICAgICAgICAgICAgICAgICBzZWxmLl9zdG9wX3BpY2tfY29vcmQoKQ0K
ICAgICAgICAgICAgZXhjZXB0IEV4Y2VwdGlvbjoNCiAgICAgICAgICAgICAgICBwYXNzDQoNCiAg
ICAgICAgICAgICMg5YWc5bqV77ya5YWo5bGAIEVudGVyIOeDremUruS4jiBUayDnmoQgPFJldHVy
bj4NCiAgICAgICAgICAgIHRyeToNCiAgICAgICAgICAgICAgICBpZiAna2V5Ym9hcmQnIGluIGds
b2JhbHMoKSBhbmQga2V5Ym9hcmQ6DQogICAgICAgICAgICAgICAgICAgIGlmIGdldGF0dHIoc2Vs
ZiwgIl9rYl9lbnRlcl9pZCIsIE5vbmUpIGlzIG5vdCBOb25lOg0KICAgICAgICAgICAgICAgICAg
ICAgICAgdHJ5Og0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGtleWJvYXJkLnJlbW92ZV9o
b3RrZXkoc2VsZi5fa2JfZW50ZXJfaWQpDQogICAgICAgICAgICAgICAgICAgICAgICBleGNlcHQg
RXhjZXB0aW9uOg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhc3MNCiAgICAgICAgICAg
IGV4Y2VwdCBFeGNlcHRpb246DQogICAgICAgICAgICAgICAgcGFzcw0KICAgICAgICAgICAgdHJ5
Og0KICAgICAgICAgICAgICAgIGlmIGdldGF0dHIoc2VsZiwgIl90a19lbnRlcl9ib3VuZCIsIEZh
bHNlKToNCiAgICAgICAgICAgICAgICAgICAgc2VsZi5yb290LnVuYmluZF9hbGwoJzxSZXR1cm4+
JykNCiAgICAgICAgICAgIGV4Y2VwdCBFeGNlcHRpb246DQogICAgICAgICAgICAgICAgcGFzcw0K
ICAgICAgICAgICAgIyDmuIXnkIbmoIflv5fkvY0NCiAgICAgICAgICAgIHRyeToNCiAgICAgICAg
ICAgICAgICBzZWxmLl9rYl9lbnRlcl9pZCA9IE5vbmUNCiAgICAgICAgICAgICAgICBzZWxmLl90
a19lbnRlcl9ib3VuZCA9IEZhbHNlDQogICAgICAgICAgICAgICAgc2VsZi5fcGlja19ydW5uaW5n
ID0gRmFsc2UNCiAgICAgICAgICAgIGV4Y2VwdCBFeGNlcHRpb246DQogICAgICAgICAgICAgICAg
cGFzcw0KDQogICAgICAgICAgICAjIOKAlOKAlCDlgZzmraLnur/mgKfnqIvluo/vvIjlkKvnur/n
qIsgam9pbiDkuI4gQ1NWIOaUtuWwvu+8ieKAlOKAlA0KICAgICAgICAgICAgdHJ5Og0KICAgICAg
ICAgICAgICAgIGlmIGhhc2F0dHIoc2VsZiwgIl9zdG9wX3JhbXAiKToNCiAgICAgICAgICAgICAg
ICAgICAgc2VsZi5fc3RvcF9yYW1wKCkNCiAgICAgICAgICAgICAgICBlbHNlOg0KICAgICAgICAg
ICAgICAgICAgICBpZiBoYXNhdHRyKHNlbGYsICJyYW1wX3N0b3BfZXZ0Iik6DQogICAgICAgICAg
ICAgICAgICAgICAgICBzZWxmLnJhbXBfc3RvcF9ldnQuc2V0KCkNCiAgICAgICAgICAgICAgICAg
ICAgaWYgZ2V0YXR0cihzZWxmLCAicmFtcF90aHJlYWQiLCBOb25lKToNCiAgICAgICAgICAgICAg
ICAgICAgICAgIHNlbGYucmFtcF90aHJlYWQuam9pbih0aW1lb3V0PTIuMCkNCiAgICAgICAgICAg
IGV4Y2VwdCBFeGNlcHRpb246DQogICAgICAgICAgICAgICAgcGFzcw0KDQogICAgICAgICAgICAj
IOKAlOKAlCDlhbPpl60gUElEIOi+k+WHuuOAgemHh+mbhue6v+eoiyDigJTigJQNCiAgICAgICAg
ICAgIHRyeToNCiAgICAgICAgICAgICAgICBzZWxmLmRpc2FibGVfcGlkKCkNCiAgICAgICAgICAg
IGV4Y2VwdCBFeGNlcHRpb246DQogICAgICAgICAgICAgICAgcGFzcw0KICAgICAgICAgICAgdHJ5
Og0KICAgICAgICAgICAgICAgIHNlbGYuc3RvcF9hY3F1aXNpdGlvbigpDQogICAgICAgICAgICBl
eGNlcHQgRXhjZXB0aW9uOg0KICAgICAgICAgICAgICAgIHBhc3MNCg0KICAgICAgICAgICAgIyDi
gJTigJQg5pat5byA6K6+5aSHIOKAlOKAlA0KICAgICAgICAgICAgdHJ5Og0KICAgICAgICAgICAg
ICAgIGlmIGhhc2F0dHIoc2VsZiwgInBzdSIpIGFuZCBzZWxmLnBzdToNCiAgICAgICAgICAgICAg
ICAgICAgc2VsZi5wc3UuZGlzY29ubmVjdCgpDQogICAgICAgICAgICBleGNlcHQgRXhjZXB0aW9u
Og0KICAgICAgICAgICAgICAgIHBhc3MNCiAgICAgICAgICAgIHRyeToNCiAgICAgICAgICAgICAg
ICBpZiBoYXNhdHRyKHNlbGYsICJ0Y20iKSBhbmQgc2VsZi50Y206DQogICAgICAgICAgICAgICAg
ICAgIHNlbGYudGNtLmRpc2Nvbm5lY3QoKQ0KICAgICAgICAgICAgZXhjZXB0IEV4Y2VwdGlvbjoN
CiAgICAgICAgICAgICAgICBwYXNzDQoNCiAgICAgICAgICAgICMg4oCU4oCUIOWFnOW6leWFs+mX
rSBDU1Yg5Lya6K+dIOKAlOKAlA0KICAgICAgICAgICAgdHJ5Og0KICAgICAgICAgICAgICAgIHNl
bGYuX2Nzdl9jbG9zZV9zZXNzaW9uKCLnqIvluo/pgIDlh7oiKQ0KICAgICAgICAgICAgZXhjZXB0
IEV4Y2VwdGlvbjoNCiAgICAgICAgICAgICAgICBwYXNzDQoNCiAgICAgICAgZmluYWxseToNCiAg
ICAgICAgICAgICMg4oCU4oCUIOS/neWtmOmFjee9riDigJTigJQNCiAgICAgICAgICAgIHRyeToN
CiAgICAgICAgICAgICAgICBzZWxmLl9zYXZlX2NvbmZpZygpDQogICAgICAgICAgICBleGNlcHQg
RXhjZXB0aW9uOg0KICAgICAgICAgICAgICAgIHBhc3MNCiAgICAgICAgICAgIHRyeToNCiAgICAg
ICAgICAgICAgICBpZiBnZXRhdHRyKHNlbGYsICJ0Y3Bfc2VydmVyIiwgTm9uZSk6DQogICAgICAg
ICAgICAgICAgICAgIHNlbGYudGNwX3NlcnZlci5zdG9wKCkNCiAgICAgICAgICAgIGV4Y2VwdCBF
eGNlcHRpb246DQogICAgICAgICAgICAgICAgcGFzcw0KDQogICAgZGVmIF9zdGFydF9waWNrX2Nv
b3JkX2VudGVyKHNlbGYpOg0KICAgICAgICAiIiINCiAgICAgICAg5byA5aeL5Z2Q5qCH5ou+5Y+W
77yI5oyJIEVudGVyIOehruiupO+8ie+8mg0KICAgICAgICAtIGtleWJvYXJkIOWPr+eUqOWImeWF
qOWxgOeDremUru+8mw0KICAgICAgICAtIOWQpuWImeeUqCBUayDnmoQgYmluZF9hbGzvvIjml6Do
rrrnhKbngrnlnKjlk6rkuKrmjqfku7bpg73og73op6blj5HvvInjgIINCiAgICAgICAgIiIiDQog
ICAgICAgIGlmIGdldGF0dHIoc2VsZiwgIl9waWNrX3J1bm5pbmciLCBGYWxzZSk6DQogICAgICAg
ICAgICByZXR1cm4NCg0KICAgICAgICBzZWxmLl9waWNrX3J1bm5pbmcgPSBUcnVlDQogICAgICAg
IHNlbGYuX3NldF9zdGF0dXMoIuWdkOagh+aLvuWPluS4re+8muaKium8oOagh+enu+WIsOebruag
h+WkhO+8jOaMiSBFbnRlciDnoa7orqTjgIIiKQ0KDQogICAgICAgICMg5riF55CG5pen55qE57uR
5a6aDQogICAgICAgIHRyeToNCiAgICAgICAgICAgIGlmIGdldGF0dHIoc2VsZiwgIl90a19lbnRl
cl9ib3VuZCIsIEZhbHNlKToNCiAgICAgICAgICAgICAgICBzZWxmLnJvb3QudW5iaW5kX2FsbCgn
PFJldHVybj4nKQ0KICAgICAgICBleGNlcHQgRXhjZXB0aW9uOg0KICAgICAgICAgICAgcGFzcw0K
ICAgICAgICBzZWxmLl90a19lbnRlcl9ib3VuZCA9IEZhbHNlDQoNCiAgICAgICAgIyBrZXlib2Fy
ZCDkvJjlhYjvvIjmiZPljIXmiJAgZXhlIOaXtuWkmuWNiuS4jeWPr+eUqO+8iQ0KICAgICAgICBz
ZWxmLl9rYl9lbnRlcl9pZCA9IE5vbmUNCiAgICAgICAgaWYgJ2tleWJvYXJkJyBpbiBnbG9iYWxz
KCkgYW5kIGtleWJvYXJkOg0KICAgICAgICAgICAgdHJ5Og0KICAgICAgICAgICAgICAgIHNlbGYu
X2tiX2VudGVyX2lkID0ga2V5Ym9hcmQuYWRkX2hvdGtleSgnZW50ZXInLCBsYW1iZGE6IHNlbGYu
X2ZpbmlzaF9waWNrX2Nvb3JkKCkpDQogICAgICAgICAgICBleGNlcHQgRXhjZXB0aW9uOg0KICAg
ICAgICAgICAgICAgIHNlbGYuX2tiX2VudGVyX2lkID0gTm9uZQ0KDQogICAgICAgICMg6YCA5Zue
5YiwIFRr77ya55SoIGJpbmRfYWxs77yM56Gu5L+d5Zyo5Lu75L2V5o6n5Lu254Sm54K55LiL6YO9
5ZON5bqUDQogICAgICAgIGlmIHNlbGYuX2tiX2VudGVyX2lkIGlzIE5vbmU6DQogICAgICAgICAg
ICBzZWxmLnJvb3QuYmluZF9hbGwoJzxSZXR1cm4+Jywgc2VsZi5fb25fcmV0dXJuX3BpY2spDQog
ICAgICAgICAgICBzZWxmLl90a19lbnRlcl9ib3VuZCA9IFRydWUNCiAgICAgICAgICAgIHRyeToN
CiAgICAgICAgICAgICAgICBzZWxmLnJvb3QuZm9jdXNfZm9yY2UoKQ0KICAgICAgICAgICAgZXhj
ZXB0IEV4Y2VwdGlvbjoNCiAgICAgICAgICAgICAgICBwYXNzDQoNCiAgICAgICAgIyDlvIDlkK/l
rp7ml7blnZDmoIfpooTop4gNCiAgICAgICAgc2VsZi5fdXBkYXRlX3BpY2tfcHJldmlldygpDQoN
CiAgICBkZWYgX29uX3JldHVybl9waWNrKHNlbGYsIGV2ZW50PU5vbmUpOg0KICAgICAgICAiIiJU
ayDnmoQgPFJldHVybj4g5Zue6LCD77ya5a6M5oiQ5Z2Q5qCH5ou+5Y+W44CCIiIiDQogICAgICAg
IHRyeToNCiAgICAgICAgICAgIHNlbGYuX2ZpbmlzaF9waWNrX2Nvb3JkKCkNCiAgICAgICAgZmlu
YWxseToNCiAgICAgICAgICAgIHJldHVybiAiYnJlYWsiDQoNCiAgICBkZWYgX3N0b3BfcGlja19j
b29yZChzZWxmKToNCiAgICAgICAgIiIi5omL5Yqo5YGc5q2i5ou+5Y+W77yI5LiN5YaZ5YWl5Z2Q
5qCH77yJ77yM6Kej57uR54Ot6ZSuL+S6i+S7tuOAgiIiIg0KICAgICAgICB0cnk6DQogICAgICAg
ICAgICBpZiAna2V5Ym9hcmQnIGluIGdsb2JhbHMoKSBhbmQga2V5Ym9hcmQgYW5kIGdldGF0dHIo
c2VsZiwgIl9rYl9lbnRlcl9pZCIsIE5vbmUpIGlzIG5vdCBOb25lOg0KICAgICAgICAgICAgICAg
IGtleWJvYXJkLnJlbW92ZV9ob3RrZXkoc2VsZi5fa2JfZW50ZXJfaWQpDQogICAgICAgIGV4Y2Vw
dCBFeGNlcHRpb246DQogICAgICAgICAgICBwYXNzDQogICAgICAgIHNlbGYuX2tiX2VudGVyX2lk
ID0gTm9uZQ0KDQogICAgICAgIHRyeToNCiAgICAgICAgICAgIGlmIGdldGF0dHIoc2VsZiwgIl90
a19lbnRlcl9ib3VuZCIsIEZhbHNlKToNCiAgICAgICAgICAgICAgICBzZWxmLnJvb3QudW5iaW5k
X2FsbCgnPFJldHVybj4nKQ0KICAgICAgICBleGNlcHQgRXhjZXB0aW9uOg0KICAgICAgICAgICAg
cGFzcw0KICAgICAgICBzZWxmLl90a19lbnRlcl9ib3VuZCA9IEZhbHNlDQoNCiAgICAgICAgc2Vs
Zi5fcGlja19ydW5uaW5nID0gRmFsc2UNCiAgICAgICAgc2VsZi5fc2V0X3N0YXR1cygi5bey5YGc
5q2i5Z2Q5qCH5ou+5Y+WIikNCg0KICAgIGRlZiBfZmluaXNoX3BpY2tfY29vcmQoc2VsZik6DQog
ICAgICAgICIiIue7k+adn+aLvuWPluW5tuWGmeWFpSBYL1nvvIjnlLEgRW50ZXIg6Kem5Y+R77yJ
44CCIiIiDQogICAgICAgICMg4oCU4oCUIOino+e7kSBFbnRlcu+8iGtleWJvYXJkIC8gVGvvvIni
gJTigJQNCiAgICAgICAgdHJ5Og0KICAgICAgICAgICAgaWYgJ2tleWJvYXJkJyBpbiBnbG9iYWxz
KCkgYW5kIGtleWJvYXJkIGFuZCBnZXRhdHRyKHNlbGYsICJfa2JfZW50ZXJfaWQiLCBOb25lKSBp
cyBub3QgTm9uZToNCiAgICAgICAgICAgICAgICB0cnk6DQogICAgICAgICAgICAgICAgICAgIGtl
eWJvYXJkLnJlbW92ZV9ob3RrZXkoc2VsZi5fa2JfZW50ZXJfaWQpDQogICAgICAgICAgICAgICAg
ZmluYWxseToNCiAgICAgICAgICAgICAgICAgICAgc2VsZi5fa2JfZW50ZXJfaWQgPSBOb25lDQog
ICAgICAgIGV4Y2VwdCBFeGNlcHRpb246DQogICAgICAgICAgICBwYXNzDQogICAgICAgIHRyeToN
CiAgICAgICAgICAgIGlmIGdldGF0dHIoc2VsZiwgIl90a19lbnRlcl9ib3VuZCIsIEZhbHNlKToN
CiAgICAgICAgICAgICAgICBzZWxmLnJvb3QudW5iaW5kX2FsbCgnPFJldHVybj4nKQ0KICAgICAg
ICBleGNlcHQgRXhjZXB0aW9uOg0KICAgICAgICAgICAgcGFzcw0KICAgICAgICBzZWxmLl90a19l
bnRlcl9ib3VuZCA9IEZhbHNlDQogICAgICAgIHNlbGYuX3BpY2tfcnVubmluZyA9IEZhbHNlDQoN
CiAgICAgICAgIyDigJTigJQg6K+75Y+W5Z2Q5qCHIOKAlOKAlA0KICAgICAgICB0cnk6DQogICAg
ICAgICAgICB4LCB5ID0gc2VsZi5fZ2V0X2N1cnNvcl9wb3MoKQ0KICAgICAgICBleGNlcHQgRXhj
ZXB0aW9uIGFzIGU6DQogICAgICAgICAgICBzZWxmLl9zZXRfc3RhdHVzKGYi5Y+W5Z2Q5qCH5aSx
6LSl77yae2V9IikNCiAgICAgICAgICAgIHJldHVybg0KDQogICAgICAgICMg4oCU4oCUIOWPmOmH
j+S4jiBFbnRyeSDlj4zot6/lkIzmraXvvIjpmLLph43lpI3lrprkuYnlr7zoh7TnmoTigJznu5Hl
rprkuKLlpLHigJ3vvInigJTigJQNCiAgICAgICAgdHJ5Og0KICAgICAgICAgICAgc2VsZi5hdXRv
X2NsaWNrX3guc2V0KGludCh4KSkNCiAgICAgICAgICAgIHNlbGYuYXV0b19jbGlja195LnNldChp
bnQoeSkpDQogICAgICAgIGV4Y2VwdCBFeGNlcHRpb246DQogICAgICAgICAgICBwYXNzDQogICAg
ICAgIHRyeToNCiAgICAgICAgICAgIGlmIGhhc2F0dHIoc2VsZiwgImVudF9hdXRvX3giKToNCiAg
ICAgICAgICAgICAgICBzZWxmLmVudF9hdXRvX3guZGVsZXRlKDAsICJlbmQiKTsNCiAgICAgICAg
ICAgICAgICBzZWxmLmVudF9hdXRvX3guaW5zZXJ0KDAsIHN0cihpbnQoeCkpKQ0KICAgICAgICAg
ICAgaWYgaGFzYXR0cihzZWxmLCAiZW50X2F1dG9feSIpOg0KICAgICAgICAgICAgICAgIHNlbGYu
ZW50X2F1dG9feS5kZWxldGUoMCwgImVuZCIpOw0KICAgICAgICAgICAgICAgIHNlbGYuZW50X2F1
dG9feS5pbnNlcnQoMCwgc3RyKGludCh5KSkpDQogICAgICAgIGV4Y2VwdCBFeGNlcHRpb246DQog
ICAgICAgICAgICBwYXNzDQoNCiAgICAgICAgIyDoh6rliqjli77pgInlkK/nlKjvvIzpgb/lhY3i
gJznnIvop4HlnZDmoIfkvYbmsqHlkK/nlKjigJ0NCiAgICAgICAgdHJ5Og0KICAgICAgICAgICAg
c2VsZi5hdXRvX2NsaWNrX2VuYWJsZS5zZXQoVHJ1ZSkNCiAgICAgICAgZXhjZXB0IEV4Y2VwdGlv
bjoNCiAgICAgICAgICAgIHBhc3MNCg0KICAgICAgICAjIOmihOiniOS4jueKtuaAgQogICAgICAg
IHNlbGYucGlja19wcmV2aWV3LnNldChmIlg9e2ludCh4KX0sIFk9e2ludCh5KX0iKQogICAgICAg
IHNlbGYuX3NldF9zdGF0dXMoZiLlt7LorrDlvZXlnZDmoIfvvJooe2ludCh4KX0se2ludCh5KX0p
77yM5bey5ZCv55So6Ieq5Yqo54K55Ye7IikKCiAgICBkZWYgc2V0X2luZGljYXRvcl9jb2xvcihz
ZWxmLCBjb2xvcjogc3RyKToKICAgICAgICB0cnk6CiAgICAgICAgICAgIGlmIGhhc2F0dHIoc2Vs
ZiwgImluZGljYXRvcl9jYW52YXMiKToKICAgICAgICAgICAgICAgIHNlbGYuaW5kaWNhdG9yX2Nh
bnZhcy5pdGVtY29uZmlnKHNlbGYuaW5kaWNhdG9yX2NpcmNsZSwgZmlsbD1jb2xvcikKICAgICAg
ICAgICAgICAgIGlmIGNvbG9yID09ICJncmVlbiI6CiAgICAgICAgICAgICAgICAgICAgc2VsZi5y
b290LmFmdGVyKDYwMCwgbGFtYmRhOiBzZWxmLnNldF9pbmRpY2F0b3JfY29sb3IoInJlZCIpKQog
ICAgICAgIGV4Y2VwdCBFeGNlcHRpb246CiAgICAgICAgICAgIHBhc3MKCiAgICBkZWYgX2NhcHR1
cmVfcGl4ZWxfYmFzZWxpbmUoc2VsZikgLT4gYm9vbDoKICAgICAgICBpZiBweWF1dG9ndWkgaXMg
Tm9uZSBvciBub3Qgc2VsZi5waXhlbF9kZXRlY3Rpb25fcmVnaW9uOgogICAgICAgICAgICByZXR1
cm4gRmFsc2UKICAgICAgICB0cnk6CiAgICAgICAgICAgIHNuYXAgPSBweWF1dG9ndWkuc2NyZWVu
c2hvdChyZWdpb249c2VsZi5waXhlbF9kZXRlY3Rpb25fcmVnaW9uKQogICAgICAgICAgICBpZiBz
bmFwLm1vZGUgIT0gIlJHQiI6CiAgICAgICAgICAgICAgICBzbmFwID0gc25hcC5jb252ZXJ0KCJS
R0IiKQogICAgICAgICAgICBzZWxmLmluaXRpYWxfcGl4ZWxfc25hcHNob3QgPSBzbmFwCiAgICAg
ICAgICAgIHNlbGYucHJldl9waXhlbF9zbmFwc2hvdCA9IE5vbmUKICAgICAgICAgICAgcmV0dXJu
IFRydWUKICAgICAgICBleGNlcHQgRXhjZXB0aW9uIGFzIGV4YzoKICAgICAgICAgICAgc2VsZi5f
c2V0X3N0YXR1cyhmIuWfuue6v+aIquWbvuWksei0pe+8mntleGN9IikKICAgICAgICAgICAgcmV0
dXJuIEZhbHNlCgogICAgZGVmIHNldF9waXhlbF9kZXRlY3Rpb25fcmVnaW9uKHNlbGYpOgogICAg
ICAgIG1lc3NhZ2Vib3guc2hvd2luZm8oIuiuvue9ruajgOa1i+WMuuWfnyIsICLor7fnlKjpvKDm
oIfmoYbpgInpnIDopoHmo4DmtYvnmoTlsY/luZXljLrln5/vvIzmjIkgRW50ZXIg6ZSu56Gu6K6k
44CCIikKICAgICAgICBvdmVybGF5ID0gdGsuVG9wbGV2ZWwoc2VsZi5yb290KQogICAgICAgIG92
ZXJsYXkuYXR0cmlidXRlcygiLWZ1bGxzY3JlZW4iLCBUcnVlKQogICAgICAgIG92ZXJsYXkuYXR0
cmlidXRlcygiLWFscGhhIiwgMC4zKQogICAgICAgIG92ZXJsYXkuYXR0cmlidXRlcygiLXRvcG1v
c3QiLCBUcnVlKQogICAgICAgIG92ZXJsYXkuY29uZmlndXJlKGJhY2tncm91bmQ9ImdyYXkiKQog
ICAgICAgIG92ZXJsYXkuZ3JhYl9zZXQoKQogICAgICAgIG92ZXJsYXkuZm9jdXNfZm9yY2UoKQoK
ICAgICAgICBjYW52YXMgPSB0ay5DYW52YXMob3ZlcmxheSwgY3Vyc29yPSJjcm9zcyIsIGhpZ2hs
aWdodHRoaWNrbmVzcz0wKQogICAgICAgIGNhbnZhcy5wYWNrKGZpbGw9dGsuQk9USCwgZXhwYW5k
PVRydWUpCiAgICAgICAgY2FudmFzLmZvY3VzX3NldCgpCgogICAgICAgIGNvb3JkcyA9IHsneDEn
OiAwLCAneTEnOiAwLCAneDInOiAwLCAneTInOiAwLCAncmVjdCc6IE5vbmV9CgogICAgICAgIGRl
ZiBvbl9wcmVzcyhldmVudCk6CiAgICAgICAgICAgIGNvb3Jkc1sneDEnXSwgY29vcmRzWyd5MSdd
ID0gZXZlbnQueCwgZXZlbnQueQogICAgICAgICAgICBpZiBjb29yZHNbJ3JlY3QnXToKICAgICAg
ICAgICAgICAgIGNhbnZhcy5kZWxldGUoY29vcmRzWydyZWN0J10pCiAgICAgICAgICAgIGNvb3Jk
c1sncmVjdCddID0gY2FudmFzLmNyZWF0ZV9yZWN0YW5nbGUoY29vcmRzWyd4MSddLCBjb29yZHNb
J3kxJ10sIGV2ZW50LngsIGV2ZW50LnksIG91dGxpbmU9InJlZCIsIHdpZHRoPTIpCgogICAgICAg
IGRlZiBvbl9kcmFnKGV2ZW50KToKICAgICAgICAgICAgY2FudmFzLmNvb3Jkcyhjb29yZHNbJ3Jl
Y3QnXSwgY29vcmRzWyd4MSddLCBjb29yZHNbJ3kxJ10sIGV2ZW50LngsIGV2ZW50LnkpCgogICAg
ICAgIGRlZiBvbl9yZWxlYXNlKGV2ZW50KToKICAgICAgICAgICAgY29vcmRzWyd4MiddLCBjb29y
ZHNbJ3kyJ10gPSBldmVudC54LCBldmVudC55CgogICAgICAgIGRlZiBvbl9lbnRlcihldmVudD1O
b25lKToKICAgICAgICAgICAgb3ZlcmxheS5ncmFiX3JlbGVhc2UoKQogICAgICAgICAgICB4MSwg
eTEgPSBjb29yZHNbJ3gxJ10sIGNvb3Jkc1sneTEnXQogICAgICAgICAgICB4MiwgeTIgPSBjb29y
ZHNbJ3gyJ10sIGNvb3Jkc1sneTInXQogICAgICAgICAgICBsZWZ0LCByaWdodCA9IHNvcnRlZCgo
eDEsIHgyKSkKICAgICAgICAgICAgdG9wLCBib3R0b20gPSBzb3J0ZWQoKHkxLCB5MikpCiAgICAg
ICAgICAgIHdpZHRoID0gbWF4KDAsIHJpZ2h0IC0gbGVmdCkKICAgICAgICAgICAgaGVpZ2h0ID0g
bWF4KDAsIGJvdHRvbSAtIHRvcCkKICAgICAgICAgICAgYWJzX3ggPSBvdmVybGF5LndpbmZvX3Jv
b3R4KCkgKyBsZWZ0CiAgICAgICAgICAgIGFic195ID0gb3ZlcmxheS53aW5mb19yb290eSgpICsg
dG9wCgogICAgICAgICAgICB0cnk6CiAgICAgICAgICAgICAgICBpZiB3aWR0aCA8PSAwIG9yIGhl
aWdodCA8PSAwOgogICAgICAgICAgICAgICAgICAgIHJhaXNlIFZhbHVlRXJyb3IoJ3NlbGVjdGVk
IGFyZWEgdG9vIHNtYWxsJykKCiAgICAgICAgICAgICAgICB0cnk6CiAgICAgICAgICAgICAgICAg
ICAgc2NyZWVuX3csIHNjcmVlbl9oID0gcHlhdXRvZ3VpLnNpemUoKSBpZiBweWF1dG9ndWkgZWxz
ZSAoTm9uZSwgTm9uZSkKICAgICAgICAgICAgICAgIGV4Y2VwdCBFeGNlcHRpb246CiAgICAgICAg
ICAgICAgICAgICAgc2NyZWVuX3cgPSBzY3JlZW5faCA9IE5vbmUKCiAgICAgICAgICAgICAgICBp
ZiBzY3JlZW5fdyBpcyBub3QgTm9uZSBhbmQgc2NyZWVuX2ggaXMgbm90IE5vbmU6CiAgICAgICAg
ICAgICAgICAgICAgYWJzX3ggPSBtYXgoMCwgbWluKGFic194LCBzY3JlZW5fdyAtIDEpKQogICAg
ICAgICAgICAgICAgICAgIGFic195ID0gbWF4KDAsIG1pbihhYnNfeSwgc2NyZWVuX2ggLSAxKSkK
ICAgICAgICAgICAgICAgICAgICB3aWR0aCA9IG1pbih3aWR0aCwgbWF4KDAsIHNjcmVlbl93IC0g
YWJzX3gpKQogICAgICAgICAgICAgICAgICAgIGhlaWdodCA9IG1pbihoZWlnaHQsIG1heCgwLCBz
Y3JlZW5faCAtIGFic195KSkKICAgICAgICAgICAgICAgICAgICBpZiB3aWR0aCA8PSAwIG9yIGhl
aWdodCA8PSAwOgogICAgICAgICAgICAgICAgICAgICAgICByYWlzZSBWYWx1ZUVycm9yKCdzZWxl
Y3RlZCBhcmVhIHRvbyBzbWFsbCcpCgogICAgICAgICAgICAgICAgcmVnaW9uID0gKGludChhYnNf
eCksIGludChhYnNfeSksIGludCh3aWR0aCksIGludChoZWlnaHQpKQogICAgICAgICAgICAgICAg
c2VsZi5waXhlbF9kZXRlY3Rpb25fcmVnaW9uID0gcmVnaW9uCiAgICAgICAgICAgICAgICBpZiBz
ZWxmLl9jYXB0dXJlX3BpeGVsX2Jhc2VsaW5lKCk6CiAgICAgICAgICAgICAgICAgICAgc2VsZi5f
c2V0X3N0YXR1cyhmIuW3suiuvue9ruajgOa1i+WMuuWfn++8mntyZWdpb259IikKICAgICAgICAg
ICAgICAgIGVsc2U6CiAgICAgICAgICAgICAgICAgICAgc2VsZi5fc2V0X3N0YXR1cyhmIuW3suiu
vue9ruWMuuWfn++8mntyZWdpb25977yI5pyq6IO95oiq5Y+W5Z+657q/77yJIikKICAgICAgICAg
ICAgZmluYWxseToKICAgICAgICAgICAgICAgIG92ZXJsYXkuZGVzdHJveSgpCgogICAgICAgIGNh
bnZhcy5iaW5kKCI8QnV0dG9uUHJlc3MtMT4iLCBvbl9wcmVzcykKICAgICAgICBjYW52YXMuYmlu
ZCgiPEIxLU1vdGlvbj4iLCBvbl9kcmFnKQogICAgICAgIGNhbnZhcy5iaW5kKCI8QnV0dG9uUmVs
ZWFzZS0xPiIsIG9uX3JlbGVhc2UpCiAgICAgICAgY2FudmFzLmJpbmQoIjxSZXR1cm4+Iiwgb25f
ZW50ZXIpCiAgICAgICAgY2FudmFzLmJpbmQoIjxFc2NhcGU+IiwgbGFtYmRhIGU9Tm9uZTogb3Zl
cmxheS5kZXN0cm95KCkpCiAgICAgICAgb3ZlcmxheS5iaW5kKCI8UmV0dXJuPiIsIG9uX2VudGVy
KQogICAgICAgIG92ZXJsYXkuYmluZCgiPEVzY2FwZT4iLCBsYW1iZGEgZT1Ob25lOiBvdmVybGF5
LmRlc3Ryb3koKSkKCiAgICBkZWYgY2hlY2tfcGl4ZWxfY2hhbmdlKHNlbGYpOgogICAgICAgIGlm
IG5vdCBzZWxmLnBpeGVsX2RldGVjdGlvbl9yZWdpb246CiAgICAgICAgICAgIHJldHVybiBGYWxz
ZSwgIuacquiuvue9ruajgOa1i+WMuuWfnyIKICAgICAgICBpZiBweWF1dG9ndWkgaXMgTm9uZToK
ICAgICAgICAgICAgcmV0dXJuIEZhbHNlLCAi5pyq5a6J6KOFIHB5YXV0b2d1ae+8jOaXoOazleaI
quWxjyIKICAgICAgICBpZiBzZWxmLmluaXRpYWxfcGl4ZWxfc25hcHNob3QgaXMgTm9uZToKICAg
ICAgICAgICAgIyDlj6/og73mmK/ph43mlrDovb3lhaXphY3nva7miJbkuIrmrKHmo4DmtYvlpLHo
tKXlkI7lsJrmnKrmiKrlj5bln7rnur/vvIzov5nph4zooaXkuIDmrKEKICAgICAgICAgICAgaWYg
bm90IHNlbGYuX2NhcHR1cmVfcGl4ZWxfYmFzZWxpbmUoKToKICAgICAgICAgICAgICAgIHJldHVy
biBGYWxzZSwgIuWwmuacquaIquWPluWfuue6v+aIquWbvu+8jOaXoOazleajgOa1iyIKICAgICAg
ICB0cnk6CiAgICAgICAgICAgIGN1cnIgPSBweWF1dG9ndWkuc2NyZWVuc2hvdChyZWdpb249c2Vs
Zi5waXhlbF9kZXRlY3Rpb25fcmVnaW9uKQogICAgICAgICAgICBpZiBjdXJyLm1vZGUgIT0gIlJH
QiI6CiAgICAgICAgICAgICAgICBjdXJyID0gY3Vyci5jb252ZXJ0KCJSR0IiKQogICAgICAgICAg
ICBiYXNlID0gc2VsZi5wcmV2X3BpeGVsX3NuYXBzaG90IG9yIHNlbGYuaW5pdGlhbF9waXhlbF9z
bmFwc2hvdAogICAgICAgICAgICBpZiBiYXNlIGlzIE5vbmU6CiAgICAgICAgICAgICAgICBiYXNl
ID0gY3VycgogICAgICAgICAgICBkaWZmID0gSW1hZ2VDaG9wcy5kaWZmZXJlbmNlKGJhc2UsIGN1
cnIpCiAgICAgICAgICAgIHNlbGYucHJldl9waXhlbF9zbmFwc2hvdCA9IGN1cnIKICAgICAgICAg
ICAgZGlmZl9kYXRhID0gZGlmZi5nZXRkYXRhKCkKICAgICAgICAgICAgZGlmZl9waXhlbHMgPSBz
dW0oMSBmb3IgcHggaW4gZGlmZl9kYXRhIGlmIHB4ICE9ICgwLCAwLCAwKSkKICAgICAgICAgICAg
dG90YWwgPSBjdXJyLndpZHRoICogY3Vyci5oZWlnaHQKICAgICAgICAgICAgcGN0ID0gZGlmZl9w
aXhlbHMgLyB0b3RhbCAqIDEwMCBpZiB0b3RhbCBlbHNlIDAKICAgICAgICAgICAgaWYgcGN0ID49
IGZsb2F0KHNlbGYucGl4ZWxfc2Vuc2l0aXZpdHlfdmFyLmdldCgpKToKICAgICAgICAgICAgICAg
IHJldHVybiBUcnVlLCBmIuajgOa1i+WIsOWDj+e0oOWPmOWMljoge3BjdDouMmZ9JSIKICAgICAg
ICAgICAgcmV0dXJuIEZhbHNlLCBmIuaXoOaYvuiRl+WPmOWMljoge3BjdDouMmZ9JSIKICAgICAg
ICBleGNlcHQgRXhjZXB0aW9uIGFzIGV4YzoKICAgICAgICAgICAgcmV0dXJuIEZhbHNlLCBmIuaj
gOa1i+Wksei0pToge2V4Y30iCgogICAgZGVmIHdhaXRfZm9yX3BpeGVsX2NoYW5nZShzZWxmLCB0
aW1lb3V0OiBmbG9hdCwgaW50ZXJ2YWw6IGZsb2F0KToKICAgICAgICBpZiBzZWxmLmluaXRpYWxf
cGl4ZWxfc25hcHNob3QgaXMgTm9uZToKICAgICAgICAgICAgaWYgbm90IHNlbGYuX2NhcHR1cmVf
cGl4ZWxfYmFzZWxpbmUoKToKICAgICAgICAgICAgICAgIHJldHVybiBGYWxzZSwgIuacquiDveaI
quWPluWfuue6v+aIquWbviIKICAgICAgICBzdGFydCA9IHRpbWUudGltZSgpCiAgICAgICAgd2hp
bGUgdGltZS50aW1lKCkgLSBzdGFydCA8PSB0aW1lb3V0OgogICAgICAgICAgICBjaGFuZ2VkLCBt
c2cgPSBzZWxmLmNoZWNrX3BpeGVsX2NoYW5nZSgpCiAgICAgICAgICAgIGlmIHNlbGYucGl4ZWxf
bG9nX2VuYWJsZWQuZ2V0KCk6CiAgICAgICAgICAgICAgICBzZWxmLl9zZXRfc3RhdHVzKG1zZykK
ICAgICAgICAgICAgaWYgY2hhbmdlZDoKICAgICAgICAgICAgICAgIHNlbGYuc2V0X2luZGljYXRv
cl9jb2xvcigiZ3JlZW4iKQogICAgICAgICAgICAgICAgcmV0dXJuIFRydWUsIG1zZwogICAgICAg
ICAgICB0aW1lLnNsZWVwKG1heCgwLjA1LCBpbnRlcnZhbCkpCiAgICAgICAgcmV0dXJuIEZhbHNl
LCAi5YOP57Sg5qOA5rWL6LaF5pe2IgoKICAgIGRlZiBfc2ltdWxhdGVfY2xpY2soc2VsZiwgeDog
aW50LCB5OiBpbnQsIGJ1dHRvbjogc3RyID0gImxlZnQiLCBkb3VibGU6IGJvb2wgPSBGYWxzZSwg
ZGVsYXlfbXM6IGludCA9IDApOgogICAgICAgICIiIumdnumYu+WhnuaooeaLn+eCueWHu++8muWQ
juWPsOe6v+eoi+aJp+ihjOeCueWHu++8m1VJIOabtOaWsOWbnuS4u+e6v+eoi+OAgiIiIgogICAg
ICAgICMg5pyA57uI5YaN5YGa5LiA5qyh5Z2Q5qCH5L+d5oqkCiAgICAgICAgaWYgbm90IHNlbGYu
X2Nvb3Jkc19vayhpbnQoeCksIGludCh5KSk6CiAgICAgICAgICAgIHNlbGYuX3NldF9zdGF0dXMo
IuaooeaLn+eCueWHu+iiq+WPlua2iO+8muWdkOagh+aXoOaViOOAgiIpCiAgICAgICAgICAgIHJl
dHVybg0KDQogICAgICAgIHBlcmZvcm1fY2xpY2tfYXN5bmMoCiAgICAgICAgICAgIGludCh4KSwK
ICAgICAgICAgICAgaW50KHkpLAogICAgICAgICAgICBidXR0b249YnV0dG9uLAogICAgICAgICAg
ICBkb3VibGU9ZG91YmxlLAogICAgICAgICAgICBkZWxheV9tcz1kZWxheV9tcywKICAgICAgICAg
ICAgcmVwb3J0ZXI9c2VsZi5fc2V0X3N0YXR1cywKICAgICAgICApCg0KICAgIGRlZiBfdHJ5X2F1
dG9fY2xpY2tfc3RhcnQoc2VsZik6DQogICAgICAgICIiIuWcqOe6v+aAp+auteW8gOWni++8iOaW
nOeOh+i3qOmYiO+8ieaXtuWwneivleeCueWHu++8m+aXoOaViOWdkOagh+WImei3s+i/h+W5tuiH
quWKqOWFs+mXreivpeWKn+iDveOAgiIiIg0KICAgICAgICB0cnk6DQogICAgICAgICAgICBpZiBu
b3QgYm9vbChzZWxmLmF1dG9fY2xpY2tfZW5hYmxlLmdldCgpKToNCiAgICAgICAgICAgICAgICBy
ZXR1cm4NCiAgICAgICAgZXhjZXB0IEV4Y2VwdGlvbjoNCiAgICAgICAgICAgIHJldHVybg0KDQog
ICAgICAgICMg6Kej5p6Q5Z2Q5qCH77yI56m65YC85Lya5Y+Y5oiQIDDvvInvvJvov5nph4zlgZrk
uKXmoLzmoKHpqowNCiAgICAgICAgdHJ5Og0KICAgICAgICAgICAgeCA9IGludChzZWxmLmF1dG9f
Y2xpY2tfeC5nZXQoKSBvciAwKQ0KICAgICAgICAgICAgeSA9IGludChzZWxmLmF1dG9fY2xpY2tf
eS5nZXQoKSBvciAwKQ0KICAgICAgICBleGNlcHQgRXhjZXB0aW9uOg0KICAgICAgICAgICAgeCwg
eSA9IDAsIDANCg0KICAgICAgICBpZiBub3Qgc2VsZi5fY29vcmRzX29rKHgsIHkpOg0KICAgICAg
ICAgICAgIyDoh6rliqjlhbPpl63vvIzpgb/lhY3kuIvmrKHlho3op6blj5ENCiAgICAgICAgICAg
IHRyeToNCiAgICAgICAgICAgICAgICBzZWxmLmF1dG9fY2xpY2tfZW5hYmxlLnNldChGYWxzZSkN
CiAgICAgICAgICAgIGV4Y2VwdCBFeGNlcHRpb246DQogICAgICAgICAgICAgICAgcGFzcw0KICAg
ICAgICAgICAgc2VsZi5fc2V0X3N0YXR1cygi6Ieq5Yqo54K55Ye75bey6Lez6L+H77ya5pyq6YCJ
5oup5pyJ5pWI5Z2Q5qCH77yI5bey6Ieq5Yqo5YWz6Zet77yJ44CCIikNCiAgICAgICAgICAgIHJl
dHVybg0KDQogICAgICAgICMg5ZCM5LiA5q615Y+q54K55LiA5qyhDQogICAgICAgIGlmIGdldGF0
dHIoc2VsZiwgIl9hdXRvX2NsaWNrX2RvbmVfdGhpc19yYW1wIiwgRmFsc2UpOg0KICAgICAgICAg
ICAgcmV0dXJuDQogICAgICAgIHNlbGYuX2F1dG9fY2xpY2tfZG9uZV90aGlzX3JhbXAgPSBUcnVl
DQoNCiAgICAgICAgYnRuID0gc3RyKHNlbGYuYXV0b19jbGlja19idXR0b24uZ2V0KCkpLnN0cmlw
KCkubG93ZXIoKQogICAgICAgIGRibCA9IGJvb2woc2VsZi5hdXRvX2NsaWNrX2RvdWJsZS5nZXQo
KSkKICAgICAgICB0cnk6CiAgICAgICAgICAgIGRseSA9IGludChzZWxmLmF1dG9fY2xpY2tfZGVs
YXlfbXMuZ2V0KCkgb3IgMCkKICAgICAgICBleGNlcHQgRXhjZXB0aW9uOgogICAgICAgICAgICBk
bHkgPSAwCgogICAgICAgIHRyeToKICAgICAgICAgICAgY29vbGRvd25fbXMgPSBtYXgoMCwgaW50
KHNlbGYucGl4ZWxfY2xpY2tfY29vbGRvd25fdmFyLmdldCgpKSkKICAgICAgICBleGNlcHQgRXhj
ZXB0aW9uOgogICAgICAgICAgICBjb29sZG93bl9tcyA9IDAKICAgICAgICBub3cgPSB0aW1lLnRp
bWUoKQogICAgICAgIGlmIGNvb2xkb3duX21zIGFuZCBub3cgLSBzZWxmLl9sYXN0X3BpeGVsX2Ns
aWNrX3RzIDwgY29vbGRvd25fbXMgLyAxMDAwLjA6CiAgICAgICAgICAgIHNlbGYuX3NldF9zdGF0
dXMoIuaooeaLn+eCueWHu+WGt+WNtOS4re+8jOi3s+i/h+acrOasoeiHquWKqOinpuWPkeOAgiIp
CiAgICAgICAgICAgIHJldHVybgoKICAgICAgICBzZWxmLl9zaW11bGF0ZV9jbGljayh4LCB5LCBi
dG4gb3IgImxlZnQiLCBkYmwsIGRseSkKICAgICAgICBzZWxmLl9sYXN0X3BpeGVsX2NsaWNrX3Rz
ID0gdGltZS50aW1lKCkKCiAgICAgICAgaWYgc2VsZi5waXhlbF9kZXRlY3Rpb25fZW5hYmxlZC5n
ZXQoKToKICAgICAgICAgICAgaWYgbm90IHNlbGYucGl4ZWxfZGV0ZWN0aW9uX3JlZ2lvbjoKICAg
ICAgICAgICAgICAgIHNlbGYuX3NldF9zdGF0dXMoIuW3suWQr+eUqOWDj+e0oOajgOa1i++8jOS9
huacquiuvue9ruWMuuWfn+OAgiIpCiAgICAgICAgICAgICAgICByZXR1cm4KICAgICAgICAgICAg
aWYgbm90IHNlbGYuX2NhcHR1cmVfcGl4ZWxfYmFzZWxpbmUoKToKICAgICAgICAgICAgICAgIHJl
dHVybgogICAgICAgICAgICB0cnk6CiAgICAgICAgICAgICAgICB0aW1lb3V0ID0gZmxvYXQoc2Vs
Zi5waXhlbF90aW1lb3V0X3Zhci5nZXQoKSkKICAgICAgICAgICAgZXhjZXB0IEV4Y2VwdGlvbjoK
ICAgICAgICAgICAgICAgIHRpbWVvdXQgPSAxMjAuMAogICAgICAgICAgICB0cnk6CiAgICAgICAg
ICAgICAgICBpbnRlcnZhbCA9IG1heCgwLjA1LCBmbG9hdChzZWxmLmRldGVjdGlvbl9pbnRlcnZh
bF92YXIuZ2V0KCkpIC8gMTAwMC4wKQogICAgICAgICAgICBleGNlcHQgRXhjZXB0aW9uOgogICAg
ICAgICAgICAgICAgaW50ZXJ2YWwgPSAwLjUKICAgICAgICAgICAgc2VsZi5fc2V0X3N0YXR1cygi
5byA5aeL5YOP57Sg5qOA5rWL4oCmIikKICAgICAgICAgICAgZGV0ZWN0ZWQsIG1zZyA9IHNlbGYu
d2FpdF9mb3JfcGl4ZWxfY2hhbmdlKHRpbWVvdXQsIGludGVydmFsKQogICAgICAgICAgICBpZiBk
ZXRlY3RlZDoKICAgICAgICAgICAgICAgIHNlbGYuX3NldF9zdGF0dXMoZiLlg4/ntKDmo4DmtYvp
gJrov4fvvJp7bXNnfSIpCiAgICAgICAgICAgIGVsc2U6CiAgICAgICAgICAgICAgICBzZWxmLl9z
ZXRfc3RhdHVzKG1zZykKCiAgICBkZWYgX2dldF9jdXJzb3JfcG9zKHNlbGYpOgogICAgICAgICIi
Iui/lOWbnuWFqOWxgOWxj+W5leWdkOaghyAoeCwgeSnjgILkvJjlhYggcHlhdXRvZ3Vp77yb5ZCm
5YiZIFdpbmRvd3Mg55SoIGN0eXBlcyDlm57pgIDjgIIiIiINCiAgICAgICAgdHJ5Og0KICAgICAg
ICAgICAgaWYgcHlhdXRvZ3VpIGlzIG5vdCBOb25lOg0KICAgICAgICAgICAgICAgIHBvcyA9IHB5
YXV0b2d1aS5wb3NpdGlvbigpDQogICAgICAgICAgICAgICAgcmV0dXJuIGludChwb3NbMF0pLCBp
bnQocG9zWzFdKQ0KICAgICAgICAgICAgaWYgc3lzLnBsYXRmb3JtLnN0YXJ0c3dpdGgoIndpbiIp
Og0KICAgICAgICAgICAgICAgIHB0ID0gX1BPSU5UKCkNCiAgICAgICAgICAgICAgICBjdHlwZXMu
d2luZGxsLnVzZXIzMi5HZXRDdXJzb3JQb3MoY3R5cGVzLmJ5cmVmKHB0KSkNCiAgICAgICAgICAg
ICAgICByZXR1cm4gaW50KHB0LngpLCBpbnQocHQueSkNCiAgICAgICAgICAgIHJhaXNlIFJ1bnRp
bWVFcnJvcigi5peg5rOV6I635Y+W6byg5qCH5L2N572u77ya57y65bCRIHB5YXV0b2d1aSDkuJTp
nZ4gV2luZG93cyDlubPlj7AiKQ0KICAgICAgICBleGNlcHQgRXhjZXB0aW9uIGFzIGU6DQogICAg
ICAgICAgICByYWlzZSBSdW50aW1lRXJyb3IoZiLojrflj5bpvKDmoIfkvY3nva7lpLHotKXvvJp7
ZX0iKQ0KDQogICAgZGVmIF9zY3JlZW5fc2l6ZShzZWxmKToNCiAgICAgICAgIiIi6L+U5Zue5bGP
5bmV5a696auYICh3LGgp44CC5LyY5YWIIFRr77yMV2luZG93cyDpgIDlm54gY3R5cGVz44CCIiIi
DQogICAgICAgIHRyeToNCiAgICAgICAgICAgIHcgPSBpbnQoc2VsZi5yb290LndpbmZvX3NjcmVl
bndpZHRoKCkpDQogICAgICAgICAgICBoID0gaW50KHNlbGYucm9vdC53aW5mb19zY3JlZW5oZWln
aHQoKSkNCiAgICAgICAgICAgIGlmIHcgPiAwIGFuZCBoID4gMDoNCiAgICAgICAgICAgICAgICBy
ZXR1cm4gdywgaA0KICAgICAgICBleGNlcHQgRXhjZXB0aW9uOg0KICAgICAgICAgICAgcGFzcw0K
ICAgICAgICB0cnk6DQogICAgICAgICAgICBpZiBzeXMucGxhdGZvcm0uc3RhcnRzd2l0aCgid2lu
Iik6DQogICAgICAgICAgICAgICAgdXNlcjMyID0gY3R5cGVzLndpbmRsbC51c2VyMzINCiAgICAg
ICAgICAgICAgICByZXR1cm4gaW50KHVzZXIzMi5HZXRTeXN0ZW1NZXRyaWNzKDApKSwgaW50KHVz
ZXIzMi5HZXRTeXN0ZW1NZXRyaWNzKDEpKQ0KICAgICAgICBleGNlcHQgRXhjZXB0aW9uOg0KICAg
ICAgICAgICAgcGFzcw0KICAgICAgICByZXR1cm4gMTkyMCwgMTA4MCAgIyDlhZzlupUNCg0KICAg
IGRlZiBfY29vcmRzX29rKHNlbGYsIHg6IGludCwgeTogaW50KSAtPiBib29sOg0KICAgICAgICAi
IiLlnZDmoIfmnInmlYjmgKfmo4Dmn6XvvJrpnZ7pm7bjgIHlnKjlsY/luZXlhoXvvIzkuJTnprvo
vrnnvJjoh7PlsJEgMnB444CCIiIiDQogICAgICAgIHRyeToNCiAgICAgICAgICAgIHcsIGggPSBz
ZWxmLl9zY3JlZW5fc2l6ZSgpDQogICAgICAgICAgICByZXR1cm4gKGlzaW5zdGFuY2UoeCwgaW50
KSBhbmQgaXNpbnN0YW5jZSh5LCBpbnQpDQogICAgICAgICAgICAgICAgICAgIGFuZCAyIDw9IHgg
PCB3IC0gMiBhbmQgMiA8PSB5IDwgaCAtIDIpDQogICAgICAgIGV4Y2VwdCBFeGNlcHRpb246DQog
ICAgICAgICAgICByZXR1cm4gRmFsc2UNCg0KICAgIGRlZiBfdXBkYXRlX3BpY2tfcHJldmlldyhz
ZWxmKToNCiAgICAgICAgIiIi5ou+5Y+W5pyf6Ze05q+PIDUwbXMg5Yi35paw5LiA5qyh6aKE6KeI
5Z2Q5qCH44CCIiIiDQogICAgICAgIGlmIG5vdCBzZWxmLl9waWNrX3J1bm5pbmc6DQogICAgICAg
ICAgICByZXR1cm4NCiAgICAgICAgdHJ5Og0KICAgICAgICAgICAgeCwgeSA9IHNlbGYuX2dldF9j
dXJzb3JfcG9zKCkNCiAgICAgICAgICAgIHNlbGYucGlja19wcmV2aWV3LnNldChmIlg9e3h9LCBZ
PXt5fSIpDQogICAgICAgIGV4Y2VwdCBFeGNlcHRpb246DQogICAgICAgICAgICBwYXNzDQogICAg
ICAgICMg57un57ut6L2u6K+iDQogICAgICAgIHNlbGYucm9vdC5hZnRlcig1MCwgc2VsZi5fdXBk
YXRlX3BpY2tfcHJldmlldykNCg0KICAgIGRlZiBfc3RhcnRfcGlja19jb29yZChzZWxmKToNCiAg
ICAgICAgIiIiDQogICAgICAgIOW8gOWni+WdkOagh+aLvuWPlu+8mg0KICAgICAgICAtIOiLpeWu
ieijheS6hiBrZXlib2FyZO+8muazqOWGjCBGOCDlhajlsYDng63plK7noa7orqTvvJsNCiAgICAg
ICAgLSDlkIzml7blkK/liqggNTBtcyDpooTop4jliLfmlrDvvJvlj6/pmo/ml7bngrnigJzlgZzm
raLmi77lj5bigJ3miJblho3mrKHmjIkgRjgg57uT5p2f44CCDQogICAgICAgICIiIg0KICAgICAg
ICBpZiBzZWxmLl9waWNrX3J1bm5pbmc6DQogICAgICAgICAgICByZXR1cm4NCiAgICAgICAgc2Vs
Zi5fcGlja19ydW5uaW5nID0gVHJ1ZQ0KICAgICAgICBzZWxmLl9zZXRfc3RhdHVzKCLlnZDmoIfm
i77lj5bkuK3vvJrmiorpvKDmoIfnp7vliLDnm67moIflpITvvIzmjIkgRjgg56Gu6K6k44CC77yI
6IulIEY4IOS4jeWPr+eUqO+8jOivt+eUqOKAnDPnp5LlkI7lj5bngrnigJ3vvIkiKQ0KDQogICAg
ICAgICMg5rOo5YaMIEY4IOeDremUru+8iOWPr+mAie+8iQ0KICAgICAgICBzZWxmLl9rYl9ob3Rr
ZXlfaWQgPSBOb25lDQogICAgICAgIGlmIGtleWJvYXJkOg0KICAgICAgICAgICAgdHJ5Og0KICAg
ICAgICAgICAgICAgIHNlbGYuX2tiX2hvdGtleV9pZCA9IGtleWJvYXJkLmFkZF9ob3RrZXkoJ0Y4
JywgbGFtYmRhOiBzZWxmLl9maW5pc2hfcGlja19jb29yZCgpKQ0KICAgICAgICAgICAgZXhjZXB0
IEV4Y2VwdGlvbjoNCiAgICAgICAgICAgICAgICBzZWxmLl9rYl9ob3RrZXlfaWQgPSBOb25lDQoN
CiAgICAgICAgIyDlkK/liqjpooTop4jliLfmlrANCiAgICAgICAgc2VsZi5fdXBkYXRlX3BpY2tf
cHJldmlldygpDQoNCiAgICBkZWYgX3BpY2tfY29vcmRfaW5fM3Moc2VsZik6DQogICAgICAgICIi
IjPnp5LlkI7or7vlj5bkuIDmrKHlnZDmoIfvvIjml6DpnIDng63plK4v5L6d6LWW77yJ44CCIiIi
DQogICAgICAgIGlmIHNlbGYuX3BpY2tfcnVubmluZzoNCiAgICAgICAgICAgICMg6Iul5b2T5YmN
5Zyo4oCc5byA5aeL5ou+5Y+W4oCd5qih5byP5Lit77yM5YWI5YGc5q2i77yM6YG/5YWN5Yay56qB
DQogICAgICAgICAgICBzZWxmLl9zdG9wX3BpY2tfY29vcmQoKQ0KICAgICAgICBzZWxmLl9zZXRf
c3RhdHVzKCIzIOenkuWQjuWPluWdkOagh++8muivt+aKium8oOagh+enu+WIsOebruagh+S9jee9
ruKApiIpDQogICAgICAgIHNlbGYucm9vdC5hZnRlcigzMDAwLCBzZWxmLl9maW5pc2hfcGlja19j
b29yZCkNCg0KIyA9PT09PT09PT09PT09PT09PT09PT09PT09DQojIOWFpeWPow0KIyA9PT09PT09
PT09PT09PT09PT09PT09PT09DQpkZWYgbWFpbigpOgogICAgYXBwID0gQXBwKCkKICAgIHJvb3Qg
PSBhcHAucm9vdAoKICAgIGRlZiBvbl9jbG9zaW5nKCk6CiAgICAgICAgdHJ5OgogICAgICAgICAg
ICBhcHAuY2xlYW51cCgpCiAgICAgICAgZmluYWxseToKICAgICAgICAgICAgaWYgaGFzYXR0cihy
b290LCAiZGVzdHJveSIpOgogICAgICAgICAgICAgICAgcm9vdC5kZXN0cm95KCkKCiAgICBpZiBo
YXNhdHRyKHJvb3QsICJwcm90b2NvbCIpOgogICAgICAgIHJvb3QucHJvdG9jb2woIldNX0RFTEVU
RV9XSU5ET1ciLCBvbl9jbG9zaW5nKQogICAgcm9vdC5tYWlubG9vcCgpCg0KaWYgX19uYW1lX18g
PT0gIl9fbWFpbl9fIjoNCiAgICBtYWluKCkNClBLAwQUAAAAAAB2On1bjkxLWuZhAwDmYQMAGgAA
AHByZXNzdXJlX2NvbnRyb2xsZXJfYXBwLnB5aW1wb3J0IGN0eXBlcwppbXBvcnQgc3lzCmltcG9y
dCB0a2ludGVyIGFzIHRrCmltcG9ydCB0dGtib290c3RyYXAgYXMgdHRrCmZyb20gdHRrYm9vdHN0
cmFwLmNvbnN0YW50cyBpbXBvcnQgKgpmcm9tIHRraW50ZXIgaW1wb3J0IHNjcm9sbGVkdGV4dCwg
bWVzc2FnZWJveCwgZmlsZWRpYWxvZywgTWVudSwgc2ltcGxlZGlhbG9nCmltcG9ydCBzZXJpYWwK
aW1wb3J0IHNlcmlhbC50b29scy5saXN0X3BvcnRzCmltcG9ydCB0aHJlYWRpbmcKaW1wb3J0IHRp
bWUKaW1wb3J0IHN0cnVjdAppbXBvcnQgZGF0ZXRpbWUKaW1wb3J0IHF1ZXVlCmltcG9ydCBtYXRo
CmltcG9ydCBtYXRwbG90bGliCmltcG9ydCBudW1weSBhcyBucAppbXBvcnQgc29ja2V0CmltcG9y
dCBvcwppbXBvcnQganNvbgppbXBvcnQgY3N2CmltcG9ydCBvcGVucHl4bApmcm9tIGNvbGxlY3Rp
b25zIGltcG9ydCBkZXF1ZQpmcm9tIG9wZW5weXhsLmRyYXdpbmcuaW1hZ2UgaW1wb3J0IEltYWdl
IGFzIFhMSW1hZ2UKZnJvbSBQSUwgaW1wb3J0IEltYWdlLCBJbWFnZUNob3BzCmltcG9ydCBweWF1
dG9ndWkKaW1wb3J0IGF0ZXhpdCwgc2lnbmFsCmZyb20gdHlwaW5nIGltcG9ydCBBbnksIENhbGxh
YmxlLCBEaWN0LCBPcHRpb25hbCwgVHVwbGUKbWF0cGxvdGxpYi51c2UoIlRrQWdnIikKZnJvbSBt
YXRwbG90bGliLmZpZ3VyZSBpbXBvcnQgRmlndXJlCmZyb20gbWF0cGxvdGxpYi5iYWNrZW5kcy5i
YWNrZW5kX3RrYWdnIGltcG9ydCBGaWd1cmVDYW52YXNUa0FnZwoKbWF0cGxvdGxpYi5yY1BhcmFt
c1snZm9udC5zYW5zLXNlcmlmJ10gPSBbJ1NpbUhlaSddCm1hdHBsb3RsaWIucmNQYXJhbXNbJ2F4
ZXMudW5pY29kZV9taW51cyddID0gRmFsc2UKCmZyb20gcGF0aGxpYiBpbXBvcnQgUGF0aAoKCiMg
PT09PT09PT09PT09PT09PT09PT09PT09PQojIFRDUCBKU09OIOihjOWNj+iuru+8iOWGhee9ru+8
iQojID09PT09PT09PT09PT09PT09PT09PT09PT0KSGFuZGxlciA9IENhbGxhYmxlW1tEaWN0W3N0
ciwgQW55XV0sIERpY3Rbc3RyLCBBbnldXQoKCmNsYXNzIEpTT05MaW5lU2VydmVyOgogICAgIiIi
6L276YeP57qnIFRDUCDmnI3liqHlmajvvJrkuIDooYwgSlNPTiDor7fmsYLlr7nlupTkuIDooYzl
k43lupTjgIIiIiIKCiAgICBkZWYgX19pbml0X18oc2VsZiwgaG9zdDogc3RyLCBwb3J0OiBpbnQs
IGhhbmRsZXI6IEhhbmRsZXIsIG5hbWU6IHN0ciA9ICJqc29uLXNlcnZlciIpOgogICAgICAgIHNl
bGYuaG9zdCA9IGhvc3QKICAgICAgICBzZWxmLnBvcnQgPSBwb3J0CiAgICAgICAgc2VsZi5faGFu
ZGxlciA9IGhhbmRsZXIKICAgICAgICBzZWxmLl9uYW1lID0gbmFtZQogICAgICAgIHNlbGYuX3N0
b3BfZXZlbnQgPSB0aHJlYWRpbmcuRXZlbnQoKQogICAgICAgIHNlbGYuX3RocmVhZDogT3B0aW9u
YWxbdGhyZWFkaW5nLlRocmVhZF0gPSBOb25lCiAgICAgICAgc2VsZi5fc29jazogT3B0aW9uYWxb
c29ja2V0LnNvY2tldF0gPSBOb25lCgogICAgZGVmIHN0YXJ0KHNlbGYpIC0+IE5vbmU6CiAgICAg
ICAgaWYgc2VsZi5fdGhyZWFkIGFuZCBzZWxmLl90aHJlYWQuaXNfYWxpdmUoKToKICAgICAgICAg
ICAgcmV0dXJuCiAgICAgICAgc2VsZi5fc3RvcF9ldmVudC5jbGVhcigpCiAgICAgICAgc2VsZi5f
dGhyZWFkID0gdGhyZWFkaW5nLlRocmVhZCh0YXJnZXQ9c2VsZi5fc2VydmUsIG5hbWU9ZiJ7c2Vs
Zi5fbmFtZX0tdGhyZWFkIiwgZGFlbW9uPVRydWUpCiAgICAgICAgc2VsZi5fdGhyZWFkLnN0YXJ0
KCkKCiAgICBkZWYgc3RvcChzZWxmLCB0aW1lb3V0OiBmbG9hdCA9IDIuMCkgLT4gTm9uZToKICAg
ICAgICBzZWxmLl9zdG9wX2V2ZW50LnNldCgpCiAgICAgICAgc29jayA9IHNlbGYuX3NvY2sKICAg
ICAgICBpZiBzb2NrOgogICAgICAgICAgICB0cnk6CiAgICAgICAgICAgICAgICBzb2NrLnNodXRk
b3duKHNvY2tldC5TSFVUX1JEV1IpCiAgICAgICAgICAgIGV4Y2VwdCBFeGNlcHRpb246CiAgICAg
ICAgICAgICAgICBwYXNzCiAgICAgICAgICAgIHRyeToKICAgICAgICAgICAgICAgIHNvY2suY2xv
c2UoKQogICAgICAgICAgICBleGNlcHQgRXhjZXB0aW9uOgogICAgICAgICAgICAgICAgcGFzcwog
ICAgICAgIGlmIHNlbGYuX3RocmVhZDoKICAgICAgICAgICAgc2VsZi5fdGhyZWFkLmpvaW4odGlt
ZW91dD10aW1lb3V0KQogICAgICAgIHNlbGYuX3NvY2sgPSBOb25lCgogICAgIyAtLS0tLS0tLS0t
LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0K
ICAgIGRlZiBfc2VydmUoc2VsZikgLT4gTm9uZToKICAgICAgICB0cnk6CiAgICAgICAgICAgIHdp
dGggc29ja2V0LnNvY2tldChzb2NrZXQuQUZfSU5FVCwgc29ja2V0LlNPQ0tfU1RSRUFNKSBhcyBz
b2NrOgogICAgICAgICAgICAgICAgc29jay5zZXRzb2Nrb3B0KHNvY2tldC5TT0xfU09DS0VULCBz
b2NrZXQuU09fUkVVU0VBRERSLCAxKQogICAgICAgICAgICAgICAgc29jay5iaW5kKChzZWxmLmhv
c3QsIHNlbGYucG9ydCkpCiAgICAgICAgICAgICAgICBzb2NrLmxpc3Rlbig1KQogICAgICAgICAg
ICAgICAgc29jay5zZXR0aW1lb3V0KDEuMCkKICAgICAgICAgICAgICAgIHNlbGYuX3NvY2sgPSBz
b2NrCiAgICAgICAgICAgICAgICB3aGlsZSBub3Qgc2VsZi5fc3RvcF9ldmVudC5pc19zZXQoKToK
ICAgICAgICAgICAgICAgICAgICB0cnk6CiAgICAgICAgICAgICAgICAgICAgICAgIGNvbm4sIF8g
PSBzb2NrLmFjY2VwdCgpCiAgICAgICAgICAgICAgICAgICAgZXhjZXB0IHNvY2tldC50aW1lb3V0
OgogICAgICAgICAgICAgICAgICAgICAgICBjb250aW51ZQogICAgICAgICAgICAgICAgICAgIGV4
Y2VwdCBPU0Vycm9yOgogICAgICAgICAgICAgICAgICAgICAgICBicmVhawogICAgICAgICAgICAg
ICAgICAgIHRocmVhZGluZy5UaHJlYWQoCiAgICAgICAgICAgICAgICAgICAgICAgIHRhcmdldD1z
ZWxmLl9oYW5kbGVfY29ubmVjdGlvbiwKICAgICAgICAgICAgICAgICAgICAgICAgbmFtZT1mIntz
ZWxmLl9uYW1lfS1jbGllbnQiLAogICAgICAgICAgICAgICAgICAgICAgICBhcmdzPShjb25uLCks
CiAgICAgICAgICAgICAgICAgICAgICAgIGRhZW1vbj1UcnVlLAogICAgICAgICAgICAgICAgICAg
ICkuc3RhcnQoKQogICAgICAgIGZpbmFsbHk6CiAgICAgICAgICAgIHNlbGYuX3NvY2sgPSBOb25l
CgogICAgZGVmIF9oYW5kbGVfY29ubmVjdGlvbihzZWxmLCBjb25uOiBzb2NrZXQuc29ja2V0KSAt
PiBOb25lOgogICAgICAgIHdpdGggY29ubjoKICAgICAgICAgICAgY29ubi5zZXR0aW1lb3V0KDUu
MCkKICAgICAgICAgICAgYnVmZmVyID0gYiIiCiAgICAgICAgICAgIHdoaWxlIG5vdCBzZWxmLl9z
dG9wX2V2ZW50LmlzX3NldCgpOgogICAgICAgICAgICAgICAgdHJ5OgogICAgICAgICAgICAgICAg
ICAgIGNodW5rID0gY29ubi5yZWN2KDQwOTYpCiAgICAgICAgICAgICAgICBleGNlcHQgc29ja2V0
LnRpbWVvdXQ6CiAgICAgICAgICAgICAgICAgICAgY29udGludWUKICAgICAgICAgICAgICAgIGV4
Y2VwdCBPU0Vycm9yOgogICAgICAgICAgICAgICAgICAgIGJyZWFrCiAgICAgICAgICAgICAgICBp
ZiBub3QgY2h1bms6CiAgICAgICAgICAgICAgICAgICAgYnJlYWsKICAgICAgICAgICAgICAgIGJ1
ZmZlciArPSBjaHVuawogICAgICAgICAgICAgICAgd2hpbGUgYiJcbiIgaW4gYnVmZmVyOgogICAg
ICAgICAgICAgICAgICAgIGxpbmUsIGJ1ZmZlciA9IGJ1ZmZlci5zcGxpdChiIlxuIiwgMSkKICAg
ICAgICAgICAgICAgICAgICBsaW5lID0gbGluZS5zdHJpcCgpCiAgICAgICAgICAgICAgICAgICAg
aWYgbm90IGxpbmU6CiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlCiAgICAgICAgICAg
ICAgICAgICAgcmVzcG9uc2UgPSBzZWxmLl9kaXNwYXRjaChsaW5lKQogICAgICAgICAgICAgICAg
ICAgIHRyeToKICAgICAgICAgICAgICAgICAgICAgICAgY29ubi5zZW5kYWxsKHJlc3BvbnNlKQog
ICAgICAgICAgICAgICAgICAgIGV4Y2VwdCBPU0Vycm9yOgogICAgICAgICAgICAgICAgICAgICAg
ICByZXR1cm4KCiAgICBkZWYgX2Rpc3BhdGNoKHNlbGYsIHJhdzogYnl0ZXMpIC0+IGJ5dGVzOgog
ICAgICAgIHRyeToKICAgICAgICAgICAgcmVxdWVzdCA9IGpzb24ubG9hZHMocmF3LmRlY29kZSgi
dXRmLTgiKSkKICAgICAgICBleGNlcHQgRXhjZXB0aW9uIGFzIGV4YzoKICAgICAgICAgICAgcGF5
bG9hZCA9IHsib2siOiBGYWxzZSwgImVycm9yIjogZiJpbnZhbGlkIGpzb246IHtleGN9In0KICAg
ICAgICAgICAgcmV0dXJuIChqc29uLmR1bXBzKHBheWxvYWQsIGVuc3VyZV9hc2NpaT1GYWxzZSkg
KyAiXG4iKS5lbmNvZGUoInV0Zi04IikKCiAgICAgICAgdHJ5OgogICAgICAgICAgICByZXN1bHQg
PSBzZWxmLl9oYW5kbGVyKHJlcXVlc3QpIG9yIHt9CiAgICAgICAgICAgIGlmICJvayIgbm90IGlu
IHJlc3VsdDoKICAgICAgICAgICAgICAgIHJlc3VsdFsib2siXSA9IFRydWUKICAgICAgICBleGNl
cHQgRXhjZXB0aW9uIGFzIGV4YzogICMgbm9xYTogQkxFMDAxIC0gc3VyZmFjZSBlcnJvciB0byBj
bGllbnQKICAgICAgICAgICAgcmVzdWx0ID0geyJvayI6IEZhbHNlLCAiZXJyb3IiOiBzdHIoZXhj
KX0KICAgICAgICByZXR1cm4gKGpzb24uZHVtcHMocmVzdWx0LCBlbnN1cmVfYXNjaWk9RmFsc2Up
ICsgIlxuIikuZW5jb2RlKCJ1dGYtOCIpCgoKIyA9PT09PT09PT09PT09PT09PT09PT09PT09CiMg
5qih5ouf54K55Ye777yI5YaF572u77yJCiMgPT09PT09PT09PT09PT09PT09PT09PT09PQpQb2lu
dCA9IFR1cGxlW2ludCwgaW50XQpSZXBvcnRlciA9IE9wdGlvbmFsW0NhbGxhYmxlW1tzdHJdLCBO
b25lXV0KCgpkZWYgX2dldF9jdXJzb3JfcG9zKCkgLT4gUG9pbnQ6CiAgICBpZiBweWF1dG9ndWkg
aXMgbm90IE5vbmU6CiAgICAgICAgcG9zID0gcHlhdXRvZ3VpLnBvc2l0aW9uKCkKICAgICAgICBy
ZXR1cm4gaW50KHBvc1swXSksIGludChwb3NbMV0pCiAgICBpZiBzeXMucGxhdGZvcm0uc3RhcnRz
d2l0aCgid2luIikgYW5kIGN0eXBlcyBpcyBub3QgTm9uZToKICAgICAgICBjbGFzcyBfUE9JTlQo
Y3R5cGVzLlN0cnVjdHVyZSk6ICAjIHR5cGU6IGlnbm9yZVttaXNjLCB2YWxpZC10eXBlXQogICAg
ICAgICAgICBfZmllbGRzXyA9IFsoIngiLCBjdHlwZXMuY19sb25nKSwgKCJ5IiwgY3R5cGVzLmNf
bG9uZyldCgogICAgICAgIHB0ID0gX1BPSU5UKCkKICAgICAgICBpZiBjdHlwZXMud2luZGxsLnVz
ZXIzMi5HZXRDdXJzb3JQb3MoY3R5cGVzLmJ5cmVmKHB0KSkgPT0gMDoKICAgICAgICAgICAgcmFp
c2UgUnVudGltZUVycm9yKCLojrflj5bpvKDmoIflnZDmoIflpLHotKUiKQogICAgICAgIHJldHVy
biBpbnQocHQueCksIGludChwdC55KQogICAgcmFpc2UgUnVudGltZUVycm9yKCLnvLrlsJEgcHlh
dXRvZ3VpIOS4lOmdniBXaW5kb3dzIOW5s+WPsO+8jOaXoOazleiOt+WPluWdkOaghyIpCgoKZGVm
IGNhcHR1cmVfY2xpY2tfcG9pbnQoCiAgICBtYXN0ZXI6IHRrLk1pc2MsCiAgICAqLAogICAgdGl0
bGU6IHN0ciA9ICLorr7nva7ngrnlh7vngrkiLAogICAgaGludDogc3RyID0gIuenu+WKqOm8oOag
h+WIsOebruagh+WkhO+8jOaMiSBFbnRlciDplK7orrDlvZUiLAogICAgcmVwb3J0ZXI6IFJlcG9y
dGVyID0gTm9uZSwKKSAtPiBPcHRpb25hbFtQb2ludF06CiAgICAiIiLmj5DnpLrnlKjmiLfnp7vl
iqjpvKDmoIflubbmjInlm57ovabojrflj5blnZDmoIfjgIIiIiIKCiAgICB0b3AgPSB0ay5Ub3Bs
ZXZlbChtYXN0ZXIpCiAgICB0b3AudGl0bGUodGl0bGUpCiAgICB0b3AuZ2VvbWV0cnkoIjMyMHgx
MjAiKQogICAgdG9wLnRyYW5zaWVudChtYXN0ZXIud2luZm9fdG9wbGV2ZWwoKSkKICAgIHRvcC5n
cmFiX3NldCgpCiAgICB0b3AuZm9jdXNfZm9yY2UoKQoKICAgIGxhYmVsID0gdGsuTGFiZWwodG9w
LCB0ZXh0PWhpbnQpCiAgICBsYWJlbC5wYWNrKGV4cGFuZD1UcnVlKQoKICAgIHJlc3VsdDogT3B0
aW9uYWxbUG9pbnRdID0gTm9uZQoKICAgIGRlZiBfZmluaXNoKF86IE9wdGlvbmFsW3RrLkV2ZW50
XSA9IE5vbmUpIC0+IE5vbmU6CiAgICAgICAgbm9ubG9jYWwgcmVzdWx0CiAgICAgICAgdHJ5Ogog
ICAgICAgICAgICByZXN1bHQgPSBfZ2V0X2N1cnNvcl9wb3MoKQogICAgICAgICAgICBpZiByZXBv
cnRlcjoKICAgICAgICAgICAgICAgIHJlcG9ydGVyKGYi5bey6K6w5b2V5qih5ouf54K55Ye754K5
OiB7cmVzdWx0fSIpCiAgICAgICAgZXhjZXB0IEV4Y2VwdGlvbiBhcyBleGM6CiAgICAgICAgICAg
IG1lc3NhZ2Vib3guc2hvd2Vycm9yKCLplJnor68iLCBmIuiOt+WPluWdkOagh+Wksei0pToge2V4
Y30iKQogICAgICAgICAgICByZXN1bHQgPSBOb25lCiAgICAgICAgZmluYWxseToKICAgICAgICAg
ICAgdHJ5OgogICAgICAgICAgICAgICAgdG9wLmdyYWJfcmVsZWFzZSgpCiAgICAgICAgICAgIGV4
Y2VwdCBFeGNlcHRpb246CiAgICAgICAgICAgICAgICBwYXNzCiAgICAgICAgICAgIHRvcC5kZXN0
cm95KCkKCiAgICB0b3AuYmluZCgiPFJldHVybj4iLCBfZmluaXNoKQogICAgdG9wLnByb3RvY29s
KCJXTV9ERUxFVEVfV0lORE9XIiwgX2ZpbmlzaCkKICAgIHRvcC53YWl0X3dpbmRvdygpCiAgICBy
ZXR1cm4gcmVzdWx0CgoKZGVmIF9jbGlja19vbmNlKHg6IGludCwgeTogaW50LCBidXR0b246IHN0
cikgLT4gTm9uZToKICAgIGJ0biA9IChidXR0b24gb3IgImxlZnQiKS5sb3dlcigpCiAgICBpZiBw
eWF1dG9ndWkgaXMgbm90IE5vbmU6CiAgICAgICAgaWYgYnRuIG5vdCBpbiAoImxlZnQiLCAicmln
aHQiLCAibWlkZGxlIik6CiAgICAgICAgICAgIGJ0biA9ICJsZWZ0IgogICAgICAgIHB5YXV0b2d1
aS5jbGljayh4PWludCh4KSwgeT1pbnQoeSksIGJ1dHRvbj1idG4pCiAgICAgICAgcmV0dXJuCiAg
ICBpZiBub3Qgc3lzLnBsYXRmb3JtLnN0YXJ0c3dpdGgoIndpbiIpIG9yIGN0eXBlcyBpcyBOb25l
OgogICAgICAgIHJhaXNlIFJ1bnRpbWVFcnJvcigi57y65bCRIHB5YXV0b2d1aSDkuJTpnZ4gV2lu
ZG93cyDlubPlj7DvvIzml6Dms5XmqKHmi5/ngrnlh7siKQogICAgdXNlcjMyID0gY3R5cGVzLndp
bmRsbC51c2VyMzIgICMgdHlwZTogaWdub3JlW2F0dHItZGVmaW5lZF0KICAgIHVzZXIzMi5TZXRD
dXJzb3JQb3MoaW50KHgpLCBpbnQoeSkpCiAgICBtYXBwaW5nID0gewogICAgICAgICJsZWZ0Ijog
KDB4MDAwMiwgMHgwMDA0KSwKICAgICAgICAicmlnaHQiOiAoMHgwMDA4LCAweDAwMTApLAogICAg
ICAgICJtaWRkbGUiOiAoMHgwMDIwLCAweDAwNDApLAogICAgfQogICAgZG93biwgdXAgPSBtYXBw
aW5nLmdldChidG4sIG1hcHBpbmdbImxlZnQiXSkKICAgIHVzZXIzMi5tb3VzZV9ldmVudChkb3du
LCAwLCAwLCAwLCAwKQogICAgdXNlcjMyLm1vdXNlX2V2ZW50KHVwLCAwLCAwLCAwLCAwKQoKCmRl
ZiBwZXJmb3JtX2NsaWNrX2FzeW5jKAogICAgeDogaW50LAogICAgeTogaW50LAogICAgKiwKICAg
IGJ1dHRvbjogc3RyID0gImxlZnQiLAogICAgZG91YmxlOiBib29sID0gRmFsc2UsCiAgICBkZWxh
eV9tczogaW50ID0gMCwKICAgIHJlcG9ydGVyOiBSZXBvcnRlciA9IE5vbmUsCikgLT4gdGhyZWFk
aW5nLlRocmVhZDoKICAgICIiIuWQjuWPsOe6v+eoi+aJp+ihjOaooeaLn+eCueWHu++8jOmBv+WF
jemYu+WhniBVSeOAgiIiIgoKICAgIGRlZiBfd29ya2VyKCkgLT4gTm9uZToKICAgICAgICB0cnk6
CiAgICAgICAgICAgIGlmIGRlbGF5X21zID4gMDoKICAgICAgICAgICAgICAgIHRpbWUuc2xlZXAo
ZGVsYXlfbXMgLyAxMDAwLjApCiAgICAgICAgICAgIF9jbGlja19vbmNlKGludCh4KSwgaW50KHkp
LCBidXR0b24pCiAgICAgICAgICAgIGlmIGRvdWJsZToKICAgICAgICAgICAgICAgIHRpbWUuc2xl
ZXAoMC4wMykKICAgICAgICAgICAgICAgIF9jbGlja19vbmNlKGludCh4KSwgaW50KHkpLCBidXR0
b24pCiAgICAgICAgICAgIGlmIHJlcG9ydGVyOgogICAgICAgICAgICAgICAgcmVwb3J0ZXIoCiAg
ICAgICAgICAgICAgICAgICAgZiLlt7LmqKHmi5/ngrnlh7vvvJooe2ludCh4KX0sIHtpbnQoeSl9
KSB7YnV0dG9ufXsnIOWPjOWHuycgaWYgZG91YmxlIGVsc2UgJyd9Ii5zdHJpcCgpCiAgICAgICAg
ICAgICAgICApCiAgICAgICAgZXhjZXB0IEV4Y2VwdGlvbiBhcyBleGM6CiAgICAgICAgICAgIGlm
IHJlcG9ydGVyOgogICAgICAgICAgICAgICAgcmVwb3J0ZXIoZiLmiafooYzmqKHmi5/ngrnlh7vl
pLHotKU6IHtleGN9IikKCiAgICB0aHJlYWQgPSB0aHJlYWRpbmcuVGhyZWFkKHRhcmdldD1fd29y
a2VyLCBkYWVtb249VHJ1ZSkKICAgIHRocmVhZC5zdGFydCgpCiAgICByZXR1cm4gdGhyZWFkCg0K
ZGVmIHJlc29sdmVfZG9jdW1lbnRzX2RpcigpIC0+IFBhdGg6DQogICAgaG9tZSA9IFBhdGguaG9t
ZSgpDQogICAgY2FuZGlkYXRlcyA9IFsNCiAgICAgICAgaG9tZSAvICJEb2N1bWVudHMiLA0KICAg
ICAgICBob21lIC8gIuaWh+ahoyIsDQogICAgICAgIGhvbWUgLyAiT25lRHJpdmUiIC8gIkRvY3Vt
ZW50cyIsDQogICAgICAgIGhvbWUgLyAiT25lRHJpdmUiIC8gIuaWh+ahoyIsDQogICAgXQ0KICAg
IGZvciBwIGluIGNhbmRpZGF0ZXM6DQogICAgICAgIGlmIHAuZXhpc3RzKCk6DQogICAgICAgICAg
ICByZXR1cm4gcA0KICAgIHAgPSBob21lIC8gIkRvY3VtZW50cyINCiAgICBwLm1rZGlyKHBhcmVu
dHM9VHJ1ZSwgZXhpc3Rfb2s9VHJ1ZSkNCiAgICByZXR1cm4gcA0KDQoNCmRlZiBjYWxjdWxhdGVf
Y3JjKGRhdGE6IGJ5dGVzKSAtPiBieXRlczoNCiAgICAiIiLorqHnrpdNb2RidXMgQ1JD5qCh6aqM
56CBIiIiDQogICAgY3JjID0gMHhGRkZGDQogICAgZm9yIHBvcyBpbiBkYXRhOg0KICAgICAgICBj
cmMgXj0gcG9zDQogICAgICAgIGZvciBfIGluIHJhbmdlKDgpOg0KICAgICAgICAgICAgaWYgY3Jj
ICYgMHgwMDAxOg0KICAgICAgICAgICAgICAgIGNyYyA+Pj0gMQ0KICAgICAgICAgICAgICAgIGNy
YyBePSAweEEwMDENCiAgICAgICAgICAgIGVsc2U6DQogICAgICAgICAgICAgICAgY3JjID4+PSAx
DQogICAgcmV0dXJuIHN0cnVjdC5wYWNrKCc8SCcsIGNyYykNCg0KDQpUQ1BfSE9TVCA9ICIxMjcu
MC4wLjEiClRDUF9QT1JUID0gNTAwMjAKCkxFRlRfUEFORUxfV0lEVEggPSA3NjAKDQoNCmNsYXNz
IE1vZGJ1c0NvbnRyb2xsZXI6DQogICAgIiIiDQogICAg57q/56iL5a6J5YWo44CB5Y+v6Ieq5oSI
6YeN6L+e55qEIE1vZGJ1cyDkuLLlj6PlsIHoo4XvvJoNCiAgICAtIOaJgOacieaUtuWPkeWcqOWQ
jOS4gOS4quWOn+WtkOWMuu+8iFJMb2Nr77yJ5YaF5a6M5oiQ77yM6YG/5YWN5bm25Y+R6K+75YaZ
DQogICAgLSDlpLHotKXop6blj5HmjIfmlbDpgIDpgb/ph43ov57vvIjluKbkupLmlqXvvIzpmLLm
raLlubblj5HlpJrmrKHph43ov57vvIkNCiAgICAtIOWFs+mXreaXtuWFiOWBnO+8jOWGjee8k+mH
iu+8jOe7mSBXaW5kb3dzIOmpseWKqOaXtumXtOmHiuaUvuWPpeafhA0KICAgICIiIg0KICAgIGRl
ZiBfX2luaXRfXyhzZWxmLCBwb3J0LCBiYXVkcmF0ZT05NjAwLCBzbGF2ZV9pZD0xLCB3cml0ZV90
aW1lb3V0PTAuMik6DQogICAgICAgIHNlbGYucG9ydF9uYW1lID0gcG9ydA0KICAgICAgICBzZWxm
LmJhdWRyYXRlID0gYmF1ZHJhdGUNCiAgICAgICAgc2VsZi5zbGF2ZV9pZCA9IHNsYXZlX2lkDQoN
CiAgICAgICAgc2VsZi5faW9fbG9jayA9IHRocmVhZGluZy5STG9jaygpICAgICAgICMg5pS25Y+R
5Y6f5a2Q5Yy6DQogICAgICAgIHNlbGYuX3Jlb3Blbl9tdXRleCA9IHRocmVhZGluZy5Mb2NrKCkg
ICAjIOmYsuatouW5tuWPkemHjei/ng0KICAgICAgICBzZWxmLl9jbG9zaW5nID0gRmFsc2UNCiAg
ICAgICAgc2VsZi5zZXJpYWwgPSBOb25lDQogICAgICAgIHNlbGYuX2ZhaWxfY250ID0gMA0KDQog
ICAgICAgIHNlbGYuX29wZW5fcG9ydCh3cml0ZV90aW1lb3V0PXdyaXRlX3RpbWVvdXQpDQoNCiAg
ICAjIC0tLS0tLS0tLS0g56uv5Y+j5omT5byAIC0tLS0tLS0tLS0NCiAgICBkZWYgX29wZW5fcG9y
dChzZWxmLCB3cml0ZV90aW1lb3V0PTAuMiwgbWF4X3JldHJ5PTYpOg0KICAgICAgICBiYWNrb2Zm
ID0gMC4yDQogICAgICAgIGxhc3RfZXhjID0gTm9uZQ0KICAgICAgICBmb3IgXyBpbiByYW5nZSht
YXhfcmV0cnkpOg0KICAgICAgICAgICAgdHJ5Og0KICAgICAgICAgICAgICAgIHNlciA9IHNlcmlh
bC5TZXJpYWwoDQogICAgICAgICAgICAgICAgICAgIHNlbGYucG9ydF9uYW1lLA0KICAgICAgICAg
ICAgICAgICAgICBzZWxmLmJhdWRyYXRlLA0KICAgICAgICAgICAgICAgICAgICB0aW1lb3V0PTAu
MDMsDQogICAgICAgICAgICAgICAgICAgIHdyaXRlX3RpbWVvdXQ9d3JpdGVfdGltZW91dCwNCiAg
ICAgICAgICAgICAgICAgICAgYnl0ZXNpemU9c2VyaWFsLkVJR0hUQklUUywNCiAgICAgICAgICAg
ICAgICAgICAgcGFyaXR5PXNlcmlhbC5QQVJJVFlfTk9ORSwNCiAgICAgICAgICAgICAgICAgICAg
c3RvcGJpdHM9c2VyaWFsLlNUT1BCSVRTX09ORSwNCiAgICAgICAgICAgICAgICAgICAgaW50ZXJf
Ynl0ZV90aW1lb3V0PTAuMDMNCiAgICAgICAgICAgICAgICApDQogICAgICAgICAgICAgICAgdHJ5
Og0KICAgICAgICAgICAgICAgICAgICBzZXIucmVzZXRfaW5wdXRfYnVmZmVyKCkNCiAgICAgICAg
ICAgICAgICAgICAgc2VyLnJlc2V0X291dHB1dF9idWZmZXIoKQ0KICAgICAgICAgICAgICAgIGV4
Y2VwdCBFeGNlcHRpb246DQogICAgICAgICAgICAgICAgICAgIHBhc3MNCiAgICAgICAgICAgICAg
ICB3aXRoIHNlbGYuX2lvX2xvY2s6DQogICAgICAgICAgICAgICAgICAgIHNlbGYuc2VyaWFsID0g
c2VyDQogICAgICAgICAgICAgICAgdGltZS5zbGVlcCgwLjA1KSAgIyDnu5npqbHliqjkuIDkuKrl
kbzlkLgNCiAgICAgICAgICAgICAgICByZXR1cm4NCiAgICAgICAgICAgIGV4Y2VwdCAoc2VyaWFs
LlNlcmlhbEV4Y2VwdGlvbiwgT1NFcnJvcikgYXMgZToNCiAgICAgICAgICAgICAgICBsYXN0X2V4
YyA9IGUNCiAgICAgICAgICAgICAgICB0aW1lLnNsZWVwKGJhY2tvZmYpDQogICAgICAgICAgICAg
ICAgYmFja29mZiA9IG1pbihiYWNrb2ZmICogMiwgMS41KQ0KICAgICAgICByYWlzZSBDb25uZWN0
aW9uRXJyb3IoZiLml6Dms5XmiZPlvIDkuLLlj6Mge3NlbGYucG9ydF9uYW1lfToge2xhc3RfZXhj
fSIpDQoNCiAgICAjIC0tLS0tLS0tLS0g56uv5Y+j5YWz6Zet77yI5Y+v6YeN5aSN6LCD55So44CB
5a656ZSZ77yJIC0tLS0tLS0tLS0NCiAgICBkZWYgY2xvc2Uoc2VsZik6DQogICAgICAgIHdpdGgg
c2VsZi5faW9fbG9jazoNCiAgICAgICAgICAgIHNlbGYuX2Nsb3NpbmcgPSBUcnVlDQogICAgICAg
ICAgICBzZXIgPSBzZWxmLnNlcmlhbA0KICAgICAgICAgICAgc2VsZi5zZXJpYWwgPSBOb25lDQog
ICAgICAgIGlmIHNlcjoNCiAgICAgICAgICAgIHRyeToNCiAgICAgICAgICAgICAgICB0cnk6DQog
ICAgICAgICAgICAgICAgICAgIHNlci5yZXNldF9pbnB1dF9idWZmZXIoKQ0KICAgICAgICAgICAg
ICAgICAgICBzZXIucmVzZXRfb3V0cHV0X2J1ZmZlcigpDQogICAgICAgICAgICAgICAgZXhjZXB0
IEV4Y2VwdGlvbjoNCiAgICAgICAgICAgICAgICAgICAgcGFzcw0KICAgICAgICAgICAgICAgIHRy
eToNCiAgICAgICAgICAgICAgICAgICAgc2VyLmR0ciA9IEZhbHNlDQogICAgICAgICAgICAgICAg
ICAgIHNlci5ydHMgPSBGYWxzZQ0KICAgICAgICAgICAgICAgIGV4Y2VwdCBFeGNlcHRpb246DQog
ICAgICAgICAgICAgICAgICAgIHBhc3MNCiAgICAgICAgICAgICAgICAjIFdpbmRvd3Mg5LiK55u0
5o6lIGNsb3NlIOacieaXtuS7jeWNoOWPpeafhO+8jOe7mSAyMDDigJMzMDBtcyDph4rmlL7nqpfl
j6MNCiAgICAgICAgICAgICAgICBzZXIuY2xvc2UoKQ0KICAgICAgICAgICAgZXhjZXB0IEV4Y2Vw
dGlvbjoNCiAgICAgICAgICAgICAgICBwYXNzDQogICAgICAgICAgICBmaW5hbGx5Og0KICAgICAg
ICAgICAgICAgIHRpbWUuc2xlZXAoMC4yNSkNCiAgICAgICAgc2VsZi5fY2xvc2luZyA9IEZhbHNl
DQoNCiAgICAjIC0tLS0tLS0tLS0g5YaF6YOo77ya6Zi75aGe5byP6YeN6L+e77yI5bim5LqS5pal
44CB5oyH5pWw6YCA6YG/77yJIC0tLS0tLS0tLS0NCiAgICBkZWYgX3Jlb3Blbl9ibG9ja2luZyhz
ZWxmLCBtYXhfcmV0cnk9OCk6DQogICAgICAgIGlmIG5vdCBzZWxmLl9yZW9wZW5fbXV0ZXguYWNx
dWlyZShibG9ja2luZz1GYWxzZSk6DQogICAgICAgICAgICByZXR1cm4gICMg5Y+m5LiA57q/56iL
5bey5Zyo6YeN6L+eDQogICAgICAgIHRyeToNCiAgICAgICAgICAgIHNlbGYuY2xvc2UoKQ0KICAg
ICAgICAgICAgYmFja29mZiA9IDAuMg0KICAgICAgICAgICAgZm9yIF8gaW4gcmFuZ2UobWF4X3Jl
dHJ5KToNCiAgICAgICAgICAgICAgICB0cnk6DQogICAgICAgICAgICAgICAgICAgIHNlbGYuX29w
ZW5fcG9ydCgpDQogICAgICAgICAgICAgICAgICAgIHNlbGYuX2ZhaWxfY250ID0gMA0KICAgICAg
ICAgICAgICAgICAgICByZXR1cm4NCiAgICAgICAgICAgICAgICBleGNlcHQgRXhjZXB0aW9uOg0K
ICAgICAgICAgICAgICAgICAgICB0aW1lLnNsZWVwKGJhY2tvZmYpDQogICAgICAgICAgICAgICAg
ICAgIGJhY2tvZmYgPSBtaW4oYmFja29mZiAqIDIsIDIuMCkNCiAgICAgICAgZmluYWxseToNCiAg
ICAgICAgICAgIHNlbGYuX3Jlb3Blbl9tdXRleC5yZWxlYXNlKCkNCg0KICAgIGRlZiBfcmVvcGVu
X2FzeW5jKHNlbGYpOg0KICAgICAgICB0aHJlYWRpbmcuVGhyZWFkKHRhcmdldD1zZWxmLl9yZW9w
ZW5fYmxvY2tpbmcsIGRhZW1vbj1UcnVlKS5zdGFydCgpDQoNCiAgICAjIC0tLS0tLS0tLS0g57uf
5LiA55qE5Y6f5a2Q4oCc5Y+R4oaS562J4oaS5pS24oCdIC0tLS0tLS0tLS0NCiAgICBkZWYgc2Vu
ZF9jb21tYW5kKHNlbGYsIGNtZDogYnl0ZXMsIGRlbGF5OiBmbG9hdCA9IDAuMDEpIC0+IGJ5dGVz
Og0KICAgICAgICAiIiINCiAgICAgICAgLSDlnKjkuIDkuKogUkxvY2sg5Y6f5a2Q5Yy65YaF5a6M
5oiQIHdyaXRlIOKGkiBzbGVlcCDihpIgcmVhZO+8jOmBv+WFjeWFtuS7lue6v+eoi+aPkuWFpQ0K
ICAgICAgICAtIOS7u+S9lSBTZXJpYWxFeGNlcHRpb24gLyBPU0Vycm9y77yI5ZCrIE9TRXJyb3Io
MjIp77yJ6YO95Lya6Kem5Y+R6Ieq5oSI6YeN6L+eDQogICAgICAgICIiIg0KICAgICAgICBmdWxs
X2NtZCA9IGNtZCArIGNhbGN1bGF0ZV9jcmMoY21kKQ0KICAgICAgICB0cnk6DQogICAgICAgICAg
ICB3aXRoIHNlbGYuX2lvX2xvY2s6DQogICAgICAgICAgICAgICAgc2VyID0gc2VsZi5zZXJpYWwN
CiAgICAgICAgICAgICAgICBpZiBub3Qgc2VyIG9yIG5vdCBzZXIuaXNfb3BlbiBvciBzZWxmLl9j
bG9zaW5nOg0KICAgICAgICAgICAgICAgICAgICByZXR1cm4gYicnDQoNCiAgICAgICAgICAgICAg
ICAjIOa4heeQhuaui+eVmei+k+WFpe+8jOmBv+WFjeaXp+W4p+W5suaJsA0KICAgICAgICAgICAg
ICAgIHRyeToNCiAgICAgICAgICAgICAgICAgICAgc2VyLnJlc2V0X2lucHV0X2J1ZmZlcigpDQog
ICAgICAgICAgICAgICAgZXhjZXB0IEV4Y2VwdGlvbjoNCiAgICAgICAgICAgICAgICAgICAgcGFz
cw0KDQogICAgICAgICAgICAgICAgc2VyLndyaXRlKGZ1bGxfY21kKSAgICAgICMg5Y+XIHdyaXRl
X3RpbWVvdXQg5L+d5oqkDQogICAgICAgICAgICAgICAgdGltZS5zbGVlcChkZWxheSkgICAgICAg
ICMg562J5b6F5LuO56uZ5Zue5YyFDQogICAgICAgICAgICAgICAgcmVzcCA9IHNlci5yZWFkKDI1
NikgICAgICMg5Y+XIHRpbWVvdXQg5L+d5oqkDQogICAgICAgICAgICAgICAgc2VsZi5fZmFpbF9j
bnQgPSAwDQogICAgICAgICAgICAgICAgcmV0dXJuIHJlc3ANCg0KICAgICAgICBleGNlcHQgKHNl
cmlhbC5TZXJpYWxUaW1lb3V0RXhjZXB0aW9uLCBzZXJpYWwuU2VyaWFsRXhjZXB0aW9uLCBPU0Vy
cm9yKToNCiAgICAgICAgICAgICMg5YyF5ZCrIFdpbmRvd3Mg55qEIE9TRXJyb3IoMjIsICflh73m
lbDkuI3mraPnoa4nKQ0KICAgICAgICAgICAgc2VsZi5fZmFpbF9jbnQgKz0gMQ0KICAgICAgICAg
ICAgIyDlsJHph4/nnqzml7blpLHotKXkuI3nq4vliLvph43ov57vvIzov57nu63lpLHotKXop6bl
j5Hoh6rmhIgNCiAgICAgICAgICAgIGlmIHNlbGYuX2ZhaWxfY250ID49IDM6DQogICAgICAgICAg
ICAgICAgc2VsZi5fcmVvcGVuX2FzeW5jKCkNCiAgICAgICAgICAgIHJldHVybiBiJycNCiAgICAg
ICAgZXhjZXB0IEV4Y2VwdGlvbjoNCiAgICAgICAgICAgICMg5YWc5bqV77ya5LiN6K6p5byC5bi4
5ZCR5LiK54K45o6J6YeH6ZuG57q/56iLDQogICAgICAgICAgICBzZWxmLl9mYWlsX2NudCArPSAx
DQogICAgICAgICAgICBpZiBzZWxmLl9mYWlsX2NudCA+PSAzOg0KICAgICAgICAgICAgICAgIHNl
bGYuX3Jlb3Blbl9hc3luYygpDQogICAgICAgICAgICByZXR1cm4gYicnDQoNCiAgICAjIC0tLS0t
LS0tLS0gTW9kYnVzIOWKn+iDveWwgeijhSAtLS0tLS0tLS0tDQogICAgZGVmIHdyaXRlX3JlZ2lz
dGVycyhzZWxmLCBzdGFydF9hZGRyZXNzOiBpbnQsIHZhbHVlczogbGlzdCwgZGVsYXk6IGZsb2F0
ID0gMC4wNSkgLT4gYnl0ZXM6DQogICAgICAgIHJlZ19jb3VudCA9IGxlbih2YWx1ZXMpDQogICAg
ICAgIGJ5dGVfY291bnQgPSByZWdfY291bnQgKiAyDQogICAgICAgIGNtZCA9IGJ5dGVhcnJheSgp
DQogICAgICAgIGNtZC5hcHBlbmQoc2VsZi5zbGF2ZV9pZCkNCiAgICAgICAgY21kLmFwcGVuZCgw
eDEwKQ0KICAgICAgICBjbWQgKz0gc3RhcnRfYWRkcmVzcy50b19ieXRlcygyLCBieXRlb3JkZXI9
J2JpZycpDQogICAgICAgIGNtZCArPSByZWdfY291bnQudG9fYnl0ZXMoMiwgYnl0ZW9yZGVyPSdi
aWcnKQ0KICAgICAgICBjbWQuYXBwZW5kKGJ5dGVfY291bnQpDQogICAgICAgIGZvciB2IGluIHZh
bHVlczoNCiAgICAgICAgICAgIGNtZCArPSBpbnQodikudG9fYnl0ZXMoMiwgYnl0ZW9yZGVyPSdi
aWcnLCBzaWduZWQ9RmFsc2UpDQogICAgICAgIHJldHVybiBzZWxmLnNlbmRfY29tbWFuZChieXRl
cyhjbWQpLCBkZWxheSkNCg0KICAgIGRlZiByZWFkX3JlZ2lzdGVycyhzZWxmLCBzdGFydF9hZGRy
ZXNzOiBpbnQsIHJlZ19jb3VudDogaW50KSAtPiBieXRlczoNCiAgICAgICAgY21kID0gYnl0ZWFy
cmF5KCkNCiAgICAgICAgY21kLmFwcGVuZChzZWxmLnNsYXZlX2lkKQ0KICAgICAgICBjbWQuYXBw
ZW5kKDB4MDMpDQogICAgICAgIGNtZCArPSBzdGFydF9hZGRyZXNzLnRvX2J5dGVzKDIsIGJ5dGVv
cmRlcj0nYmlnJykNCiAgICAgICAgY21kICs9IHJlZ19jb3VudC50b19ieXRlcygyLCBieXRlb3Jk
ZXI9J2JpZycpDQogICAgICAgIHJldHVybiBzZWxmLnNlbmRfY29tbWFuZChieXRlcyhjbWQpLCBk
ZWxheT0wLjAxKQ0KDQogICAgZGVmIHdyaXRlX3NpbmdsZV9yZWdpc3RlcihzZWxmLCBhZGRyZXNz
OiBpbnQsIHZhbHVlOiBpbnQpIC0+IGJ5dGVzOg0KICAgICAgICBjbWQgPSBieXRlYXJyYXkoKQ0K
ICAgICAgICBjbWQuYXBwZW5kKHNlbGYuc2xhdmVfaWQpDQogICAgICAgIGNtZC5hcHBlbmQoMHgw
NikNCiAgICAgICAgY21kICs9IGFkZHJlc3MudG9fYnl0ZXMoMiwgYnl0ZW9yZGVyPSdiaWcnKQ0K
ICAgICAgICBjbWQgKz0gaW50KHZhbHVlKS50b19ieXRlcygyLCBieXRlb3JkZXI9J2JpZycsIHNp
Z25lZD1GYWxzZSkNCiAgICAgICAgcmV0dXJuIHNlbGYuc2VuZF9jb21tYW5kKGJ5dGVzKGNtZCks
IGRlbGF5PTAuMDEpDQoNCiAgICAjIOKAlOKAlCDkvaDljp/mnaXnmoToi6XlubLkvr/mjbfmlrnm
s5Xkv53mjIHkuI3lj5gg4oCU4oCUICMNCiAgICBkZWYgaGFyZHdhcmVfdGFyZShzZWxmKTogICAg
ICAgICAgIHJldHVybiBzZWxmLndyaXRlX3NpbmdsZV9yZWdpc3RlcigweDAwMTUsIDEpDQogICAg
ZGVmIHplcm9fY2FsaWJyYXRpb24oc2VsZik6ICAgICAgICByZXR1cm4gc2VsZi53cml0ZV9zaW5n
bGVfcmVnaXN0ZXIoMHgwMDE2LCAxKQ0KICAgIGRlZiB3ZWlnaHRfY2FsaWJyYXRpb24oc2VsZiwg
d2VpZ2h0X3ZhbHVlOiBpbnQpOg0KICAgICAgICB0cnk6DQogICAgICAgICAgICBzZWxmLndyaXRl
X3NpbmdsZV9yZWdpc3RlcigweDAwMTgsIDApICAjIOmDqOWIhuiuvuWkh+mcgOimgeWFiOi/m+WF
peaooeW8jw0KICAgICAgICBleGNlcHQgRXhjZXB0aW9uOg0KICAgICAgICAgICAgcGFzcw0KICAg
ICAgICByZXR1cm4gc2VsZi53cml0ZV9zaW5nbGVfcmVnaXN0ZXIoMHgwMDA2LCBpbnQod2VpZ2h0
X3ZhbHVlKSkNCiAgICBkZWYgdG9nZ2xlX3dyaXRlX3Byb3RlY3Rpb24oc2VsZiwgZW5hYmxlOiBi
b29sKToNCiAgICAgICAgcmV0dXJuIHNlbGYud3JpdGVfc2luZ2xlX3JlZ2lzdGVyKDB4MDAxOSwg
MSBpZiBlbmFibGUgZWxzZSAwKQ0KDQoNCg0KY2xhc3MgQXBwKHR0ay5GcmFtZSk6CiAgICBkZWYg
X19pbml0X18oc2VsZiwgbWFzdGVyPU5vbmUpOgogICAgICAgIGlmIG1hc3RlciBpcyBOb25lOgog
ICAgICAgICAgICB3aW5kb3cgPSB0dGsuV2luZG93KHRoZW1lbmFtZT0iY29zbW8iKQogICAgICAg
ICAgICBtYXN0ZXJfd2lkZ2V0ID0gd2luZG93CiAgICAgICAgICAgIHNlbGYuX293bnNfd2luZG93
ID0gVHJ1ZQogICAgICAgIGVsc2U6CiAgICAgICAgICAgIG1hc3Rlcl93aWRnZXQgPSBtYXN0ZXIK
ICAgICAgICAgICAgaWYgaXNpbnN0YW5jZShtYXN0ZXIsICh0ay5UaywgdGsuVG9wbGV2ZWwsIHR0
ay5XaW5kb3cpKToKICAgICAgICAgICAgICAgIHdpbmRvdyA9IG1hc3RlcgogICAgICAgICAgICBl
bHNlOgogICAgICAgICAgICAgICAgd2luZG93ID0gbWFzdGVyLndpbmZvX3RvcGxldmVsKCkKICAg
ICAgICAgICAgc2VsZi5fb3duc193aW5kb3cgPSBGYWxzZQoKICAgICAgICBzdXBlcigpLl9faW5p
dF9fKG1hc3Rlcl93aWRnZXQpCiAgICAgICAgc2VsZi5wYWNrKGZpbGw9dGsuQk9USCwgZXhwYW5k
PVRydWUpCgogICAgICAgIHNlbGYuX3dpbmRvdyA9IHdpbmRvdwogICAgICAgIHNlbGYuX2VtYmVk
ZGVkID0gbm90IHNlbGYuX293bnNfd2luZG93CiAgICAgICAgc2VsZi5fZXh0ZXJuYWxfbG9nID0g
Tm9uZQogICAgICAgIHNlbGYuX3VzZV9pbnRlcm5hbF9sb2cgPSBzZWxmLl9vd25zX3dpbmRvdwog
ICAgICAgIHNlbGYubG9nX3RleHQgPSBOb25lCgogICAgICAgIGlmIHNlbGYuX293bnNfd2luZG93
OgogICAgICAgICAgICB0cnk6CiAgICAgICAgICAgICAgICB0dGsuU3R5bGUoKS50aGVtZV91c2Uo
ImNvc21vIikKICAgICAgICAgICAgZXhjZXB0IEV4Y2VwdGlvbjoKICAgICAgICAgICAgICAgIHBh
c3MKCiAgICAgICAgaWYgaGFzYXR0cihzZWxmLl93aW5kb3csICJ0aXRsZSIpOgogICAgICAgICAg
ICBzZWxmLl93aW5kb3cudGl0bGUoIuWOi+WKm+aOp+WItue7vOWQiOeoi+W6jyIpCiAgICAgICAg
aWYgaGFzYXR0cihzZWxmLl93aW5kb3csICJtaW5zaXplIik6CiAgICAgICAgICAgIHNlbGYuX3dp
bmRvdy5taW5zaXplKDE2MDAsIDkwMCkKICAgICAgICBpZiBoYXNhdHRyKHNlbGYuX3dpbmRvdywg
Imdlb21ldHJ5Iik6CiAgICAgICAgICAgIHNlbGYuX3dpbmRvdy5nZW9tZXRyeSgiMTYwMHg5MDAi
KQogICAgICAgIGlmIGhhc2F0dHIoc2VsZi5fd2luZG93LCAicHJvdG9jb2wiKToKICAgICAgICAg
ICAgc2VsZi5fd2luZG93LnByb3RvY29sKCJXTV9ERUxFVEVfV0lORE9XIiwgc2VsZi5vbl9jbG9z
aW5nKQoKICAgICAgICBpZiBzZWxmLl9vd25zX3dpbmRvdzoKICAgICAgICAgICAgdHJ5OgogICAg
ICAgICAgICAgICAgc2VsZi5fd2luZG93Lmljb25iaXRtYXAoImljb24uaWNvIikKICAgICAgICAg
ICAgZXhjZXB0IEV4Y2VwdGlvbjoKICAgICAgICAgICAgICAgIHBhc3MKCiAgICAgICAgc2VsZi5j
cmVhdGVfbWVudSgpCg0KICAgICAgICAjIOWIneWni+WMluWPmOmHjw0KICAgICAgICBzZWxmLm1v
ZGJ1czEgPSBOb25lICAjIOWOi+WKm+S8oOaEn+WZqAogICAgICAgIHNlbGYubW9kYnVzMiA9IE5v
bmUgICMg6L+Q5Yqo5o6n5Yi25ZmoCiAgICAgICAgc2VsZi5ydW5uaW5nID0gRmFsc2UNCiAgICAg
ICAgc2VsZi5qdW1wX3J1bm5pbmcgPSBGYWxzZQ0KICAgICAgICBzZWxmLmdvdG9fbW9kZV9zZXQg
PSBGYWxzZQ0KICAgICAgICBzZWxmLmp1bXBfdmFsdWVzID0ge2k6IE5vbmUgZm9yIGkgaW4gcmFu
Z2UoMSwgOSl9DQogICAgICAgIHNlbGYuanVtcF92YXJzID0ge2k6IHRrLkRvdWJsZVZhcigpIGZv
ciBpIGluIHJhbmdlKDEsIDkpfQ0KICAgICAgICBzZWxmLmp1bXBfY2hlY2tfdmFycyA9IHtpOiB0
ay5Cb29sZWFuVmFyKHZhbHVlPVRydWUpIGZvciBpIGluIHJhbmdlKDEsIDkpfQ0KICAgICAgICBz
ZWxmLnBhcmFtc19tb2RpZmllZCA9IEZhbHNlDQogICAgICAgIHNlbGYubGFzdF9kaXJlY3Rpb24g
PSAi5LiKIg0KICAgICAgICBzZWxmLmxhc3Rfc3BlZWQgPSA1LjANCiAgICAgICAgc2VsZi5sYXN0
X2Rpc3RhbmNlID0gMjAuMA0KICAgICAgICBzZWxmLmp1bXBfbW9kZV92YXIgPSB0ay5TdHJpbmdW
YXIodmFsdWU9IuaMieWunumZheS9jee9riIpDQogICAgICAgIHNlbGYudGFyZV92YWx1ZSA9IDAN
CiAgICAgICAgc2VsZi5wcmVzc3VyZV9ydW5uaW5nID0gRmFsc2UNCiAgICAgICAgc2VsZi5jdXJy
ZW50X3Nlc3Npb25fZGF0YSA9IFtdDQogICAgICAgIHNlbGYuc2Vzc2lvbl9zdGFydF90aW1lID0g
ZGF0ZXRpbWUuZGF0ZXRpbWUubm93KCkuc3RyZnRpbWUoIiVZJW0lZF8lSCVNJVMiKQ0KICAgICAg
ICBzZWxmLnNlc3Npb25fc3RvcF90aW1lID0gIiINCiAgICAgICAgc2VsZi50aW1lX2RhdGEgPSBb
XQ0KICAgICAgICBzZWxmLnBvc19kYXRhID0gW10NCiAgICAgICAgc2VsZi5wcmVzc3VyZV9kYXRh
ID0gW10NCiAgICAgICAgc2VsZi5fcHJlc3N1cmVfaGlzdG9yeV9sb2NrID0gdGhyZWFkaW5nLkxv
Y2soKQogICAgICAgIHNlbGYuX3ByZXNzdXJlX2hpc3RvcnkgPSBkZXF1ZSgpCiAgICAgICAgc2Vs
Zi5fYXV0b190YXJlX3Byb21wdGVkID0gRmFsc2UKICAgICAgICBzZWxmLl9oaXN0b3J5X21heF9z
ZWNvbmRzID0gMTgwMC4wDQogICAgICAgIHNlbGYudGltZV9zdGFydCA9IHRpbWUudGltZSgpDQog
ICAgICAgIHNlbGYubWluX3ByZXNzdXJlID0gZmxvYXQoJ2luZicpDQogICAgICAgIHNlbGYubWF4
X3ByZXNzdXJlID0gZmxvYXQoJy1pbmYnKQ0KICAgICAgICBkb2NzID0gcmVzb2x2ZV9kb2N1bWVu
dHNfZGlyKCkNCiAgICAgICAgc2VsZi5DT05GSUdfRElSID0gc3RyKGRvY3MpDQogICAgICAgIHNl
bGYuQ09ORklHX0ZJTEUgPSAicHJlc3N1cmVfbW9uaXRvcl9jb25maWcuanNvbiINCiAgICAgICAg
c2VsZi5DT05GSUdfUEFUSCA9IG9zLnBhdGguam9pbihzZWxmLkNPTkZJR19ESVIsIHNlbGYuQ09O
RklHX0ZJTEUpDQogICAgICAgICMg5LiN6KaB5Zyo5q2k5aSEIHNlbGYubG9n77yI5q2k5pe25pel
5b+X5o6n5Lu25pyq5Yib5bu677yJDQoNCiAgICAgICAgc2VsZi5sb2FkZWRfY29uZmlnID0ge30K
CiAgICAgICAgc2VsZi5fdWlfcmVmcmVzaF9kZWZhdWx0X21zID0gNjAuMAogICAgICAgIHNlbGYu
X3Bsb3RfcmVmcmVzaF9kZWZhdWx0X21zID0gODAuMAoKICAgICAgICBzZWxmLmRlZmF1bHRfcGFy
YW1zID0gewogICAgICAgICAgICAicG9zX2ludGVydmFsIjogIjAuMDEiLAogICAgICAgICAgICAi
cHJlc3NfaW50ZXJ2YWwiOiAiMC4wMSIsCiAgICAgICAgICAgICJiYXNlX2p1bXAiOiAxMDAwLjAs
CiAgICAgICAgICAgICJqdW1wX2ludGVydmFsIjogMTAwMC4wLAogICAgICAgICAgICAiYWxsX2p1
bXBfZGlyZWN0aW9uIjogIuato+WQkSIsCiAgICAgICAgICAgICJqdW1wX3NldHRpbmdzIjogew0K
ICAgICAgICAgICAgICAgIHN0cihpKTogew0KICAgICAgICAgICAgICAgICAgICAidGhyZXNob2xk
IjogMTAwMC4wICsgKGkgLSAxKSAqIDEwMDAuMCwNCiAgICAgICAgICAgICAgICAgICAgImRpcmVj
dGlvbiI6ICLmraPlkJEiLA0KICAgICAgICAgICAgICAgICAgICAiYXV0b19jbG9zZSI6IEZhbHNl
DQogICAgICAgICAgICAgICAgfSBmb3IgaSBpbiByYW5nZSgxLCA5KQ0KICAgICAgICAgICAgfSwN
CiAgICAgICAgICAgICJzZXJpYWxfcG9ydDEiOiAiIiwKICAgICAgICAgICAgImJhdWRfcmF0ZTEi
OiAiOTYwMCIsCiAgICAgICAgICAgICJzZXJpYWxfcG9ydDIiOiAiIiwKICAgICAgICAgICAgImJh
dWRfcmF0ZTIiOiAiOTYwMCIsCiAgICAgICAgICAgICJoaWdoX3NwZWVkIjogMC4wMSwKICAgICAg
ICAgICAgImxvd19zcGVlZCI6IDAuMDAxLAogICAgICAgICAgICAicHJlc3N1cmVfdG9sZXJhbmNl
IjogMTAuMCwKICAgICAgICAgICAgInVpX3JlZnJlc2hfaW50ZXJ2YWxfbXMiOiBzZWxmLl91aV9y
ZWZyZXNoX2RlZmF1bHRfbXMsCiAgICAgICAgICAgICJwbG90X3JlZnJlc2hfaW50ZXJ2YWxfbXMi
OiBzZWxmLl9wbG90X3JlZnJlc2hfZGVmYXVsdF9tcywKICAgICAgICB9CiAgICAgICAgc2VsZi5z
ZW5kX2p1bXBfZW5hYmxlZCA9IHtpOiBGYWxzZSBmb3IgaSBpbiByYW5nZSgxLCA5KX0NCiAgICAg
ICAgc2VsZi5qdW1wX3NpZ25hbF9zZW50ID0ge2k6IEZhbHNlIGZvciBpIGluIHJhbmdlKDEsIDkp
fQ0KICAgICAgICBzZWxmLmp1bXBfbGFzdF9zdGF0ZSA9IHtpOiBOb25lIGZvciBpIGluIHJhbmdl
KDEsIDkpfQ0KICAgICAgICBzZWxmLmxhc3RfanVtcF9zZW50ID0gTm9uZQ0KICAgICAgICBzZWxm
Lmxhc3Rfc2VudF9zaWduYWwgPSBOb25lDQogICAgICAgIHNlbGYubGFzdF9wcmVzc3VyZSA9IDAN
CiAgICAgICAgc2VsZi5jb25uZWN0aW9uX3N0YXR1c192YXIxID0gdGsuU3RyaW5nVmFyKHZhbHVl
PSLmnKrov57mjqUiKQogICAgICAgIHNlbGYuY29ubmVjdGlvbl9zdGF0dXNfdmFyMiA9IHRrLlN0
cmluZ1Zhcih2YWx1ZT0i5pyq6L+e5o6lIikKICAgICAgICBzZWxmLnByZXNzdXJlX2Rpc3BsYXlf
dmFyID0gdGsuU3RyaW5nVmFyKHZhbHVlPSLljovlips6IDBnIikKICAgICAgICBzZWxmLmN1cnJl
bnRfcG9zX3ZhciA9IHRrLlN0cmluZ1Zhcih2YWx1ZT0iMC4wIikKICAgICAgICBzZWxmLmN1cnJl
bnRfc3BlZWRfdmFyID0gdGsuU3RyaW5nVmFyKHZhbHVlPSIwLjAiKQogICAgICAgIHNlbGYudWlf
cmVmcmVzaF9pbnRlcnZhbF9tc192YXIgPSB0ay5TdHJpbmdWYXIoCiAgICAgICAgICAgIHZhbHVl
PXNlbGYuX2Zvcm1hdF9pbnRlcnZhbChzZWxmLl91aV9yZWZyZXNoX2RlZmF1bHRfbXMpCiAgICAg
ICAgKQogICAgICAgIHNlbGYucGxvdF9yZWZyZXNoX2ludGVydmFsX21zX3ZhciA9IHRrLlN0cmlu
Z1ZhcigKICAgICAgICAgICAgdmFsdWU9c2VsZi5fZm9ybWF0X2ludGVydmFsKHNlbGYuX3Bsb3Rf
cmVmcmVzaF9kZWZhdWx0X21zKQogICAgICAgICkKICAgICAgICBzZWxmLnVpX3JlZnJlc2hfcmF0
ZV92YXIgPSB0ay5TdHJpbmdWYXIodmFsdWU9IiIpCiAgICAgICAgc2VsZi5wbG90X3JlZnJlc2hf
cmF0ZV92YXIgPSB0ay5TdHJpbmdWYXIodmFsdWU9IiIpCiAgICAgICAgc2VsZi5wcmVzc3VyZV9x
dWV1ZSA9IHF1ZXVlLlF1ZXVlKCkKICAgICAgICBzZWxmLnBvc2l0aW9uX3F1ZXVlID0gcXVldWUu
UXVldWUoKQogICAgICAgIHNlbGYubGFzdF9wcmVzc19yZWFkID0gdGltZS50aW1lKCkKICAgICAg
ICBzZWxmLmxhc3RfcG9zX3JlYWQgPSB0aW1lLnRpbWUoKQogICAgICAgIHNlbGYubGFzdF9wbG90
X3VwZGF0ZSA9IHRpbWUudGltZSgpCiAgICAgICAgc2VsZi5jdXJyZW50X3Bvc2l0aW9uID0gMC4w
CiAgICAgICAgc2VsZi5jdXJyZW50X3ByZXNzdXJlID0gMAogICAgICAgIHNlbGYuTUlOX0lOVEVS
VkFMID0gMC4wMQogICAgICAgIHNlbGYubWFpbl9jYW52YXMgPSBOb25lCiAgICAgICAgc2VsZi5z
Y3JvbGxiYXIgPSBOb25lCiAgICAgICAgc2VsZi5zY3JvbGxhYmxlX2ZyYW1lID0gTm9uZQogICAg
ICAgIHNlbGYuX3VpX3VwZGF0ZV9qb2IgPSBOb25lCiAgICAgICAgc2VsZi5fcGxvdF91cGRhdGVf
am9iID0gTm9uZQogICAgICAgIHNlbGYucHJlc3N1cmVfY29udHJvbF90aHJlYWQgPSBOb25lCiAg
ICAgICAgc2VsZi5wcmVzc3VyZV9jb250cm9sX3J1bm5pbmcgPSBGYWxzZQogICAgICAgIHNlbGYu
dGFyZ2V0X3ByZXNzdXJlID0gMC4wCiAgICAgICAgc2VsZi5wcmVzc3VyZV90b2xlcmFuY2UgPSAx
MC4wCiAgICAgICAgc2VsZi5sb3dfc3BlZWQgPSAwLjAwMQogICAgICAgIHNlbGYuam9nX3N0ZXBf
bW0gPSAwLjAwMSAgIyDngrnliqjmraXplb/lm7rlrprkuLogMc68be+8jOWOu+mZpOWPr+e8lui+
kemhuQ0KICAgICAgICBzZWxmLmhpZ2hfc3BlZWQgPSA1LjANCiAgICAgICAgc2VsZi53cml0ZV9w
cm90ZWN0aW9uX2VuYWJsZWQgPSBUcnVlCiAgICAgICAgc2VsZi5kZWJ1Z19tb2RlID0gVHJ1ZQog
ICAgICAgIHNlbGYuZGV2aWNlX3RocmVhZCA9IE5vbmUKICAgICAgICBzZWxmLnBpeGVsX2RldGVj
dGlvbl9wYXVzZWRfdW50aWwgPSAwCiAgICAgICAgc2VsZi5fcGVyaW9kaWNfam9ic19lbmFibGVk
ID0gRmFsc2UKICAgICAgICBzZWxmLl9sYXN0X3BpeGVsX2NoZWNrX3RzID0gdGltZS50aW1lKCkK
DQogICAgICAgICMg5aSa5Y6L5Yqb5rWL6K+V55u45YWzDQogICAgICAgIHNlbGYubXVsdGlfcHJl
c3N1cmVfbW9kZV92YXIgPSB0ay5Cb29sZWFuVmFyKHZhbHVlPUZhbHNlKQ0KICAgICAgICBzZWxm
LnN0YWJsZV90aW1lX3ZhciA9IHRrLkRvdWJsZVZhcih2YWx1ZT0xMC4wKQ0KICAgICAgICBzZWxm
LnNpbV9jbGlja19lbmFibGVkID0gdGsuQm9vbGVhblZhcih2YWx1ZT1GYWxzZSkNCiAgICAgICAg
c2VsZi5zaW1fY2xpY2tfcG9zID0gTm9uZQ0KICAgICAgICBzZWxmLnByZXNzdXJlX3BvaW50c192
YXIgPSB0ay5TdHJpbmdWYXIodmFsdWU9IjEwMDAsMjAwMCwzMDAwIikNCiAgICAgICAgc2VsZi5s
b29wX21vZGVfdmFyID0gdGsuU3RyaW5nVmFyKHZhbHVlPSLpobrluo8iKQ0KICAgICAgICBzZWxm
Lm11bHRpX3ByZXNzdXJlX3J1bm5pbmcgPSBGYWxzZQ0KICAgICAgICBzZWxmLnBpeGVsX2RldGVj
dGlvbl9lbmFibGVkID0gdGsuQm9vbGVhblZhcih2YWx1ZT1GYWxzZSkNCiAgICAgICAgc2VsZi5w
aXhlbF9kZXRlY3Rpb25fcmVnaW9uID0gTm9uZQ0KICAgICAgICBzZWxmLnBpeGVsX3NlbnNpdGl2
aXR5X3ZhciA9IHRrLkRvdWJsZVZhcih2YWx1ZT01LjApDQogICAgICAgIHNlbGYucGl4ZWxfdGlt
ZW91dF92YXIgPSB0ay5Eb3VibGVWYXIodmFsdWU9MzAwLjApDQogICAgICAgIHNlbGYuaW5pdGlh
bF9waXhlbF9zbmFwc2hvdCA9IE5vbmUNCg0KICAgICAgICAjIOS4ieS4quaXtumXtOWPguaVsA0K
ICAgICAgICBzZWxmLmRldGVjdGlvbl9pbnRlcnZhbF92YXIgPSB0ay5JbnRWYXIodmFsdWU9MTAw
MCkgICAgICAgIyBtcw0KICAgICAgICBzZWxmLnByZXNzdXJlX3N0ZXBfaW50ZXJ2YWxfdmFyID0g
dGsuRG91YmxlVmFyKHZhbHVlPTYwLjApICMgcw0KICAgICAgICBzZWxmLnRpbWVvdXRfdmFyID0g
dGsuSW50VmFyKHZhbHVlPTgwMDApICAgICAgICAgICAgICAgICAgIyBtcw0KICAgICAgICBzZWxm
LnBpeGVsX2NsaWNrX2Nvb2xkb3duX3ZhciA9IHRrLkludFZhcih2YWx1ZT0yMDAwKQ0KICAgICAg
ICBzZWxmLmxhc3RfcGl4ZWxfY2xpY2tfdGltZSA9IDANCiAgICAgICAgc2VsZi5wcmV2X3BpeGVs
X3NuYXBzaG90ID0gTm9uZQ0KICAgICAgICBzZWxmLnBpeGVsX2xvZ19lbmFibGVkID0gdGsuQm9v
bGVhblZhcih2YWx1ZT1GYWxzZSkNCg0KICAgICAgICBzZWxmLmN1cnJlbnRfdW5pdCA9ICJnIg0K
ICAgICAgICBzZWxmLnVuaXRfYXJlYSA9IDEuMCAgIyBQYS9NUGEg5o2i566X6Z2i56evKG3CsikN
Cg0KICAgICAgICAjIOWIm+W7uueVjOmdog0KICAgICAgICBzZWxmLmNyZWF0ZV93aWRnZXRzKCkN
CiAgICAgICAgc2VsZi5sb2coZiLphY3nva7mlofku7bot6/lvoQ6IHtzZWxmLkNPTkZJR19QQVRI
fSIpDQogICAgICAgIHNlbGYucmVmcmVzaF9wb3J0cygpDQoNCiAgICAgICAgc2VsZi51aV9yZWZy
ZXNoX2ludGVydmFsX21zX3Zhci50cmFjZV9hZGQoCiAgICAgICAgICAgICJ3cml0ZSIsIHNlbGYu
X29uX3VpX3JlZnJlc2hfaW50ZXJ2YWxfY2hhbmdlZAogICAgICAgICkKICAgICAgICBzZWxmLnBs
b3RfcmVmcmVzaF9pbnRlcnZhbF9tc192YXIudHJhY2VfYWRkKAogICAgICAgICAgICAid3JpdGUi
LCBzZWxmLl9vbl9wbG90X3JlZnJlc2hfaW50ZXJ2YWxfY2hhbmdlZAogICAgICAgICkKICAgICAg
ICBzZWxmLl9vbl91aV9yZWZyZXNoX2ludGVydmFsX2NoYW5nZWQoKQogICAgICAgIHNlbGYuX29u
X3Bsb3RfcmVmcmVzaF9pbnRlcnZhbF9jaGFuZ2VkKCkKCiAgICAgICAgIyDliqDovb3phY3nva4K
ICAgICAgICBzZWxmLmxvYWRfY29uZmlnKCkKICAgICAgICBzZWxmLnZhbGlkYXRlX2ludGVydmFs
cygpCgogICAgICAgIHNlbGYuX3BlcmlvZGljX2pvYnNfZW5hYmxlZCA9IFRydWUKICAgICAgICBz
ZWxmLl9yZXNjaGVkdWxlX3VpX3VwZGF0ZSgpCiAgICAgICAgc2VsZi5fcmVzY2hlZHVsZV9wbG90
X3VwZGF0ZSgpCg0KICAgICAgICBzZWxmLmZsYXNoaW5nID0gRmFsc2UNCiAgICAgICAgc2VsZi5m
bGFzaF9zdGF0ZSA9IEZhbHNlDQoNCiAgICAgICAgc2VsZi5sYXN0X3ByZXNzdXJlX3JlY29yZF90
aW1lID0gMA0KICAgICAgICBzZWxmLnByZXNzdXJlX3RocmVhZF9ydW5uaW5nID0gRmFsc2UNCiAg
ICAgICAgc2VsZi5wb3NpdGlvbl90aHJlYWRfcnVubmluZyA9IEZhbHNlDQoNCiAgICAgICAgc2Vs
Zi5hZnRlcig1MDAsIHNlbGYuX21heGltaXplX3dpbmRvdykKICAgICAgICBzZWxmLnByZXNzdXJl
X2NvbnRyb2xfcGF1c2VkX3VudGlsID0gMAoNCiAgICAgICAgIyDigJTigJQg6L+Q5Yqo5ZG95Luk
6IqC5rWB77yI6YG/5YWN5q+PNTBtc+eLguWPke+8ieKAlOKAlA0KICAgICAgICBzZWxmLl9tY19s
YXN0X2NtZF90cyA9IDAuMA0KICAgICAgICBzZWxmLl9tY19sYXN0X2RpciA9IE5vbmUNCiAgICAg
ICAgc2VsZi5fbWNfbGFzdF9zcGVlZCA9IE5vbmUNCiAgICAgICAgc2VsZi5fbWNfbGFzdF9kaXN0
YW5jZSA9IE5vbmUNCg0KICAgICAgICBzZWxmLl9qdW1wX3Bvc19vZmZzZXRzID0ge30gICMge2lk
eDogb2Zmc2V0X21tfQ0KICAgICAgICBzZWxmLkxPR19NQVhfTElORVMgPSAyMDANCg0KICAgICAg
ICBzZWxmLnRjcF9zZXJ2ZXIgPSBKU09OTGluZVNlcnZlcihUQ1BfSE9TVCwgVENQX1BPUlQsIHNl
bGYuX2hhbmRsZV90Y3BfY29tbWFuZCwgbmFtZT0icHJlc3N1cmUtY29udHJvbGxlciIpDQogICAg
ICAgIHRyeToNCiAgICAgICAgICAgIHNlbGYudGNwX3NlcnZlci5zdGFydCgpDQogICAgICAgIGV4
Y2VwdCBPU0Vycm9yIGFzIGV4YzoNCiAgICAgICAgICAgIHNlbGYudGNwX3NlcnZlciA9IE5vbmUN
CiAgICAgICAgICAgIHNlbGYubG9nKGYiVENQIOacjeWKoeWQr+WKqOWksei0pToge2V4Y30iKQ0K
DQogICAgICAgIGF0ZXhpdC5yZWdpc3RlcihzZWxmLl9jbGVhbnVwX3BvcnRzKQogICAgICAgIGZv
ciBzaWcgaW4gKHNpZ25hbC5TSUdJTlQsIHNpZ25hbC5TSUdURVJNKToKICAgICAgICAgICAgc2ln
bmFsLnNpZ25hbChzaWcsIGxhbWJkYSAqYTogc2VsZi5zaHV0ZG93bigpKQoNCiAgICBkZWYgY3Jl
YXRlX21lbnUoc2VsZik6CiAgICAgICAgaWYgc2VsZi5fZW1iZWRkZWQ6CiAgICAgICAgICAgIHRv
b2xiYXIgPSB0dGsuRnJhbWUoc2VsZiwgcGFkZGluZz0oMCwgNikpCiAgICAgICAgICAgIHRvb2xi
YXIucGFjayhmaWxsPXRrLlgpCiAgICAgICAgICAgIHR0ay5CdXR0b24odG9vbGJhciwgdGV4dD0i
5L+d5a2Y6K6+572uIiwgY29tbWFuZD1zZWxmLnNhdmVfY29uZmlnLCBib290c3R5bGU9InNlY29u
ZGFyeS1vdXRsaW5lIikucGFjaygKICAgICAgICAgICAgICAgIHNpZGU9dGsuTEVGVCwgcGFkeD00
CiAgICAgICAgICAgICkKICAgICAgICAgICAgdHRrLkJ1dHRvbih0b29sYmFyLCB0ZXh0PSLliqDo
vb3orr7nva4iLCBjb21tYW5kPXNlbGYubG9hZF9jb25maWcsIGJvb3RzdHlsZT0ic2Vjb25kYXJ5
LW91dGxpbmUiKS5wYWNrKAogICAgICAgICAgICAgICAgc2lkZT10ay5MRUZULCBwYWR4PTQKICAg
ICAgICAgICAgKQogICAgICAgICAgICB0dGsuQnV0dG9uKHRvb2xiYXIsIHRleHQ9IuWBnOatouWF
qOmDqCIsIGNvbW1hbmQ9c2VsZi5zdG9wX2FsbCwgYm9vdHN0eWxlPSJ3YXJuaW5nLW91dGxpbmUi
KS5wYWNrKAogICAgICAgICAgICAgICAgc2lkZT10ay5MRUZULCBwYWR4PTEyCiAgICAgICAgICAg
ICkKICAgICAgICAgICAgcmV0dXJuCgogICAgICAgIG1lbnViYXIgPSBNZW51KHNlbGYuX3dpbmRv
dykKCiAgICAgICAgZmlsZV9tZW51ID0gTWVudShtZW51YmFyLCB0ZWFyb2ZmPTApCiAgICAgICAg
ZmlsZV9tZW51LmFkZF9jb21tYW5kKGxhYmVsPSLkv53lrZjorr7nva4iLCBjb21tYW5kPXNlbGYu
c2F2ZV9jb25maWcpCiAgICAgICAgZmlsZV9tZW51LmFkZF9jb21tYW5kKGxhYmVsPSLliqDovb3o
rr7nva4iLCBjb21tYW5kPXNlbGYubG9hZF9jb25maWcpCiAgICAgICAgZmlsZV9tZW51LmFkZF9z
ZXBhcmF0b3IoKQogICAgICAgIGZpbGVfbWVudS5hZGRfY29tbWFuZChsYWJlbD0i6YCA5Ye6Iiwg
Y29tbWFuZD1zZWxmLm9uX2Nsb3NpbmcpCiAgICAgICAgbWVudWJhci5hZGRfY2FzY2FkZShsYWJl
bD0i5paH5Lu2IiwgbWVudT1maWxlX21lbnUpCgogICAgICAgIHNlbGYuX3dpbmRvdy5jb25maWco
bWVudT1tZW51YmFyKQoNCiAgICBkZWYgY2FsbF9pbl91aShzZWxmLCBmbiwgKmFyZ3MsICoqa3dh
cmdzKToKICAgICAgICBpZiB0aHJlYWRpbmcuY3VycmVudF90aHJlYWQoKSBpcyB0aHJlYWRpbmcu
bWFpbl90aHJlYWQoKToKICAgICAgICAgICAgcmV0dXJuIGZuKCphcmdzLCAqKmt3YXJncykKICAg
ICAgICByZXN1bHQgPSB7fQogICAgICAgIGV2ZW50ID0gdGhyZWFkaW5nLkV2ZW50KCkKDQogICAg
ICAgIGRlZiB3cmFwcGVyKCk6DQogICAgICAgICAgICB0cnk6DQogICAgICAgICAgICAgICAgcmVz
dWx0WyJ2YWx1ZSJdID0gZm4oKmFyZ3MsICoqa3dhcmdzKQ0KICAgICAgICAgICAgZXhjZXB0IEV4
Y2VwdGlvbiBhcyBleGM6ICAjIG5vcWE6IEJMRTAwMQ0KICAgICAgICAgICAgICAgIHJlc3VsdFsi
ZXJyb3IiXSA9IGV4Yw0KICAgICAgICAgICAgZmluYWxseToNCiAgICAgICAgICAgICAgICBldmVu
dC5zZXQoKQ0KDQogICAgICAgIHNlbGYuYWZ0ZXIoMCwgd3JhcHBlcikKICAgICAgICBpZiBub3Qg
ZXZlbnQud2FpdCh0aW1lb3V0PTMuMCk6CiAgICAgICAgICAgIHJhaXNlIFRpbWVvdXRFcnJvcigi
VUkgdGhyZWFkIHVucmVzcG9uc2l2ZSIpCiAgICAgICAgaWYgImVycm9yIiBpbiByZXN1bHQ6CiAg
ICAgICAgICAgIHJhaXNlIHJlc3VsdFsiZXJyb3IiXQogICAgICAgIHJldHVybiByZXN1bHQuZ2V0
KCJ2YWx1ZSIpCgogICAgZGVmIF9tYXhpbWl6ZV93aW5kb3coc2VsZik6CiAgICAgICAgaWYgbm90
IGdldGF0dHIoc2VsZiwgIl9vd25zX3dpbmRvdyIsIEZhbHNlKToKICAgICAgICAgICAgcmV0dXJu
CiAgICAgICAgd2luZG93ID0gZ2V0YXR0cihzZWxmLCAiX3dpbmRvdyIsIE5vbmUpCiAgICAgICAg
aWYgbm90IHdpbmRvdzoKICAgICAgICAgICAgcmV0dXJuCiAgICAgICAgZm9yIGF0dHIgaW4gKCJz
dGF0ZSIsICJ3bV9zdGF0ZSIpOgogICAgICAgICAgICBtZXRob2QgPSBnZXRhdHRyKHdpbmRvdywg
YXR0ciwgTm9uZSkKICAgICAgICAgICAgaWYgY2FsbGFibGUobWV0aG9kKToKICAgICAgICAgICAg
ICAgIHRyeToKICAgICAgICAgICAgICAgICAgICBtZXRob2QoInpvb21lZCIpCiAgICAgICAgICAg
ICAgICAgICAgcmV0dXJuCiAgICAgICAgICAgICAgICBleGNlcHQgdGsuVGNsRXJyb3I6CiAgICAg
ICAgICAgICAgICAgICAgY29udGludWUKICAgICAgICBhdHRyaWJ1dGVzID0gZ2V0YXR0cih3aW5k
b3csICJhdHRyaWJ1dGVzIiwgTm9uZSkKICAgICAgICBpZiBjYWxsYWJsZShhdHRyaWJ1dGVzKToK
ICAgICAgICAgICAgdHJ5OgogICAgICAgICAgICAgICAgYXR0cmlidXRlcygiLXpvb21lZCIsIFRy
dWUpCiAgICAgICAgICAgIGV4Y2VwdCB0ay5UY2xFcnJvcjoKICAgICAgICAgICAgICAgIHBhc3MK
CiAgICBkZWYgY3JlYXRlX3dpZGdldHMoc2VsZik6CiAgICAgICAgbWFpbl9mcmFtZSA9IHR0ay5G
cmFtZShzZWxmLCBwYWRkaW5nPTEwKQogICAgICAgIG1haW5fZnJhbWUucGFjayhmaWxsPXRrLkJP
VEgsIGV4cGFuZD1UcnVlKQ0KDQogICAgICAgIGxlZnRfcGFuZWxfZnJhbWUgPSB0dGsuTGFiZWxG
cmFtZShtYWluX2ZyYW1lLCB0ZXh0PSLmjqfliLbpnaLmnb8iLCB3aWR0aD1MRUZUX1BBTkVMX1dJ
RFRIKQogICAgICAgIGxlZnRfcGFuZWxfZnJhbWUucGFjayhzaWRlPXRrLkxFRlQsIGZpbGw9dGsu
WSwgcGFkeD0oMCwgMTApLCBwYWR5PTApDQogICAgICAgIGxlZnRfcGFuZWxfZnJhbWUucGFja19w
cm9wYWdhdGUoRmFsc2UpDQoNCiAgICAgICAgcHJlc3N1cmVfZGlzcGxheV9mcmFtZSA9IHR0ay5M
YWJlbEZyYW1lKGxlZnRfcGFuZWxfZnJhbWUsIHRleHQ9IuW9k+WJjeWOi+WKmyIpDQogICAgICAg
IHByZXNzdXJlX2Rpc3BsYXlfZnJhbWUucGFjayhmaWxsPXRrLlgsIHBhZHg9NSwgcGFkeT0xMCkN
Cg0KICAgICAgICBzZWxmLmJpZ19wcmVzc3VyZV92YXIgPSB0ay5TdHJpbmdWYXIodmFsdWU9IjAg
ZyIpDQogICAgICAgIHNlbGYuYmlnX3ByZXNzdXJlX2xhYmVsID0gdHRrLkxhYmVsKA0KICAgICAg
ICAgICAgcHJlc3N1cmVfZGlzcGxheV9mcmFtZSwNCiAgICAgICAgICAgIHRleHR2YXJpYWJsZT1z
ZWxmLmJpZ19wcmVzc3VyZV92YXIsDQogICAgICAgICAgICBmb250PSgiQXJpYWwiLCA1MCwgImJv
bGQiKSwNCiAgICAgICAgICAgIGFuY2hvcj0iY2VudGVyIg0KICAgICAgICApDQogICAgICAgIHNl
bGYuYmlnX3ByZXNzdXJlX2xhYmVsLnBhY2soZmlsbD10ay5YLCBwYWR4PTEwLCBwYWR5PTIwKQ0K
ICAgICAgICBzZWxmLmJpZ19wcmVzc3VyZV9sYWJlbC5jb25maWcoYmFja2dyb3VuZD0id2hpdGUi
LCBmb3JlZ3JvdW5kPSJibGFjayIpDQoNCiAgICAgICAgZGV2aWNlX2ZyYW1lID0gdHRrLkxhYmVs
RnJhbWUobGVmdF9wYW5lbF9mcmFtZSwgdGV4dD0i6K6+5aSH6L+e5o6lIikNCiAgICAgICAgZGV2
aWNlX2ZyYW1lLnBhY2soZmlsbD10ay5YLCBwYWR4PTUsIHBhZHk9NSkNCg0KICAgICAgICBzZW5z
b3JfZnJhbWUgPSB0dGsuRnJhbWUoZGV2aWNlX2ZyYW1lKQ0KICAgICAgICBzZW5zb3JfZnJhbWUu
cGFjayhmaWxsPXRrLlgsIHBhZHg9NSwgcGFkeT0yKQ0KICAgICAgICB0dGsuTGFiZWwoc2Vuc29y
X2ZyYW1lLCB0ZXh0PSLljovlipvkvKDmhJ/lmag6IikucGFjayhzaWRlPXRrLkxFRlQsIHBhZHg9
NSwgcGFkeT0yKQ0KICAgICAgICBzZWxmLnBvcnRfY2IxID0gdHRrLkNvbWJvYm94KHNlbnNvcl9m
cmFtZSwgd2lkdGg9MTIpDQogICAgICAgIHNlbGYucG9ydF9jYjEucGFjayhzaWRlPXRrLkxFRlQs
IHBhZHg9NSwgcGFkeT0yKQ0KICAgICAgICBzZWxmLl9kaXNhYmxlX21vdXNlX3doZWVsKHNlbGYu
cG9ydF9jYjEpDQogICAgICAgIHNlbGYuYmF1ZF9lbnRyeTEgPSB0dGsuRW50cnkoc2Vuc29yX2Zy
YW1lLCB3aWR0aD04KQ0KICAgICAgICBzZWxmLmJhdWRfZW50cnkxLnBhY2soc2lkZT10ay5MRUZU
LCBwYWR4PTUsIHBhZHk9MikNCiAgICAgICAgc2VsZi5iYXVkX2VudHJ5MS5pbnNlcnQoMCwgIjk2
MDAiKQ0KICAgICAgICBzZWxmLl9kaXNhYmxlX21vdXNlX3doZWVsKHNlbGYuYmF1ZF9lbnRyeTEp
DQogICAgICAgIHNlbGYuc2Vuc29yX2J0biA9IHR0ay5CdXR0b24oc2Vuc29yX2ZyYW1lLCB0ZXh0
PSLov57mjqUiLCBjb21tYW5kPXNlbGYudG9nZ2xlX3NlbnNvcl9jb25uZWN0aW9uLA0KICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJvb3RzdHlsZT0ib3V0bGluZS1zdWNjZXNz
IikNCiAgICAgICAgc2VsZi5zZW5zb3JfYnRuLnBhY2soc2lkZT10ay5MRUZULCBwYWR4PTUsIHBh
ZHk9MikNCiAgICAgICAgc2VsZi5jb25uZWN0aW9uX3N0YXR1c192YXIxID0gdGsuU3RyaW5nVmFy
KHZhbHVlPSLmnKrov57mjqUiKQ0KICAgICAgICB0dGsuTGFiZWwoc2Vuc29yX2ZyYW1lLCB0ZXh0
dmFyaWFibGU9c2VsZi5jb25uZWN0aW9uX3N0YXR1c192YXIxKS5wYWNrKHNpZGU9dGsuTEVGVCwg
cGFkeD01LCBwYWR5PTIpDQoNCiAgICAgICAgY29udHJvbGxlcl9mcmFtZSA9IHR0ay5GcmFtZShk
ZXZpY2VfZnJhbWUpDQogICAgICAgIGNvbnRyb2xsZXJfZnJhbWUucGFjayhmaWxsPXRrLlgsIHBh
ZHg9NSwgcGFkeT0yKQ0KICAgICAgICB0dGsuTGFiZWwoY29udHJvbGxlcl9mcmFtZSwgdGV4dD0i
6L+Q5Yqo5o6n5Yi25ZmoOiIpLnBhY2soc2lkZT10ay5MRUZULCBwYWR4PTUsIHBhZHk9MikNCiAg
ICAgICAgc2VsZi5wb3J0X2NiMiA9IHR0ay5Db21ib2JveChjb250cm9sbGVyX2ZyYW1lLCB3aWR0
aD0xMikNCiAgICAgICAgc2VsZi5wb3J0X2NiMi5wYWNrKHNpZGU9dGsuTEVGVCwgcGFkeD01LCBw
YWR5PTIpDQogICAgICAgIHNlbGYuX2Rpc2FibGVfbW91c2Vfd2hlZWwoc2VsZi5wb3J0X2NiMikN
CiAgICAgICAgc2VsZi5iYXVkX2VudHJ5MiA9IHR0ay5FbnRyeShjb250cm9sbGVyX2ZyYW1lLCB3
aWR0aD04KQ0KICAgICAgICBzZWxmLmJhdWRfZW50cnkyLnBhY2soc2lkZT10ay5MRUZULCBwYWR4
PTUsIHBhZHk9MikNCiAgICAgICAgc2VsZi5iYXVkX2VudHJ5Mi5pbnNlcnQoMCwgIjk2MDAiKQ0K
ICAgICAgICBzZWxmLl9kaXNhYmxlX21vdXNlX3doZWVsKHNlbGYuYmF1ZF9lbnRyeTIpDQogICAg
ICAgIHNlbGYuY29udHJvbGxlcl9idG4gPSB0dGsuQnV0dG9uKGNvbnRyb2xsZXJfZnJhbWUsIHRl
eHQ9Iui/nuaOpSIsIGNvbW1hbmQ9c2VsZi50b2dnbGVfY29udHJvbGxlcl9jb25uZWN0aW9uLA0K
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBib290c3R5bGU9Im91dGxp
bmUtc3VjY2VzcyIpDQogICAgICAgIHNlbGYuY29udHJvbGxlcl9idG4ucGFjayhzaWRlPXRrLkxF
RlQsIHBhZHg9NSwgcGFkeT0yKQ0KICAgICAgICBzZWxmLmNvbm5lY3Rpb25fc3RhdHVzX3ZhcjIg
PSB0ay5TdHJpbmdWYXIodmFsdWU9Iuacqui/nuaOpSIpDQogICAgICAgIHR0ay5MYWJlbChjb250
cm9sbGVyX2ZyYW1lLCB0ZXh0dmFyaWFibGU9c2VsZi5jb25uZWN0aW9uX3N0YXR1c192YXIyKS5w
YWNrKHNpZGU9dGsuTEVGVCwgcGFkeD01LCBwYWR5PTIpDQoNCiAgICAgICAgc2VsZi5zZW5zb3Jf
Y29ubmVjdGVkID0gRmFsc2UNCiAgICAgICAgc2VsZi5jb250cm9sbGVyX2Nvbm5lY3RlZCA9IEZh
bHNlDQoNCiAgICAgICAgZGV2aWNlX2J0bl9mcmFtZSA9IHR0ay5GcmFtZShkZXZpY2VfZnJhbWUp
DQogICAgICAgIGRldmljZV9idG5fZnJhbWUucGFjayhmaWxsPXRrLlgsIHBhZHg9NSwgcGFkeT01
KQ0KICAgICAgICB0dGsuQnV0dG9uKGRldmljZV9idG5fZnJhbWUsIHRleHQ9IuWIt+aWsOerr+WP
oyIsIGNvbW1hbmQ9c2VsZi5yZWZyZXNoX3BvcnRzLA0KICAgICAgICAgICAgICAgICAgIGJvb3Rz
dHlsZT0ib3V0bGluZS1zZWNvbmRhcnkiKS5wYWNrKHNpZGU9dGsuTEVGVCwgcGFkeD01KQ0KICAg
ICAgICB0dGsuQnV0dG9uKGRldmljZV9idG5fZnJhbWUsIHRleHQ9IuiHquWKqOi/nuaOpSIsIGNv
bW1hbmQ9c2VsZi5hdXRvX2Nvbm5lY3RfZGV2aWNlcywNCiAgICAgICAgICAgICAgICAgICBib290
c3R5bGU9Im91dGxpbmUtcHJpbWFyeSIpLnBhY2soc2lkZT10ay5MRUZULCBwYWR4PTUpDQoNCiAg
ICAgICAgaW50ZXJ2YWxfZnJhbWUgPSB0dGsuRnJhbWUoZGV2aWNlX2ZyYW1lKQ0KICAgICAgICBp
bnRlcnZhbF9mcmFtZS5wYWNrKGZpbGw9dGsuWCwgcGFkeD01LCBwYWR5PTUpDQogICAgICAgIHR0
ay5MYWJlbChpbnRlcnZhbF9mcmFtZSwgdGV4dD0i5L2N572u6K+75Y+W6Ze06ZqUOiIpLnBhY2so
c2lkZT10ay5MRUZULCBwYWR4PTUsIHBhZHk9MikNCiAgICAgICAgc2VsZi5wb3NfaW50ZXJ2YWxf
ZW50cnkgPSB0dGsuRW50cnkoaW50ZXJ2YWxfZnJhbWUsIHdpZHRoPTgpDQogICAgICAgIHNlbGYu
cG9zX2ludGVydmFsX2VudHJ5Lmluc2VydCgwLCAiMC4wMSIpDQogICAgICAgIHNlbGYucG9zX2lu
dGVydmFsX2VudHJ5LnBhY2soc2lkZT10ay5MRUZULCBwYWR4PTUsIHBhZHk9MikNCiAgICAgICAg
dHRrLkxhYmVsKGludGVydmFsX2ZyYW1lLCB0ZXh0PSLljovlipvor7vlj5bpl7TpmpQ6IikucGFj
ayhzaWRlPXRrLkxFRlQsIHBhZHg9NSwgcGFkeT0yKQ0KICAgICAgICBzZWxmLnByZXNzX2ludGVy
dmFsX2VudHJ5ID0gdHRrLkVudHJ5KGludGVydmFsX2ZyYW1lLCB3aWR0aD04KQ0KICAgICAgICBz
ZWxmLnByZXNzX2ludGVydmFsX2VudHJ5Lmluc2VydCgwLCAiMC4wMSIpDQogICAgICAgIHNlbGYu
cHJlc3NfaW50ZXJ2YWxfZW50cnkucGFjayhzaWRlPXRrLkxFRlQsIHBhZHg9NSwgcGFkeT0yKQ0K
DQogICAgICAgIGxlZnRfY2FudmFzID0gdGsuQ2FudmFzKGxlZnRfcGFuZWxfZnJhbWUpCiAgICAg
ICAgc2Nyb2xsYmFyID0gdHRrLlNjcm9sbGJhcihsZWZ0X3BhbmVsX2ZyYW1lLCBvcmllbnQ9InZl
cnRpY2FsIiwgY29tbWFuZD1sZWZ0X2NhbnZhcy55dmlldykNCiAgICAgICAgc2VsZi5zY3JvbGxh
YmxlX2ZyYW1lID0gdHRrLkZyYW1lKGxlZnRfY2FudmFzKQ0KDQogICAgICAgIHNlbGYuc2Nyb2xs
YWJsZV9mcmFtZS5iaW5kKA0KICAgICAgICAgICAgIjxDb25maWd1cmU+IiwNCiAgICAgICAgICAg
IGxhbWJkYSBlOiBsZWZ0X2NhbnZhcy5jb25maWd1cmUoc2Nyb2xscmVnaW9uPWxlZnRfY2FudmFz
LmJib3goImFsbCIpKQ0KICAgICAgICApDQoNCiAgICAgICAgbGVmdF9jYW52YXMuY3JlYXRlX3dp
bmRvdygoMCwgMCksIHdpbmRvdz1zZWxmLnNjcm9sbGFibGVfZnJhbWUsIGFuY2hvcj0ibnciLCB3
aWR0aD1MRUZUX1BBTkVMX1dJRFRIIC0gMjApCiAgICAgICAgbGVmdF9jYW52YXMuY29uZmlndXJl
KHlzY3JvbGxjb21tYW5kPXNjcm9sbGJhci5zZXQpDQoNCiAgICAgICAgc2VsZi5zY3JvbGxhYmxl
X2ZyYW1lLmJpbmQoIjxFbnRlcj4iLCBsYW1iZGEgZTogc2VsZi5zY3JvbGxhYmxlX2ZyYW1lLmJp
bmRfYWxsKCI8TW91c2VXaGVlbD4iLCBsYW1iZGENCiAgICAgICAgICAgIGU6IGxlZnRfY2FudmFz
Lnl2aWV3X3Njcm9sbChpbnQoLTEgKiAoZS5kZWx0YSAvIDEyMCkpLCAidW5pdHMiKSkpDQogICAg
ICAgIHNlbGYuc2Nyb2xsYWJsZV9mcmFtZS5iaW5kKCI8TGVhdmU+IiwgbGFtYmRhIGU6IHNlbGYu
c2Nyb2xsYWJsZV9mcmFtZS51bmJpbmRfYWxsKCI8TW91c2VXaGVlbD4iKSkNCg0KICAgICAgICBs
ZWZ0X2NhbnZhcy5wYWNrKHNpZGU9ImxlZnQiLCBmaWxsPSJib3RoIiwgZXhwYW5kPVRydWUpDQog
ICAgICAgIHNjcm9sbGJhci5wYWNrKHNpZGU9InJpZ2h0IiwgZmlsbD0ieSIpDQoNCiAgICAgICAg
bW90aW9uX2N0cmxfZnJhbWUgPSB0dGsuTGFiZWxGcmFtZShzZWxmLnNjcm9sbGFibGVfZnJhbWUs
IHRleHQ9Iui/kOWKqOaOp+WItiIpDQogICAgICAgIG1vdGlvbl9jdHJsX2ZyYW1lLnBhY2soZmls
bD10ay5YLCBwYWR4PTUsIHBhZHk9NSkNCg0KICAgICAgICBkaXJlY3Rpb25fZnJhbWUgPSB0dGsu
RnJhbWUobW90aW9uX2N0cmxfZnJhbWUpDQogICAgICAgIGRpcmVjdGlvbl9mcmFtZS5wYWNrKGZp
bGw9dGsuWCwgcGFkeD01LCBwYWR5PTIpDQogICAgICAgIHR0ay5MYWJlbChkaXJlY3Rpb25fZnJh
bWUsIHRleHQ9Iui/kOWKqOaWueWQkToiKS5wYWNrKHNpZGU9dGsuTEVGVCwgcGFkeD01LCBwYWR5
PTIpDQogICAgICAgIHNlbGYuZGlyZWN0aW9uID0gdGsuU3RyaW5nVmFyKHZhbHVlPSLkuIoiKQ0K
ICAgICAgICBzZWxmLmRpcmVjdGlvbi50cmFjZV9hZGQoIndyaXRlIiwgbGFtYmRhICphcmdzOiBz
ZWxmLnNldF9wYXJhbXNfbW9kaWZpZWQoKSkNCiAgICAgICAgdHRrLlJhZGlvYnV0dG9uKGRpcmVj
dGlvbl9mcmFtZSwgdGV4dD0i5LiKIiwgdmFyaWFibGU9c2VsZi5kaXJlY3Rpb24sIHZhbHVlPSLk
uIoiLA0KICAgICAgICAgICAgICAgICAgICAgICAgYm9vdHN0eWxlPSJpbmZvLXRvb2xidXR0b24i
KS5wYWNrKHNpZGU9dGsuTEVGVCwgcGFkeT0yKQ0KICAgICAgICB0dGsuUmFkaW9idXR0b24oZGly
ZWN0aW9uX2ZyYW1lLCB0ZXh0PSLkuIsiLCB2YXJpYWJsZT1zZWxmLmRpcmVjdGlvbiwgdmFsdWU9
IuS4iyIsDQogICAgICAgICAgICAgICAgICAgICAgICBib290c3R5bGU9ImluZm8tdG9vbGJ1dHRv
biIpLnBhY2soc2lkZT10ay5MRUZULCBwYWR5PTIpDQoNCiAgICAgICAgc3BlZWRfc2V0X2ZyYW1l
ID0gdHRrLkZyYW1lKG1vdGlvbl9jdHJsX2ZyYW1lKQ0KICAgICAgICBzcGVlZF9zZXRfZnJhbWUu
cGFjayhmaWxsPXRrLlgsIHBhZHg9NSwgcGFkeT0yKQ0KICAgICAgICB0dGsuTGFiZWwoc3BlZWRf
c2V0X2ZyYW1lLCB0ZXh0PSLpgJ/luqYgKG1tL3MpOiIpLnBhY2soc2lkZT10ay5MRUZULCBwYWR4
PTUsIHBhZHk9MikNCiAgICAgICAgc2VsZi5zcGVlZF9lbnRyeSA9IHR0ay5FbnRyeShzcGVlZF9z
ZXRfZnJhbWUsIHdpZHRoPTgpDQogICAgICAgIHNlbGYuc3BlZWRfZW50cnkucGFjayhzaWRlPXRr
LkxFRlQsIHBhZHg9NSwgcGFkeT0yKQ0KICAgICAgICBzZWxmLnNwZWVkX2VudHJ5Lmluc2VydCgw
LCAiNS4wIikNCiAgICAgICAgc2VsZi5zcGVlZF9lbnRyeS5iaW5kKCI8S2V5UmVsZWFzZT4iLCBs
YW1iZGEgZTogc2VsZi5zZXRfcGFyYW1zX21vZGlmaWVkKCkpDQoNCiAgICAgICAgZGlzdGFuY2Vf
ZnJhbWUgPSB0dGsuRnJhbWUobW90aW9uX2N0cmxfZnJhbWUpDQogICAgICAgIGRpc3RhbmNlX2Zy
YW1lLnBhY2soZmlsbD10ay5YLCBwYWR4PTUsIHBhZHk9MikNCiAgICAgICAgdHRrLkxhYmVsKGRp
c3RhbmNlX2ZyYW1lLCB0ZXh0PSLot53nprsgKG1tKToiKS5wYWNrKHNpZGU9dGsuTEVGVCwgcGFk
eD01LCBwYWR5PTIpDQogICAgICAgIHNlbGYuZGlzdGFuY2VfZW50cnkgPSB0dGsuRW50cnkoZGlz
dGFuY2VfZnJhbWUsIHdpZHRoPTgpDQogICAgICAgIHNlbGYuZGlzdGFuY2VfZW50cnkucGFjayhz
aWRlPXRrLkxFRlQsIHBhZHg9NSwgcGFkeT0yKQ0KICAgICAgICBzZWxmLmRpc3RhbmNlX2VudHJ5
Lmluc2VydCgwLCAiMjAuMCIpDQogICAgICAgIHNlbGYuZGlzdGFuY2VfZW50cnkuYmluZCgiPEtl
eVJlbGVhc2U+IiwgbGFtYmRhIGU6IHNlbGYuc2V0X3BhcmFtc19tb2RpZmllZCgpKQ0KDQogICAg
ICAgIHRhcmdldF9wb3NfZnJhbWUgPSB0dGsuRnJhbWUobW90aW9uX2N0cmxfZnJhbWUpDQogICAg
ICAgIHRhcmdldF9wb3NfZnJhbWUucGFjayhmaWxsPXRrLlgsIHBhZHg9NSwgcGFkeT0yKQ0KICAg
ICAgICB0dGsuTGFiZWwodGFyZ2V0X3Bvc19mcmFtZSwgdGV4dD0i55uu5qCH5L2N572uIChtbSk6
IikucGFjayhzaWRlPXRrLkxFRlQsIHBhZHg9NSwgcGFkeT0yKQ0KICAgICAgICBzZWxmLnRhcmdl
dF9lbnRyeSA9IHR0ay5FbnRyeSh0YXJnZXRfcG9zX2ZyYW1lLCB3aWR0aD04KQ0KICAgICAgICBz
ZWxmLnRhcmdldF9lbnRyeS5wYWNrKHNpZGU9dGsuTEVGVCwgcGFkeD01LCBwYWR5PTIpDQogICAg
ICAgIHNlbGYudGFyZ2V0X2VudHJ5Lmluc2VydCgwLCAiMC4wIikNCg0KICAgICAgICBjdHJsX2J0
bl9mcmFtZSA9IHR0ay5GcmFtZShtb3Rpb25fY3RybF9mcmFtZSkNCiAgICAgICAgY3RybF9idG5f
ZnJhbWUucGFjayhmaWxsPXRrLlgsIHBhZHg9NSwgcGFkeT04KQ0KICAgICAgICBidG5fd2lkdGgg
PSA4DQoNCiAgICAgICAgc2VsZi5zZXRfYnRuID0gdHRrLkJ1dHRvbihjdHJsX2J0bl9mcmFtZSwg
dGV4dD0i6K6+572u5Y+C5pWwIiwgd2lkdGg9YnRuX3dpZHRoLA0KICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgIGNvbW1hbmQ9bGFtYmRhOiB0aHJlYWRpbmcuVGhyZWFkKHRhcmdldD1z
ZWxmLnNldF9wYXJhbWV0ZXJzLCBkYWVtb249VHJ1ZSkuc3RhcnQoKSwNCiAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICBzdGF0ZT0iZGlzYWJsZWQiLCBib290c3R5bGU9Indhcm5pbmci
KQ0KICAgICAgICBzZWxmLnNldF9idG4uZ3JpZChyb3c9MCwgY29sdW1uPTAsIHBhZHg9NSwgcGFk
eT0yLCBzdGlja3k9J2V3JykNCg0KICAgICAgICBzZWxmLnN0YXJ0X2J0biA9IHR0ay5CdXR0b24o
Y3RybF9idG5fZnJhbWUsIHRleHQ9IuWQr+WKqOi/kOWKqCIsIHdpZHRoPWJ0bl93aWR0aCwNCiAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbW1hbmQ9c2VsZi5zdGFydF9tYWNo
aW5lLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhdGU9ImRpc2FibGVk
IiwgYm9vdHN0eWxlPSJzdWNjZXNzIikNCiAgICAgICAgc2VsZi5zdGFydF9idG4uZ3JpZChyb3c9
MCwgY29sdW1uPTEsIHBhZHg9NSwgcGFkeT0yLCBzdGlja3k9J2V3JykNCg0KICAgICAgICBzZWxm
Lnplcm9fYnRuID0gdHRrLkJ1dHRvbihjdHJsX2J0bl9mcmFtZSwgdGV4dD0i5Zue6Zu2Iiwgd2lk
dGg9YnRuX3dpZHRoLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb21tYW5k
PXNlbGYucmV0dXJuX3plcm8sDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0
YXRlPSJkaXNhYmxlZCIsIGJvb3RzdHlsZT0icHJpbWFyeSIpDQogICAgICAgIHNlbGYuemVyb19i
dG4uZ3JpZChyb3c9MSwgY29sdW1uPTEsIHBhZHg9NSwgcGFkeT0yLCBzdGlja3k9J2V3JykNCg0K
ICAgICAgICBzZWxmLm1vdmVfYnRuID0gdHRrLkJ1dHRvbihjdHJsX2J0bl9mcmFtZSwgdGV4dD0i
6L+Q5Yqo5YiwIiwgd2lkdGg9YnRuX3dpZHRoLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICBjb21tYW5kPXNlbGYubW92ZV90bywNCiAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgc3RhdGU9ImRpc2FibGVkIiwgYm9vdHN0eWxlPSJwcmltYXJ5IikNCiAgICAgICAg
c2VsZi5tb3ZlX2J0bi5ncmlkKHJvdz0xLCBjb2x1bW49MCwgcGFkeD01LCBwYWR5PTIsIHN0aWNr
eT0nZXcnKQ0KDQogICAgICAgIHNlbGYuanVtcF9idG4gPSB0dGsuQnV0dG9uKGN0cmxfYnRuX2Zy
YW1lLCB0ZXh0PSLot7Plj5giLCB3aWR0aD1idG5fd2lkdGgsDQogICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgIGNvbW1hbmQ9c2VsZi5zdGFydF9qdW1wX21vZGUsDQogICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgIHN0YXRlPSJkaXNhYmxlZCIsIGJvb3RzdHlsZT0icHJp
bWFyeSIpDQogICAgICAgIHNlbGYuanVtcF9idG4uZ3JpZChyb3c9MSwgY29sdW1uPTIsIHBhZHg9
NSwgcGFkeT0yLCBzdGlja3k9J2V3JykNCg0KICAgICAgICBzZWxmLnN0b3BfYnRuID0gdHRrLkJ1
dHRvbihjdHJsX2J0bl9mcmFtZSwgdGV4dD0i5YGc5q2i6L+Q5YqoIiwgd2lkdGg9YnRuX3dpZHRo
LAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb21tYW5kPXNlbGYuc3RvcF9h
bGwsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YXRlPSJkaXNhYmxlZCIs
IGJvb3RzdHlsZT0iZGFuZ2VyIikKICAgICAgICBzZWxmLnN0b3BfYnRuLmdyaWQocm93PTAsIGNv
bHVtbj0yLCBwYWR4PTUsIHBhZHk9Miwgc3RpY2t5PSdldycpDQoNCiAgICAgICAgZm9yIGkgaW4g
cmFuZ2UoMyk6DQogICAgICAgICAgICBjdHJsX2J0bl9mcmFtZS5ncmlkX2NvbHVtbmNvbmZpZ3Vy
ZShpLCB3ZWlnaHQ9MSwgdW5pZm9ybT0iYnRuIikNCg0KICAgICAgICAjID09PT09IOWOi+WKm+aO
p+WItuWMuiA9PT09PQ0KICAgICAgICBwcmVzc3VyZV9jdHJsX2ZyYW1lID0gdHRrLkxhYmVsRnJh
bWUoc2VsZi5zY3JvbGxhYmxlX2ZyYW1lLCB0ZXh0PSLljovlipvmjqfliLYiKQ0KICAgICAgICBw
cmVzc3VyZV9jdHJsX2ZyYW1lLnBhY2soZmlsbD10ay5YLCBwYWR4PTUsIHBhZHk9NSkNCg0KICAg
ICAgICByb3cxX2ZyYW1lID0gdHRrLkZyYW1lKHByZXNzdXJlX2N0cmxfZnJhbWUpDQogICAgICAg
IHJvdzFfZnJhbWUucGFjayhmaWxsPXRrLlgsIHBhZHg9NSwgcGFkeT00KQ0KICAgICAgICB0dGsu
TGFiZWwocm93MV9mcmFtZSwgdGV4dD0i55uu5qCH5Y6L5YqbKGcpOiIpLnBhY2soc2lkZT10ay5M
RUZULCBwYWR4PTUpDQogICAgICAgIHNlbGYudGFyZ2V0X3ByZXNzdXJlX3ZhciA9IHRrLkRvdWJs
ZVZhcigpDQogICAgICAgIHR0ay5FbnRyeShyb3cxX2ZyYW1lLCB0ZXh0dmFyaWFibGU9c2VsZi50
YXJnZXRfcHJlc3N1cmVfdmFyLCB3aWR0aD0xMCkucGFjayhzaWRlPXRrLkxFRlQsIHBhZHg9MikN
Cg0KICAgICAgICB0dGsuTGFiZWwocm93MV9mcmFtZSwgdGV4dD0i5a655beuKGcpOiIpLnBhY2so
c2lkZT10ay5MRUZULCBwYWR4PTEwKQ0KICAgICAgICBzZWxmLnRvbGVyYW5jZV92YXIgPSB0ay5E
b3VibGVWYXIodmFsdWU9MTAuMCkNCiAgICAgICAgdHRrLkVudHJ5KHJvdzFfZnJhbWUsIHRleHR2
YXJpYWJsZT1zZWxmLnRvbGVyYW5jZV92YXIsIHdpZHRoPTgpLnBhY2soc2lkZT10ay5MRUZULCBw
YWR4PTIpDQoNCiAgICAgICAgc2VsZi5qdW1wX2JpYXNfZ2F0ZV92YXIgPSB0ay5Eb3VibGVWYXIo
dmFsdWU9MTAwLjApICAjIOmXreeOr+WBj+e9rumXqOanmyBnDQoNCiAgICAgICAgcm93Ml9mcmFt
ZSA9IHR0ay5GcmFtZShwcmVzc3VyZV9jdHJsX2ZyYW1lKQ0KICAgICAgICByb3cyX2ZyYW1lLnBh
Y2soZmlsbD10ay5YLCBwYWR4PTUsIHBhZHk9NCkNCiAgICAgICAgdHRrLkxhYmVsKHJvdzJfZnJh
bWUsIHRleHQ9IumrmOmAnyhtbS9zKToiKS5wYWNrKHNpZGU9dGsuTEVGVCwgcGFkeD01KQ0KICAg
ICAgICBzZWxmLmhpZ2hfc3BlZWRfdmFyID0gdGsuRG91YmxlVmFyKHZhbHVlPTUuMCkNCiAgICAg
ICAgdHRrLkVudHJ5KHJvdzJfZnJhbWUsIHRleHR2YXJpYWJsZT1zZWxmLmhpZ2hfc3BlZWRfdmFy
LCB3aWR0aD04KS5wYWNrKHNpZGU9dGsuTEVGVCwgcGFkeD0yKQ0KICAgICAgICB0dGsuTGFiZWwo
cm93Ml9mcmFtZSwgdGV4dD0i5L2O6YCfKG1tL3MpOiIpLnBhY2soc2lkZT10ay5MRUZULCBwYWR4
PTEwKQ0KICAgICAgICBzZWxmLmxvd19zcGVlZF92YXIgPSB0ay5Eb3VibGVWYXIodmFsdWU9MC4w
MDEpDQogICAgICAgIHR0ay5FbnRyeShyb3cyX2ZyYW1lLCB0ZXh0dmFyaWFibGU9c2VsZi5sb3df
c3BlZWRfdmFyLCB3aWR0aD04KS5wYWNrKHNpZGU9dGsuTEVGVCwgcGFkeD0yKQ0KDQogICAgICAg
IHJvdzNfZnJhbWUgPSB0dGsuRnJhbWUocHJlc3N1cmVfY3RybF9mcmFtZSkNCiAgICAgICAgcm93
M19mcmFtZS5wYWNrKGZpbGw9dGsuWCwgcGFkeD01LCBwYWR5PTQpDQogICAgICAgIHR0ay5MYWJl
bChyb3czX2ZyYW1lLCB0ZXh0PSLmuJDov5vljLrpl7QoZyk6IikucGFjayhzaWRlPXRrLkxFRlQs
IHBhZHg9NSkNCiAgICAgICAgc2VsZi5wcm9ncmVzc2l2ZV96b25lX3ZhciA9IHRrLkRvdWJsZVZh
cih2YWx1ZT0xMDAuMCkNCiAgICAgICAgdHRrLkVudHJ5KHJvdzNfZnJhbWUsIHRleHR2YXJpYWJs
ZT1zZWxmLnByb2dyZXNzaXZlX3pvbmVfdmFyLCB3aWR0aD0xMCkucGFjayhzaWRlPXRrLkxFRlQs
IHBhZHg9MikNCiAgICAgICAgdHRrLkxhYmVsKHJvdzNfZnJhbWUsIHRleHQ9IuS/neaKpOWOi+WK
myhnKToiKS5wYWNrKHNpZGU9dGsuTEVGVCwgcGFkeD0xMCkNCiAgICAgICAgc2VsZi5zYWZldHlf
cHJlc3N1cmVfdmFyID0gdGsuRG91YmxlVmFyKHZhbHVlPTMwMDAwLjApDQogICAgICAgIHR0ay5F
bnRyeShyb3czX2ZyYW1lLCB0ZXh0dmFyaWFibGU9c2VsZi5zYWZldHlfcHJlc3N1cmVfdmFyLCB3
aWR0aD0xMCkucGFjayhzaWRlPXRrLkxFRlQsIHBhZHg9MikNCg0KICAgICAgICByb3c0X2ZyYW1l
ID0gdHRrLkZyYW1lKHByZXNzdXJlX2N0cmxfZnJhbWUpDQogICAgICAgIHJvdzRfZnJhbWUucGFj
ayhmaWxsPXRrLlgsIHBhZHg9NSwgcGFkeT00KQ0KICAgICAgICBzZWxmLm1vdGlvbl9tb2RlX3Zh
ciA9IHRrLlN0cmluZ1Zhcih2YWx1ZT0i54K55YqoIikNCiAgICAgICAgdHRrLlJhZGlvYnV0dG9u
KHJvdzRfZnJhbWUsIHRleHQ9IueCueWKqOaooeW8jyIsIHZhcmlhYmxlPXNlbGYubW90aW9uX21v
ZGVfdmFyLCB2YWx1ZT0i54K55YqoIiwNCiAgICAgICAgICAgICAgICAgICAgICAgIGJvb3RzdHls
ZT0iaW5mby10b29sYnV0dG9uIikucGFjayhzaWRlPXRrLkxFRlQsIHBhZHg9NSkNCiAgICAgICAg
dHRrLlJhZGlvYnV0dG9uKHJvdzRfZnJhbWUsIHRleHQ9IuaMgee7reaooeW8jyIsIHZhcmlhYmxl
PXNlbGYubW90aW9uX21vZGVfdmFyLCB2YWx1ZT0i5oyB57utIiwNCiAgICAgICAgICAgICAgICAg
ICAgICAgIGJvb3RzdHlsZT0iaW5mby10b29sYnV0dG9uIikucGFjayhzaWRlPXRrLkxFRlQsIHBh
ZHg9NSkNCiAgICAgICAgdHRrLkxhYmVsKA0KICAgICAgICAgICAgcm93NF9mcmFtZSwNCiAgICAg
ICAgICAgIHRleHQ9ZiLngrnliqjmraXplb/vvJp7c2VsZi5qb2dfc3RlcF9tbTouM2Z9IG1t77yI
5Zu65a6a77yJIg0KICAgICAgICApLnBhY2soc2lkZT10ay5MRUZULCBwYWR4PTEyKQ0KDQogICAg
ICAgIHVuaXRfZnJhbWUgPSB0dGsuRnJhbWUocHJlc3N1cmVfY3RybF9mcmFtZSkNCiAgICAgICAg
dW5pdF9mcmFtZS5wYWNrKGZpbGw9dGsuWCwgcGFkeD01LCBwYWR5PTQpDQogICAgICAgIGZvciB1
bml0IGluIFsiZyIsICJOIiwgIlBhIiwgIk1QYSJdOg0KICAgICAgICAgICAgYnRuID0gdHRrLkJ1
dHRvbih1bml0X2ZyYW1lLCB0ZXh0PXVuaXQsIHdpZHRoPTYsDQogICAgICAgICAgICAgICAgICAg
ICAgICAgICAgIGNvbW1hbmQ9bGFtYmRhIHU9dW5pdDogc2VsZi5jaGFuZ2VfcHJlc3N1cmVfdW5p
dCh1KSkNCiAgICAgICAgICAgIGJ0bi5wYWNrKHNpZGU9dGsuTEVGVCwgcGFkeD01KQ0KDQogICAg
ICAgIGJ0bl9mcmFtZSA9IHR0ay5GcmFtZShwcmVzc3VyZV9jdHJsX2ZyYW1lKQ0KICAgICAgICBi
dG5fZnJhbWUucGFjayhmaWxsPXRrLlgsIHBhZHg9NSwgcGFkeT04KQ0KICAgICAgICBzZWxmLnN0
YXJ0X3ByZXNzdXJlX2J0biA9IHR0ay5CdXR0b24oYnRuX2ZyYW1lLCB0ZXh0PSLlkK/liqjljovl
ipvmjqfliLYiLCBjb21tYW5kPXNlbGYuc3RhcnRfcHJlc3N1cmVfY29udHJvbCwKICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YXRlPSJkaXNhYmxlZCIsIGJv
b3RzdHlsZT0ic3VjY2VzcyIpCiAgICAgICAgc2VsZi5zdGFydF9wcmVzc3VyZV9idG4ucGFjayhz
aWRlPXRrLkxFRlQsIHBhZHg9MTApDQogICAgICAgIHNlbGYuc3RvcF9wcmVzc3VyZV9idG4gPSB0
dGsuQnV0dG9uKGJ0bl9mcmFtZSwgdGV4dD0i5YGc5q2i5Y6L5Yqb5o6n5Yi2IiwgY29tbWFuZD1z
ZWxmLnN0b3BfcHJlc3N1cmVfY29udHJvbCwNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgc3RhdGU9ImRpc2FibGVkIiwgYm9vdHN0eWxlPSJkYW5nZXIiKQ0KICAg
ICAgICBzZWxmLnN0b3BfcHJlc3N1cmVfYnRuLnBhY2soc2lkZT10ay5MRUZULCBwYWR4PTEwKQ0K
DQogICAgICAgICMgPT09PT0g5a6e5pe25pWw5o2u5Yy6ID09PT09DQogICAgICAgIGRhdGFfZnJh
bWUgPSB0dGsuTGFiZWxGcmFtZShzZWxmLnNjcm9sbGFibGVfZnJhbWUsIHRleHQ9IuWunuaXtuaV
sOaNriIpDQogICAgICAgIGRhdGFfZnJhbWUucGFjayhmaWxsPXRrLlgsIHBhZHg9NSwgcGFkeT01
KQ0KDQogICAgICAgIHBvc19mcmFtZSA9IHR0ay5GcmFtZShkYXRhX2ZyYW1lKQ0KICAgICAgICBw
b3NfZnJhbWUucGFjayhmaWxsPXRrLlgsIHBhZHg9NSwgcGFkeT0yKQ0KICAgICAgICB0dGsuTGFi
ZWwocG9zX2ZyYW1lLCB0ZXh0PSLlvZPliY3kvY3nva4gKG1tKToiKS5wYWNrKHNpZGU9dGsuTEVG
VCwgcGFkeD01LCBwYWR5PTIpDQogICAgICAgIHR0ay5MYWJlbChwb3NfZnJhbWUsIHRleHR2YXJp
YWJsZT1zZWxmLmN1cnJlbnRfcG9zX3ZhciwgZm9udD0oIkFyaWFsIiwgMTIsICJib2xkIikpLnBh
Y2soc2lkZT10ay5MRUZULCBwYWR5PTIpDQoNCiAgICAgICAgc3BlZWRfZnJhbWUgPSB0dGsuRnJh
bWUoZGF0YV9mcmFtZSkNCiAgICAgICAgc3BlZWRfZnJhbWUucGFjayhmaWxsPXRrLlgsIHBhZHg9
NSwgcGFkeT0yKQ0KICAgICAgICB0dGsuTGFiZWwoc3BlZWRfZnJhbWUsIHRleHQ9IuW9k+WJjemA
n+W6piAobW0vcyk6IikucGFjayhzaWRlPXRrLkxFRlQsIHBhZHg9NSwgcGFkeT0yKQ0KICAgICAg
ICB0dGsuTGFiZWwoc3BlZWRfZnJhbWUsIHRleHR2YXJpYWJsZT1zZWxmLmN1cnJlbnRfc3BlZWRf
dmFyLCBmb250PSgiQXJpYWwiLCAxMiwgImJvbGQiKSkucGFjayhzaWRlPXRrLkxFRlQsIHBhZHg9
NSwgcGFkeT0yKQ0KDQogICAgICAgICMg5Y6L5Yqb5pi+56S6DQogICAgICAgIHByZXNzX2ZyYW1l
ID0gdHRrLkZyYW1lKGRhdGFfZnJhbWUpDQogICAgICAgIHByZXNzX2ZyYW1lLnBhY2soZmlsbD10
ay5YLCBwYWR4PTUsIHBhZHk9MikNCg0KICAgICAgICB0dGsuTGFiZWwocHJlc3NfZnJhbWUsIHRl
eHQ9IuW9k+WJjeWOi+WKmyAoZyk6IikucGFjayhzaWRlPXRrLkxFRlQsIHBhZHg9NSwgcGFkeT0y
KQ0KICAgICAgICB0dGsuTGFiZWwocHJlc3NfZnJhbWUsIHRleHR2YXJpYWJsZT1zZWxmLnByZXNz
dXJlX2Rpc3BsYXlfdmFyLCBmb250PSgiQXJpYWwiLCAxMiwgImJvbGQiKSwNCiAgICAgICAgICAg
ICAgICAgIGJvb3RzdHlsZT0iZGFuZ2VyIikucGFjayhzaWRlPXRrLkxFRlQsIHBhZHg9NSwgcGFk
eT0yKQ0KDQogICAgICAgICMg5Y+z5L6n5oyJ6ZKu77yI5Y+z5a+56b2Q77yJ77ya5pyA5Y+z5piv
4oCc5Y6755qu4oCd77yM5a6D5bem6L655piv4oCc6Ieq5Yqo5Y6755qu4oCdDQogICAgICAgIHR0
ay5CdXR0b24ocHJlc3NfZnJhbWUsIHRleHQ9IuWOu+eariIsIGNvbW1hbmQ9c2VsZi50YXJlX3By
ZXNzdXJlLCBib290c3R5bGU9Indhcm5pbmciKSBcDQogICAgICAgICAgICAucGFjayhzaWRlPXRr
LlJJR0hULCBwYWR4PTUsIHBhZHk9MikNCiAgICAgICAgdHRrLkJ1dHRvbihwcmVzc19mcmFtZSwg
dGV4dD0i6Ieq5Yqo5Y6755quIiwgY29tbWFuZD1zZWxmLnN0YXJ0X2F1dG9fdGFyZSwgYm9vdHN0
eWxlPSJzdWNjZXNzIikgXAogICAgICAgICAgICAucGFjayhzaWRlPXRrLlJJR0hULCBwYWR4PTUs
IHBhZHk9MikKCiAgICAgICAgcmVmcmVzaF9mcmFtZSA9IHR0ay5MYWJlbEZyYW1lKHNlbGYuc2Ny
b2xsYWJsZV9mcmFtZSwgdGV4dD0i55WM6Z2i5Yi35paw6K6+572uIikKICAgICAgICByZWZyZXNo
X2ZyYW1lLnBhY2soZmlsbD10ay5YLCBwYWR4PTUsIHBhZHk9NSkKICAgICAgICB0dGsuTGFiZWwo
cmVmcmVzaF9mcmFtZSwgdGV4dD0i5pWw5o2u5pi+56S65Yi35paw6Ze06ZqUKG1zKToiKS5ncmlk
KAogICAgICAgICAgICByb3c9MCwgY29sdW1uPTAsIHBhZHg9NSwgcGFkeT00LCBzdGlja3k9J2Un
CiAgICAgICAgKQogICAgICAgIHVpX2ludGVydmFsX2VudHJ5ID0gdHRrLkVudHJ5KAogICAgICAg
ICAgICByZWZyZXNoX2ZyYW1lLCB0ZXh0dmFyaWFibGU9c2VsZi51aV9yZWZyZXNoX2ludGVydmFs
X21zX3Zhciwgd2lkdGg9OAogICAgICAgICkKICAgICAgICB1aV9pbnRlcnZhbF9lbnRyeS5ncmlk
KHJvdz0wLCBjb2x1bW49MSwgcGFkeD01LCBwYWR5PTQsIHN0aWNreT0ndycpCiAgICAgICAgc2Vs
Zi5fZGlzYWJsZV9tb3VzZV93aGVlbCh1aV9pbnRlcnZhbF9lbnRyeSkKICAgICAgICB0dGsuTGFi
ZWwoCiAgICAgICAgICAgIHJlZnJlc2hfZnJhbWUsCiAgICAgICAgICAgIHRleHR2YXJpYWJsZT1z
ZWxmLnVpX3JlZnJlc2hfcmF0ZV92YXIsCiAgICAgICAgICAgIGJvb3RzdHlsZT0ic2Vjb25kYXJ5
IgogICAgICAgICkuZ3JpZChyb3c9MCwgY29sdW1uPTIsIHBhZHg9NSwgcGFkeT00LCBzdGlja3k9
J3cnKQoKICAgICAgICB0dGsuTGFiZWwocmVmcmVzaF9mcmFtZSwgdGV4dD0i5puy57q/5Yi35paw
6Ze06ZqUKG1zKToiKS5ncmlkKAogICAgICAgICAgICByb3c9MSwgY29sdW1uPTAsIHBhZHg9NSwg
cGFkeT00LCBzdGlja3k9J2UnCiAgICAgICAgKQogICAgICAgIHBsb3RfaW50ZXJ2YWxfZW50cnkg
PSB0dGsuRW50cnkoCiAgICAgICAgICAgIHJlZnJlc2hfZnJhbWUsIHRleHR2YXJpYWJsZT1zZWxm
LnBsb3RfcmVmcmVzaF9pbnRlcnZhbF9tc192YXIsIHdpZHRoPTgKICAgICAgICApCiAgICAgICAg
cGxvdF9pbnRlcnZhbF9lbnRyeS5ncmlkKHJvdz0xLCBjb2x1bW49MSwgcGFkeD01LCBwYWR5PTQs
IHN0aWNreT0ndycpCiAgICAgICAgc2VsZi5fZGlzYWJsZV9tb3VzZV93aGVlbChwbG90X2ludGVy
dmFsX2VudHJ5KQogICAgICAgIHR0ay5MYWJlbCgKICAgICAgICAgICAgcmVmcmVzaF9mcmFtZSwK
ICAgICAgICAgICAgdGV4dHZhcmlhYmxlPXNlbGYucGxvdF9yZWZyZXNoX3JhdGVfdmFyLAogICAg
ICAgICAgICBib290c3R5bGU9InNlY29uZGFyeSIKICAgICAgICApLmdyaWQocm93PTEsIGNvbHVt
bj0yLCBwYWR4PTUsIHBhZHk9NCwgc3RpY2t5PSd3JykKCiAgICAgICAgdHRrLkxhYmVsKHJlZnJl
c2hfZnJhbWUsIHRleHQ9IuacieaViOiMg+WbtDogMjDigJMxMDAwIG1zIiwgYm9vdHN0eWxlPSJz
ZWNvbmRhcnkiKSBcCiAgICAgICAgICAgIC5ncmlkKHJvdz0wLCBjb2x1bW49Mywgcm93c3Bhbj0y
LCBwYWR4PTUsIHBhZHk9NCwgc3RpY2t5PSd3JykKICAgICAgICByZWZyZXNoX2ZyYW1lLmdyaWRf
Y29sdW1uY29uZmlndXJlKDIsIHdlaWdodD0xKQoKICAgICAgICAjID09PT09IOiHquWKqOWkmuWO
i+WKm+a1i+ivlSA9PT09PQogICAgICAgIG11bHRpX3ByZXNzdXJlX2ZyYW1lID0gdHRrLkxhYmVs
RnJhbWUoc2VsZi5zY3JvbGxhYmxlX2ZyYW1lLCB0ZXh0PSLoh6rliqjlpJrljovlipvmtYvor5Ui
KQogICAgICAgIG11bHRpX3ByZXNzdXJlX2ZyYW1lLnBhY2soZmlsbD10ay5YLCBwYWR4PTUsIHBh
ZHk9NSkKDQogICAgICAgIHBvaW50c19mcmFtZSA9IHR0ay5GcmFtZShtdWx0aV9wcmVzc3VyZV9m
cmFtZSkNCiAgICAgICAgcG9pbnRzX2ZyYW1lLnBhY2soZmlsbD10ay5YLCBwYWR4PTUsIHBhZHk9
MikNCiAgICAgICAgdHRrLkxhYmVsKHBvaW50c19mcmFtZSwgdGV4dD0i5Y6L5Yqb54K5KGcpOiIp
LnBhY2soc2lkZT10ay5MRUZULCBwYWR4PTUsIHBhZHk9MikNCiAgICAgICAgdHRrLkVudHJ5KHBv
aW50c19mcmFtZSwgdGV4dHZhcmlhYmxlPXNlbGYucHJlc3N1cmVfcG9pbnRzX3Zhciwgd2lkdGg9
MjUpLnBhY2soc2lkZT10ay5MRUZULCBwYWR4PTUsIHBhZHk9MikNCiAgICAgICAgdHRrLkxhYmVs
KHBvaW50c19mcmFtZSwgdGV4dD0iKOeUqOmAl+WPt+WIhumalCkiKS5wYWNrKHNpZGU9dGsuTEVG
VCwgcGFkeD01LCBwYWR5PTIpDQoNCiAgICAgICAgbW9kZV9zdGFibGVfZnJhbWUgPSB0dGsuRnJh
bWUobXVsdGlfcHJlc3N1cmVfZnJhbWUpDQogICAgICAgIG1vZGVfc3RhYmxlX2ZyYW1lLnBhY2so
ZmlsbD10ay5YLCBwYWR4PTUsIHBhZHk9MikNCiAgICAgICAgdHRrLkxhYmVsKG1vZGVfc3RhYmxl
X2ZyYW1lLCB0ZXh0PSLlvqrnjq/mqKHlvI86IikucGFjayhzaWRlPXRrLkxFRlQsIHBhZHg9NSwg
cGFkeT0yKQ0KICAgICAgICBzZWxmLmxvb3BfbW9kZV9jb21ibyA9IHR0ay5Db21ib2JveChtb2Rl
X3N0YWJsZV9mcmFtZSwgdGV4dHZhcmlhYmxlPXNlbGYubG9vcF9tb2RlX3Zhciwgd2lkdGg9OCkN
CiAgICAgICAgc2VsZi5sb29wX21vZGVfY29tYm9bJ3ZhbHVlcyddID0gKCLpobrluo8iLCAi5YCS
5bqPIiwgIumhuuW6jyvlgJLluo8iKQ0KICAgICAgICBzZWxmLmxvb3BfbW9kZV9jb21iby5wYWNr
KHNpZGU9dGsuTEVGVCwgcGFkeD0oMCwgMTUpLCBwYWR5PTIpDQogICAgICAgIHR0ay5MYWJlbCht
b2RlX3N0YWJsZV9mcmFtZSwgdGV4dD0i5Yik56iz5pe26ZW/KHMpOiIpLnBhY2soc2lkZT10ay5M
RUZULCBwYWR4PTUsIHBhZHk9MikNCiAgICAgICAgdHRrLkVudHJ5KG1vZGVfc3RhYmxlX2ZyYW1l
LCB0ZXh0dmFyaWFibGU9c2VsZi5zdGFibGVfdGltZV92YXIsIHdpZHRoPTQpLnBhY2soc2lkZT10
ay5MRUZULCBwYWR4PTUsIHBhZHk9MikNCiAgICAgICAgdHRrLkxhYmVsKG1vZGVfc3RhYmxlX2Zy
YW1lLCB0ZXh0PSLlvqrnjq/mrKHmlbA6IikucGFjayhzaWRlPXRrLkxFRlQsIHBhZHg9MTAsIHBh
ZHk9MikNCiAgICAgICAgc2VsZi5sb29wX2NvdW50X3ZhciA9IHRrLkludFZhcih2YWx1ZT0xKQ0K
ICAgICAgICB0dGsuRW50cnkobW9kZV9zdGFibGVfZnJhbWUsIHRleHR2YXJpYWJsZT1zZWxmLmxv
b3BfY291bnRfdmFyLCB3aWR0aD0zKS5wYWNrKHNpZGU9dGsuTEVGVCwgcGFkeD0yLCBwYWR5PTIp
DQoNCiAgICAgICAgdGltZV9wYXJhbXNfZnJhbWUgPSB0dGsuRnJhbWUobXVsdGlfcHJlc3N1cmVf
ZnJhbWUpDQogICAgICAgIHRpbWVfcGFyYW1zX2ZyYW1lLnBhY2soZmlsbD10ay5YLCBwYWR4PTUs
IHBhZHk9MikNCiAgICAgICAgdHRrLkxhYmVsKHRpbWVfcGFyYW1zX2ZyYW1lLCB0ZXh0PSLlg4/n
tKDmo4DmtYvpl7TpmpQobXMpOiIpLmdyaWQocm93PTAsIGNvbHVtbj0wLCBwYWR4PTUsIHBhZHk9
Miwgc3RpY2t5PSd3JykNCiAgICAgICAgdHRrLkVudHJ5KHRpbWVfcGFyYW1zX2ZyYW1lLCB0ZXh0
dmFyaWFibGU9c2VsZi5kZXRlY3Rpb25faW50ZXJ2YWxfdmFyLCB3aWR0aD04KS5ncmlkKHJvdz0w
LCBjb2x1bW49MSwgcGFkeD0yLCBwYWR5PTIpDQogICAgICAgIHR0ay5MYWJlbCh0aW1lX3BhcmFt
c19mcmFtZSwgdGV4dD0i5Y6L5Yqb5q2l6L+b6Ze06ZqUKHMpOiIpLmdyaWQocm93PTAsIGNvbHVt
bj0yLCBwYWR4PSgyMCwgNSksIHBhZHk9Miwgc3RpY2t5PSd3JykNCiAgICAgICAgdHRrLkVudHJ5
KHRpbWVfcGFyYW1zX2ZyYW1lLCB0ZXh0dmFyaWFibGU9c2VsZi5wcmVzc3VyZV9zdGVwX2ludGVy
dmFsX3Zhciwgd2lkdGg9OCkuZ3JpZChyb3c9MCwgY29sdW1uPTMsIHBhZHg9MiwgcGFkeT0yKQ0K
DQogICAgICAgIHBpeGVsX2ZyYW1lID0gdHRrLkZyYW1lKG11bHRpX3ByZXNzdXJlX2ZyYW1lKQ0K
ICAgICAgICBwaXhlbF9mcmFtZS5wYWNrKGZpbGw9dGsuWCwgcGFkeD01LCBwYWR5PTIpDQogICAg
ICAgIHR0ay5DaGVja2J1dHRvbihwaXhlbF9mcmFtZSwgdGV4dD0i5byA5ZCv5YOP57Sg54K55qOA
5rWLIiwgdmFyaWFibGU9c2VsZi5waXhlbF9kZXRlY3Rpb25fZW5hYmxlZCkucGFjayhzaWRlPXRr
LkxFRlQsIHBhZHg9NSwgcGFkeT0yKQ0KICAgICAgICB0dGsuQnV0dG9uKHBpeGVsX2ZyYW1lLCB0
ZXh0PSLorr7nva7mo4DmtYvljLrln58iLCBjb21tYW5kPXNlbGYuc2V0X3BpeGVsX2RldGVjdGlv
bl9yZWdpb24sIGJvb3RzdHlsZT0ib3V0bGluZS1pbmZvIikucGFjayhzaWRlPXRrLkxFRlQsIHBh
ZHg9NSwgcGFkeT0yKQ0KDQogICAgICAgIHNlbGYuaW5kaWNhdG9yX2NhbnZhcyA9IHRrLkNhbnZh
cyhwaXhlbF9mcmFtZSwgd2lkdGg9MTgsIGhlaWdodD0xOCwgaGlnaGxpZ2h0dGhpY2tuZXNzPTAp
DQogICAgICAgIHNlbGYuaW5kaWNhdG9yX2NpcmNsZSA9IHNlbGYuaW5kaWNhdG9yX2NhbnZhcy5j
cmVhdGVfb3ZhbCgyLCAyLCAxNiwgMTYsIGZpbGw9InJlZCIpDQogICAgICAgIHNlbGYuaW5kaWNh
dG9yX2NhbnZhcy5wYWNrKHNpZGU9dGsuTEVGVCwgcGFkeD02KQ0KDQogICAgICAgIHBpeGVsX3Bh
cmFtX2ZyYW1lID0gdHRrLkZyYW1lKG11bHRpX3ByZXNzdXJlX2ZyYW1lKQ0KICAgICAgICBwaXhl
bF9wYXJhbV9mcmFtZS5wYWNrKGZpbGw9dGsuWCwgcGFkeD01LCBwYWR5PTIpDQogICAgICAgIHR0
ay5DaGVja2J1dHRvbihwaXhlbF9wYXJhbV9mcmFtZSwgdGV4dD0i5byA5ZCv5qOA5rWL5pel5b+X
IiwgdmFyaWFibGU9c2VsZi5waXhlbF9sb2dfZW5hYmxlZCkucGFjayhzaWRlPXRrLkxFRlQsIHBh
ZHg9NSwgcGFkeT0yKQ0KICAgICAgICB0dGsuTGFiZWwocGl4ZWxfcGFyYW1fZnJhbWUsIHRleHQ9
IueBteaVj+W6piglKToiKS5wYWNrKHNpZGU9dGsuTEVGVCwgcGFkeD01LCBwYWR5PTIpDQogICAg
ICAgIHR0ay5FbnRyeShwaXhlbF9wYXJhbV9mcmFtZSwgdGV4dHZhcmlhYmxlPXNlbGYucGl4ZWxf
c2Vuc2l0aXZpdHlfdmFyLCB3aWR0aD04KS5wYWNrKHNpZGU9dGsuTEVGVCwgcGFkeD0yLCBwYWR5
PTIpDQogICAgICAgIHR0ay5MYWJlbChwaXhlbF9wYXJhbV9mcmFtZSwgdGV4dD0i6LaF5pe2KHMp
OiIpLnBhY2soc2lkZT10ay5MRUZULCBwYWR4PTEwLCBwYWR5PTIpDQogICAgICAgIHR0ay5FbnRy
eShwaXhlbF9wYXJhbV9mcmFtZSwgdGV4dHZhcmlhYmxlPXNlbGYucGl4ZWxfdGltZW91dF92YXIs
IHdpZHRoPTgpLnBhY2soc2lkZT10ay5MRUZULCBwYWR4PTIsIHBhZHk9MikNCg0KICAgICAgICBj
bGlja19mcmFtZSA9IHR0ay5GcmFtZShtdWx0aV9wcmVzc3VyZV9mcmFtZSkNCiAgICAgICAgY2xp
Y2tfZnJhbWUucGFjayhmaWxsPXRrLlgsIHBhZHg9NSwgcGFkeT0yKQ0KICAgICAgICB0dGsuQ2hl
Y2tidXR0b24oY2xpY2tfZnJhbWUsIHRleHQ9IuW8gOWQr+aooeaLn+eCueWHuyIsIHZhcmlhYmxl
PXNlbGYuc2ltX2NsaWNrX2VuYWJsZWQpLnBhY2soc2lkZT10ay5MRUZULCBwYWR4PTUsIHBhZHk9
MikNCiAgICAgICAgdHRrLkJ1dHRvbihjbGlja19mcmFtZSwgdGV4dD0i6K6+572u54K55Ye754K5
IiwgY29tbWFuZD1zZWxmLnNldF9zaW1fY2xpY2tfcG9pbnQsIGJvb3RzdHlsZT0ib3V0bGluZS1p
bmZvIikucGFjayhzaWRlPXRrLkxFRlQsIHBhZHg9NSwgcGFkeT0yKQ0KICAgICAgICB0dGsuTGFi
ZWwoY2xpY2tfZnJhbWUsIHRleHQ9IueCueWHu+WGt+WNtChtcyk6IikucGFjayhzaWRlPXRrLkxF
RlQsIHBhZHg9MTAsIHBhZHk9MikNCiAgICAgICAgdHRrLkVudHJ5KGNsaWNrX2ZyYW1lLCB0ZXh0
dmFyaWFibGU9c2VsZi5waXhlbF9jbGlja19jb29sZG93bl92YXIsIHdpZHRoPTgpLnBhY2soc2lk
ZT10ay5MRUZULCBwYWR4PTIsIHBhZHk9MikNCg0KICAgICAgICBidXR0b25fZnJhbWUgPSB0dGsu
RnJhbWUobXVsdGlfcHJlc3N1cmVfZnJhbWUpDQogICAgICAgIGJ1dHRvbl9mcmFtZS5wYWNrKHBh
ZHg9NSwgcGFkeT01KQ0KICAgICAgICB0dGsuQnV0dG9uKGJ1dHRvbl9mcmFtZSwgdGV4dD0i5ZCv
5Yqo5aSa5Y6L5Yqb5rWL6K+VIiwgY29tbWFuZD1zZWxmLnN0YXJ0X211bHRpX3ByZXNzdXJlX3Rl
c3QsIGJvb3RzdHlsZT0ic3VjY2VzcyIpLnBhY2soc2lkZT10ay5MRUZULCBwYWR4PSgwLCAxMCkp
CiAgICAgICAgdHRrLkJ1dHRvbihidXR0b25fZnJhbWUsIHRleHQ9IuWBnOatouWkmuWOi+WKm+a1
i+ivlSIsIGNvbW1hbmQ9c2VsZi5zdG9wX211bHRpX3ByZXNzdXJlX3Rlc3QsIGJvb3RzdHlsZT0i
ZGFuZ2VyIikucGFjayhzaWRlPXRrLkxFRlQpDQoNCiAgICAgICAgIyDot7Plj5jorr7nva7ljLog
IOKAlOKAlOKAlOKAlCAg55So5pys5q615a6M5pW05pu/5o2i5L2g5Y6f5p2l55qE4oCc6Lez5Y+Y
6K6+572u4oCd5Yy65Z+fICDigJTigJTigJTigJQNCiAgICAgICAganVtcF9mcmFtZSA9IHR0ay5M
YWJlbEZyYW1lKHNlbGYuc2Nyb2xsYWJsZV9mcmFtZSwgdGV4dD0i6Lez5Y+Y6K6+572uIikNCiAg
ICAgICAganVtcF9mcmFtZS5wYWNrKGZpbGw9dGsuWCwgcGFkeD01LCBwYWR5PTUpDQoNCiAgICAg
ICAgIyDln7rnoYDpmIjlgLzlkozpl7TpmpQNCiAgICAgICAgYmFzZV9qdW1wX2ZyYW1lID0gdHRr
LkZyYW1lKGp1bXBfZnJhbWUpDQogICAgICAgIGJhc2VfanVtcF9mcmFtZS5wYWNrKGZpbGw9dGsu
WCwgcGFkeD01LCBwYWR5PTIpDQogICAgICAgIHR0ay5MYWJlbChiYXNlX2p1bXBfZnJhbWUsIHRl
eHQ9IuWfuuehgOmYiOWAvCAoZyk6IikucGFjayhzaWRlPXRrLkxFRlQsIHBhZHg9NSwgcGFkeT0y
KQ0KICAgICAgICBzZWxmLmJhc2VfanVtcF92YXIgPSB0ay5Eb3VibGVWYXIodmFsdWU9MTAwMC4w
KQ0KICAgICAgICBzZWxmLmJhc2VfanVtcF9lbnRyeSA9IHR0ay5FbnRyeShiYXNlX2p1bXBfZnJh
bWUsIHRleHR2YXJpYWJsZT1zZWxmLmJhc2VfanVtcF92YXIsIHdpZHRoPTgpDQogICAgICAgIHNl
bGYuYmFzZV9qdW1wX2VudHJ5LnBhY2soc2lkZT10ay5MRUZULCBwYWR4PTUsIHBhZHk9MikNCiAg
ICAgICAgdHRrLkxhYmVsKGJhc2VfanVtcF9mcmFtZSwgdGV4dD0i6Ze06ZqUIChnKToiKS5wYWNr
KHNpZGU9dGsuTEVGVCwgcGFkeD01LCBwYWR5PTIpDQogICAgICAgIHNlbGYuanVtcF9pbnRlcnZh
bF92YXIgPSB0ay5Eb3VibGVWYXIodmFsdWU9MTAwMC4wKQ0KICAgICAgICBzZWxmLmp1bXBfaW50
ZXJ2YWxfZW50cnkgPSB0dGsuRW50cnkoYmFzZV9qdW1wX2ZyYW1lLCB0ZXh0dmFyaWFibGU9c2Vs
Zi5qdW1wX2ludGVydmFsX3Zhciwgd2lkdGg9OCkNCiAgICAgICAgc2VsZi5qdW1wX2ludGVydmFs
X2VudHJ5LnBhY2soc2lkZT10ay5MRUZULCBwYWR4PTUsIHBhZHk9MikNCiAgICAgICAgdHRrLkJ1
dHRvbihiYXNlX2p1bXBfZnJhbWUsIHRleHQ9IuW6lOeUqCIsIGNvbW1hbmQ9c2VsZi5hcHBseV9q
dW1wX2ludGVydmFsLCBib290c3R5bGU9Im91dGxpbmUtcHJpbWFyeSIpLnBhY2soDQogICAgICAg
ICAgICBzaWRlPXRrLkxFRlQsIHBhZHg9NSwgcGFkeT0yKQ0KDQogICAgICAgICMg57uf5LiA5pa5
5ZCRDQogICAgICAgIGRpcmVjdGlvbl9zZXRfZnJhbWUgPSB0dGsuRnJhbWUoanVtcF9mcmFtZSkN
CiAgICAgICAgZGlyZWN0aW9uX3NldF9mcmFtZS5wYWNrKGZpbGw9dGsuWCwgcGFkeD01LCBwYWR5
PTIpDQogICAgICAgIHR0ay5MYWJlbChkaXJlY3Rpb25fc2V0X2ZyYW1lLCB0ZXh0PSLnu5/kuIDm
lrnlkJE6IikucGFjayhzaWRlPXRrLkxFRlQsIHBhZHg9NSwgcGFkeT0yKQ0KICAgICAgICBzZWxm
LmFsbF9qdW1wX2RpcmVjdGlvbl92YXIgPSB0ay5TdHJpbmdWYXIodmFsdWU9Iuato+WQkSIpDQog
ICAgICAgIHNlbGYuYWxsX2p1bXBfZGlyZWN0aW9uX2NvbWJvID0gdHRrLkNvbWJvYm94KGRpcmVj
dGlvbl9zZXRfZnJhbWUsIHRleHR2YXJpYWJsZT1zZWxmLmFsbF9qdW1wX2RpcmVjdGlvbl92YXIs
DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdp
ZHRoPTgpDQogICAgICAgIHNlbGYuYWxsX2p1bXBfZGlyZWN0aW9uX2NvbWJvWyd2YWx1ZXMnXSA9
ICgi5q2j5ZCRIiwgIuWPjeWQkSIsICLlj4zlkJEiKQ0KICAgICAgICBzZWxmLmFsbF9qdW1wX2Rp
cmVjdGlvbl9jb21iby5wYWNrKHNpZGU9dGsuTEVGVCwgcGFkeD01LCBwYWR5PTIpDQogICAgICAg
IHR0ay5CdXR0b24oZGlyZWN0aW9uX3NldF9mcmFtZSwgdGV4dD0i5bqU55So5omA5pyJIiwgY29t
bWFuZD1zZWxmLnRvZ2dsZV9hbGxfanVtcF9kaXJlY3Rpb24sDQogICAgICAgICAgICAgICAgICAg
Ym9vdHN0eWxlPSJvdXRsaW5lLXByaW1hcnkiKS5wYWNrKHNpZGU9dGsuTEVGVCwgcGFkeD01LCBw
YWR5PTIpDQoNCiAgICAgICAgIyDot7Plj5jpl7TpmpQgJiDlvqrnjq/mrKHmlbANCiAgICAgICAg
aW50ZXJ2YWxfZnJhbWUgPSB0dGsuRnJhbWUoanVtcF9mcmFtZSkNCiAgICAgICAgaW50ZXJ2YWxf
ZnJhbWUucGFjayhmaWxsPXRrLlgsIHBhZHg9NSwgcGFkeT0yKQ0KICAgICAgICB0dGsuTGFiZWwo
aW50ZXJ2YWxfZnJhbWUsIHRleHQ9Iui3s+WPmOmXtOmalCAo56eSKToiKS5wYWNrKHNpZGU9dGsu
TEVGVCwgcGFkeD01LCBwYWR5PTIpDQogICAgICAgIHNlbGYuaW50ZXJ2YWxfZW50cnkgPSB0dGsu
RW50cnkoaW50ZXJ2YWxfZnJhbWUsIHdpZHRoPTgpDQogICAgICAgIHNlbGYuaW50ZXJ2YWxfZW50
cnkucGFjayhzaWRlPXRrLkxFRlQsIHBhZHg9NSwgcGFkeT0yKQ0KICAgICAgICBzZWxmLmludGVy
dmFsX2VudHJ5Lmluc2VydCgwLCAiMS4wIikNCg0KICAgICAgICB0dGsuTGFiZWwoaW50ZXJ2YWxf
ZnJhbWUsIHRleHQ9IuW+queOr+asoeaVsDoiKS5wYWNrKHNpZGU9dGsuTEVGVCwgcGFkeD0xMCwg
cGFkeT0yKQ0KICAgICAgICBzZWxmLmp1bXBfbG9vcF9jb3VudF92YXIgPSB0ay5JbnRWYXIodmFs
dWU9MCkgICMgMD3kuIDnm7Tlvqrnjq8NCiAgICAgICAgdHRrLkVudHJ5KGludGVydmFsX2ZyYW1l
LCB0ZXh0dmFyaWFibGU9c2VsZi5qdW1wX2xvb3BfY291bnRfdmFyLCB3aWR0aD02KS5wYWNrKHNp
ZGU9dGsuTEVGVCwgcGFkeD0yLCBwYWR5PTIpDQogICAgICAgIHR0ay5MYWJlbChpbnRlcnZhbF9m
cmFtZSwgdGV4dD0iKDAgPSDkuIDnm7Tlvqrnjq8pIikucGFjayhzaWRlPXRrLkxFRlQsIHBhZHg9
NiwgcGFkeT0yKQ0KDQogICAgICAgICMg6YeH6ZuG6YCf5bqmIC8g6Lez5Y+Y6YCf5bqmDQogICAg
ICAgIHNwZWVkX2ZyYW1lID0gdHRrLkZyYW1lKGp1bXBfZnJhbWUpDQogICAgICAgIHNwZWVkX2Zy
YW1lLnBhY2soZmlsbD10ay5YLCBwYWR4PTUsIHBhZHk9MikNCiAgICAgICAgdHRrLkxhYmVsKHNw
ZWVkX2ZyYW1lLCB0ZXh0PSLph4fpm4bpgJ/luqYobW0vcyk6IikucGFjayhzaWRlPXRrLkxFRlQs
IHBhZHg9NSwgcGFkeT0yKQ0KICAgICAgICBzZWxmLmp1bXBfYWNxX3NwZWVkX3ZhciA9IHRrLkRv
dWJsZVZhcih2YWx1ZT0wLjAwMSkgICMg6buY6K6kIDAuMDAxDQogICAgICAgIHR0ay5FbnRyeShz
cGVlZF9mcmFtZSwgdGV4dHZhcmlhYmxlPXNlbGYuanVtcF9hY3Ffc3BlZWRfdmFyLCB3aWR0aD0x
MCkucGFjayhzaWRlPXRrLkxFRlQsIHBhZHg9NSwgcGFkeT0yKQ0KICAgICAgICB0dGsuTGFiZWwo
c3BlZWRfZnJhbWUsIHRleHQ9Iui3s+WPmOmAn+W6pihtbS9zKToiKS5wYWNrKHNpZGU9dGsuTEVG
VCwgcGFkeD0xMCwgcGFkeT0yKQ0KICAgICAgICBzZWxmLmp1bXBfcnVuX3NwZWVkX3ZhciA9IHRr
LkRvdWJsZVZhcih2YWx1ZT0wLjEpICAjIOm7mOiupCAwLjENCiAgICAgICAgdHRrLkVudHJ5KHNw
ZWVkX2ZyYW1lLCB0ZXh0dmFyaWFibGU9c2VsZi5qdW1wX3J1bl9zcGVlZF92YXIsIHdpZHRoPTEw
KS5wYWNrKHNpZGU9dGsuTEVGVCwgcGFkeD01LCBwYWR5PTIpDQogICAgICAgIGJpYXNfZ2F0ZV9m
cmFtZSA9IHR0ay5GcmFtZShqdW1wX2ZyYW1lKQ0KICAgICAgICBiaWFzX2dhdGVfZnJhbWUucGFj
ayhmaWxsPXRrLlgsIHBhZHg9NSwgcGFkeT0yKQ0KICAgICAgICB0dGsuTGFiZWwoYmlhc19nYXRl
X2ZyYW1lLCB0ZXh0PSLpl63njq/lgY/nva7pl6jmp5sgKGcpOiIpLnBhY2soc2lkZT10ay5MRUZU
LCBwYWR4PTUsIHBhZHk9MikNCiAgICAgICAgdHRrLkVudHJ5KGJpYXNfZ2F0ZV9mcmFtZSwgdGV4
dHZhcmlhYmxlPXNlbGYuanVtcF9iaWFzX2dhdGVfdmFyLCB3aWR0aD04KS5wYWNrKHNpZGU9dGsu
TEVGVCwgcGFkeD01LCBwYWR5PTIpDQogICAgICAgIHR0ay5MYWJlbChiaWFzX2dhdGVfZnJhbWUs
IHRleHQ9Ij7or6Xpl6jmp5vmiY3CsTAuMDAxIG1tIikucGFjayhzaWRlPXRrLkxFRlQsIHBhZHg9
OCwgcGFkeT0yKQ0KDQogICAgICAgICMg6Lez5Y+Y5qih5byP6YCJ5oup77yI5aaC5p6c5L2g5oOz
5ZyoVUnkuIrliIfmjaLvvJvoi6Xlt7LmnInliKvlpITmjqfliLblj6/liKDvvIkNCiAgICAgICAg
bW9kZV9mcmFtZSA9IHR0ay5GcmFtZShqdW1wX2ZyYW1lKQ0KICAgICAgICBtb2RlX2ZyYW1lLnBh
Y2soZmlsbD10ay5YLCBwYWR4PTUsIHBhZHk9MikNCiAgICAgICAgdHRrLkxhYmVsKG1vZGVfZnJh
bWUsIHRleHQ9Iui3s+WPmOaooeW8jzoiKS5wYWNrKHNpZGU9dGsuTEVGVCwgcGFkeD01LCBwYWR5
PTIpDQogICAgICAgICMg5aSN55So5bey5pyJIHNlbGYuanVtcF9tb2RlX3Zhcg0KICAgICAgICBt
b2RlX2NvbWJvID0gdHRrLkNvbWJvYm94KG1vZGVfZnJhbWUsIHRleHR2YXJpYWJsZT1zZWxmLmp1
bXBfbW9kZV92YXIsIHdpZHRoPTEwKQ0KICAgICAgICBtb2RlX2NvbWJvWyd2YWx1ZXMnXSA9ICgi
5oyJ5a6e6ZmF5Y6L5YqbIiwgIuaMieWunumZheS9jee9riIpDQogICAgICAgIG1vZGVfY29tYm8u
cGFjayhzaWRlPXRrLkxFRlQsIHBhZHg9NSwgcGFkeT0yKQ0KDQogICAgICAgICMg6Lez5Y+Y6ZiI
5YC86K6+572u77yI5q+P5LiA6KGM77yaIOmYiOWAvCArIOaWueWQkSArIOiHquWKqOWFs+mXrSAr
IOW8gOWQr+aMiemSriArIOWunua1i+S9jee9ruaYvuekuu+8iQ0KICAgICAgICBzZWxmLmp1bXBf
ZW50cmllcyA9IHt9DQogICAgICAgIHNlbGYuanVtcF9idXR0b25zID0ge30NCiAgICAgICAgc2Vs
Zi5qdW1wX2RpcmVjdGlvbnMgPSB7fQ0KICAgICAgICBzZWxmLmp1bXBfYXV0b19jbG9zZV92YXJz
ID0ge30NCiAgICAgICAgc2VsZi5qdW1wX2F1dG9fY2xvc2VfY2hlY2tzID0ge30NCiAgICAgICAg
c2VsZi5qdW1wX3Bvc192YXJzID0ge30gICMg5paw5aKe77ya5q+P5Liq6Lez5Y+Y54K555qE4oCc
5bey6YeH6ZuG5L2N572u4oCd5pi+56S6DQogICAgICAgIHNlbGYuanVtcF9wb3NfbGFiZWxzID0g
e30NCg0KICAgICAgICBmb3IgaSBpbiByYW5nZSgxLCA5KToNCiAgICAgICAgICAgIGp1bXBfc3Vi
ZnJhbWUgPSB0dGsuRnJhbWUoanVtcF9mcmFtZSkNCiAgICAgICAgICAgIGp1bXBfc3ViZnJhbWUu
cGFjayhmaWxsPXRrLlgsIHBhZHg9NSwgcGFkeT0yKQ0KDQogICAgICAgICAgICB0dGsuTGFiZWwo
anVtcF9zdWJmcmFtZSwgdGV4dD1mIui3s+WPmHtpfToiKS5wYWNrKHNpZGU9dGsuTEVGVCwgcGFk
eD0yLCBwYWR5PTIpDQoNCiAgICAgICAgICAgIHNlbGYuanVtcF92YXJzW2ldID0gdGsuRG91Ymxl
VmFyKCkgaWYgaSBub3QgaW4gc2VsZi5qdW1wX3ZhcnMgZWxzZSBzZWxmLmp1bXBfdmFyc1tpXQ0K
ICAgICAgICAgICAgc2VsZi5qdW1wX2VudHJpZXNbaV0gPSB0dGsuRW50cnkoanVtcF9zdWJmcmFt
ZSwgdGV4dHZhcmlhYmxlPXNlbGYuanVtcF92YXJzW2ldLCB3aWR0aD04KQ0KICAgICAgICAgICAg
c2VsZi5qdW1wX2VudHJpZXNbaV0ucGFjayhzaWRlPXRrLkxFRlQsIHBhZHg9MiwgcGFkeT0yKQ0K
DQogICAgICAgICAgICBzZWxmLmp1bXBfZGlyZWN0aW9uc1tpXSA9IHRrLlN0cmluZ1Zhcih2YWx1
ZT0i5q2j5ZCRIikgaWYgaSBub3QgaW4gc2VsZi5qdW1wX2RpcmVjdGlvbnMgZWxzZSBcDQogICAg
ICAgICAgICBzZWxmLmp1bXBfZGlyZWN0aW9uc1tpXQ0KICAgICAgICAgICAgZGlyZWN0aW9uX2Nv
bWJvID0gdHRrLkNvbWJvYm94KGp1bXBfc3ViZnJhbWUsIHRleHR2YXJpYWJsZT1zZWxmLmp1bXBf
ZGlyZWN0aW9uc1tpXSwgd2lkdGg9OCkNCiAgICAgICAgICAgIGRpcmVjdGlvbl9jb21ib1sndmFs
dWVzJ10gPSAoIuato+WQkSIsICLlj43lkJEiLCAi5Y+M5ZCRIikNCiAgICAgICAgICAgIGRpcmVj
dGlvbl9jb21iby5wYWNrKHNpZGU9dGsuTEVGVCwgcGFkeD0yLCBwYWR5PTIpDQoNCiAgICAgICAg
ICAgIHNlbGYuanVtcF9hdXRvX2Nsb3NlX3ZhcnNbaV0gPSB0ay5Cb29sZWFuVmFyKCkgaWYgaSBu
b3QgaW4gc2VsZi5qdW1wX2F1dG9fY2xvc2VfdmFycyBlbHNlIFwNCiAgICAgICAgICAgIHNlbGYu
anVtcF9hdXRvX2Nsb3NlX3ZhcnNbaV0NCiAgICAgICAgICAgIHNlbGYuanVtcF9hdXRvX2Nsb3Nl
X2NoZWNrc1tpXSA9IHR0ay5DaGVja2J1dHRvbihqdW1wX3N1YmZyYW1lLCB0ZXh0PSLoh6rliqjl
hbPpl60iLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgIHZhcmlhYmxlPXNlbGYuanVtcF9hdXRvX2Nsb3NlX3ZhcnNbaV0pDQogICAg
ICAgICAgICBzZWxmLmp1bXBfYXV0b19jbG9zZV9jaGVja3NbaV0ucGFjayhzaWRlPXRrLkxFRlQs
IHBhZHg9MiwgcGFkeT0yKQ0KDQogICAgICAgICAgICBidG4gPSB0dGsuQnV0dG9uKGp1bXBfc3Vi
ZnJhbWUsIHRleHQ9IuWFs+mXrSIsIGNvbW1hbmQ9bGFtYmRhIGk9aTogc2VsZi50b2dnbGVfc2Vu
ZF9qdW1wX3NpZ25hbChpKSwNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgd2lkdGg9Niwg
Ym9vdHN0eWxlPSJvdXRsaW5lLWRhbmdlciIpDQogICAgICAgICAgICBidG4ucGFjayhzaWRlPXRr
LkxFRlQsIHBhZHg9MiwgcGFkeT0yKQ0KICAgICAgICAgICAgc2VsZi5qdW1wX2J1dHRvbnNbaV0g
PSBidG4NCg0KICAgICAgICAgICAgIyDigJTigJQg5paw5aKe77ya5bey6YeH6ZuG5L2N572u5pi+
56S6IOKAlOKAlCAjDQogICAgICAgICAgICBzZWxmLmp1bXBfcG9zX3ZhcnNbaV0gPSB0ay5TdHJp
bmdWYXIodmFsdWU9IuKAlCIpICAjIOWIneWni+acquefpQ0KICAgICAgICAgICAgbGJsID0gdHRr
LkxhYmVsKGp1bXBfc3ViZnJhbWUsIHRleHR2YXJpYWJsZT1zZWxmLmp1bXBfcG9zX3ZhcnNbaV0p
DQogICAgICAgICAgICBsYmwucGFjayhzaWRlPXRrLkxFRlQsIHBhZHg9OCwgcGFkeT0yKQ0KICAg
ICAgICAgICAgc2VsZi5qdW1wX3Bvc19sYWJlbHNbaV0gPSBsYmwNCg0KICAgICAgICAjIOS4gOmU
ruaJk+W8gOaJgOaciei3s+WPmOS/oeWPt+aMiemSrg0KICAgICAgICB0dGsuQnV0dG9uKGp1bXBf
ZnJhbWUsIHRleHQ9IuS4gOmUruaJk+W8gOaJgOaciei3s+WPmOS/oeWPtyIsIGNvbW1hbmQ9c2Vs
Zi5lbmFibGVfYWxsX2p1bXBfc2lnbmFscywNCiAgICAgICAgICAgICAgICAgICBib290c3R5bGU9
Im91dGxpbmUtaW5mbyIpLnBhY2socGFkeD01LCBwYWR5PTUpDQoNCiAgICAgICAgIyDot7Plj5gg
5ZCv5YqoL+WBnOatou+8iOaUvuWcqOKAnOi3s+WPmOiuvue9ruKAnemHjO+8iQ0KICAgICAgICBq
dW1wX2N0cmxfYnRucyA9IHR0ay5GcmFtZShqdW1wX2ZyYW1lKQ0KICAgICAgICBqdW1wX2N0cmxf
YnRucy5wYWNrKGZpbGw9dGsuWCwgcGFkeD01LCBwYWR5PTYpDQogICAgICAgIHR0ay5CdXR0b24o
anVtcF9jdHJsX2J0bnMsIHRleHQ9IuWQr+WKqOi3s+WPmCIsIGNvbW1hbmQ9c2VsZi5zdGFydF9q
dW1wX21vZGUsDQogICAgICAgICAgICAgICAgICAgYm9vdHN0eWxlPSJzdWNjZXNzIikucGFjayhz
aWRlPXRrLkxFRlQsIHBhZHg9NSkNCiAgICAgICAgdHRrLkJ1dHRvbihqdW1wX2N0cmxfYnRucywg
dGV4dD0i5YGc5q2i6Lez5Y+YIiwgY29tbWFuZD1sYW1iZGE6IHNlbGYuc3RvcF9qdW1wKG1hbnVh
bD1UcnVlKSwNCiAgICAgICAgICAgICAgICAgICBib290c3R5bGU9ImRhbmdlciIpLnBhY2soc2lk
ZT10ay5MRUZULCBwYWR4PTUpDQoNCiAgICAgICAgIyDlj7PkvqfpnaLmnb8NCiAgICAgICAgcmln
aHRfcGFuZWwgPSB0dGsuRnJhbWUobWFpbl9mcmFtZSkNCiAgICAgICAgcmlnaHRfcGFuZWwucGFj
ayhzaWRlPXRrLlJJR0hULCBmaWxsPXRrLkJPVEgsIGV4cGFuZD1UcnVlKQ0KDQogICAgICAgIHNl
bGYuZmlnID0gRmlndXJlKGZpZ3NpemU9KDEwLCA2KSwgZHBpPTEwMCkNCiAgICAgICAgc2VsZi5h
eCA9IHNlbGYuZmlnLmFkZF9zdWJwbG90KDExMSkNCiAgICAgICAgc2VsZi5heDIgPSBzZWxmLmF4
LnR3aW54KCkNCiAgICAgICAgc2VsZi5pbml0X3Bsb3Rfc3R5bGUoKQ0KDQogICAgICAgIHNlbGYu
bGluZV9wb3MsID0gc2VsZi5heC5wbG90KFtdLCBbXSwgY29sb3I9JyMyNjhiZDInLCBsaW5ld2lk
dGg9Mi4xLCBsYWJlbD0nUG9zaXRpb24gKG1tKScpCiAgICAgICAgc2VsZi5saW5lX3ByZXNzLCA9
IHNlbGYuYXgyLnBsb3QoW10sIFtdLCBjb2xvcj0nI2U3NGMzYycsIGxpbmV3aWR0aD0yLjEsIGxh
YmVsPWYnUHJlc3N1cmUgKHtzZWxmLmN1cnJlbnRfdW5pdH0pJykKDQogICAgICAgIHNlbGYuYXgu
bGVnZW5kKGxvYz0ndXBwZXIgbGVmdCcsIGZvbnRzaXplPTEwLCBmcmFtZW9uPUZhbHNlLCBib3Jk
ZXJwYWQ9MC4zLCBsYWJlbHNwYWNpbmc9MC4yKQ0KICAgICAgICBzZWxmLmF4Mi5sZWdlbmQobG9j
PSd1cHBlciByaWdodCcsIGZvbnRzaXplPTEwLCBmcmFtZW9uPUZhbHNlLCBib3JkZXJwYWQ9MC4z
LCBsYWJlbHNwYWNpbmc9MC4yKQ0KDQogICAgICAgIHNlbGYuY2FudmFzID0gRmlndXJlQ2FudmFz
VGtBZ2coc2VsZi5maWcsIG1hc3Rlcj1yaWdodF9wYW5lbCkNCiAgICAgICAgc2VsZi5jYW52YXMu
Z2V0X3RrX3dpZGdldCgpLnBhY2soZmlsbD10ay5CT1RILCBleHBhbmQ9VHJ1ZSwgcGFkeD01LCBw
YWR5PTUpDQoNCiAgICAgICAgIyDigJTigJQg5Zu+6KGo5oyJ6ZKu5LiO5pi+56S65pe26ZW/6K6+
572uIOKAlOKAlCAjDQogICAgICAgIGNoYXJ0X2J0bl9mcmFtZSA9IHR0ay5GcmFtZShyaWdodF9w
YW5lbCkNCiAgICAgICAgY2hhcnRfYnRuX2ZyYW1lLnBhY2soZmlsbD10ay5YLCBwYWR4PTUsIHBh
ZHk9NSkNCg0KICAgICAgICAjIOaWsOWinu+8muaYvuekuuaXtumVvyhzKSDovpPlhaXmoYbvvIgw
ID0g5LiN6ZmQ5Yi277yJDQogICAgICAgIHR0ay5MYWJlbChjaGFydF9idG5fZnJhbWUsIHRleHQ9
IkRpc3BsYXkgRHVyYXRpb24gKHMpOiIpLnBhY2soc2lkZT10ay5MRUZULCBwYWR4PSgwLCA0KSkK
ICAgICAgICBzZWxmLnBsb3Rfd2luZG93X3NlY29uZHNfdmFyID0gdGsuRG91YmxlVmFyKHZhbHVl
PTMwLjApICAjIOm7mOiupCAzMCDnp5LvvIzlj6rmmL7npLrmnIDov5EgMzBzIOaVsOaNrg0KICAg
ICAgICBzZWxmLnBsb3Rfd2luZG93X2VudHJ5ID0gdHRrLkVudHJ5KGNoYXJ0X2J0bl9mcmFtZSwg
dGV4dHZhcmlhYmxlPXNlbGYucGxvdF93aW5kb3dfc2Vjb25kc192YXIsIHdpZHRoPTcpDQogICAg
ICAgIHNlbGYucGxvdF93aW5kb3dfZW50cnkucGFjayhzaWRlPXRrLkxFRlQsIHBhZHg9KDAsIDEw
KSkNCg0KICAgICAgICBzZWxmLmV4cG9ydF9idG4gPSB0dGsuQnV0dG9uKA0KICAgICAgICAgICAg
Y2hhcnRfYnRuX2ZyYW1lLCB0ZXh0PSJFeHBvcnQgQ2hhcnQiLAogICAgICAgICAgICBjb21tYW5k
PXNlbGYuZXhwb3J0X2NoYXJ0LCBzdGF0ZT0iZGlzYWJsZWQiLCBib290c3R5bGU9ImluZm8iCiAg
ICAgICAgKQogICAgICAgIHNlbGYuZXhwb3J0X2J0bi5wYWNrKHNpZGU9dGsuTEVGVCwgcGFkeD01
LCBwYWR5PTIpCgogICAgICAgIHNlbGYuY2xlYXJfY2hhcnRfYnRuID0gdHRrLkJ1dHRvbigKICAg
ICAgICAgICAgY2hhcnRfYnRuX2ZyYW1lLCB0ZXh0PSJDbGVhciBDaGFydCIsCiAgICAgICAgICAg
IGNvbW1hbmQ9c2VsZi5jbGVhcl9jaGFydCwgYm9vdHN0eWxlPSJ3YXJuaW5nIgogICAgICAgICkK
ICAgICAgICBzZWxmLmNsZWFyX2NoYXJ0X2J0bi5wYWNrKHNpZGU9dGsuTEVGVCwgcGFkeD01LCBw
YWR5PTIpDQoNCiAgICAgICAgaWYgc2VsZi5fdXNlX2ludGVybmFsX2xvZzoKICAgICAgICAgICAg
bG9nX2ZyYW1lID0gdHRrLkxhYmVsRnJhbWUocmlnaHRfcGFuZWwsIHRleHQ9IuaXpeW/lyIpCiAg
ICAgICAgICAgIGxvZ19mcmFtZS5wYWNrKGZpbGw9dGsuQk9USCwgcGFkeD01LCBwYWR5PTUpCiAg
ICAgICAgICAgIHNlbGYubG9nX3RleHQgPSBzY3JvbGxlZHRleHQuU2Nyb2xsZWRUZXh0KGxvZ19m
cmFtZSwgc3RhdGU9ImRpc2FibGVkIiwgaGVpZ2h0PTEwKQogICAgICAgICAgICBzZWxmLmxvZ190
ZXh0LnBhY2soZmlsbD10ay5CT1RILCBleHBhbmQ9VHJ1ZSwgcGFkeD01LCBwYWR5PTUpCg0KICAg
ICAgICBzZWxmLnJlZnJlc2hfcG9ydHMoKQ0KDQogICAgIyA9PT09PT0g5paw5aKe5Ye95pWw77ya
6K6+572u5oyH56S654Gv6aKc6ImyID09PT09PQ0KICAgIGRlZiBzZXRfaW5kaWNhdG9yX2NvbG9y
KHNlbGYsIGNvbG9yKToNCiAgICAgICAgc2VsZi5pbmRpY2F0b3JfY2FudmFzLml0ZW1jb25maWco
c2VsZi5pbmRpY2F0b3JfY2lyY2xlLCBmaWxsPWNvbG9yKQ0KICAgICAgICBpZiBjb2xvciA9PSAi
Z3JlZW4iOg0KICAgICAgICAgICAgc2VsZi5hZnRlcig1MDAsIGxhbWJkYTogc2VsZi5zZXRfaW5k
aWNhdG9yX2NvbG9yKCJyZWQiKSkNCg0KICAgIGRlZiBzZXRfc2ltX2NsaWNrX3BvaW50KHNlbGYp
OgogICAgICAgIHBvcyA9IGNhcHR1cmVfY2xpY2tfcG9pbnQoCiAgICAgICAgICAgIHNlbGYsCiAg
ICAgICAgICAgIHRpdGxlPSLorr7nva7ngrnlh7vngrkiLAogICAgICAgICAgICBoaW50PSLnp7vl
iqjpvKDmoIfliLDnm67moIfova/ku7bmjInpkq7lpITvvIzmjIkgRW50ZXIg6ZSu6K6w5b2VIiwK
ICAgICAgICAgICAgcmVwb3J0ZXI9c2VsZi5sb2csCiAgICAgICAgKQogICAgICAgIGlmIHBvczoK
ICAgICAgICAgICAgc2VsZi5zaW1fY2xpY2tfcG9zID0gcG9zCg0KICAgIGRlZiBzZXRfcGl4ZWxf
ZGV0ZWN0aW9uX3JlZ2lvbihzZWxmKToNCiAgICAgICAgbWVzc2FnZWJveC5zaG93aW5mbygi6K6+
572u5qOA5rWL5Yy65Z+fIiwgIuivt+eUqOm8oOagh+ahhumAiemcgOimgeajgOa1i+eahOWxj+W5
leWMuuWfn++8jOaMiSBFbnRlciDplK7noa7orqTjgIIiKQ0KICAgICAgICBvdmVybGF5ID0gdGsu
VG9wbGV2ZWwoc2VsZikNCiAgICAgICAgb3ZlcmxheS5hdHRyaWJ1dGVzKCItZnVsbHNjcmVlbiIs
IFRydWUpDQogICAgICAgIG92ZXJsYXkuYXR0cmlidXRlcygiLWFscGhhIiwgMC4zKQ0KICAgICAg
ICBvdmVybGF5LmF0dHJpYnV0ZXMoIi10b3Btb3N0IiwgVHJ1ZSkNCiAgICAgICAgb3ZlcmxheS5j
b25maWd1cmUoYmFja2dyb3VuZD0iZ3JheSIpDQogICAgICAgIG92ZXJsYXkuZ3JhYl9zZXQoKQ0K
ICAgICAgICBvdmVybGF5LmZvY3VzX2ZvcmNlKCkNCg0KICAgICAgICBjYW52YXMgPSB0ay5DYW52
YXMob3ZlcmxheSwgY3Vyc29yPSJjcm9zcyIsIGhpZ2hsaWdodHRoaWNrbmVzcz0wKQ0KICAgICAg
ICBjYW52YXMucGFjayhmaWxsPXRrLkJPVEgsIGV4cGFuZD1UcnVlKQ0KICAgICAgICBjYW52YXMu
Zm9jdXNfc2V0KCkNCg0KICAgICAgICBjb29yZHMgPSB7J3gxJzogMCwgJ3kxJzogMCwgJ3gyJzog
MCwgJ3kyJzogMCwgJ3JlY3QnOiBOb25lfQ0KDQogICAgICAgIGRlZiBvbl9wcmVzcyhldmVudCk6
DQogICAgICAgICAgICBjb29yZHNbJ3gxJ10sIGNvb3Jkc1sneTEnXSA9IGV2ZW50LngsIGV2ZW50
LnkNCiAgICAgICAgICAgIGlmIGNvb3Jkc1sncmVjdCddOg0KICAgICAgICAgICAgICAgIGNhbnZh
cy5kZWxldGUoY29vcmRzWydyZWN0J10pDQogICAgICAgICAgICBjb29yZHNbJ3JlY3QnXSA9IGNh
bnZhcy5jcmVhdGVfcmVjdGFuZ2xlKGNvb3Jkc1sneDEnXSwgY29vcmRzWyd5MSddLCBldmVudC54
LCBldmVudC55LCBvdXRsaW5lPSJyZWQiLCB3aWR0aD0yKQ0KDQogICAgICAgIGRlZiBvbl9kcmFn
KGV2ZW50KToNCiAgICAgICAgICAgIGNhbnZhcy5jb29yZHMoY29vcmRzWydyZWN0J10sIGNvb3Jk
c1sneDEnXSwgY29vcmRzWyd5MSddLCBldmVudC54LCBldmVudC55KQ0KDQogICAgICAgIGRlZiBv
bl9yZWxlYXNlKGV2ZW50KToNCiAgICAgICAgICAgIGNvb3Jkc1sneDInXSwgY29vcmRzWyd5Midd
ID0gZXZlbnQueCwgZXZlbnQueQ0KDQogICAgICAgIGRlZiBvbl9lbnRlcihldmVudD1Ob25lKToN
CiAgICAgICAgICAgIG92ZXJsYXkuZ3JhYl9yZWxlYXNlKCkNCiAgICAgICAgICAgIHgxLCB5MSA9
IGNvb3Jkc1sneDEnXSwgY29vcmRzWyd5MSddDQogICAgICAgICAgICB4MiwgeTIgPSBjb29yZHNb
J3gyJ10sIGNvb3Jkc1sneTInXQ0KICAgICAgICAgICAgbGVmdCwgcmlnaHQgPSBzb3J0ZWQoKHgx
LCB4MikpDQogICAgICAgICAgICB0b3AsIGJvdHRvbSA9IHNvcnRlZCgoeTEsIHkyKSkNCiAgICAg
ICAgICAgIHdpZHRoID0gbWF4KDAsIHJpZ2h0IC0gbGVmdCkNCiAgICAgICAgICAgIGhlaWdodCA9
IG1heCgwLCBib3R0b20gLSB0b3ApDQogICAgICAgICAgICBhYnNfeCA9IG92ZXJsYXkud2luZm9f
cm9vdHgoKSArIGxlZnQNCiAgICAgICAgICAgIGFic195ID0gb3ZlcmxheS53aW5mb19yb290eSgp
ICsgdG9wDQoNCiAgICAgICAgICAgIHRyeToNCiAgICAgICAgICAgICAgICBpZiB3aWR0aCA8PSAw
IG9yIGhlaWdodCA8PSAwOg0KICAgICAgICAgICAgICAgICAgICByYWlzZSBWYWx1ZUVycm9yKCdz
ZWxlY3RlZCBhcmVhIHRvbyBzbWFsbCcpDQoNCiAgICAgICAgICAgICAgICB0cnk6DQogICAgICAg
ICAgICAgICAgICAgIHNjcmVlbl93LCBzY3JlZW5faCA9IHB5YXV0b2d1aS5zaXplKCkNCiAgICAg
ICAgICAgICAgICBleGNlcHQgRXhjZXB0aW9uOg0KICAgICAgICAgICAgICAgICAgICBzY3JlZW5f
dyA9IHNjcmVlbl9oID0gTm9uZQ0KDQogICAgICAgICAgICAgICAgaWYgc2NyZWVuX3cgaXMgbm90
IE5vbmUgYW5kIHNjcmVlbl9oIGlzIG5vdCBOb25lOg0KICAgICAgICAgICAgICAgICAgICBhYnNf
eCA9IG1heCgwLCBtaW4oYWJzX3gsIHNjcmVlbl93IC0gMSkpDQogICAgICAgICAgICAgICAgICAg
IGFic195ID0gbWF4KDAsIG1pbihhYnNfeSwgc2NyZWVuX2ggLSAxKSkNCiAgICAgICAgICAgICAg
ICAgICAgd2lkdGggPSBtaW4od2lkdGgsIG1heCgwLCBzY3JlZW5fdyAtIGFic194KSkNCiAgICAg
ICAgICAgICAgICAgICAgaGVpZ2h0ID0gbWluKGhlaWdodCwgbWF4KDAsIHNjcmVlbl9oIC0gYWJz
X3kpKQ0KICAgICAgICAgICAgICAgICAgICBpZiB3aWR0aCA8PSAwIG9yIGhlaWdodCA8PSAwOg0K
ICAgICAgICAgICAgICAgICAgICAgICAgcmFpc2UgVmFsdWVFcnJvcignc2VsZWN0ZWQgYXJlYSB0
b28gc21hbGwnKQ0KDQogICAgICAgICAgICAgICAgcmVnaW9uID0gKGludChhYnNfeCksIGludChh
YnNfeSksIGludCh3aWR0aCksIGludChoZWlnaHQpKQ0KICAgICAgICAgICAgICAgIHNuYXBzaG90
ID0gcHlhdXRvZ3VpLnNjcmVlbnNob3QocmVnaW9uPXJlZ2lvbikNCiAgICAgICAgICAgICAgICBp
ZiBzbmFwc2hvdC5tb2RlICE9ICdSR0InOg0KICAgICAgICAgICAgICAgICAgICBzbmFwc2hvdCA9
IHNuYXBzaG90LmNvbnZlcnQoJ1JHQicpDQoNCiAgICAgICAgICAgIGV4Y2VwdCBWYWx1ZUVycm9y
Og0KICAgICAgICAgICAgICAgIHNlbGYubG9nKCfmo4DmtYvljLrln5/ml6DmlYjvvJrpgInlj5bn
moTljLrln5/lpKrlsI8nKQ0KICAgICAgICAgICAgICAgIG1lc3NhZ2Vib3guc2hvd3dhcm5pbmco
J+aXoOaViOWMuuWfnycsICfpgInlj5bnmoTmo4DmtYvljLrln5/lpKrlsI/vvIzor7fmi5bmi73k
uIDkuKrmm7TlpKfnmoTljLrln5/jgIInKQ0KICAgICAgICAgICAgZXhjZXB0IEV4Y2VwdGlvbiBh
cyBlOg0KICAgICAgICAgICAgICAgIHNlbGYubG9nKGYn6K6+572u5qOA5rWL5Yy65Z+f5aSx6LSl
OiB7ZX0nKQ0KICAgICAgICAgICAgICAgIG1lc3NhZ2Vib3guc2hvd2Vycm9yKCfplJnor68nLCBm
J+aXoOazleaIquWPluWxj+W5leWMuuWfnzoge2V9JykNCiAgICAgICAgICAgIGVsc2U6DQogICAg
ICAgICAgICAgICAgc2VsZi5waXhlbF9kZXRlY3Rpb25fcmVnaW9uID0gcmVnaW9uDQogICAgICAg
ICAgICAgICAgc2VsZi5pbml0aWFsX3BpeGVsX3NuYXBzaG90ID0gc25hcHNob3QNCiAgICAgICAg
ICAgICAgICBzZWxmLnByZXZfcGl4ZWxfc25hcHNob3QgPSBOb25lDQogICAgICAgICAgICAgICAg
c2VsZi5sb2coZiLlt7Lorr7nva7mo4DmtYvljLrln586IHtzZWxmLnBpeGVsX2RldGVjdGlvbl9y
ZWdpb259IikNCiAgICAgICAgICAgIGZpbmFsbHk6DQogICAgICAgICAgICAgICAgb3ZlcmxheS5k
ZXN0cm95KCkNCiAgICAgICAgICAgIHJldHVybiAiYnJlYWsiDQoNCiAgICAgICAgY2FudmFzLmJp
bmQoIjxCdXR0b25QcmVzcy0xPiIsIG9uX3ByZXNzKQ0KICAgICAgICBjYW52YXMuYmluZCgiPEIx
LU1vdGlvbj4iLCBvbl9kcmFnKQ0KICAgICAgICBjYW52YXMuYmluZCgiPEJ1dHRvblJlbGVhc2Ut
MT4iLCBvbl9yZWxlYXNlKQ0KICAgICAgICBvdmVybGF5LmJpbmQoIjxSZXR1cm4+Iiwgb25fZW50
ZXIpDQoNCiAgICBkZWYgd2FpdF9mb3JfcGl4ZWxfY2hhbmdlKHNlbGYsIHRpbWVvdXQ6IGZsb2F0
LCBpbnRlcnZhbDogZmxvYXQpIC0+IGJvb2w6DQogICAgICAgIGlmIG5vdCBzZWxmLnBpeGVsX2Rl
dGVjdGlvbl9yZWdpb24gb3Igc2VsZi5pbml0aWFsX3BpeGVsX3NuYXBzaG90IGlzIE5vbmU6DQog
ICAgICAgICAgICByZXR1cm4gRmFsc2UNCg0KICAgICAgICBiYXNlbGluZSA9IHNlbGYuaW5pdGlh
bF9waXhlbF9zbmFwc2hvdA0KICAgICAgICBzdGFydF90aW1lID0gdGltZS50aW1lKCkNCg0KICAg
ICAgICB3aGlsZSB0aW1lLnRpbWUoKSAtIHN0YXJ0X3RpbWUgPCB0aW1lb3V0IGFuZCBzZWxmLm11
bHRpX3ByZXNzdXJlX3J1bm5pbmc6DQogICAgICAgICAgICB0cnk6DQogICAgICAgICAgICAgICAg
Y3VycmVudCA9IHB5YXV0b2d1aS5zY3JlZW5zaG90KHJlZ2lvbj1zZWxmLnBpeGVsX2RldGVjdGlv
bl9yZWdpb24pDQogICAgICAgICAgICAgICAgZGlmZiA9IEltYWdlQ2hvcHMuZGlmZmVyZW5jZShi
YXNlbGluZSwgY3VycmVudCkNCiAgICAgICAgICAgICAgICBpZiBkaWZmLmdldGJib3goKToNCiAg
ICAgICAgICAgICAgICAgICAgc2VsZi5zZXRfaW5kaWNhdG9yX2NvbG9yKCJncmVlbiIpDQogICAg
ICAgICAgICAgICAgICAgIHJldHVybiBUcnVlDQogICAgICAgICAgICBleGNlcHQgRXhjZXB0aW9u
Og0KICAgICAgICAgICAgICAgIHBhc3MNCiAgICAgICAgICAgIHRpbWUuc2xlZXAoaW50ZXJ2YWwp
DQogICAgICAgIHJldHVybiBGYWxzZQ0KDQogICAgZGVmIGNoZWNrX3BpeGVsX2NoYW5nZShzZWxm
KToNCiAgICAgICAgaWYgbm90IHNlbGYucGl4ZWxfZGV0ZWN0aW9uX3JlZ2lvbjoNCiAgICAgICAg
ICAgIHJldHVybiBGYWxzZSwgIuajgOa1i+WMuuWfn+acquiuvue9riINCiAgICAgICAgdHJ5Og0K
ICAgICAgICAgICAgY3VyciA9IHB5YXV0b2d1aS5zY3JlZW5zaG90KHJlZ2lvbj1zZWxmLnBpeGVs
X2RldGVjdGlvbl9yZWdpb24pDQogICAgICAgICAgICBiYXNlID0gc2VsZi5wcmV2X3BpeGVsX3Nu
YXBzaG90IG9yIHNlbGYuaW5pdGlhbF9waXhlbF9zbmFwc2hvdA0KICAgICAgICAgICAgZGlmZiA9
IEltYWdlQ2hvcHMuZGlmZmVyZW5jZShiYXNlLCBjdXJyKQ0KICAgICAgICAgICAgc2VsZi5wcmV2
X3BpeGVsX3NuYXBzaG90ID0gY3Vycg0KICAgICAgICAgICAgZGlmZl9kYXRhID0gZGlmZi5nZXRk
YXRhKCkNCiAgICAgICAgICAgIGRpZmZfcGl4ZWxzID0gc3VtKDEgZm9yIHB4IGluIGRpZmZfZGF0
YSBpZiBweCAhPSAoMCwgMCwgMCkpDQogICAgICAgICAgICB0b3RhbCA9IGN1cnIud2lkdGggKiBj
dXJyLmhlaWdodA0KICAgICAgICAgICAgcGN0ID0gZGlmZl9waXhlbHMgLyB0b3RhbCAqIDEwMA0K
ICAgICAgICAgICAgdGhyZXNob2xkID0gc2VsZi5waXhlbF9zZW5zaXRpdml0eV92YXIuZ2V0KCkN
CiAgICAgICAgICAgIGlmIHBjdCA+PSB0aHJlc2hvbGQ6DQogICAgICAgICAgICAgICAgcmV0dXJu
IFRydWUsIGYi5qOA5rWL5Yiw5YOP57Sg5Y+Y5YyWOiB7cGN0Oi4yZn0lIg0KICAgICAgICAgICAg
ZWxzZToNCiAgICAgICAgICAgICAgICByZXR1cm4gRmFsc2UsIGYi5peg5pi+6JGX5Y+Y5YyWOiB7
cGN0Oi4yZn0lIg0KICAgICAgICBleGNlcHQgRXhjZXB0aW9uIGFzIGU6DQogICAgICAgICAgICBy
ZXR1cm4gRmFsc2UsIGYi5qOA5rWL5aSx6LSlOiB7ZX0iDQoNCiAgICBkZWYgc3RhcnRfbXVsdGlf
cHJlc3N1cmVfdGVzdChzZWxmKToNCiAgICAgICAgaWYgbm90IChzZWxmLm1vZGJ1czEgYW5kIHNl
bGYubW9kYnVzMik6DQogICAgICAgICAgICBtZXNzYWdlYm94LnNob3dlcnJvcigi6ZSZ6K+vIiwg
Iuivt+WFiOi/nuaOpeWOi+WKm+S8oOaEn+WZqOWSjOi/kOWKqOaOp+WItuWZqCIpDQogICAgICAg
ICAgICByZXR1cm4NCg0KICAgICAgICBpZiBzZWxmLnNpbV9jbGlja19lbmFibGVkLmdldCgpIGFu
ZCBub3Qgc2VsZi5zaW1fY2xpY2tfcG9zOg0KICAgICAgICAgICAgbWVzc2FnZWJveC5zaG93ZXJy
b3IoIumUmeivryIsICLor7flhYjorr7nva7mqKHmi5/ngrnlh7vngrkiKQ0KICAgICAgICAgICAg
cmV0dXJuDQogICAgICAgIGlmIHNlbGYucGl4ZWxfZGV0ZWN0aW9uX2VuYWJsZWQuZ2V0KCkgYW5k
IG5vdCBzZWxmLnBpeGVsX2RldGVjdGlvbl9yZWdpb246DQogICAgICAgICAgICBtZXNzYWdlYm94
LnNob3dlcnJvcigi6ZSZ6K+vIiwgIuivt+WFiOiuvue9ruWDj+e0oOajgOa1i+WMuuWfnyIpDQog
ICAgICAgICAgICByZXR1cm4NCg0KICAgICAgICB0cnk6DQogICAgICAgICAgICBwb2ludHMgPSBb
ZmxvYXQocCkgZm9yIHAgaW4gc2VsZi5wcmVzc3VyZV9wb2ludHNfdmFyLmdldCgpLnNwbGl0KCIs
IikgaWYgcC5zdHJpcCgpXQ0KICAgICAgICAgICAgaWYgbm90IHBvaW50czoNCiAgICAgICAgICAg
ICAgICByYWlzZSBWYWx1ZUVycm9yDQogICAgICAgIGV4Y2VwdCBWYWx1ZUVycm9yOg0KICAgICAg
ICAgICAgbWVzc2FnZWJveC5zaG93ZXJyb3IoIumUmeivryIsICLljovlipvngrnmoLzlvI/plJno
r6/vvIzor7fkvb/nlKjpgJflj7fliIbpmpTmlbDlrZciKQ0KICAgICAgICAgICAgcmV0dXJuDQoN
CiAgICAgICAgdHJ5Og0KICAgICAgICAgICAgdG9sZXJhbmNlICAgICAgICAgID0gZmxvYXQoc2Vs
Zi50b2xlcmFuY2VfdmFyLmdldCgpKQ0KICAgICAgICAgICAgc3RhYmxlX3RpbWUgICAgICAgID0g
ZmxvYXQoc2VsZi5zdGFibGVfdGltZV92YXIuZ2V0KCkpDQogICAgICAgICAgICBsb29wX21vZGUg
ICAgICAgICAgPSBzZWxmLmxvb3BfbW9kZV92YXIuZ2V0KCkNCiAgICAgICAgICAgIGxvb3BfY291
bnQgICAgICAgICA9IG1heCgxLCBpbnQoc2VsZi5sb29wX2NvdW50X3Zhci5nZXQoKSkpDQogICAg
ICAgICAgICBkZXRlY3Rpb25faW50ZXJ2YWwgPSBzZWxmLmRldGVjdGlvbl9pbnRlcnZhbF92YXIu
Z2V0KCkgLyAxMDAwLjANCiAgICAgICAgICAgIHByZXNzdXJlX3N0ZXBfaW50ICA9IGZsb2F0KHNl
bGYucHJlc3N1cmVfc3RlcF9pbnRlcnZhbF92YXIuZ2V0KCkpDQogICAgICAgICAgICBwaXhlbF9z
ZW5zZSAgICAgICAgPSBmbG9hdChzZWxmLnBpeGVsX3NlbnNpdGl2aXR5X3Zhci5nZXQoKSkNCiAg
ICAgICAgICAgIHBpeGVsX3RpbWVvdXQgICAgICA9IGZsb2F0KHNlbGYucGl4ZWxfdGltZW91dF92
YXIuZ2V0KCkpDQogICAgICAgIGV4Y2VwdCBWYWx1ZUVycm9yOg0KICAgICAgICAgICAgbWVzc2Fn
ZWJveC5zaG93ZXJyb3IoIumUmeivryIsICLlj4LmlbDmoLzlvI/plJnor6/vvIzor7fnoa7orqTm
lbDlgLwiKQ0KICAgICAgICAgICAgcmV0dXJuDQoNCiAgICAgICAgaWYgbG9vcF9tb2RlID09ICLp
obrluo8iOgogICAgICAgICAgICBzZXEgPSBwb2ludHMKICAgICAgICBlbGlmIGxvb3BfbW9kZSA9
PSAi5YCS5bqPIjoKICAgICAgICAgICAgc2VxID0gbGlzdChyZXZlcnNlZChwb2ludHMpKQogICAg
ICAgIGVsc2U6CiAgICAgICAgICAgIHNlcSA9IHBvaW50cyArIGxpc3QocmV2ZXJzZWQocG9pbnRz
KSkKCiAgICAgICAgc2VsZi5fbWF5YmVfcHJvbXB0X2F1dG9fdGFyZSgpCiAgICAgICAgc2VsZi5t
dWx0aV9wcmVzc3VyZV9ydW5uaW5nID0gVHJ1ZQogICAgICAgIHRocmVhZGluZy5UaHJlYWQoCiAg
ICAgICAgICAgIHRhcmdldD1zZWxmLm11bHRpX3ByZXNzdXJlX3Rlc3RfbG9vcCwKICAgICAgICAg
ICAgYXJncz0oc2VxLCB0b2xlcmFuY2UsIHN0YWJsZV90aW1lLAogICAgICAgICAgICAgICAgICBk
ZXRlY3Rpb25faW50ZXJ2YWwsIHByZXNzdXJlX3N0ZXBfaW50LAogICAgICAgICAgICAgICAgICBw
aXhlbF9zZW5zZSwgcGl4ZWxfdGltZW91dCwgbG9vcF9jb3VudCksDQogICAgICAgICAgICBkYWVt
b249VHJ1ZQ0KICAgICAgICApLnN0YXJ0KCkNCiAgICAgICAgc2VsZi5sb2coZiLlkK/liqjlpJrl
jovlipvmtYvor5U6IHtzZXF9ICDlvqrnjq/mrKHmlbA9e2xvb3BfY291bnR9ICDliKTnqLM9e3N0
YWJsZV90aW1lfXMiKQoNCiAgICBkZWYgbXVsdGlfcHJlc3N1cmVfdGVzdF9sb29wKA0KICAgICAg
ICAgICAgc2VsZiwNCiAgICAgICAgICAgIHByZXNzdXJlX3NlcXVlbmNlLA0KICAgICAgICAgICAg
dG9sZXJhbmNlLA0KICAgICAgICAgICAgc3RhYmxlX3RpbWUsDQogICAgICAgICAgICBkZXRlY3Rp
b25faW50ZXJ2YWwsDQogICAgICAgICAgICBwcmVzc3VyZV9zdGVwX2ludGVydmFsLA0KICAgICAg
ICAgICAgcGl4ZWxfc2Vuc2l0aXZpdHksDQogICAgICAgICAgICBwaXhlbF90aW1lb3V0LA0KICAg
ICAgICAgICAgbG9vcF9jb3VudA0KICAgICk6DQogICAgICAgIG9yaV90YXJnZXQgPSBzZWxmLnRh
cmdldF9wcmVzc3VyZV92YXIuZ2V0KCkNCg0KICAgICAgICB0cnk6DQogICAgICAgICAgICBmb3Ig
cm91bmRfaWQgaW4gcmFuZ2UoMSwgbG9vcF9jb3VudCArIDEpOg0KICAgICAgICAgICAgICAgIGlm
IG5vdCBzZWxmLm11bHRpX3ByZXNzdXJlX3J1bm5pbmc6DQogICAgICAgICAgICAgICAgICAgIGJy
ZWFrDQogICAgICAgICAgICAgICAgc2VsZi5sb2coZiI9PT09PT09PSDnrKwge3JvdW5kX2lkfS97
bG9vcF9jb3VudH0g6L2uID09PT09PT09IikNCiAgICAgICAgICAgICAgICBmb3IgdGFyZ2V0IGlu
IHByZXNzdXJlX3NlcXVlbmNlOg0KICAgICAgICAgICAgICAgICAgICBpZiBub3Qgc2VsZi5tdWx0
aV9wcmVzc3VyZV9ydW5uaW5nOg0KICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWsNCg0KICAg
ICAgICAgICAgICAgICAgICBzZWxmLnRhcmdldF9wcmVzc3VyZV92YXIuc2V0KHRhcmdldCkNCiAg
ICAgICAgICAgICAgICAgICAgaWYgbm90IHNlbGYucHJlc3N1cmVfY29udHJvbF9ydW5uaW5nOg0K
ICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi5zdGFydF9wcmVzc3VyZV9jb250cm9sKCkNCg0K
ICAgICAgICAgICAgICAgICAgICBpbl9yYW5nZV90MCA9IE5vbmUNCiAgICAgICAgICAgICAgICAg
ICAgd2hpbGUgc2VsZi5tdWx0aV9wcmVzc3VyZV9ydW5uaW5nOg0KICAgICAgICAgICAgICAgICAg
ICAgICAgY3VyX3AgPSBzZWxmLnJlYWRfcHJlc3N1cmUoKQ0KICAgICAgICAgICAgICAgICAgICAg
ICAgaWYgYWJzKGN1cl9wIC0gdGFyZ2V0KSA8PSB0b2xlcmFuY2U6DQogICAgICAgICAgICAgICAg
ICAgICAgICAgICAgaWYgaW5fcmFuZ2VfdDAgaXMgTm9uZToNCiAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgaW5fcmFuZ2VfdDAgPSB0aW1lLnRpbWUoKQ0KICAgICAgICAgICAgICAgICAg
ICAgICAgICAgIGlmIHRpbWUudGltZSgpIC0gaW5fcmFuZ2VfdDAgPj0gc3RhYmxlX3RpbWU6DQog
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrDQogICAgICAgICAgICAgICAgICAg
ICAgICBlbHNlOg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGluX3JhbmdlX3QwID0gTm9u
ZQ0KICAgICAgICAgICAgICAgICAgICAgICAgdGltZS5zbGVlcCgwLjA1KQ0KDQogICAgICAgICAg
ICAgICAgICAgIGlmIG5vdCBzZWxmLm11bHRpX3ByZXNzdXJlX3J1bm5pbmc6DQogICAgICAgICAg
ICAgICAgICAgICAgICBicmVhaw0KDQogICAgICAgICAgICAgICAgICAgIHNlbGYuc3RvcF9wcmVz
c3VyZV9jb250cm9sKCkNCiAgICAgICAgICAgICAgICAgICAgdGltZS5zbGVlcCgwLjEwKQ0KDQog
ICAgICAgICAgICAgICAgICAgIGlmIHNlbGYuc2ltX2NsaWNrX2VuYWJsZWQuZ2V0KCk6DQogICAg
ICAgICAgICAgICAgICAgICAgICBzZWxmLmxvZygi5omn6KGM5qih5ouf54K55Ye74oCmIikNCiAg
ICAgICAgICAgICAgICAgICAgICAgIHNlbGYucGVyZm9ybV9zaW1fY2xpY2soKQ0KICAgICAgICAg
ICAgICAgICAgICAgICAgc2VsZi5wZXJmb3JtX3NpbV9jbGljaygpDQogICAgICAgICAgICAgICAg
ICAgICAgICB0cnk6DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi5pbml0aWFsX3Bp
eGVsX3NuYXBzaG90ID0gcHlhdXRvZ3VpLnNjcmVlbnNob3QocmVnaW9uPXNlbGYucGl4ZWxfZGV0
ZWN0aW9uX3JlZ2lvbikNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZWxmLmxvZygi5bey
5Yi35paw5Z+65YeG5b+r54WnIikNCiAgICAgICAgICAgICAgICAgICAgICAgIGV4Y2VwdCBFeGNl
cHRpb24gYXMgZToNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZWxmLmxvZyhmIuWIt+aW
sOWfuuWHhuW/q+eFp+Wksei0pToge2V9IikNCg0KICAgICAgICAgICAgICAgICAgICAgICAgc2Vs
Zi5sb2coIuWGu+e7kyA1IOenku+8jOW8gOWni+WAkuiuoeaXtuKApiIpDQogICAgICAgICAgICAg
ICAgICAgICAgICBmb3IgcmVtYWluaW5nIGluIHJhbmdlKDUsIDAsIC0xKToNCiAgICAgICAgICAg
ICAgICAgICAgICAgICAgICBzZWxmLmxvZyhmIuWAkuiuoeaXtu+8mntyZW1haW5pbmd9IHMiKQ0K
ICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRpbWUuc2xlZXAoMSkNCiAgICAgICAgICAgICAg
ICAgICAgICAgIHNlbGYubG9nKCLlgJLorqHml7bnu5PmnZ/vvIzlvIDlp4vlg4/ntKDmo4DmtYvi
gKYiKQ0KDQogICAgICAgICAgICAgICAgICAgIGlmIHNlbGYucGl4ZWxfZGV0ZWN0aW9uX2VuYWJs
ZWQuZ2V0KCk6DQogICAgICAgICAgICAgICAgICAgICAgICBzZWxmLmxvZyhmIuW8gOWni+WDj+e0
oOajgOa1iyAo6LaF5pe2IHtwaXhlbF90aW1lb3V0fXPvvIzpl7TpmpQge2RldGVjdGlvbl9pbnRl
cnZhbH1zKeKApiIpDQogICAgICAgICAgICAgICAgICAgICAgICBkZXRlY3RlZCA9IHNlbGYud2Fp
dF9mb3JfcGl4ZWxfY2hhbmdlKHBpeGVsX3RpbWVvdXQsIGRldGVjdGlvbl9pbnRlcnZhbCkNCiAg
ICAgICAgICAgICAgICAgICAgICAgIGlmIGRldGVjdGVkOg0KICAgICAgICAgICAgICAgICAgICAg
ICAgICAgIHNlbGYubG9nKGYi4pyFIHt0YXJnZXR9Z++8muajgOa1i+WIsOWDj+e0oOWPmOWMlu+8
jOe7p+e7reS4i+S4gOatpSIpDQogICAgICAgICAgICAgICAgICAgICAgICBlbHNlOg0KICAgICAg
ICAgICAgICAgICAgICAgICAgICAgIHNlbGYubG9nKGYi4pqg77iPIHt0YXJnZXR9Z++8muWDj+e0
oOajgOa1i+i2heaXtu+8jOi3s+i/h+W9k+WJjeWOi+WKm+eCuSIpDQogICAgICAgICAgICAgICAg
ICAgIGVsc2U6DQogICAgICAgICAgICAgICAgICAgICAgICB0aW1lLnNsZWVwKHByZXNzdXJlX3N0
ZXBfaW50ZXJ2YWwpDQoNCiAgICAgICAgICAgICAgICAgICAgc2VsZi5sb2coZiLinJMge3Rhcmdl
dH0gZyDlrozmiJAiKQ0KDQogICAgICAgICAgICAgICAgICAgIHNlbGYubG9nKCLlhrfljbQgNSDn
p5LvvIzlvIDlp4vlgJLorqHml7bigKYiKQ0KICAgICAgICAgICAgICAgICAgICBmb3IgcmVtYWlu
aW5nIGluIHJhbmdlKDUsIDAsIC0xKToNCiAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYubG9n
KGYi5YCS6K6h5pe277yae3JlbWFpbmluZ30gcyIpDQogICAgICAgICAgICAgICAgICAgICAgICB0
aW1lLnNsZWVwKDEpDQogICAgICAgICAgICAgICAgICAgIHNlbGYubG9nKCLlhrfljbTnu5PmnZ/v
vIzliY3lvoDkuIvkuIDkuKrljovlipvngrnigKYiKQ0KDQogICAgICAgICAgICBzZWxmLmxvZygi
5aSa5Y6L5Yqb5rWL6K+V5a6M5oiQIikNCiAgICAgICAgZXhjZXB0IEV4Y2VwdGlvbiBhcyBlOg0K
ICAgICAgICAgICAgc2VsZi5sb2coZiLlpJrljovlipvmtYvor5XlvILluLg6IHtlfSIpDQogICAg
ICAgIGZpbmFsbHk6DQogICAgICAgICAgICBzZWxmLnRhcmdldF9wcmVzc3VyZV92YXIuc2V0KG9y
aV90YXJnZXQpDQogICAgICAgICAgICBzZWxmLm11bHRpX3ByZXNzdXJlX3J1bm5pbmcgPSBGYWxz
ZQ0KDQogICAgZGVmIHByZWNpc2VfcHJlc3N1cmVfY29udHJvbChzZWxmLCB0YXJnZXQsIHRvbGVy
YW5jZSwgdGltZW91dD02MC4wKToNCiAgICAgICAgc2VsZi5sb2coZiLlvIDlp4vnsr7lh4bmjqfl
iLbljovlipvliLA6IHt0YXJnZXR9ZyIpDQogICAgICAgIHN0YXJ0X3RpbWUgPSB0aW1lLnRpbWUo
KQ0KICAgICAgICBkaXJlY3Rpb25fY2hhbmdlZCA9IEZhbHNlDQogICAgICAgIHNlbGYuZGlyZWN0
aW9uLnNldCgi5LiLIikNCg0KICAgICAgICBzZWxmLnNwZWVkX2VudHJ5LmRlbGV0ZSgwLCB0ay5F
TkQpOyBzZWxmLnNwZWVkX2VudHJ5Lmluc2VydCgwLCBzdHIoc2VsZi5oaWdoX3NwZWVkKSkNCiAg
ICAgICAgc2VsZi5kaXN0YW5jZV9lbnRyeS5kZWxldGUoMCwgdGsuRU5EKTsgc2VsZi5kaXN0YW5j
ZV9lbnRyeS5pbnNlcnQoMCwgIjIwLjAiKQ0KICAgICAgICBzZWxmLnNldF9wYXJhbWV0ZXJzKCk7
IHNlbGYuc3RhcnRfbWFjaGluZSgpDQoNCiAgICAgICAgd2hpbGUgc2VsZi5tdWx0aV9wcmVzc3Vy
ZV9ydW5uaW5nOg0KICAgICAgICAgICAgaWYgdGltZS50aW1lKCkgLSBzdGFydF90aW1lID4gdGlt
ZW91dDoNCiAgICAgICAgICAgICAgICBzZWxmLmxvZyhmIuWOi+WKm+aOp+WItui2heaXtiAoe3Rp
bWVvdXR9cynvvIznu4jmraLmjqfliLYiKQ0KICAgICAgICAgICAgICAgIHNlbGYuc3RvcF9tb3Rp
b24oKQ0KICAgICAgICAgICAgICAgIHJldHVybiBGYWxzZQ0KDQogICAgICAgICAgICBjdXJyZW50
X3ByZXNzdXJlID0gc2VsZi5yZWFkX3ByZXNzdXJlKCkNCiAgICAgICAgICAgIGRpZmYgPSB0YXJn
ZXQgLSBjdXJyZW50X3ByZXNzdXJlDQogICAgICAgICAgICBpZiBkaWZmIDwgMTAwOg0KICAgICAg
ICAgICAgICAgIGJyZWFrDQogICAgICAgICAgICBpZiBjdXJyZW50X3ByZXNzdXJlID4gdGFyZ2V0
ICsgdG9sZXJhbmNlOg0KICAgICAgICAgICAgICAgIHNlbGYuZGlyZWN0aW9uLnNldCgi5LiKIikN
CiAgICAgICAgICAgICAgICBzZWxmLnNwZWVkX2VudHJ5LmRlbGV0ZSgwLCB0ay5FTkQpOyBzZWxm
LnNwZWVkX2VudHJ5Lmluc2VydCgwLCBzdHIoc2VsZi5oaWdoX3NwZWVkKSkNCiAgICAgICAgICAg
ICAgICBzZWxmLnNldF9wYXJhbWV0ZXJzKCk7IHNlbGYuc3RhcnRfbWFjaGluZSgpDQogICAgICAg
ICAgICAgICAgZGlyZWN0aW9uX2NoYW5nZWQgPSBUcnVlDQogICAgICAgICAgICAgICAgc2VsZi5s
b2coIuWOi+WKm+i2hei/h+ebruagh+WAvO+8jOWIh+aNouS4uuS4iuenuyIpDQogICAgICAgICAg
ICB0aW1lLnNsZWVwKDAuMSkNCg0KICAgICAgICBzZWxmLnNwZWVkX2VudHJ5LmRlbGV0ZSgwLCB0
ay5FTkQpOyBzZWxmLnNwZWVkX2VudHJ5Lmluc2VydCgwLCBzdHIoc2VsZi5sb3dfc3BlZWQpKQ0K
ICAgICAgICBzZWxmLnNldF9wYXJhbWV0ZXJzKCkNCg0KICAgICAgICB3aGlsZSBzZWxmLm11bHRp
X3ByZXNzdXJlX3J1bm5pbmc6DQogICAgICAgICAgICBpZiB0aW1lLnRpbWUoKSAtIHN0YXJ0X3Rp
bWUgPiB0aW1lb3V0Og0KICAgICAgICAgICAgICAgIHNlbGYubG9nKGYi5Y6L5Yqb5o6n5Yi26LaF
5pe2ICh7dGltZW91dH1zKe+8jOe7iOatouaOp+WItiIpDQogICAgICAgICAgICAgICAgc2VsZi5z
dG9wX21vdGlvbigpDQogICAgICAgICAgICAgICAgcmV0dXJuIEZhbHNlDQoNCiAgICAgICAgICAg
IGN1cnJlbnRfcHJlc3N1cmUgPSBzZWxmLnJlYWRfcHJlc3N1cmUoKQ0KICAgICAgICAgICAgaWYg
YWJzKGN1cnJlbnRfcHJlc3N1cmUgLSB0YXJnZXQpIDw9IHRvbGVyYW5jZToNCiAgICAgICAgICAg
ICAgICBzZWxmLnN0b3BfbW90aW9uKCkNCiAgICAgICAgICAgICAgICBzZWxmLmxvZyhmIuWOi+WK
m+i+vuagh+W5tuWBnOatou+8jOW9k+WJjeWOi+WKmzoge2N1cnJlbnRfcHJlc3N1cmU6LjFmfWci
KQ0KICAgICAgICAgICAgICAgIHJldHVybiBUcnVlDQoNCiAgICAgICAgICAgIGlmIGN1cnJlbnRf
cHJlc3N1cmUgPCB0YXJnZXQ6DQogICAgICAgICAgICAgICAgaWYgc2VsZi5kaXJlY3Rpb24uZ2V0
KCkgIT0gIuS4iyIgb3IgZGlyZWN0aW9uX2NoYW5nZWQ6DQogICAgICAgICAgICAgICAgICAgIHNl
bGYuZGlyZWN0aW9uLnNldCgi5LiLIikNCiAgICAgICAgICAgICAgICAgICAgc2VsZi5zcGVlZF9l
bnRyeS5kZWxldGUoMCwgdGsuRU5EKTsgc2VsZi5zcGVlZF9lbnRyeS5pbnNlcnQoMCwgc3RyKHNl
bGYubG93X3NwZWVkKSkNCiAgICAgICAgICAgICAgICAgICAgc2VsZi5zZXRfcGFyYW1ldGVycygp
DQogICAgICAgICAgICAgICAgICAgIGRpcmVjdGlvbl9jaGFuZ2VkID0gVHJ1ZQ0KICAgICAgICAg
ICAgICAgIHNlbGYuc3RhcnRfbWFjaGluZSgpDQogICAgICAgICAgICBlbHNlOg0KICAgICAgICAg
ICAgICAgIGlmIHNlbGYuZGlyZWN0aW9uLmdldCgpICE9ICLkuIoiIG9yIGRpcmVjdGlvbl9jaGFu
Z2VkOg0KICAgICAgICAgICAgICAgICAgICBzZWxmLmRpcmVjdGlvbi5zZXQoIuS4iiIpDQogICAg
ICAgICAgICAgICAgICAgIHNlbGYuc3BlZWRfZW50cnkuZGVsZXRlKDAsIHRrLkVORCk7IHNlbGYu
c3BlZWRfZW50cnkuaW5zZXJ0KDAsIHN0cihzZWxmLmxvd19zcGVlZCkpDQogICAgICAgICAgICAg
ICAgICAgIHNlbGYuc2V0X3BhcmFtZXRlcnMoKQ0KICAgICAgICAgICAgICAgICAgICBkaXJlY3Rp
b25fY2hhbmdlZCA9IFRydWUNCiAgICAgICAgICAgICAgICBzZWxmLnN0YXJ0X21hY2hpbmUoKQ0K
ICAgICAgICAgICAgdGltZS5zbGVlcCgwLjEpDQogICAgICAgIHJldHVybiBGYWxzZQ0KDQogICAg
ZGVmIGNvbm5lY3Rfc2Vuc29yKHNlbGYsIHBvcnQ6IHN0ciwgYmF1ZHJhdGU6IGludCwgc3VwcHJl
c3NfZXJyb3I6IGJvb2wgPSBGYWxzZSkgLT4gYm9vbDoNCiAgICAgICAgaWYgbm90IHBvcnQ6DQog
ICAgICAgICAgICBpZiBub3Qgc3VwcHJlc3NfZXJyb3I6DQogICAgICAgICAgICAgICAgbWVzc2Fn
ZWJveC5zaG93ZXJyb3IoIumUmeivryIsICLor7fpgInmi6nljovlipvkvKDmhJ/lmajnmoTkuLLl
j6MiKQ0KICAgICAgICAgICAgcmV0dXJuIEZhbHNlDQoNCiAgICAgICAgdHJ5Og0KICAgICAgICAg
ICAgbW9kYnVzID0gTW9kYnVzQ29udHJvbGxlcihwb3J0LCBiYXVkcmF0ZSwgc2xhdmVfaWQ9MSkN
CiAgICAgICAgZXhjZXB0IEV4Y2VwdGlvbiBhcyBlOg0KICAgICAgICAgICAgc2VsZi5sb2coZiLo
v57mjqXljovlipvkvKDmhJ/lmajlpLHotKU6IHtlfSIpDQogICAgICAgICAgICBzZWxmLmNvbm5l
Y3Rpb25fc3RhdHVzX3ZhcjEuc2V0KCLmnKrov57mjqUiKQ0KICAgICAgICAgICAgaWYgbm90IHN1
cHByZXNzX2Vycm9yOg0KICAgICAgICAgICAgICAgIG1lc3NhZ2Vib3guc2hvd2Vycm9yKCLplJno
r68iLCBzdHIoZSkpDQogICAgICAgICAgICByZXR1cm4gRmFsc2UNCg0KICAgICAgICBpZiBzZWxm
Lm1vZGJ1czE6DQogICAgICAgICAgICB0cnk6DQogICAgICAgICAgICAgICAgc2VsZi5tb2RidXMx
LmNsb3NlKCkNCiAgICAgICAgICAgIGV4Y2VwdCBFeGNlcHRpb246DQogICAgICAgICAgICAgICAg
cGFzcw0KDQogICAgICAgIHNlbGYubW9kYnVzMSA9IG1vZGJ1cw0KICAgICAgICBpZiBoYXNhdHRy
KHNlbGYsICdwb3J0X2NiMScpOg0KICAgICAgICAgICAgc2VsZi5wb3J0X2NiMS5zZXQocG9ydCkN
CiAgICAgICAgaWYgaGFzYXR0cihzZWxmLCAnYmF1ZF9lbnRyeTEnKToNCiAgICAgICAgICAgIHNl
bGYuYmF1ZF9lbnRyeTEuZGVsZXRlKDAsIHRrLkVORCkNCiAgICAgICAgICAgIHNlbGYuYmF1ZF9l
bnRyeTEuaW5zZXJ0KDAsIHN0cihiYXVkcmF0ZSkpDQogICAgICAgIHNlbGYubG9nKGYi6L+e5o6l
5Yiw5Y6L5Yqb5Lyg5oSf5ZmoOiB7cG9ydH0gQCB7YmF1ZHJhdGV9IGJwcyIpDQogICAgICAgIHNl
bGYuY29ubmVjdGlvbl9zdGF0dXNfdmFyMS5zZXQoIuW3sui/nuaOpSIpDQogICAgICAgIGlmIGhh
c2F0dHIoc2VsZiwgJ3NlbnNvcl9idG4nKToNCiAgICAgICAgICAgIHNlbGYuc2Vuc29yX2J0bi5j
b25maWcodGV4dD0i5pat5byAIiwgYm9vdHN0eWxlPSJkYW5nZXIiKQ0KICAgICAgICBzZWxmLnNl
bnNvcl9jb25uZWN0ZWQgPSBUcnVlDQoNCiAgICAgICAgaWYgaXNpbnN0YW5jZShzZWxmLmxvYWRl
ZF9jb25maWcsIGRpY3QpOg0KICAgICAgICAgICAgc2VsZi5sb2FkZWRfY29uZmlnWydzZXJpYWxf
cG9ydDEnXSA9IHBvcnQNCiAgICAgICAgICAgIHNlbGYubG9hZGVkX2NvbmZpZ1snYmF1ZF9yYXRl
MSddID0gc3RyKGJhdWRyYXRlKQ0KDQogICAgICAgIGlmIG5vdCBoYXNhdHRyKHNlbGYsICdwcmVz
c3VyZV90aHJlYWQnKSBvciBub3Qgc2VsZi5wcmVzc3VyZV90aHJlYWQgb3Igbm90IHNlbGYucHJl
c3N1cmVfdGhyZWFkLmlzX2FsaXZlKCk6DQogICAgICAgICAgICBzZWxmLnByZXNzdXJlX3RocmVh
ZF9ydW5uaW5nID0gVHJ1ZQ0KICAgICAgICAgICAgc2VsZi5wcmVzc3VyZV90aHJlYWQgPSB0aHJl
YWRpbmcuVGhyZWFkKHRhcmdldD1zZWxmLnBvbGxfcHJlc3N1cmVfZGF0YSwgZGFlbW9uPVRydWUp
DQogICAgICAgICAgICBzZWxmLnByZXNzdXJlX3RocmVhZC5zdGFydCgpDQoNCiAgICAgICAgaWYg
c2VsZi5jb250cm9sbGVyX2Nvbm5lY3RlZCBhbmQgKG5vdCBoYXNhdHRyKHNlbGYsICdwb3NpdGlv
bl90aHJlYWQnKSBvciBub3Qgc2VsZi5wb3NpdGlvbl90aHJlYWQgb3Igbm90IHNlbGYucG9zaXRp
b25fdGhyZWFkLmlzX2FsaXZlKCkpOg0KICAgICAgICAgICAgc2VsZi5wb3NpdGlvbl90aHJlYWRf
cnVubmluZyA9IFRydWUNCiAgICAgICAgICAgIHNlbGYucG9zaXRpb25fdGhyZWFkID0gdGhyZWFk
aW5nLlRocmVhZCh0YXJnZXQ9c2VsZi5wb2xsX3Bvc2l0aW9uX2RhdGEsIGRhZW1vbj1UcnVlKQ0K
ICAgICAgICAgICAgc2VsZi5wb3NpdGlvbl90aHJlYWQuc3RhcnQoKQ0KDQogICAgICAgIHNlbGYu
X3JlZnJlc2hfY29ubmVjdGlvbl9kZXBlbmRlbnRfY29udHJvbHMoKQ0KICAgICAgICByZXR1cm4g
VHJ1ZQ0KDQogICAgZGVmIGRpc2Nvbm5lY3Rfc2Vuc29yKHNlbGYpOg0KICAgICAgICBzZWxmLnBy
ZXNzdXJlX3RocmVhZF9ydW5uaW5nID0gRmFsc2UNCiAgICAgICAgaWYgc2VsZi5tb2RidXMxOg0K
ICAgICAgICAgICAgdHJ5Og0KICAgICAgICAgICAgICAgIHNlbGYubW9kYnVzMS5jbG9zZSgpDQog
ICAgICAgICAgICBleGNlcHQgRXhjZXB0aW9uOg0KICAgICAgICAgICAgICAgIHBhc3MNCiAgICAg
ICAgICAgIHNlbGYubW9kYnVzMSA9IE5vbmUNCiAgICAgICAgc2VsZi5sb2coIuWOi+WKm+S8oOaE
n+WZqOW3suaWreW8gCIpDQogICAgICAgIHNlbGYuY29ubmVjdGlvbl9zdGF0dXNfdmFyMS5zZXQo
Iuacqui/nuaOpSIpDQogICAgICAgIGlmIGhhc2F0dHIoc2VsZiwgJ3NlbnNvcl9idG4nKToNCiAg
ICAgICAgICAgIHNlbGYuc2Vuc29yX2J0bi5jb25maWcodGV4dD0i6L+e5o6lIiwgYm9vdHN0eWxl
PSJvdXRsaW5lLXN1Y2Nlc3MiKQ0KICAgICAgICBzZWxmLnNlbnNvcl9jb25uZWN0ZWQgPSBGYWxz
ZQ0KICAgICAgICBzZWxmLl9yZWZyZXNoX2Nvbm5lY3Rpb25fZGVwZW5kZW50X2NvbnRyb2xzKCkN
Cg0KICAgIGRlZiBjb25uZWN0X2NvbnRyb2xsZXIoc2VsZiwgcG9ydDogc3RyLCBiYXVkcmF0ZTog
aW50LCBzdXBwcmVzc19lcnJvcjogYm9vbCA9IEZhbHNlKSAtPiBib29sOg0KICAgICAgICBpZiBu
b3QgcG9ydDoNCiAgICAgICAgICAgIGlmIG5vdCBzdXBwcmVzc19lcnJvcjoNCiAgICAgICAgICAg
ICAgICBtZXNzYWdlYm94LnNob3dlcnJvcigi6ZSZ6K+vIiwgIuivt+mAieaLqei/kOWKqOaOp+WI
tuWZqOeahOS4suWPoyIpDQogICAgICAgICAgICByZXR1cm4gRmFsc2UNCg0KICAgICAgICB0cnk6
DQogICAgICAgICAgICBtb2RidXMgPSBNb2RidXNDb250cm9sbGVyKHBvcnQsIGJhdWRyYXRlLCBz
bGF2ZV9pZD0xKQ0KICAgICAgICBleGNlcHQgRXhjZXB0aW9uIGFzIGU6DQogICAgICAgICAgICBz
ZWxmLmxvZyhmIui/nuaOpei/kOWKqOaOp+WItuWZqOWksei0pToge2V9IikNCiAgICAgICAgICAg
IHNlbGYuY29ubmVjdGlvbl9zdGF0dXNfdmFyMi5zZXQoIuacqui/nuaOpSIpDQogICAgICAgICAg
ICBpZiBub3Qgc3VwcHJlc3NfZXJyb3I6DQogICAgICAgICAgICAgICAgbWVzc2FnZWJveC5zaG93
ZXJyb3IoIumUmeivryIsIHN0cihlKSkNCiAgICAgICAgICAgIHJldHVybiBGYWxzZQ0KDQogICAg
ICAgIGlmIHNlbGYubW9kYnVzMjoNCiAgICAgICAgICAgIHRyeToNCiAgICAgICAgICAgICAgICBz
ZWxmLm1vZGJ1czIuY2xvc2UoKQ0KICAgICAgICAgICAgZXhjZXB0IEV4Y2VwdGlvbjoNCiAgICAg
ICAgICAgICAgICBwYXNzDQoNCiAgICAgICAgc2VsZi5tb2RidXMyID0gbW9kYnVzDQogICAgICAg
IGlmIGhhc2F0dHIoc2VsZiwgJ3BvcnRfY2IyJyk6DQogICAgICAgICAgICBzZWxmLnBvcnRfY2Iy
LnNldChwb3J0KQ0KICAgICAgICBpZiBoYXNhdHRyKHNlbGYsICdiYXVkX2VudHJ5MicpOg0KICAg
ICAgICAgICAgc2VsZi5iYXVkX2VudHJ5Mi5kZWxldGUoMCwgdGsuRU5EKQ0KICAgICAgICAgICAg
c2VsZi5iYXVkX2VudHJ5Mi5pbnNlcnQoMCwgc3RyKGJhdWRyYXRlKSkNCiAgICAgICAgc2VsZi5s
b2coZiLov57mjqXliLDov5DliqjmjqfliLblmag6IHtwb3J0fSBAIHtiYXVkcmF0ZX0gYnBzIikN
CiAgICAgICAgc2VsZi5jb25uZWN0aW9uX3N0YXR1c192YXIyLnNldCgi5bey6L+e5o6lIikNCiAg
ICAgICAgaWYgaGFzYXR0cihzZWxmLCAnY29udHJvbGxlcl9idG4nKToNCiAgICAgICAgICAgIHNl
bGYuY29udHJvbGxlcl9idG4uY29uZmlnKHRleHQ9IuaWreW8gCIsIGJvb3RzdHlsZT0iZGFuZ2Vy
IikNCiAgICAgICAgc2VsZi5jb250cm9sbGVyX2Nvbm5lY3RlZCA9IFRydWUNCg0KICAgICAgICBp
ZiBpc2luc3RhbmNlKHNlbGYubG9hZGVkX2NvbmZpZywgZGljdCk6DQogICAgICAgICAgICBzZWxm
LmxvYWRlZF9jb25maWdbJ3NlcmlhbF9wb3J0MiddID0gcG9ydA0KICAgICAgICAgICAgc2VsZi5s
b2FkZWRfY29uZmlnWydiYXVkX3JhdGUyJ10gPSBzdHIoYmF1ZHJhdGUpDQoNCiAgICAgICAgaWYg
bm90IGhhc2F0dHIoc2VsZiwgJ3Bvc2l0aW9uX3RocmVhZCcpIG9yIG5vdCBzZWxmLnBvc2l0aW9u
X3RocmVhZCBvciBub3Qgc2VsZi5wb3NpdGlvbl90aHJlYWQuaXNfYWxpdmUoKToNCiAgICAgICAg
ICAgIHNlbGYucG9zaXRpb25fdGhyZWFkX3J1bm5pbmcgPSBUcnVlDQogICAgICAgICAgICBzZWxm
LnBvc2l0aW9uX3RocmVhZCA9IHRocmVhZGluZy5UaHJlYWQodGFyZ2V0PXNlbGYucG9sbF9wb3Np
dGlvbl9kYXRhLCBkYWVtb249VHJ1ZSkNCiAgICAgICAgICAgIHNlbGYucG9zaXRpb25fdGhyZWFk
LnN0YXJ0KCkNCg0KICAgICAgICBpZiBzZWxmLnNlbnNvcl9jb25uZWN0ZWQgYW5kIChub3QgaGFz
YXR0cihzZWxmLCAncHJlc3N1cmVfdGhyZWFkJykgb3Igbm90IHNlbGYucHJlc3N1cmVfdGhyZWFk
IG9yIG5vdCBzZWxmLnByZXNzdXJlX3RocmVhZC5pc19hbGl2ZSgpKToNCiAgICAgICAgICAgIHNl
bGYucHJlc3N1cmVfdGhyZWFkX3J1bm5pbmcgPSBUcnVlDQogICAgICAgICAgICBzZWxmLnByZXNz
dXJlX3RocmVhZCA9IHRocmVhZGluZy5UaHJlYWQodGFyZ2V0PXNlbGYucG9sbF9wcmVzc3VyZV9k
YXRhLCBkYWVtb249VHJ1ZSkNCiAgICAgICAgICAgIHNlbGYucHJlc3N1cmVfdGhyZWFkLnN0YXJ0
KCkNCg0KICAgICAgICBzZWxmLl9yZWZyZXNoX2Nvbm5lY3Rpb25fZGVwZW5kZW50X2NvbnRyb2xz
KCkNCiAgICAgICAgcmV0dXJuIFRydWUNCg0KICAgIGRlZiBkaXNjb25uZWN0X2NvbnRyb2xsZXIo
c2VsZik6DQogICAgICAgIHNlbGYucG9zaXRpb25fdGhyZWFkX3J1bm5pbmcgPSBGYWxzZQ0KICAg
ICAgICBpZiBzZWxmLm1vZGJ1czI6DQogICAgICAgICAgICB0cnk6DQogICAgICAgICAgICAgICAg
c2VsZi5tb2RidXMyLmNsb3NlKCkNCiAgICAgICAgICAgIGV4Y2VwdCBFeGNlcHRpb246DQogICAg
ICAgICAgICAgICAgcGFzcw0KICAgICAgICAgICAgc2VsZi5tb2RidXMyID0gTm9uZQ0KICAgICAg
ICBzZWxmLmxvZygi6L+Q5Yqo5o6n5Yi25Zmo5bey5pat5byAIikNCiAgICAgICAgc2VsZi5jb25u
ZWN0aW9uX3N0YXR1c192YXIyLnNldCgi5pyq6L+e5o6lIikNCiAgICAgICAgaWYgaGFzYXR0cihz
ZWxmLCAnY29udHJvbGxlcl9idG4nKToNCiAgICAgICAgICAgIHNlbGYuY29udHJvbGxlcl9idG4u
Y29uZmlnKHRleHQ9Iui/nuaOpSIsIGJvb3RzdHlsZT0ib3V0bGluZS1zdWNjZXNzIikNCiAgICAg
ICAgc2VsZi5jb250cm9sbGVyX2Nvbm5lY3RlZCA9IEZhbHNlDQogICAgICAgIHNlbGYuX3JlZnJl
c2hfY29ubmVjdGlvbl9kZXBlbmRlbnRfY29udHJvbHMoKQ0KDQogICAgZGVmIHRvZ2dsZV9zZW5z
b3JfY29ubmVjdGlvbihzZWxmKToNCiAgICAgICAgaWYgbm90IGhhc2F0dHIoc2VsZiwgJ3BvcnRf
Y2IxJyk6DQogICAgICAgICAgICByZXR1cm4NCg0KICAgICAgICB0cnk6DQogICAgICAgICAgICBi
YXVkcmF0ZSA9IGludChzZWxmLmJhdWRfZW50cnkxLmdldCgpKQ0KICAgICAgICBleGNlcHQgVmFs
dWVFcnJvcjoNCiAgICAgICAgICAgIG1lc3NhZ2Vib3guc2hvd2Vycm9yKCLplJnor68iLCAi5Y6L
5Yqb5Lyg5oSf5Zmo5rOi54m5546H5b+F6aG75Li65pWw5a2XIikNCiAgICAgICAgICAgIHJldHVy
bg0KDQogICAgICAgIGlmIG5vdCBzZWxmLnNlbnNvcl9jb25uZWN0ZWQ6DQogICAgICAgICAgICBw
b3J0ID0gc2VsZi5wb3J0X2NiMS5nZXQoKQ0KICAgICAgICAgICAgc2VsZi5jb25uZWN0X3NlbnNv
cihwb3J0LCBiYXVkcmF0ZSwgc3VwcHJlc3NfZXJyb3I9RmFsc2UpDQogICAgICAgIGVsc2U6DQog
ICAgICAgICAgICBzZWxmLmRpc2Nvbm5lY3Rfc2Vuc29yKCkNCg0KICAgIGRlZiB0b2dnbGVfY29u
dHJvbGxlcl9jb25uZWN0aW9uKHNlbGYpOg0KICAgICAgICBpZiBub3QgaGFzYXR0cihzZWxmLCAn
cG9ydF9jYjInKToNCiAgICAgICAgICAgIHJldHVybg0KDQogICAgICAgIHRyeToNCiAgICAgICAg
ICAgIGJhdWRyYXRlID0gaW50KHNlbGYuYmF1ZF9lbnRyeTIuZ2V0KCkpDQogICAgICAgIGV4Y2Vw
dCBWYWx1ZUVycm9yOg0KICAgICAgICAgICAgbWVzc2FnZWJveC5zaG93ZXJyb3IoIumUmeivryIs
ICLov5DliqjmjqfliLblmajms6Lnibnnjoflv4XpobvkuLrmlbDlrZciKQ0KICAgICAgICAgICAg
cmV0dXJuDQoNCiAgICAgICAgaWYgbm90IHNlbGYuY29udHJvbGxlcl9jb25uZWN0ZWQ6DQogICAg
ICAgICAgICBwb3J0ID0gc2VsZi5wb3J0X2NiMi5nZXQoKQ0KICAgICAgICAgICAgc2VsZi5jb25u
ZWN0X2NvbnRyb2xsZXIocG9ydCwgYmF1ZHJhdGUsIHN1cHByZXNzX2Vycm9yPUZhbHNlKQ0KICAg
ICAgICBlbHNlOg0KICAgICAgICAgICAgc2VsZi5kaXNjb25uZWN0X2NvbnRyb2xsZXIoKQ0KDQog
ICAgZGVmIHNob3dfc2VyaWFsX3NldHRpbmdzKHNlbGYpOg0KICAgICAgICBkaWFsb2cgPSB0dGsu
VG9wbGV2ZWwoc2VsZikNCiAgICAgICAgZGlhbG9nLnRpdGxlKCLkuLLlj6Porr7nva4iKQ0KICAg
ICAgICBkaWFsb2cuZ2VvbWV0cnkoIjQwMHgzMDAiKQ0KICAgICAgICBkaWFsb2cudHJhbnNpZW50
KHNlbGYpDQogICAgICAgIGRpYWxvZy5ncmFiX3NldCgpDQoNCiAgICAgICAgZnJhbWUgPSB0dGsu
RnJhbWUoZGlhbG9nLCBwYWRkaW5nPTEwKQ0KICAgICAgICBmcmFtZS5wYWNrKGZpbGw9dGsuQk9U
SCwgZXhwYW5kPVRydWUpDQoNCiAgICAgICAgdHRrLkxhYmVsKGZyYW1lLCB0ZXh0PSLljovlipvk
vKDmhJ/lmajnq6/lj6M6IikuZ3JpZChyb3c9MCwgY29sdW1uPTAsIHBhZHg9NSwgcGFkeT01LCBz
dGlja3k9InciKQ0KICAgICAgICBwb3J0X2NiMSA9IHR0ay5Db21ib2JveChmcmFtZSwgd2lkdGg9
MTUpDQogICAgICAgIHBvcnRfY2IxLmdyaWQocm93PTAsIGNvbHVtbj0xLCBwYWR4PTUsIHBhZHk9
NSkNCiAgICAgICAgcG9ydF9jYjFbJ3ZhbHVlcyddID0gW3BvcnQuZGV2aWNlIGZvciBwb3J0IGlu
IHNlcmlhbC50b29scy5saXN0X3BvcnRzLmNvbXBvcnRzKCldDQogICAgICAgIHBvcnRfY2IxLnNl
dChzZWxmLnBvcnRfY2IxLmdldCgpIGlmIGhhc2F0dHIoc2VsZiwgJ3BvcnRfY2IxJykgZWxzZSAi
Q09NMyIpDQogICAgICAgIHNlbGYuX2Rpc2FibGVfbW91c2Vfd2hlZWwocG9ydF9jYjEpDQoNCiAg
ICAgICAgdHRrLkxhYmVsKGZyYW1lLCB0ZXh0PSLms6Lnibnnjoc6IikuZ3JpZChyb3c9MSwgY29s
dW1uPTAsIHBhZHg9NSwgcGFkeT01LCBzdGlja3k9InciKQ0KICAgICAgICBiYXVkX2VudHJ5MSA9
IHR0ay5FbnRyeShmcmFtZSwgd2lkdGg9OCkNCiAgICAgICAgYmF1ZF9lbnRyeTEuZ3JpZChyb3c9
MSwgY29sdW1uPTEsIHBhZHg9NSwgcGFkeT01KQ0KICAgICAgICBiYXVkX2VudHJ5MS5pbnNlcnQo
MCwgc2VsZi5iYXVkX2VudHJ5MS5nZXQoKSBpZiBoYXNhdHRyKHNlbGYsICdiYXVkX2VudHJ5MScp
IGVsc2UgIjk2MDAiKQ0KICAgICAgICBzZWxmLl9kaXNhYmxlX21vdXNlX3doZWVsKGJhdWRfZW50
cnkxKQ0KDQogICAgICAgIHR0ay5MYWJlbChmcmFtZSwgdGV4dD0i6L+Q5Yqo5o6n5Yi25Zmo56uv
5Y+jOiIpLmdyaWQocm93PTIsIGNvbHVtbj0wLCBwYWR4PTUsIHBhZHk9NSwgc3RpY2t5PSJ3IikN
CiAgICAgICAgcG9ydF9jYjIgPSB0dGsuQ29tYm9ib3goZnJhbWUsIHdpZHRoPTE1KQ0KICAgICAg
ICBwb3J0X2NiMi5ncmlkKHJvdz0yLCBjb2x1bW49MSwgcGFkeD01LCBwYWR5PTUpDQogICAgICAg
IHBvcnRfY2IyWyd2YWx1ZXMnXSA9IFtwb3J0LmRldmljZSBmb3IgcG9ydCBpbiBzZXJpYWwudG9v
bHMubGlzdF9wb3J0cy5jb21wb3J0cygpXQ0KICAgICAgICBwb3J0X2NiMi5zZXQoc2VsZi5wb3J0
X2NiMi5nZXQoKSBpZiBoYXNhdHRyKHNlbGYsICdwb3J0X2NiMicpIGVsc2UgIkNPTTI0IikNCiAg
ICAgICAgc2VsZi5fZGlzYWJsZV9tb3VzZV93aGVlbChwb3J0X2NiMikNCg0KICAgICAgICB0dGsu
TGFiZWwoZnJhbWUsIHRleHQ9IuazoueJueeOhzoiKS5ncmlkKHJvdz0zLCBjb2x1bW49MCwgcGFk
eD01LCBwYWR5PTUsIHN0aWNreT0idyIpDQogICAgICAgIGJhdWRfZW50cnkyID0gdHRrLkVudHJ5
KGZyYW1lLCB3aWR0aD04KQ0KICAgICAgICBiYXVkX2VudHJ5Mi5ncmlkKHJvdz0zLCBjb2x1bW49
MSwgcGFkeD01LCBwYWR5PTUpDQogICAgICAgIGJhdWRfZW50cnkyLmluc2VydCgwLCBzZWxmLmJh
dWRfZW50cnkyLmdldCgpIGlmIGhhc2F0dHIoc2VsZiwgJ2JhdWRfZW50cnkyJykgZWxzZSAiOTYw
MCIpDQogICAgICAgIHNlbGYuX2Rpc2FibGVfbW91c2Vfd2hlZWwoYmF1ZF9lbnRyeTIpDQoNCiAg
ICAgICAgZGVmIHNhdmVfc2V0dGluZ3MoKToNCiAgICAgICAgICAgIGlmIGhhc2F0dHIoc2VsZiwg
J3BvcnRfY2IxJyk6DQogICAgICAgICAgICAgICAgc2VsZi5wb3J0X2NiMS5zZXQocG9ydF9jYjEu
Z2V0KCkpDQogICAgICAgICAgICBpZiBoYXNhdHRyKHNlbGYsICdiYXVkX2VudHJ5MScpOg0KICAg
ICAgICAgICAgICAgIHNlbGYuYmF1ZF9lbnRyeTEuZGVsZXRlKDAsIHRrLkVORCkNCiAgICAgICAg
ICAgICAgICBzZWxmLmJhdWRfZW50cnkxLmluc2VydCgwLCBiYXVkX2VudHJ5MS5nZXQoKSkNCiAg
ICAgICAgICAgIGlmIGhhc2F0dHIoc2VsZiwgJ3BvcnRfY2IyJyk6DQogICAgICAgICAgICAgICAg
c2VsZi5wb3J0X2NiMi5zZXQocG9ydF9jYjIuZ2V0KCkpDQogICAgICAgICAgICBpZiBoYXNhdHRy
KHNlbGYsICdiYXVkX2VudHJ5MicpOg0KICAgICAgICAgICAgICAgIHNlbGYuYmF1ZF9lbnRyeTIu
ZGVsZXRlKDAsIHRrLkVORCkNCiAgICAgICAgICAgICAgICBzZWxmLmJhdWRfZW50cnkyLmluc2Vy
dCgwLCBiYXVkX2VudHJ5Mi5nZXQoKSkNCiAgICAgICAgICAgIHNlbGYubG9nKCLkuLLlj6Porr7n
va7lt7Lmm7TmlrAiKQ0KICAgICAgICAgICAgZGlhbG9nLmRlc3Ryb3koKQ0KDQogICAgICAgIGJ0
bl9mcmFtZSA9IHR0ay5GcmFtZShmcmFtZSkNCiAgICAgICAgYnRuX2ZyYW1lLmdyaWQocm93PTQs
IGNvbHVtbj0wLCBjb2x1bW5zcGFuPTIsIHBhZHk9MTApDQogICAgICAgIHR0ay5CdXR0b24oYnRu
X2ZyYW1lLCB0ZXh0PSLkv53lrZgiLCBjb21tYW5kPXNhdmVfc2V0dGluZ3MsIGJvb3RzdHlsZT0i
c3VjY2VzcyIpLnBhY2soc2lkZT10ay5MRUZULCBwYWR4PTUpDQogICAgICAgIHR0ay5CdXR0b24o
YnRuX2ZyYW1lLCB0ZXh0PSLlj5bmtogiLCBjb21tYW5kPWRpYWxvZy5kZXN0cm95LCBib290c3R5
bGU9InNlY29uZGFyeSIpLnBhY2soc2lkZT10ay5MRUZULCBwYWR4PTUpDQoNCiAgICBkZWYgc2hv
d19jYWxpYnJhdGlvbl9zZXR0aW5ncyhzZWxmKToNCiAgICAgICAgZGlhbG9nID0gdHRrLlRvcGxl
dmVsKHNlbGYpDQogICAgICAgIGRpYWxvZy50aXRsZSgi5qCh5YeG6K6+572uIikNCiAgICAgICAg
ZGlhbG9nLmdlb21ldHJ5KCIzMDB4MjAwIikNCiAgICAgICAgZGlhbG9nLnRyYW5zaWVudChzZWxm
KQ0KICAgICAgICBkaWFsb2cuZ3JhYl9zZXQoKQ0KDQogICAgICAgIGZyYW1lID0gdHRrLkZyYW1l
KGRpYWxvZywgcGFkZGluZz0xMCkNCiAgICAgICAgZnJhbWUucGFjayhmaWxsPXRrLkJPVEgsIGV4
cGFuZD1UcnVlKQ0KDQogICAgICAgIHR0ay5MYWJlbChmcmFtZSwgdGV4dD0i56Cd56CB5YC8IChn
KToiKS5ncmlkKHJvdz0wLCBjb2x1bW49MCwgcGFkeD01LCBwYWR5PTUsIHN0aWNreT0idyIpDQog
ICAgICAgIHdlaWdodF9lbnRyeSA9IHR0ay5FbnRyeShmcmFtZSwgd2lkdGg9MTApDQogICAgICAg
IHdlaWdodF9lbnRyeS5ncmlkKHJvdz0wLCBjb2x1bW49MSwgcGFkeD01LCBwYWR5PTUpDQogICAg
ICAgIHdlaWdodF9lbnRyeS5pbnNlcnQoMCwgIjEwMDAiKQ0KDQogICAgICAgIGRlZiBjYWxpYnJh
dGUoKToNCiAgICAgICAgICAgIHRyeToNCiAgICAgICAgICAgICAgICB3ZWlnaHQgPSBpbnQod2Vp
Z2h0X2VudHJ5LmdldCgpKQ0KICAgICAgICAgICAgICAgIHNlbGYud2VpZ2h0X2NhbGlicmF0aW9u
KHdlaWdodCkNCiAgICAgICAgICAgICAgICBzZWxmLmxvZyhmIuegneeggeagoeWHhuW3suaJp+ih
jO+8jOegneeggeWAvDoge3dlaWdodH1nIikNCiAgICAgICAgICAgIGV4Y2VwdCBWYWx1ZUVycm9y
Og0KICAgICAgICAgICAgICAgIG1lc3NhZ2Vib3guc2hvd2Vycm9yKCLplJnor68iLCAi6K+36L6T
5YWl5pyJ5pWI55qE56Cd56CB5YC8IikNCg0KICAgICAgICBidG5fZnJhbWUgPSB0dGsuRnJhbWUo
ZnJhbWUpDQogICAgICAgIGJ0bl9mcmFtZS5ncmlkKHJvdz0xLCBjb2x1bW49MCwgY29sdW1uc3Bh
bj0yLCBwYWR5PTEwKQ0KICAgICAgICB0dGsuQnV0dG9uKGJ0bl9mcmFtZSwgdGV4dD0i5omn6KGM
56Cd56CB5qCh5YeGIiwgY29tbWFuZD1jYWxpYnJhdGUsIGJvb3RzdHlsZT0icHJpbWFyeSIpLnBh
Y2soc2lkZT10ay5MRUZULCBwYWR4PTUpDQogICAgICAgIHR0ay5CdXR0b24oYnRuX2ZyYW1lLCB0
ZXh0PSLlhbPpl60iLCBjb21tYW5kPWRpYWxvZy5kZXN0cm95LCBib290c3R5bGU9InNlY29uZGFy
eSIpLnBhY2soc2lkZT10ay5MRUZULCBwYWR4PTUpDQoNCiAgICBkZWYgc2hvd19hZHZhbmNlZF9z
ZXR0aW5ncyhzZWxmKToNCiAgICAgICAgZGlhbG9nID0gdHRrLlRvcGxldmVsKHNlbGYpDQogICAg
ICAgIGRpYWxvZy50aXRsZSgi6auY57qn6K6+572uIikNCiAgICAgICAgZGlhbG9nLmdlb21ldHJ5
KCI0MDB4MzAwIikNCiAgICAgICAgZGlhbG9nLnRyYW5zaWVudChzZWxmKQ0KICAgICAgICBkaWFs
b2cuZ3JhYl9zZXQoKQ0KDQogICAgICAgIGZyYW1lID0gdHRrLkZyYW1lKGRpYWxvZywgcGFkZGlu
Zz0xMCkNCiAgICAgICAgZnJhbWUucGFjayhmaWxsPXRrLkJPVEgsIGV4cGFuZD1UcnVlKQ0KDQog
ICAgICAgIHR0ay5MYWJlbChmcmFtZSwgdGV4dD0i5L2N572u6K+75Y+W6Ze06ZqUOiIpLmdyaWQo
cm93PTAsIGNvbHVtbj0wLCBwYWR4PTUsIHBhZHk9NSwgc3RpY2t5PSJ3IikNCiAgICAgICAgcG9z
X2ludGVydmFsX2VudHJ5ID0gdHRrLkVudHJ5KGZyYW1lLCB3aWR0aD04KQ0KICAgICAgICBwb3Nf
aW50ZXJ2YWxfZW50cnkuZ3JpZChyb3c9MCwgY29sdW1uPTEsIHBhZHg9NSwgcGFkeT01KQ0KICAg
ICAgICBwb3NfaW50ZXJ2YWxfZW50cnkuaW5zZXJ0KDAsIHNlbGYucG9zX2ludGVydmFsX2VudHJ5
LmdldCgpIGlmIGhhc2F0dHIoc2VsZiwgJ3Bvc19pbnRlcnZhbF9lbnRyeScpIGVsc2UgIjAuMDEi
KQ0KDQogICAgICAgIHR0ay5MYWJlbChmcmFtZSwgdGV4dD0i5Y6L5Yqb6K+75Y+W6Ze06ZqUOiIp
LmdyaWQocm93PTEsIGNvbHVtbj0wLCBwYWR4PTUsIHBhZHk9NSwgc3RpY2t5PSJ3IikNCiAgICAg
ICAgcHJlc3NfaW50ZXJ2YWxfZW50cnkgPSB0dGsuRW50cnkoZnJhbWUsIHdpZHRoPTgpDQogICAg
ICAgIHByZXNzX2ludGVydmFsX2VudHJ5LmdyaWQocm93PTEsIGNvbHVtbj0xLCBwYWR4PTUsIHBh
ZHk9NSkNCiAgICAgICAgcHJlc3NfaW50ZXJ2YWxfZW50cnkuaW5zZXJ0KDAsIHNlbGYucHJlc3Nf
aW50ZXJ2YWxfZW50cnkuZ2V0KCkgaWYgaGFzYXR0cihzZWxmLCdwcmVzc19pbnRlcnZhbF9lbnRy
eScpIGVsc2UgIjAuMDEiKQ0KDQogICAgICAgIHR0ay5MYWJlbChmcmFtZSwgdGV4dD0i6auY6YCf
IChtbS9zKToiKS5ncmlkKHJvdz0yLCBjb2x1bW49MCwgcGFkeD01LCBwYWR5PTUsIHN0aWNreT0i
dyIpDQogICAgICAgIGhpZ2hfc3BlZWRfZW50cnkgPSB0dGsuRW50cnkoZnJhbWUsIHdpZHRoPTgp
DQogICAgICAgIGhpZ2hfc3BlZWRfZW50cnkuZ3JpZChyb3c9MiwgY29sdW1uPTEsIHBhZHg9NSwg
cGFkeT01KQ0KICAgICAgICBoaWdoX3NwZWVkX2VudHJ5Lmluc2VydCgwLCBzdHIoc2VsZi5oaWdo
X3NwZWVkKSkNCg0KICAgICAgICB0dGsuTGFiZWwoZnJhbWUsIHRleHQ9IuS9jumAnyAobW0vcyk6
IikuZ3JpZChyb3c9MywgY29sdW1uPTAsIHBhZHg9NSwgcGFkeT01LCBzdGlja3k9InciKQ0KICAg
ICAgICBsb3dfc3BlZWRfZW50cnkgPSB0dGsuRW50cnkoZnJhbWUsIHdpZHRoPTgpDQogICAgICAg
IGxvd19zcGVlZF9lbnRyeS5ncmlkKHJvdz0zLCBjb2x1bW49MSwgcGFkeD01LCBwYWR5PTUpDQog
ICAgICAgIGxvd19zcGVlZF9lbnRyeS5pbnNlcnQoMCwgc3RyKHNlbGYubG93X3NwZWVkKSkNCg0K
ICAgICAgICB0dGsuTGFiZWwoZnJhbWUsIHRleHQ9IuWOi+WKm+WuueW3riAoZyk6IikuZ3JpZChy
b3c9NCwgY29sdW1uPTAsIHBhZHg9NSwgcGFkeT01LCBzdGlja3k9InciKQ0KICAgICAgICB0b2xl
cmFuY2VfZW50cnkgPSB0dGsuRW50cnkoZnJhbWUsIHdpZHRoPTgpDQogICAgICAgIHRvbGVyYW5j
ZV9lbnRyeS5ncmlkKHJvdz00LCBjb2x1bW49MSwgcGFkeD01LCBwYWR5PTUpDQogICAgICAgIHRv
bGVyYW5jZV9lbnRyeS5pbnNlcnQoMCwgc3RyKHNlbGYucHJlc3N1cmVfdG9sZXJhbmNlKSkNCg0K
ICAgICAgICBkZWYgc2F2ZV9zZXR0aW5ncygpOg0KICAgICAgICAgICAgaWYgaGFzYXR0cihzZWxm
LCAncG9zX2ludGVydmFsX2VudHJ5Jyk6DQogICAgICAgICAgICAgICAgc2VsZi5wb3NfaW50ZXJ2
YWxfZW50cnkuZGVsZXRlKDAsIHRrLkVORCk7IHNlbGYucG9zX2ludGVydmFsX2VudHJ5Lmluc2Vy
dCgwLCBwb3NfaW50ZXJ2YWxfZW50cnkuZ2V0KCkpDQogICAgICAgICAgICBpZiBoYXNhdHRyKHNl
bGYsICdwcmVzc19pbnRlcnZhbF9lbnRyeScpOg0KICAgICAgICAgICAgICAgIHNlbGYucHJlc3Nf
aW50ZXJ2YWxfZW50cnkuZGVsZXRlKDAsIHRrLkVORCk7IHNlbGYucHJlc3NfaW50ZXJ2YWxfZW50
cnkuaW5zZXJ0KDAsIHByZXNzX2ludGVydmFsX2VudHJ5LmdldCgpKQ0KICAgICAgICAgICAgc2Vs
Zi5oaWdoX3NwZWVkID0gZmxvYXQoaGlnaF9zcGVlZF9lbnRyeS5nZXQoKSkNCiAgICAgICAgICAg
IHNlbGYubG93X3NwZWVkID0gZmxvYXQobG93X3NwZWVkX2VudHJ5LmdldCgpKQ0KICAgICAgICAg
ICAgc2VsZi5wcmVzc3VyZV90b2xlcmFuY2UgPSBmbG9hdCh0b2xlcmFuY2VfZW50cnkuZ2V0KCkp
DQogICAgICAgICAgICBzZWxmLmxvZygi6auY57qn6K6+572u5bey5pu05pawIikNCiAgICAgICAg
ICAgIGRpYWxvZy5kZXN0cm95KCkNCiAgICAgICAgICAgIHNlbGYuc2F2ZV9jb25maWcoKQ0KDQog
ICAgICAgIGJ0bl9mcmFtZSA9IHR0ay5GcmFtZShmcmFtZSkNCiAgICAgICAgYnRuX2ZyYW1lLmdy
aWQocm93PTUsIGNvbHVtbj0wLCBjb2x1bW5zcGFuPTIsIHBhZHk9MTApDQogICAgICAgIHR0ay5C
dXR0b24oYnRuX2ZyYW1lLCB0ZXh0PSLkv53lrZgiLCBjb21tYW5kPXNhdmVfc2V0dGluZ3MsIGJv
b3RzdHlsZT0ic3VjY2VzcyIpLnBhY2soc2lkZT10ay5MRUZULCBwYWR4PTUpDQogICAgICAgIHR0
ay5CdXR0b24oYnRuX2ZyYW1lLCB0ZXh0PSLlj5bmtogiLCBjb21tYW5kPWRpYWxvZy5kZXN0cm95
LCBib290c3R5bGU9InNlY29uZGFyeSIpLnBhY2soc2lkZT10ay5MRUZULCBwYWR4PTUpDQoNCiAg
ICBkZWYgc2hvd19hYm91dChzZWxmKToNCiAgICAgICAgbWVzc2FnZWJveC5zaG93aW5mbygi5YWz
5LqOIiwgIuWOi+WKm+aOp+WItue7vOWQiOeoi+W6j1xu54mI5pysOiA0LjBcbuW8gOWPkeaXpeac
nzogMjAyNS0wNi0xMiIpDQoNCiAgICBkZWYgc2hvd19pbnN0cnVjdGlvbnMoc2VsZik6DQogICAg
ICAgIGluc3RydWN0aW9ucyA9ICIiIg0KPT09PT09PT09PT09PT09PT09PT09PT09PT09IOWOi+WK
m+aOp+WItue7vOWQiOeoi+W6jyDkvb/nlKjor7TmmI4gPT09PT09PT09PT09PT09PT09PT09PT09
PT09DQoNCjEuIOW/q+mAn+W8gOWniw0KICAgMS4xIOS4suWPo+iuvue9ru+8mg0KICAgICAgIC0g
6I+c5Y2VIOKGkiDorr7nva4g4oaSIOS4suWPo+iuvue9ru+8jOmAieaLqeWOi+WKm+S8oOaEn+WZ
qOWSjOi/kOWKqOaOp+WItuWZqOeahOerr+WPo+S4juazoueJueeOh+OAgg0KICAgMS4yIOi/nuaO
peiuvuWkh++8mg0KICAgICAgIC0g5Zyo4oCc6K6+5aSH6L+e5o6l4oCd5Yy65Z+f5YiG5Yir54K5
5Ye74oCc6L+e5o6l4oCd44CCDQoNCjIuIOeVjOmdouW4g+WxgA0KICAgLSDlt6bkvqfmjqfliLbp
naLmnb/vvJrov5DliqjmjqfliLbjgIHljovlipvmjqfliLbjgIHlpJrljovlipvmtYvor5XjgIHo
t7Plj5jorr7nva7igKYNCiAgIC0g5Y+z5L6n5Zu+6KGo5Yy677ya5pe26Ze04oCU5L2N572uL+WO
i+WKm+absue6v++8jOWPr+WvvOWHuuaIlua4hemZpOOAgg0KICAgLSDlupXpg6jml6Xlv5fljLrv
vJrorrDlvZXmiYDmnInmk43kvZzlkozorr7lpIflj43ppojjgIINCg0KMy4g6L+Q5Yqo5o6n5Yi2
DQogICAtIOmAieKAnOS4ii/kuIvigJ3vvIzovpPlhaXpgJ/luqYv6Led56a777yM5YWI4oCc6K6+
572u5Y+C5pWw4oCd5YaN4oCc5ZCv5Yqo6L+Q5Yqo4oCd44CCDQoNCjQuIOWOi+WKm+S4juS/neaK
pA0KICAgLSDlpKflrZfmmL7npLrlvZPliY3ljovlipvvvJvop6blj5Hkv53miqTljovlipvlkI7n
uqLpu4Tpl6rng4HmiqXorabjgIINCiAgIC0g4oCc5ZCv5Yqo5Y6L5Yqb5o6n5Yi24oCd5ZCO77ya
6auY6YCf6Z2g6L+RIOKGkiDkvY7pgJ/lvq7osIMg4oaSIOWuueW3ruWGheS/neaMgeOAggoNCjUu
IOiHquWKqOWkmuWOi+WKm+a1i+ivlQ0KICAgLSDloavlhpnljovlipvngrnvvIjpgJflj7fliIbp
mpTvvInkuI7lvqrnjq/mqKHlvI/vvIzlj6/pgInlg4/ntKDmo4DmtYvkuI7mqKHmi5/ngrnlh7vj
gIINCiAgIC0g5LiJ5Liq5qC45b+D5Y+C5pWw77yaDQogICAgIOKAoiDlg4/ntKDmo4DmtYvpl7Tp
mpQobXMpDQogICAgIOKAoiDljovlipvmraXov5vpl7TpmpQocykgICAgIOKGkCDlt7Lnu5/kuIDk
uLrigJznp5LigJ0NCiAgICAg4oCiIOi2heaXtihzKQ0KDQo2LiDot7Plj5jlip/og70NCiAgIC0g
5Li6IDHigJM4IOi3s+WPmOeCueiuvumYiOWAvOOAgeaWueWQkSjmraMv5Y+NL+WPjOWQkSnjgIHm
mK/lkKboh6rliqjlhbPpl63jgIINCg0KNy4g5qCh5YeGICYg5Y6755quDQogICAtIOiPnOWNlSDi
hpIg5bel5YW377ya56Gs5Lu25Y6755quIC8g6Zu254K55qCh5YeGIC8g56Cd56CB5qCh5YeGIC8g
5YaZ5L+d5oqk44CCDQoNCjguIOWvvOWHug0KICAgLSDigJzlr7zlh7rlm77ooajigJ3nlJ/miJDl
uKblm77nmoQgRXhjZWzvvJvigJzmuIXpmaTlm77ooajigJ3ph43nva7ljoblj7LjgIINCiIiIg0K
ICAgICAgICBkaWFsb2cgPSB0dGsuVG9wbGV2ZWwoc2VsZikNCiAgICAgICAgZGlhbG9nLnRpdGxl
KCLkvb/nlKjor7TmmI4iKQ0KICAgICAgICBkaWFsb2cuZ2VvbWV0cnkoIjEwMDB4OTAwIikNCiAg
ICAgICAgZGlhbG9nLnRyYW5zaWVudChzZWxmKQ0KICAgICAgICBkaWFsb2cuZ3JhYl9zZXQoKQ0K
DQogICAgICAgIHRleHQgPSBzY3JvbGxlZHRleHQuU2Nyb2xsZWRUZXh0KGRpYWxvZywgd3JhcD10
ay5XT1JELCBmb250PSgi5b6u6L2v6ZuF6buRIiwgMTIpKQ0KICAgICAgICB0ZXh0LnBhY2soZXhw
YW5kPVRydWUsIGZpbGw9J2JvdGgnLCBwYWR4PTEyLCBwYWR5PTEyKQ0KICAgICAgICB0ZXh0Lmlu
c2VydCgiMS4wIiwgaW5zdHJ1Y3Rpb25zKQ0KICAgICAgICB0ZXh0LmNvbmZpZyhzdGF0ZT0nZGlz
YWJsZWQnKQ0KDQogICAgICAgIGJ0biA9IHR0ay5CdXR0b24oZGlhbG9nLCB0ZXh0PSLlhbPpl60i
LCBjb21tYW5kPWRpYWxvZy5kZXN0cm95LCBib290c3R5bGU9InNlY29uZGFyeSIpDQogICAgICAg
IGJ0bi5wYWNrKHBhZHk9OCkNCg0KICAgIGRlZiBzZXRfcGFyYW1zX21vZGlmaWVkKHNlbGYpOg0K
ICAgICAgICBzZWxmLnBhcmFtc19tb2RpZmllZCA9IFRydWUNCg0KICAgIEBzdGF0aWNtZXRob2QN
CiAgICBkZWYgX2Rpc2FibGVfbW91c2Vfd2hlZWwod2lkZ2V0KToNCiAgICAgICAgIiIi56aB5q2i
6byg5qCH5rua6L2u5pS55Y+Y54m55a6a6L6T5YWl6YOo5Lu255qE5YC844CCIiIiDQogICAgICAg
IGlmIG5vdCB3aWRnZXQ6DQogICAgICAgICAgICByZXR1cm4NCg0KICAgICAgICBkZWYgX2Jsb2Nr
KGV2ZW50KToNCiAgICAgICAgICAgIHJldHVybiAiYnJlYWsiDQoNCiAgICAgICAgd2lkZ2V0LmJp
bmQoIjxNb3VzZVdoZWVsPiIsIF9ibG9jaykNCiAgICAgICAgd2lkZ2V0LmJpbmQoIjxCdXR0b24t
ND4iLCBfYmxvY2spDQogICAgICAgIHdpZGdldC5iaW5kKCI8QnV0dG9uLTU+IiwgX2Jsb2NrKQ0K
DQogICAgZGVmIF9nZXRfYmF1ZHJhdGUoc2VsZiwgYXR0cl9uYW1lOiBzdHIsIGRlZmF1bHQ6IGlu
dCA9IDk2MDApIC0+IGludDoNCiAgICAgICAgZW50cnkgPSBnZXRhdHRyKHNlbGYsIGF0dHJfbmFt
ZSwgTm9uZSkNCiAgICAgICAgaWYgZW50cnkgaXMgbm90IE5vbmU6DQogICAgICAgICAgICB0cnk6
DQogICAgICAgICAgICAgICAgcmV0dXJuIGludChlbnRyeS5nZXQoKSkNCiAgICAgICAgICAgIGV4
Y2VwdCAoVmFsdWVFcnJvciwgdGsuVGNsRXJyb3IpOg0KICAgICAgICAgICAgICAgIHBhc3MNCiAg
ICAgICAgcmV0dXJuIGRlZmF1bHQNCg0KICAgIGRlZiBfc2VyaWFsX2F1dG9fY2FuZGlkYXRlcyhz
ZWxmLCBjb21ib19hdHRyOiBzdHIsIGNvbmZpZ19rZXk6IHN0ciwgcG9ydF9saXN0KToNCiAgICAg
ICAgY2FuZGlkYXRlcyA9IFtdDQogICAgICAgIGNvbWJvID0gZ2V0YXR0cihzZWxmLCBjb21ib19h
dHRyLCBOb25lKQ0KICAgICAgICBpZiBjb21ibyBpcyBub3QgTm9uZToNCiAgICAgICAgICAgIGN1
cnJlbnQgPSBjb21iby5nZXQoKQ0KICAgICAgICAgICAgaWYgY3VycmVudCBhbmQgY3VycmVudCBp
biBwb3J0X2xpc3Q6DQogICAgICAgICAgICAgICAgY2FuZGlkYXRlcy5hcHBlbmQoY3VycmVudCkN
Cg0KICAgICAgICBpZiBpc2luc3RhbmNlKHNlbGYubG9hZGVkX2NvbmZpZywgZGljdCk6DQogICAg
ICAgICAgICBzYXZlZCA9IHNlbGYubG9hZGVkX2NvbmZpZy5nZXQoY29uZmlnX2tleSwgJycpIG9y
ICcnDQogICAgICAgICAgICBpZiBzYXZlZCBhbmQgc2F2ZWQgaW4gcG9ydF9saXN0IGFuZCBzYXZl
ZCBub3QgaW4gY2FuZGlkYXRlczoNCiAgICAgICAgICAgICAgICBjYW5kaWRhdGVzLmFwcGVuZChz
YXZlZCkNCg0KICAgICAgICBmb3IgcG9ydCBpbiBwb3J0X2xpc3Q6DQogICAgICAgICAgICBpZiBw
b3J0IG5vdCBpbiBjYW5kaWRhdGVzOg0KICAgICAgICAgICAgICAgIGNhbmRpZGF0ZXMuYXBwZW5k
KHBvcnQpDQoNCiAgICAgICAgcmV0dXJuIGNhbmRpZGF0ZXMNCg0KICAgIGRlZiByZWZyZXNoX3Bv
cnRzKHNlbGYpOg0KICAgICAgICB0cnk6DQogICAgICAgICAgICBwb3J0cyA9IGxpc3Qoc2VyaWFs
LnRvb2xzLmxpc3RfcG9ydHMuY29tcG9ydHMoKSkNCiAgICAgICAgZXhjZXB0IEV4Y2VwdGlvbiBh
cyBlOg0KICAgICAgICAgICAgcG9ydHMgPSBbXQ0KICAgICAgICAgICAgc2VsZi5sb2coZiLliLfm
lrDkuLLlj6PliJfooajlpLHotKU6IHtlfSIpDQoNCiAgICAgICAgcG9ydF9saXN0ID0gW3BvcnQu
ZGV2aWNlIGZvciBwb3J0IGluIHBvcnRzXQ0KDQogICAgICAgIGRlZiBfdXBkYXRlX2NvbWJvKGF0
dHJfbmFtZTogc3RyLCBjb25maWdfa2V5OiBzdHIpOg0KICAgICAgICAgICAgaWYgbm90IGhhc2F0
dHIoc2VsZiwgYXR0cl9uYW1lKToNCiAgICAgICAgICAgICAgICByZXR1cm4NCiAgICAgICAgICAg
IGNvbWJvID0gZ2V0YXR0cihzZWxmLCBhdHRyX25hbWUpDQogICAgICAgICAgICBjb21ib1sndmFs
dWVzJ10gPSBwb3J0X2xpc3QNCiAgICAgICAgICAgIHByZWZlcnJlZCA9ICcnDQogICAgICAgICAg
ICBpZiBpc2luc3RhbmNlKHNlbGYubG9hZGVkX2NvbmZpZywgZGljdCk6DQogICAgICAgICAgICAg
ICAgcHJlZmVycmVkID0gc2VsZi5sb2FkZWRfY29uZmlnLmdldChjb25maWdfa2V5LCAnJykgb3Ig
JycNCg0KICAgICAgICAgICAgY3VycmVudCA9IGNvbWJvLmdldCgpDQogICAgICAgICAgICBpZiBj
dXJyZW50IGluIHBvcnRfbGlzdDoNCiAgICAgICAgICAgICAgICBuZXdfdmFsdWUgPSBjdXJyZW50
DQogICAgICAgICAgICBlbGlmIHByZWZlcnJlZCBpbiBwb3J0X2xpc3Q6DQogICAgICAgICAgICAg
ICAgbmV3X3ZhbHVlID0gcHJlZmVycmVkDQogICAgICAgICAgICBlbHNlOg0KICAgICAgICAgICAg
ICAgIG5ld192YWx1ZSA9ICcnDQoNCiAgICAgICAgICAgIGNvbWJvLnNldChuZXdfdmFsdWUpDQoN
CiAgICAgICAgX3VwZGF0ZV9jb21ibygncG9ydF9jYjEnLCAnc2VyaWFsX3BvcnQxJykNCiAgICAg
ICAgX3VwZGF0ZV9jb21ibygncG9ydF9jYjInLCAnc2VyaWFsX3BvcnQyJykNCg0KICAgICAgICBp
ZiBwb3J0X2xpc3Q6DQogICAgICAgICAgICBzZWxmLmxvZygi5Liy5Y+j5YiX6KGo5bey5Yi35paw
OiB7fSIuZm9ybWF0KCcsICcuam9pbihwb3J0X2xpc3QpKSkNCiAgICAgICAgZWxzZToNCiAgICAg
ICAgICAgIHNlbGYubG9nKCLmnKrmo4DmtYvliLDlj6/nlKjkuLLlj6MiKQ0KDQogICAgZGVmIGF1
dG9fY29ubmVjdF9kZXZpY2VzKHNlbGYpOg0KICAgICAgICB0cnk6DQogICAgICAgICAgICBwb3J0
cyA9IGxpc3Qoc2VyaWFsLnRvb2xzLmxpc3RfcG9ydHMuY29tcG9ydHMoKSkNCiAgICAgICAgZXhj
ZXB0IEV4Y2VwdGlvbiBhcyBlOg0KICAgICAgICAgICAgc2VsZi5sb2coZiLoh6rliqjov57mjqXl
pLHotKXvvJrml6Dms5Xojrflj5bkuLLlj6PliJfooaggKHtlfSkiKQ0KICAgICAgICAgICAgbWVz
c2FnZWJveC5zaG93ZXJyb3IoIumUmeivryIsIGYi5peg5rOV6I635Y+W5Liy5Y+j5YiX6KGo77ya
e2V9IikNCiAgICAgICAgICAgIHJldHVybg0KDQogICAgICAgIHBvcnRfbGlzdCA9IFtwb3J0LmRl
dmljZSBmb3IgcG9ydCBpbiBwb3J0c10NCiAgICAgICAgaWYgbm90IHBvcnRfbGlzdDoNCiAgICAg
ICAgICAgIHNlbGYubG9nKCLoh6rliqjov57mjqXlpLHotKXvvJrmnKrmo4DmtYvliLDlj6/nlKjk
uLLlj6MiKQ0KICAgICAgICAgICAgbWVzc2FnZWJveC5zaG93d2FybmluZygi6Ieq5Yqo6L+e5o6l
IiwgIuacquajgOa1i+WIsOWPr+eUqOS4suWPo++8jOivt+ajgOafpVVTQuaPkuWPo+OAgiIpDQog
ICAgICAgICAgICByZXR1cm4NCg0KICAgICAgICBpZiBzZWxmLnNlbnNvcl9jb25uZWN0ZWQgYW5k
IHNlbGYuY29udHJvbGxlcl9jb25uZWN0ZWQ6DQogICAgICAgICAgICBzZWxmLmxvZygi6Ieq5Yqo
6L+e5o6l77ya6K6+5aSH5bey6L+e5o6lIikNCiAgICAgICAgICAgIHJldHVybg0KDQogICAgICAg
IHVzZWRfcG9ydHMgPSBzZXQoKQ0KICAgICAgICBpZiBzZWxmLnNlbnNvcl9jb25uZWN0ZWQgYW5k
IHNlbGYubW9kYnVzMToNCiAgICAgICAgICAgIHVzZWRfcG9ydHMuYWRkKGdldGF0dHIoc2VsZi5t
b2RidXMxLCAncG9ydF9uYW1lJywgc2VsZi5wb3J0X2NiMS5nZXQoKSkpDQogICAgICAgIGlmIHNl
bGYuY29udHJvbGxlcl9jb25uZWN0ZWQgYW5kIHNlbGYubW9kYnVzMjoNCiAgICAgICAgICAgIHVz
ZWRfcG9ydHMuYWRkKGdldGF0dHIoc2VsZi5tb2RidXMyLCAncG9ydF9uYW1lJywgc2VsZi5wb3J0
X2NiMi5nZXQoKSkpDQoNCiAgICAgICAgc2Vuc29yX2Nvbm5lY3RlZCA9IHNlbGYuc2Vuc29yX2Nv
bm5lY3RlZA0KICAgICAgICBjb250cm9sbGVyX2Nvbm5lY3RlZCA9IHNlbGYuY29udHJvbGxlcl9j
b25uZWN0ZWQNCg0KICAgICAgICBzZW5zb3JfYmF1ZCA9IHNlbGYuX2dldF9iYXVkcmF0ZSgnYmF1
ZF9lbnRyeTEnKQ0KICAgICAgICBjb250cm9sbGVyX2JhdWQgPSBzZWxmLl9nZXRfYmF1ZHJhdGUo
J2JhdWRfZW50cnkyJykNCg0KICAgICAgICBpZiBub3Qgc2Vuc29yX2Nvbm5lY3RlZDoNCiAgICAg
ICAgICAgIGZvciBwb3J0IGluIHNlbGYuX3NlcmlhbF9hdXRvX2NhbmRpZGF0ZXMoJ3BvcnRfY2Ix
JywgJ3NlcmlhbF9wb3J0MScsIHBvcnRfbGlzdCk6DQogICAgICAgICAgICAgICAgaWYgbm90IHBv
cnQgb3IgcG9ydCBpbiB1c2VkX3BvcnRzOg0KICAgICAgICAgICAgICAgICAgICBjb250aW51ZQ0K
ICAgICAgICAgICAgICAgIHNlbGYubG9nKGYi6Ieq5Yqo6L+e5o6l5bCd6K+V5Y6L5Yqb5Lyg5oSf
5ZmoOiB7cG9ydH0iKQ0KICAgICAgICAgICAgICAgIGlmIHNlbGYuY29ubmVjdF9zZW5zb3IocG9y
dCwgc2Vuc29yX2JhdWQsIHN1cHByZXNzX2Vycm9yPVRydWUpOg0KICAgICAgICAgICAgICAgICAg
ICB1c2VkX3BvcnRzLmFkZChwb3J0KQ0KICAgICAgICAgICAgICAgICAgICBzZW5zb3JfY29ubmVj
dGVkID0gVHJ1ZQ0KICAgICAgICAgICAgICAgICAgICBicmVhaw0KDQogICAgICAgIGlmIG5vdCBj
b250cm9sbGVyX2Nvbm5lY3RlZDoNCiAgICAgICAgICAgIGZvciBwb3J0IGluIHNlbGYuX3Nlcmlh
bF9hdXRvX2NhbmRpZGF0ZXMoJ3BvcnRfY2IyJywgJ3NlcmlhbF9wb3J0MicsIHBvcnRfbGlzdCk6
DQogICAgICAgICAgICAgICAgaWYgbm90IHBvcnQgb3IgcG9ydCBpbiB1c2VkX3BvcnRzOg0KICAg
ICAgICAgICAgICAgICAgICBjb250aW51ZQ0KICAgICAgICAgICAgICAgIHNlbGYubG9nKGYi6Ieq
5Yqo6L+e5o6l5bCd6K+V6L+Q5Yqo5o6n5Yi25ZmoOiB7cG9ydH0iKQ0KICAgICAgICAgICAgICAg
IGlmIHNlbGYuY29ubmVjdF9jb250cm9sbGVyKHBvcnQsIGNvbnRyb2xsZXJfYmF1ZCwgc3VwcHJl
c3NfZXJyb3I9VHJ1ZSk6DQogICAgICAgICAgICAgICAgICAgIHVzZWRfcG9ydHMuYWRkKHBvcnQp
DQogICAgICAgICAgICAgICAgICAgIGNvbnRyb2xsZXJfY29ubmVjdGVkID0gVHJ1ZQ0KICAgICAg
ICAgICAgICAgICAgICBicmVhaw0KDQogICAgICAgIGZhaWx1cmVzID0gW10NCiAgICAgICAgaWYg
bm90IHNlbnNvcl9jb25uZWN0ZWQ6DQogICAgICAgICAgICBmYWlsdXJlcy5hcHBlbmQoIuWOi+WK
m+S8oOaEn+WZqCIpDQogICAgICAgIGlmIG5vdCBjb250cm9sbGVyX2Nvbm5lY3RlZDoNCiAgICAg
ICAgICAgIGZhaWx1cmVzLmFwcGVuZCgi6L+Q5Yqo5o6n5Yi25ZmoIikNCg0KICAgICAgICBpZiBm
YWlsdXJlczoNCiAgICAgICAgICAgIGhpbnQgPSAi44CBIi5qb2luKGZhaWx1cmVzKQ0KICAgICAg
ICAgICAgc2VsZi5sb2coZiLoh6rliqjov57mjqXlpLHotKXvvJp7aGludH0iKQ0KICAgICAgICAg
ICAgbWVzc2FnZWJveC5zaG93d2FybmluZygi6Ieq5Yqo6L+e5o6lIiwgZiLmnKrog73ov57mjqXl
iLB7aGludH3vvIzor7fmo4Dmn6VVU0Lmj5Llj6PmiJborr7lpIfnirbmgIHjgIIiKQ0KICAgICAg
ICBlbHNlOg0KICAgICAgICAgICAgc2VsZi5sb2coIuiHquWKqOi/nuaOpeaIkOWKnyIpDQoNCiAg
ICBkZWYgbG9nKHNlbGYsIG1lc3NhZ2UpOgogICAgICAgIGlmIGNhbGxhYmxlKHNlbGYuX2V4dGVy
bmFsX2xvZyk6CiAgICAgICAgICAgIHRyeToKICAgICAgICAgICAgICAgIHNlbGYuX2V4dGVybmFs
X2xvZyhtZXNzYWdlKQogICAgICAgICAgICBleGNlcHQgRXhjZXB0aW9uOgogICAgICAgICAgICAg
ICAgcGFzcwogICAgICAgIGlmIG5vdCBzZWxmLl91c2VfaW50ZXJuYWxfbG9nIG9yIG5vdCBzZWxm
LmxvZ190ZXh0OgogICAgICAgICAgICByZXR1cm4KCiAgICAgICAgaW1wb3J0IHRocmVhZGluZywg
dGltZQogICAgICAgIGlmIHRocmVhZGluZy5jdXJyZW50X3RocmVhZCgpIGlzIG5vdCB0aHJlYWRp
bmcubWFpbl90aHJlYWQoKToKICAgICAgICAgICAgc2VsZi5hZnRlcigwLCBsYW1iZGEgbT1tZXNz
YWdlOiBzZWxmLmxvZyhtKSkKICAgICAgICAgICAgcmV0dXJuCgogICAgICAgIHRzID0gdGltZS5z
dHJmdGltZSgnJUg6JU06JVMnKQogICAgICAgIHNlbGYubG9nX3RleHQuY29uZmlnKHN0YXRlPSJu
b3JtYWwiKQogICAgICAgIHNlbGYubG9nX3RleHQuaW5zZXJ0KCJlbmQiLCBmInt0c30gLSB7bWVz
c2FnZX1cbiIpCgogICAgICAgIHRyeToKICAgICAgICAgICAgbWF4X2xpbmVzID0gaW50KGdldGF0
dHIoc2VsZiwgIkxPR19NQVhfTElORVMiLCAyMDApKQogICAgICAgIGV4Y2VwdCBFeGNlcHRpb246
CiAgICAgICAgICAgIG1heF9saW5lcyA9IDIwMAoKICAgICAgICBsaW5lX2NvdW50ID0gaW50KHNl
bGYubG9nX3RleHQuaW5kZXgoJ2VuZC0xYycpLnNwbGl0KCcuJylbMF0pCiAgICAgICAgaWYgbGlu
ZV9jb3VudCA+IG1heF9saW5lczoKICAgICAgICAgICAgZXhjZXNzID0gbGluZV9jb3VudCAtIG1h
eF9saW5lcwogICAgICAgICAgICBzZWxmLmxvZ190ZXh0LmRlbGV0ZSgnMS4wJywgZid7ZXhjZXNz
ICsgMX0uMCcpCgogICAgICAgIHNlbGYubG9nX3RleHQuc2VlKCJlbmQiKQogICAgICAgIHNlbGYu
bG9nX3RleHQuY29uZmlnKHN0YXRlPSJkaXNhYmxlZCIpCgogICAgZGVmIF9tYXliZV9wcm9tcHRf
YXV0b190YXJlKHNlbGYpOgogICAgICAgIGlmIHNlbGYuX2F1dG9fdGFyZV9wcm9tcHRlZDoKICAg
ICAgICAgICAgcmV0dXJuCgogICAgICAgIHNlbGYuX2F1dG9fdGFyZV9wcm9tcHRlZCA9IFRydWUK
CiAgICAgICAgaW1wb3J0IHRocmVhZGluZwoKICAgICAgICBkZWYgX2Fza19hbmRfaGFuZGxlKCk6
CiAgICAgICAgICAgIGFuc3dlciA9IG1lc3NhZ2Vib3guYXNreWVzbm8oIuiHquWKqOWOu+eariIs
ICLmmK/lkKboh6rliqjljrvnmq7vvJ8iKQogICAgICAgICAgICBpZiBhbnN3ZXI6CiAgICAgICAg
ICAgICAgICBzZWxmLmFmdGVyKDAsIHNlbGYuc3RhcnRfYXV0b190YXJlKQogICAgICAgICAgICBp
ZiBldmVudDoKICAgICAgICAgICAgICAgIGV2ZW50LnNldCgpCgogICAgICAgIGV2ZW50ID0gTm9u
ZQogICAgICAgIGlmIHRocmVhZGluZy5jdXJyZW50X3RocmVhZCgpIGlzIHRocmVhZGluZy5tYWlu
X3RocmVhZCgpOgogICAgICAgICAgICBfYXNrX2FuZF9oYW5kbGUoKQogICAgICAgIGVsc2U6CiAg
ICAgICAgICAgIGV2ZW50ID0gdGhyZWFkaW5nLkV2ZW50KCkKCiAgICAgICAgICAgIGRlZiBfd3Jh
cHBlZCgpOgogICAgICAgICAgICAgICAgdHJ5OgogICAgICAgICAgICAgICAgICAgIF9hc2tfYW5k
X2hhbmRsZSgpCiAgICAgICAgICAgICAgICBmaW5hbGx5OgogICAgICAgICAgICAgICAgICAgIGlm
IGV2ZW50IGFuZCBub3QgZXZlbnQuaXNfc2V0KCk6CiAgICAgICAgICAgICAgICAgICAgICAgIGV2
ZW50LnNldCgpCgogICAgICAgICAgICBzZWxmLmFmdGVyKDAsIF93cmFwcGVkKQogICAgICAgICAg
ICBldmVudC53YWl0KCkKDQogICAgZGVmIHNldF9wYXJhbWV0ZXJzKHNlbGYpOg0KICAgICAgICBp
ZiBub3Qgc2VsZi5tb2RidXMyOg0KICAgICAgICAgICAgcmV0dXJuDQogICAgICAgIHRyeToNCiAg
ICAgICAgICAgIHNwZWVkID0gZmxvYXQoc2VsZi5zcGVlZF9lbnRyeS5nZXQoKSkNCiAgICAgICAg
ICAgIGRpc3RhbmNlID0gZmxvYXQoc2VsZi5kaXN0YW5jZV9lbnRyeS5nZXQoKSkNCiAgICAgICAg
ZXhjZXB0IFZhbHVlRXJyb3I6DQogICAgICAgICAgICBtZXNzYWdlYm94LnNob3dlcnJvcigi6ZSZ
6K+vIiwgIumAn+W6puWSjOi3neemu+W/hemhu+S4uuaVsOWtlyIpDQogICAgICAgICAgICByZXR1
cm4NCg0KICAgICAgICBzcGVlZF92YWwgPSBpbnQoc3BlZWQgKiAxMDAwKQ0KICAgICAgICBkaXN0
YW5jZV92YWwgPSBpbnQoZGlzdGFuY2UgKiAxMDAwKQ0KICAgICAgICBkaXJlY3Rpb24gPSBzZWxm
LmRpcmVjdGlvbi5nZXQoKQ0KICAgICAgICBvcF9tb2RlID0gMSBpZiBkaXJlY3Rpb24gPT0gIuS4
iiIgZWxzZSAwDQoNCiAgICAgICAgc2VsZi5sb2coZiLorr7nva7lj4LmlbA6IOaWueWQkT17ZGly
ZWN0aW9ufSh7b3BfbW9kZX0pLCDpgJ/luqY9e3NwZWVkX3ZhbH0sIOi3neemuz17ZGlzdGFuY2Vf
dmFsfSIpDQoNCiAgICAgICAgdHJ5Og0KICAgICAgICAgICAgcmVzcDIgPSBzZWxmLm1vZGJ1czIu
d3JpdGVfcmVnaXN0ZXJzKDE3MCwgW29wX21vZGUsIDBdLCBkZWxheT0wLjAwNSkNCiAgICAgICAg
ICAgIHNlbGYubG9nKGYi6L+Q5Yqo5o6n5Yi25Zmo6K6+572u5bel5L2c5pa55byPOiB7cmVzcDIu
aGV4KCl9IikNCiAgICAgICAgICAgIHJlc3AyID0gc2VsZi5tb2RidXMyLndyaXRlX3JlZ2lzdGVy
cygxNzQsIFtkaXN0YW5jZV92YWwsIDBdLCBkZWxheT0wLjAwNSkNCiAgICAgICAgICAgIHNlbGYu
bG9nKGYi6L+Q5Yqo5o6n5Yi25Zmo6K6+572u6Led56a7OiB7cmVzcDIuaGV4KCl9IikNCiAgICAg
ICAgICAgIHJlc3AyID0gc2VsZi5tb2RidXMyLndyaXRlX3JlZ2lzdGVycygxNzYsIFtzcGVlZF92
YWwsIDBdLCBkZWxheT0wLjAwNSkNCiAgICAgICAgICAgIHNlbGYubG9nKGYi6L+Q5Yqo5o6n5Yi2
5Zmo6K6+572u6YCf5bqmOiB7cmVzcDIuaGV4KCl9IikNCiAgICAgICAgZXhjZXB0IEV4Y2VwdGlv
biBhcyBlOg0KICAgICAgICAgICAgc2VsZi5sb2coZiLorr7nva7lj4LmlbDlpLHotKU6IHtlfSIp
DQoNCiAgICAgICAgc2VsZi5wYXJhbXNfbW9kaWZpZWQgPSBGYWxzZQ0KICAgICAgICBzZWxmLmxh
c3RfZGlyZWN0aW9uID0gZGlyZWN0aW9uDQogICAgICAgIHNlbGYubGFzdF9zcGVlZCA9IHNwZWVk
DQogICAgICAgIHNlbGYubGFzdF9kaXN0YW5jZSA9IGRpc3RhbmNlDQoNCiAgICBkZWYgc3RhcnRf
bWFjaGluZShzZWxmKToKICAgICAgICBpZiBzZWxmLnBhcmFtc19tb2RpZmllZDoKICAgICAgICAg
ICAgbWVzc2FnZWJveC5zaG93d2FybmluZygi5o+Q56S6IiwgIuaCqOS/ruaUueS6huaOp+WItuWP
guaVsOS9huWwmuacqueCueWHuyforr7nva4n77yM6K+35YWI54K55Ye7J+iuvue9riflkI7lho3l
kK/liqjjgIIiKQogICAgICAgICAgICByZXR1cm4KICAgICAgICBpZiBub3Qgc2VsZi5tb2RidXMy
OgogICAgICAgICAgICByZXR1cm4KCiAgICAgICAgc2VsZi5fbWF5YmVfcHJvbXB0X2F1dG9fdGFy
ZSgpCiAgICAgICAgZGlyZWN0aW9uID0gc2VsZi5kaXJlY3Rpb24uZ2V0KCkKICAgICAgICBzcGVl
ZCA9IGZsb2F0KHNlbGYuc3BlZWRfZW50cnkuZ2V0KCkpCiAgICAgICAgaWYgZGlyZWN0aW9uID09
ICLkuIsiIGFuZCBzcGVlZCA+IDAuNToNCiAgICAgICAgICAgIGlmIG5vdCBtZXNzYWdlYm94LmFz
a3llc25vKCLpq5jpgJ/kuIvljovorablkYoiLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgZiLmgqjljbPlsIbku6Uge3NwZWVkfSBtbS9zIOeahOmAn+W6puS4i+WOi++8
jOi/meWPr+iDveWvvOiHtOiuvuWkh+aNn+Wdj++8gVxu5piv5ZCm57un57ut77yfIik6DQogICAg
ICAgICAgICAgICAgcmV0dXJuDQoNCiAgICAgICAgc2VsZi5sb2coIuWPkemAgeWQr+WKqOWRveS7
pCIpDQogICAgICAgIHRyeToNCiAgICAgICAgICAgIHJlc3AyID0gc2VsZi5tb2RidXMyLndyaXRl
X3JlZ2lzdGVycygxNzgsIFsxLCAwXSwgZGVsYXk9MC4wMDUpDQogICAgICAgICAgICBzZWxmLmxv
ZyhmIui/kOWKqOaOp+WItuWZqOWQr+WKqOWRveS7pDoge3Jlc3AyLmhleCgpfSIpDQogICAgICAg
IGV4Y2VwdCBFeGNlcHRpb24gYXMgZToNCiAgICAgICAgICAgIHNlbGYubG9nKGYi5ZCv5Yqo5ZG9
5Luk5aSx6LSlOiB7ZX0iKQ0KDQogICAgZGVmIHJldHVybl96ZXJvKHNlbGYpOgogICAgICAgIGlm
IG5vdCBzZWxmLm1vZGJ1czI6CiAgICAgICAgICAgIHJldHVybgoKICAgICAgICBzZWxmLl9tYXli
ZV9wcm9tcHRfYXV0b190YXJlKCkKICAgICAgICBzZWxmLmxvZygi5Y+R6YCB5Zue6Zu25ZG95Luk
IikKICAgICAgICB0cnk6DQogICAgICAgICAgICByZXNwMiA9IHNlbGYubW9kYnVzMi53cml0ZV9y
ZWdpc3RlcnMoMTcwLCBbMywgMF0sIGRlbGF5PTAuMDA1KQ0KICAgICAgICAgICAgc2VsZi5sb2co
ZiLov5DliqjmjqfliLblmajorr7nva7lm57pm7bmqKHlvI86IHtyZXNwMi5oZXgoKX0iKQ0KICAg
ICAgICAgICAgcmVzcDIgPSBzZWxmLm1vZGJ1czIud3JpdGVfcmVnaXN0ZXJzKDE3OCwgWzEsIDBd
LCBkZWxheT0wLjAwNSkNCiAgICAgICAgICAgIHNlbGYubG9nKGYi6L+Q5Yqo5o6n5Yi25Zmo5ZCv
5Yqo5Zue6Zu2OiB7cmVzcDIuaGV4KCl9IikNCiAgICAgICAgZXhjZXB0IEV4Y2VwdGlvbiBhcyBl
Og0KICAgICAgICAgICAgc2VsZi5sb2coZiLlm57pm7blkb3ku6TlpLHotKU6IHtlfSIpDQoNCiAg
ICBkZWYgbW92ZV90byhzZWxmKToKICAgICAgICBpZiBub3Qgc2VsZi5tb2RidXMyOgogICAgICAg
ICAgICByZXR1cm4KICAgICAgICB0cnk6CiAgICAgICAgICAgIHRhcmdldCA9IGZsb2F0KHNlbGYu
dGFyZ2V0X2VudHJ5LmdldCgpKQogICAgICAgIGV4Y2VwdCBWYWx1ZUVycm9yOgogICAgICAgICAg
ICBtZXNzYWdlYm94LnNob3dlcnJvcigi6ZSZ6K+vIiwgIuebruagh+S9jee9ruW/hemhu+S4uuaV
sOWtlyIpCiAgICAgICAgICAgIHJldHVybgoKICAgICAgICBzZWxmLl9tYXliZV9wcm9tcHRfYXV0
b190YXJlKCkKICAgICAgICB0YXJnZXRfdmFsID0gaW50KHRhcmdldCAqIDEwMDApCiAgICAgICAg
c2VsZi5sb2coZiLov5DliqjliLDnm67moIfkvY3nva46IHt0YXJnZXRfdmFsfSIpDQogICAgICAg
IHRyeToNCiAgICAgICAgICAgIHJlc3AyID0gc2VsZi5tb2RidXMyLndyaXRlX3JlZ2lzdGVycygx
NzQsIFt0YXJnZXRfdmFsLCAwXSwgZGVsYXk9MC4wMDUpDQogICAgICAgICAgICBzZWxmLmxvZyhm
Iui/kOWKqOaOp+WItuWZqOiuvue9ruebruagh+S9jee9rjoge3Jlc3AyLmhleCgpfSIpDQogICAg
ICAgICAgICByZXNwMiA9IHNlbGYubW9kYnVzMi53cml0ZV9yZWdpc3RlcnMoMTc4LCBbMSwgMF0s
IGRlbGF5PTAuMDA1KQ0KICAgICAgICAgICAgc2VsZi5sb2coZiLov5DliqjmjqfliLblmajlkK/l
iqjovazliLA6IHtyZXNwMi5oZXgoKX0iKQ0KICAgICAgICBleGNlcHQgRXhjZXB0aW9uIGFzIGU6
DQogICAgICAgICAgICBzZWxmLmxvZyhmIui/kOWKqOWIsOebruagh+S9jee9ruWksei0pToge2V9
IikNCg0KICAgIGRlZiBzdG9wX21vdGlvbihzZWxmKToNCiAgICAgICAgIiIi5byC5q2l5LiL5Y+R
5YGc5q2i5ZG95Luk77yM5LiN6Zi75aGeIFRrIOS4u+e6v+eoi+OAgiIiIg0KICAgICAgICBpZiBu
b3Qgc2VsZi5tb2RidXMyOg0KICAgICAgICAgICAgcmV0dXJuDQogICAgICAgIHRocmVhZGluZy5U
aHJlYWQodGFyZ2V0PXNlbGYuX3N0b3BfbW90aW9uX3dvcmtlciwgZGFlbW9uPVRydWUpLnN0YXJ0
KCkNCg0KICAgIGRlZiBfc3RvcF9tb3Rpb25fd29ya2VyKHNlbGYpOg0KICAgICAgICB0cnk6DQog
ICAgICAgICAgICByZXNwMiA9IHNlbGYubW9kYnVzMi53cml0ZV9yZWdpc3RlcnMoMTgwLCBbMSwg
MF0sIGRlbGF5PTAuMDA1KQ0KICAgICAgICAgICAgc2VsZi5sb2coZiLov5DliqjmjqfliLblmajl
gZzmraLlkb3ku6Q6IHtyZXNwMi5oZXgoKSBpZiByZXNwMiBlbHNlICcnfSIpDQogICAgICAgIGV4
Y2VwdCBFeGNlcHRpb24gYXMgZToNCiAgICAgICAgICAgIHNlbGYubG9nKGYi5YGc5q2i5ZG95Luk
5aSx6LSlOiB7ZX0iKQ0KICAgICAgICBmaW5hbGx5Og0KICAgICAgICAgICAgc2VsZi5fbm9fYXV0
b3N0YXJ0X3VudGlsID0gdGltZS50aW1lKCkgKyAwLjYNCiAgICAgICAgICAgIHNlbGYuX21jX2xh
c3RfY21kX3RzID0gMC4wDQogICAgICAgICAgICBzZWxmLl9tY19sYXN0X2RpciA9IHNlbGYuX21j
X2xhc3Rfc3BlZWQgPSBzZWxmLl9tY19sYXN0X2Rpc3RhbmNlID0gTm9uZQ0KICAgICAgICAgICAg
c2VsZi5zZXRfdmFyX3NhZmUoc2VsZi5jdXJyZW50X3NwZWVkX3ZhciwgIjAuMDAwIikNCg0KICAg
IGRlZiBzdG9wX2FsbChzZWxmKToNCiAgICAgICAgc2VsZi5zdG9wX21vdGlvbigpDQogICAgICAg
IHNlbGYuanVtcF9ydW5uaW5nID0gRmFsc2UNCiAgICAgICAgc2VsZi5nb3RvX21vZGVfc2V0ID0g
RmFsc2UNCiAgICAgICAgc2VsZi5wcmVzc3VyZV9jb250cm9sX3J1bm5pbmcgPSBGYWxzZQ0KICAg
ICAgICBzZWxmLm11bHRpX3ByZXNzdXJlX3J1bm5pbmcgPSBGYWxzZQ0KICAgICAgICBzZWxmLnBp
eGVsX2RldGVjdGlvbl9lbmFibGVkLnNldChGYWxzZSkNCiAgICAgICAgc2VsZi5zaW1fY2xpY2tf
ZW5hYmxlZC5zZXQoRmFsc2UpDQogICAgICAgIHNlbGYuYXV0b190YXJlX3J1bm5pbmcgPSBGYWxz
ZQ0KICAgICAgICBpZiAoaGFzYXR0cihzZWxmLCAncHJlc3N1cmVfY29udHJvbF90aHJlYWQnKSBh
bmQNCiAgICAgICAgICAgICAgICBzZWxmLnByZXNzdXJlX2NvbnRyb2xfdGhyZWFkIGFuZA0KICAg
ICAgICAgICAgICAgIHNlbGYucHJlc3N1cmVfY29udHJvbF90aHJlYWQuaXNfYWxpdmUoKSk6DQog
ICAgICAgICAgICBmb3IgXyBpbiByYW5nZSg1KToNCiAgICAgICAgICAgICAgICB0aW1lLnNsZWVw
KDAuMDUpDQogICAgICAgIHNlbGYubG9nKCLmiYDmnInmjqfliLblt7LlgZzmraLvvIjljIXlkKvl
jovlipvmjqfliLbjgIHlg4/ntKDmo4DmtYvjgIHmqKHmi5/ngrnlh7vvvIkiKQ0KDQogICAgZGVm
IHBhcnNlX3ByZXNzdXJlX3Jlc3BvbnNlKHNlbGYsIHJlc3BvbnNlKToNCiAgICAgICAgIiIiDQog
ICAgICAgIOWwhiAwMyDlip/og73noIHlm57lpI3op6PmnpDkuLrljovlipvlgLzvvIjkvJjlhYgg
MiDlrZfoioLvvIzlhbzlrrkgNCDlrZfoioLvvInjgIINCiAgICAgICAgIiIiDQogICAgICAgIHRy
eToNCiAgICAgICAgICAgICMg5qCH5YeG77yaMDEgMDMgMDIgW0hJXSBbTE9dIENSQyBDUkMNCiAg
ICAgICAgICAgIGlmIHJlc3BvbnNlIGFuZCBsZW4ocmVzcG9uc2UpID49IDUgYW5kIHJlc3BvbnNl
WzFdID09IDB4MDMgYW5kIHJlc3BvbnNlWzJdID09IDB4MDI6DQogICAgICAgICAgICAgICAgaGks
IGxvID0gcmVzcG9uc2VbM10sIHJlc3BvbnNlWzRdDQogICAgICAgICAgICAgICAgdmFsID0gKGhp
IDw8IDgpIHwgbG8NCiAgICAgICAgICAgICAgICBpZiB2YWwgPj0gMHg4MDAwOg0KICAgICAgICAg
ICAgICAgICAgICB2YWwgLT0gMHgxMDAwMA0KICAgICAgICAgICAgICAgIHJldHVybiB2YWwgLSBz
ZWxmLnRhcmVfdmFsdWUNCg0KICAgICAgICAgICAgIyDlhbzlrrnvvJrov5Tlm54gNCDlrZfoioIN
CiAgICAgICAgICAgIGlmIHJlc3BvbnNlIGFuZCBsZW4ocmVzcG9uc2UpID49IDcgYW5kIHJlc3Bv
bnNlWzFdID09IDB4MDMgYW5kIHJlc3BvbnNlWzJdID09IDB4MDQ6DQogICAgICAgICAgICAgICAg
ZGF0YSA9IHJlc3BvbnNlWzM6N10NCiAgICAgICAgICAgICAgICBsb3dfd29yZCA9IGludC5mcm9t
X2J5dGVzKGRhdGFbMDoyXSwgJ2JpZycsIHNpZ25lZD1UcnVlKQ0KICAgICAgICAgICAgICAgIGhp
Z2hfd29yZCA9IGludC5mcm9tX2J5dGVzKGRhdGFbMjo0XSwgJ2JpZycsIHNpZ25lZD1UcnVlKQ0K
ICAgICAgICAgICAgICAgIHZhbDMyID0gKGhpZ2hfd29yZCA8PCAxNikgfCAobG93X3dvcmQgJiAw
eEZGRkYpDQogICAgICAgICAgICAgICAgaWYgdmFsMzIgPj0gMHg4MDAwMDAwMDoNCiAgICAgICAg
ICAgICAgICAgICAgdmFsMzIgLT0gMHgxMDAwMDAwMDANCiAgICAgICAgICAgICAgICByZXR1cm4g
dmFsMzIgLSBzZWxmLnRhcmVfdmFsdWUNCg0KICAgICAgICBleGNlcHQgRXhjZXB0aW9uIGFzIGU6
DQogICAgICAgICAgICBzZWxmLmxvZyhmIuino+aekOWOi+WKm+aVsOaNrumUmeivrzoge2V9IikN
Cg0KICAgICAgICAjIOWbnumAgO+8muayv+eUqOW9k+WJjeWAvO+8jOmBv+WFjSBVSSDmipbliqgN
CiAgICAgICAgcmV0dXJuIHNlbGYuY3VycmVudF9wcmVzc3VyZQ0KDQogICAgZGVmIHBvbGxfcHJl
c3N1cmVfZGF0YShzZWxmKToNCiAgICAgICAgc2VsZi5wcmVzc3VyZV90aHJlYWRfcnVubmluZyA9
IFRydWUNCiAgICAgICAgd2hpbGUgZ2V0YXR0cihzZWxmLCAncHJlc3N1cmVfdGhyZWFkX3J1bm5p
bmcnLCBUcnVlKSBhbmQgc2VsZi5zZW5zb3JfY29ubmVjdGVkOg0KICAgICAgICAgICAgdHJ5Og0K
ICAgICAgICAgICAgICAgIHByZXNzX2ludGVydmFsID0gbWF4KGZsb2F0KHNlbGYucHJlc3NfaW50
ZXJ2YWxfZW50cnkuZ2V0KCkpLCBzZWxmLk1JTl9JTlRFUlZBTCkNCiAgICAgICAgICAgIGV4Y2Vw
dCBFeGNlcHRpb246DQogICAgICAgICAgICAgICAgcHJlc3NfaW50ZXJ2YWwgPSBzZWxmLk1JTl9J
TlRFUlZBTA0KICAgICAgICAgICAgdHJ5Og0KICAgICAgICAgICAgICAgIGlmIHNlbGYubW9kYnVz
MToNCiAgICAgICAgICAgICAgICAgICAgcHJlc3N1cmUgPSBzZWxmLnJlYWRfcHJlc3N1cmUoKQ0K
ICAgICAgICAgICAgICAgICAgICB0cyA9IHRpbWUudGltZSgpDQogICAgICAgICAgICAgICAgICAg
IHNlbGYuY3VycmVudF9wcmVzc3VyZSA9IHByZXNzdXJlDQogICAgICAgICAgICAgICAgICAgIHNl
bGYucHJlc3N1cmVfcXVldWUucHV0KCh0cywgcHJlc3N1cmUpKQ0KICAgICAgICAgICAgICAgICAg
ICBzZWxmLl9yZWNvcmRfcHJlc3N1cmVfaGlzdG9yeSh0cywgcHJlc3N1cmUpDQogICAgICAgICAg
ICAgICAgICAgIHRyeToNCiAgICAgICAgICAgICAgICAgICAgICAgIHNhZmV0eV92YWwgPSBmbG9h
dChzZWxmLnNhZmV0eV9wcmVzc3VyZV92YXIuZ2V0KCkpDQogICAgICAgICAgICAgICAgICAgIGV4
Y2VwdCBFeGNlcHRpb246DQogICAgICAgICAgICAgICAgICAgICAgICBzYWZldHlfdmFsID0gMzAw
MDANCiAgICAgICAgICAgICAgICAgICAgaWYgcHJlc3N1cmUgPj0gc2FmZXR5X3ZhbDoNCiAgICAg
ICAgICAgICAgICAgICAgICAgIHNlbGYubG9nKGYi4pqg77iPIOS/neaKpOWOi+WKm+inpuWPke+8
geW9k+WJjeWOi+WKmzoge3ByZXNzdXJlfWcgPiB7c2FmZXR5X3ZhbH1nIikNCiAgICAgICAgICAg
ICAgICAgICAgICAgIHNlbGYuc3RvcF9tb3Rpb24oKQ0KICAgICAgICAgICAgICAgICAgICAgICAg
c2VsZi5jdXJyZW50X3NwZWVkX3Zhci5zZXQoIjAuMDAwIikNCiAgICAgICAgICAgICAgICAgICAg
ICAgIGlmIG5vdCBoYXNhdHRyKHNlbGYsICdfcHJvdGVjdF93YXJuZWQnKSBvciBub3Qgc2VsZi5f
cHJvdGVjdF93YXJuZWQ6DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi5fcHJvdGVj
dF93YXJuZWQgPSBUcnVlDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi5hZnRlcigw
LCBsYW1iZGE6IG1lc3NhZ2Vib3guc2hvd3dhcm5pbmcoIuS/neaKpOWOi+WKmyIsDQogICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgZiLljovlipvlt7LotoXov4fkv53miqTlgLwgKHtzYWZldHlfdmFsfWcp77yM5bey
5oCl5YGc77yBIikpDQogICAgICAgICAgICBleGNlcHQgRXhjZXB0aW9uIGFzIGU6DQogICAgICAg
ICAgICAgICAgc2VsZi5sb2coZiLljovlipvmlbDmja7or7vlj5bplJnor686IHtlfSIpDQogICAg
ICAgICAgICB0aW1lLnNsZWVwKHByZXNzX2ludGVydmFsKQ0KICAgICAgICBzZWxmLmxvZygi5Y6L
5Yqb57q/56iL5bey57uT5p2fIikNCg0KICAgIGRlZiBfcmVjb3JkX3ByZXNzdXJlX2hpc3Rvcnko
c2VsZiwgdGltZXN0YW1wLCBwcmVzc3VyZSk6DQogICAgICAgIHRhcmdldCA9IGZsb2F0KGdldGF0
dHIoc2VsZiwgInRhcmdldF9wcmVzc3VyZSIsIDAuMCkpDQogICAgICAgIHdpdGggc2VsZi5fcHJl
c3N1cmVfaGlzdG9yeV9sb2NrOg0KICAgICAgICAgICAgc2VsZi5fcHJlc3N1cmVfaGlzdG9yeS5h
cHBlbmQoKGZsb2F0KHRpbWVzdGFtcCksIGZsb2F0KHByZXNzdXJlKSwgdGFyZ2V0KSkNCiAgICAg
ICAgICAgIGN1dG9mZiA9IGZsb2F0KHRpbWVzdGFtcCkgLSBmbG9hdChzZWxmLl9oaXN0b3J5X21h
eF9zZWNvbmRzKQ0KICAgICAgICAgICAgd2hpbGUgc2VsZi5fcHJlc3N1cmVfaGlzdG9yeSBhbmQg
c2VsZi5fcHJlc3N1cmVfaGlzdG9yeVswXVswXSA8IGN1dG9mZjoNCiAgICAgICAgICAgICAgICBz
ZWxmLl9wcmVzc3VyZV9oaXN0b3J5LnBvcGxlZnQoKQ0KDQogICAgZGVmIF9jb21wdXRlX3ByZXNz
dXJlX21ldHJpY3Moc2VsZiwgd2luZG93X3M9Tm9uZSk6DQogICAgICAgIGlmIHdpbmRvd19zIGlz
IE5vbmU6DQogICAgICAgICAgICB3aW5kb3dfcyA9IDYwLjANCiAgICAgICAgbm93ID0gdGltZS50
aW1lKCkNCiAgICAgICAgY3V0b2ZmID0gbm93IC0gZmxvYXQobWF4KHdpbmRvd19zLCAxLjApKQ0K
ICAgICAgICB3aXRoIHNlbGYuX3ByZXNzdXJlX2hpc3RvcnlfbG9jazoNCiAgICAgICAgICAgIHNh
bXBsZXMgPSBbaXRlbSBmb3IgaXRlbSBpbiBzZWxmLl9wcmVzc3VyZV9oaXN0b3J5IGlmIGl0ZW1b
MF0gPj0gY3V0b2ZmXQ0KICAgICAgICBpZiBub3Qgc2FtcGxlczoNCiAgICAgICAgICAgIHJldHVy
biB7DQogICAgICAgICAgICAgICAgIndpbmRvdyI6IGZsb2F0KHdpbmRvd19zKSwNCiAgICAgICAg
ICAgICAgICAic2FtcGxlcyI6IDAsDQogICAgICAgICAgICAgICAgIm1hZSI6IE5vbmUsDQogICAg
ICAgICAgICAgICAgInJtc2UiOiBOb25lLA0KICAgICAgICAgICAgICAgICJsYXN0IjogTm9uZSwN
CiAgICAgICAgICAgIH0NCiAgICAgICAgZXJyb3JzID0gW3AgLSB0IGZvciBfLCBwLCB0IGluIHNh
bXBsZXNdDQogICAgICAgIG1hZSA9IHN1bShhYnMoZSkgZm9yIGUgaW4gZXJyb3JzKSAvIGxlbihl
cnJvcnMpDQogICAgICAgIHJtc2UgPSBtYXRoLnNxcnQoc3VtKGUgKiBlIGZvciBlIGluIGVycm9y
cykgLyBsZW4oZXJyb3JzKSkNCiAgICAgICAgbGFzdCA9IHNhbXBsZXNbLTFdDQogICAgICAgIHJl
dHVybiB7DQogICAgICAgICAgICAid2luZG93IjogZmxvYXQod2luZG93X3MpLA0KICAgICAgICAg
ICAgInNhbXBsZXMiOiBsZW4oc2FtcGxlcyksDQogICAgICAgICAgICAibWFlIjogbWFlLA0KICAg
ICAgICAgICAgInJtc2UiOiBybXNlLA0KICAgICAgICAgICAgImxhc3QiOiB7DQogICAgICAgICAg
ICAgICAgInRpbWVzdGFtcCI6IGxhc3RbMF0sDQogICAgICAgICAgICAgICAgInByZXNzdXJlIjog
bGFzdFsxXSwNCiAgICAgICAgICAgICAgICAidGFyZ2V0IjogbGFzdFsyXSwNCiAgICAgICAgICAg
ICAgICAiZXJyb3IiOiBsYXN0WzFdIC0gbGFzdFsyXSwNCiAgICAgICAgICAgIH0sDQogICAgICAg
IH0NCg0KICAgIGRlZiBfaGFuZGxlX3RjcF9jb21tYW5kKHNlbGYsIHJlcXVlc3QpOg0KICAgICAg
ICBjbWQgPSBzdHIocmVxdWVzdC5nZXQoImNtZCIsICIiKSkuc3RyaXAoKS5sb3dlcigpDQogICAg
ICAgIGlmIG5vdCBjbWQ6DQogICAgICAgICAgICByYWlzZSBWYWx1ZUVycm9yKCJtaXNzaW5nIGNt
ZCIpDQoNCiAgICAgICAgaWYgY21kID09ICJwaW5nIjoNCiAgICAgICAgICAgIHJldHVybiB7InRp
bWVzdGFtcCI6IHRpbWUudGltZSgpfQ0KDQogICAgICAgIGlmIGNtZCA9PSAic3RhdHVzIjoNCiAg
ICAgICAgICAgIHJldHVybiB7InN0YXR1cyI6IHNlbGYuZ2V0X3RjcF9zdGF0dXMoKX0NCg0KICAg
ICAgICBpZiBjbWQgPT0gInNldF90YXJnZXQiOg0KICAgICAgICAgICAgaWYgInZhbHVlIiBub3Qg
aW4gcmVxdWVzdDoNCiAgICAgICAgICAgICAgICByYWlzZSBWYWx1ZUVycm9yKCJtaXNzaW5nIHZh
bHVlIikNCiAgICAgICAgICAgIHNlbGYuc2V0X3RhcmdldF9wcmVzc3VyZShyZXF1ZXN0WyJ2YWx1
ZSJdKQ0KICAgICAgICAgICAgaWYgcmVxdWVzdC5nZXQoInN0YXJ0IiwgRmFsc2UpOg0KICAgICAg
ICAgICAgICAgIHNlbGYuc3RhcnRfcHJlc3N1cmVfcmVtb3RlKCkNCiAgICAgICAgICAgIHJldHVy
biB7InJlc3VsdCI6ICJ0YXJnZXQtdXBkYXRlZCJ9DQoNCiAgICAgICAgaWYgY21kID09ICJzdGFy
dF9jb250cm9sIjoNCiAgICAgICAgICAgIG9rID0gc2VsZi5zdGFydF9wcmVzc3VyZV9yZW1vdGUo
KQ0KICAgICAgICAgICAgcmV0dXJuIHsicmVzdWx0Ijogb2t9DQoNCiAgICAgICAgaWYgY21kID09
ICJzdG9wX2NvbnRyb2wiOg0KICAgICAgICAgICAgc2VsZi5zdG9wX3ByZXNzdXJlX3JlbW90ZSgp
DQogICAgICAgICAgICByZXR1cm4geyJyZXN1bHQiOiBUcnVlfQ0KDQogICAgICAgIGlmIGNtZCA9
PSAic3RvcF9hbGwiOg0KICAgICAgICAgICAgc2VsZi5zdG9wX2FsbCgpDQogICAgICAgICAgICBy
ZXR1cm4geyJyZXN1bHQiOiBUcnVlfQ0KDQogICAgICAgIHJhaXNlIFZhbHVlRXJyb3IoZiJ1bmtu
b3duIGNtZDoge2NtZH0iKQ0KDQogICAgZGVmIGdldF90Y3Bfc3RhdHVzKHNlbGYpOg0KICAgICAg
ICBtZXRyaWNzID0gc2VsZi5fY29tcHV0ZV9wcmVzc3VyZV9tZXRyaWNzKCkNCiAgICAgICAgc3Rh
dHVzID0gew0KICAgICAgICAgICAgInRpbWVzdGFtcCI6IHRpbWUudGltZSgpLA0KICAgICAgICAg
ICAgInByZXNzdXJlIjogZmxvYXQoc2VsZi5jdXJyZW50X3ByZXNzdXJlKSwNCiAgICAgICAgICAg
ICJ0YXJnZXQiOiBmbG9hdChnZXRhdHRyKHNlbGYsICJ0YXJnZXRfcHJlc3N1cmUiLCAwLjApKSwN
CiAgICAgICAgICAgICJydW5uaW5nIjogYm9vbChzZWxmLnByZXNzdXJlX2NvbnRyb2xfcnVubmlu
ZyksDQogICAgICAgICAgICAibXVsdGlfcHJlc3N1cmVfcnVubmluZyI6IGJvb2woc2VsZi5tdWx0
aV9wcmVzc3VyZV9ydW5uaW5nKSwNCiAgICAgICAgICAgICJtYWUiOiBtZXRyaWNzLmdldCgibWFl
IiksDQogICAgICAgICAgICAicm1zZSI6IG1ldHJpY3MuZ2V0KCJybXNlIiksDQogICAgICAgICAg
ICAid2luZG93IjogbWV0cmljcy5nZXQoIndpbmRvdyIpLA0KICAgICAgICAgICAgInNhbXBsZXMi
OiBtZXRyaWNzLmdldCgic2FtcGxlcyIpLA0KICAgICAgICAgICAgImxhc3QiOiBtZXRyaWNzLmdl
dCgibGFzdCIpLA0KICAgICAgICAgICAgInRvbGVyYW5jZSI6IGZsb2F0KGdldGF0dHIoc2VsZiwg
InByZXNzdXJlX3RvbGVyYW5jZSIsIDAuMCkpLA0KICAgICAgICB9DQogICAgICAgIHJldHVybiBz
dGF0dXMNCg0KICAgIGRlZiBzZXRfdGFyZ2V0X3ByZXNzdXJlKHNlbGYsIHZhbHVlKToNCiAgICAg
ICAgdmFsdWUgPSBmbG9hdCh2YWx1ZSkNCg0KICAgICAgICBkZWYgc2V0dGVyKCk6DQogICAgICAg
ICAgICBzZWxmLnRhcmdldF9wcmVzc3VyZV92YXIuc2V0KHZhbHVlKQ0KDQogICAgICAgIHNlbGYu
Y2FsbF9pbl91aShzZXR0ZXIpDQogICAgICAgIHNlbGYudGFyZ2V0X3ByZXNzdXJlID0gdmFsdWUN
CiAgICAgICAgcmV0dXJuIFRydWUNCg0KICAgIGRlZiBzdGFydF9wcmVzc3VyZV9yZW1vdGUoc2Vs
Zik6DQogICAgICAgIGRlZiBzdGFydGVyKCk6DQogICAgICAgICAgICByZXR1cm4gc2VsZi5zdGFy
dF9wcmVzc3VyZV9jb250cm9sKG5vdGlmeT1GYWxzZSkNCg0KICAgICAgICByZXR1cm4gYm9vbChz
ZWxmLmNhbGxfaW5fdWkoc3RhcnRlcikpDQoNCiAgICBkZWYgc3RvcF9wcmVzc3VyZV9yZW1vdGUo
c2VsZik6DQogICAgICAgIHNlbGYuY2FsbF9pbl91aShzZWxmLnN0b3BfcHJlc3N1cmVfY29udHJv
bCkNCiAgICAgICAgcmV0dXJuIFRydWUNCg0KICAgIGRlZiBwb2xsX3Bvc2l0aW9uX2RhdGEoc2Vs
Zik6DQogICAgICAgIHNlbGYucG9zaXRpb25fdGhyZWFkX3J1bm5pbmcgPSBUcnVlDQogICAgICAg
IHdoaWxlIGdldGF0dHIoc2VsZiwgJ3Bvc2l0aW9uX3RocmVhZF9ydW5uaW5nJywgVHJ1ZSkgYW5k
IHNlbGYuY29udHJvbGxlcl9jb25uZWN0ZWQ6DQogICAgICAgICAgICB0cnk6DQogICAgICAgICAg
ICAgICAgcG9zX2ludGVydmFsID0gbWF4KGZsb2F0KHNlbGYucG9zX2ludGVydmFsX2VudHJ5Lmdl
dCgpKSwgc2VsZi5NSU5fSU5URVJWQUwpDQogICAgICAgICAgICBleGNlcHQgRXhjZXB0aW9uOg0K
ICAgICAgICAgICAgICAgIHBvc19pbnRlcnZhbCA9IHNlbGYuTUlOX0lOVEVSVkFMDQogICAgICAg
ICAgICB0cnk6DQogICAgICAgICAgICAgICAgaWYgc2VsZi5tb2RidXMyOg0KICAgICAgICAgICAg
ICAgICAgICByZXNwID0gc2VsZi5tb2RidXMyLnJlYWRfcmVnaXN0ZXJzKDEwMCwgMikNCiAgICAg
ICAgICAgICAgICAgICAgaWYgcmVzcCBhbmQgbGVuKHJlc3ApID49IDcgYW5kIHJlc3BbMl0gPj0g
NDoNCiAgICAgICAgICAgICAgICAgICAgICAgIGRhdGEgPSByZXNwWzM6N10NCiAgICAgICAgICAg
ICAgICAgICAgICAgIGxvd193b3JkID0gaW50LmZyb21fYnl0ZXMoZGF0YVswOjJdLCBieXRlb3Jk
ZXI9J2JpZycsIHNpZ25lZD1UcnVlKQ0KICAgICAgICAgICAgICAgICAgICAgICAgaGlnaF93b3Jk
ID0gaW50LmZyb21fYnl0ZXMoZGF0YVsyOjRdLCBieXRlb3JkZXI9J2JpZycsIHNpZ25lZD1UcnVl
KQ0KICAgICAgICAgICAgICAgICAgICAgICAgcG9zX3JhdyA9IChoaWdoX3dvcmQgPDwgMTYpIHwg
KGxvd193b3JkICYgMHhGRkZGKQ0KICAgICAgICAgICAgICAgICAgICAgICAgaWYgcG9zX3JhdyA+
PSAweDgwMDAwMDAwOg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBvc19yYXcgLT0gMHgx
MDAwMDAwMDANCiAgICAgICAgICAgICAgICAgICAgICAgIHBvc2l0aW9uID0gcG9zX3JhdyAvIDEw
MDAuMA0KICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi5jdXJyZW50X3Bvc2l0aW9uID0gcG9z
aXRpb24NCiAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYucG9zaXRpb25fcXVldWUucHV0KCh0
aW1lLnRpbWUoKSwgcG9zaXRpb24pKQ0KICAgICAgICAgICAgICAgICAgICBzcGVlZCA9IHNlbGYu
cmVhZF9zcGVlZCgpDQogICAgICAgICAgICAgICAgICAgIHNlbGYuY3VycmVudF9zcGVlZF92YXIu
c2V0KGYie3NwZWVkOi4zZn0iKQ0KICAgICAgICAgICAgZXhjZXB0IEV4Y2VwdGlvbiBhcyBlOg0K
ICAgICAgICAgICAgICAgIHNlbGYubG9nKGYi5L2N572u5oiW6YCf5bqm5pWw5o2u6K+75Y+W6ZSZ
6K+vOiB7ZX0iKQ0KICAgICAgICAgICAgdGltZS5zbGVlcChwb3NfaW50ZXJ2YWwpDQogICAgICAg
IHNlbGYubG9nKCLkvY3nva7nur/nqIvlt7Lnu5PmnZ8iKQ0KDQogICAgZGVmIHBvbGxfZGV2aWNl
X2RhdGEoc2VsZik6DQogICAgICAgIHRyeToNCiAgICAgICAgICAgIHByZXNzX2ludGVydmFsID0g
bWF4KGZsb2F0KHNlbGYucHJlc3NfaW50ZXJ2YWxfZW50cnkuZ2V0KCkpLCBzZWxmLk1JTl9JTlRF
UlZBTCkNCiAgICAgICAgZXhjZXB0IEV4Y2VwdGlvbjoNCiAgICAgICAgICAgIHByZXNzX2ludGVy
dmFsID0gc2VsZi5NSU5fSU5URVJWQUwNCiAgICAgICAgdHJ5Og0KICAgICAgICAgICAgcG9zX2lu
dGVydmFsID0gbWF4KGZsb2F0KHNlbGYucG9zX2ludGVydmFsX2VudHJ5LmdldCgpKSwgc2VsZi5N
SU5fSU5URVJWQUwpDQogICAgICAgIGV4Y2VwdCBFeGNlcHRpb246DQogICAgICAgICAgICBwb3Nf
aW50ZXJ2YWwgPSBzZWxmLk1JTl9JTlRFUlZBTA0KDQogICAgICAgIGxhc3RfcHJlc3NfdGltZSA9
IDANCiAgICAgICAgbGFzdF9wb3NfdGltZSA9IDANCg0KICAgICAgICB3aGlsZSBzZWxmLnNlbnNv
cl9jb25uZWN0ZWQgb3Igc2VsZi5jb250cm9sbGVyX2Nvbm5lY3RlZDoNCiAgICAgICAgICAgIG5v
dyA9IHRpbWUudGltZSgpDQogICAgICAgICAgICBpZiBzZWxmLnNlbnNvcl9jb25uZWN0ZWQgYW5k
IChub3cgLSBsYXN0X3ByZXNzX3RpbWUgPj0gcHJlc3NfaW50ZXJ2YWwpOg0KICAgICAgICAgICAg
ICAgIHRyeToNCiAgICAgICAgICAgICAgICAgICAgaWYgc2VsZi5tb2RidXMxOg0KICAgICAgICAg
ICAgICAgICAgICAgICAgcHJlc3N1cmUgPSBzZWxmLnJlYWRfcHJlc3N1cmUoKQ0KICAgICAgICAg
ICAgICAgICAgICAgICAgc2VsZi5jdXJyZW50X3ByZXNzdXJlID0gcHJlc3N1cmUNCiAgICAgICAg
ICAgICAgICAgICAgICAgIHNlbGYucHJlc3N1cmVfcXVldWUucHV0KChub3csIHByZXNzdXJlKSkN
CiAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYuX3JlY29yZF9wcmVzc3VyZV9oaXN0b3J5KG5v
dywgcHJlc3N1cmUpDQogICAgICAgICAgICAgICAgICAgICAgICB0cnk6DQogICAgICAgICAgICAg
ICAgICAgICAgICAgICAgc2FmZXR5X3ZhbCA9IGZsb2F0KHNlbGYuc2FmZXR5X3ByZXNzdXJlX3Zh
ci5nZXQoKSkNCiAgICAgICAgICAgICAgICAgICAgICAgIGV4Y2VwdCBFeGNlcHRpb246DQogICAg
ICAgICAgICAgICAgICAgICAgICAgICAgc2FmZXR5X3ZhbCA9IDIwMDANCiAgICAgICAgICAgICAg
ICAgICAgICAgIGlmIHByZXNzdXJlID49IHNhZmV0eV92YWw6DQogICAgICAgICAgICAgICAgICAg
ICAgICAgICAgc2VsZi5sb2coZiLimqDvuI8g5L+d5oqk5Y6L5Yqb6Kem5Y+R77yB5b2T5YmN5Y6L
5YqbOiB7cHJlc3N1cmV9ZyA+IHtzYWZldHlfdmFsfWciKQ0KICAgICAgICAgICAgICAgICAgICAg
ICAgICAgIHNlbGYuc3RvcF9tb3Rpb24oKQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNl
bGYuY3VycmVudF9zcGVlZF92YXIuc2V0KCIwLjAwMCIpDQogICAgICAgICAgICAgICAgICAgICAg
ICAgICAgbWVzc2FnZWJveC5zaG93d2FybmluZygi5L+d5oqk5Y6L5YqbIiwgZiLljovlipvlt7Lo
toXov4fkv53miqTlgLwgKHtzYWZldHlfdmFsfWcp77yM5bey5oCl5YGc77yBIikNCiAgICAgICAg
ICAgICAgICBleGNlcHQgRXhjZXB0aW9uIGFzIGU6DQogICAgICAgICAgICAgICAgICAgIHNlbGYu
bG9nKGYi5Y6L5Yqb5pWw5o2u6K+75Y+W6ZSZ6K+vOiB7ZX0iKQ0KICAgICAgICAgICAgICAgIGxh
c3RfcHJlc3NfdGltZSA9IG5vdw0KDQogICAgICAgICAgICBpZiBzZWxmLmNvbnRyb2xsZXJfY29u
bmVjdGVkIGFuZCAobm93IC0gbGFzdF9wb3NfdGltZSA+PSBwb3NfaW50ZXJ2YWwpOg0KICAgICAg
ICAgICAgICAgIHRyeToNCiAgICAgICAgICAgICAgICAgICAgaWYgc2VsZi5tb2RidXMyOg0KICAg
ICAgICAgICAgICAgICAgICAgICAgcmVzcCA9IHNlbGYubW9kYnVzMi5yZWFkX3JlZ2lzdGVycygx
MDAsIDIpDQogICAgICAgICAgICAgICAgICAgICAgICBpZiByZXNwIGFuZCBsZW4ocmVzcCkgPj0g
NyBhbmQgcmVzcFsyXSA+PSA0Og0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGEgPSBy
ZXNwWzM6N10NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsb3dfd29yZCA9IGludC5mcm9t
X2J5dGVzKGRhdGFbMDoyXSwgYnl0ZW9yZGVyPSdiaWcnLCBzaWduZWQ9VHJ1ZSkNCiAgICAgICAg
ICAgICAgICAgICAgICAgICAgICBoaWdoX3dvcmQgPSBpbnQuZnJvbV9ieXRlcyhkYXRhWzI6NF0s
IGJ5dGVvcmRlcj0nYmlnJywgc2lnbmVkPVRydWUpDQogICAgICAgICAgICAgICAgICAgICAgICAg
ICAgcG9zX3JhdyA9IChoaWdoX3dvcmQgPDwgMTYpIHwgKGxvd193b3JkICYgMHhGRkZGKQ0KICAg
ICAgICAgICAgICAgICAgICAgICAgICAgIGlmIHBvc19yYXcgPj0gMHg4MDAwMDAwMDoNCiAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgcG9zX3JhdyAtPSAweDEwMDAwMDAwMA0KICAgICAg
ICAgICAgICAgICAgICAgICAgICAgIHBvc2l0aW9uID0gcG9zX3JhdyAvIDEwMDAuMA0KICAgICAg
ICAgICAgICAgICAgICAgICAgICAgIHNlbGYuY3VycmVudF9wb3NpdGlvbiA9IHBvc2l0aW9uDQog
ICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi5wb3NpdGlvbl9xdWV1ZS5wdXQoKG5vdywg
cG9zaXRpb24pKQ0KICAgICAgICAgICAgICAgIGV4Y2VwdCBFeGNlcHRpb24gYXMgZToNCiAgICAg
ICAgICAgICAgICAgICAgc2VsZi5sb2coZiLkvY3nva7mlbDmja7or7vlj5bplJnor686IHtlfSIp
DQogICAgICAgICAgICAgICAgbGFzdF9wb3NfdGltZSA9IG5vdw0KICAgICAgICAgICAgdGltZS5z
bGVlcCgwLjAwNSkKCiAgICBkZWYgX25vcm1hbGl6ZV9pbnRlcnZhbF92YWx1ZShzZWxmLCByYXdf
dmFsdWUsIGRlZmF1bHQpOgogICAgICAgIHRyeToKICAgICAgICAgICAgdmFsdWUgPSBmbG9hdChy
YXdfdmFsdWUpCiAgICAgICAgZXhjZXB0IChUeXBlRXJyb3IsIFZhbHVlRXJyb3IsIHRrLlRjbEVy
cm9yKToKICAgICAgICAgICAgdmFsdWUgPSBkZWZhdWx0CiAgICAgICAgaWYgbm90IG1hdGguaXNm
aW5pdGUodmFsdWUpIG9yIHZhbHVlIDw9IDA6CiAgICAgICAgICAgIHZhbHVlID0gZGVmYXVsdAog
ICAgICAgIHJldHVybiBtYXgoMjAuMCwgbWluKDEwMDAuMCwgdmFsdWUpKQoKICAgIGRlZiBfZm9y
bWF0X2ludGVydmFsKHNlbGYsIHZhbHVlOiBmbG9hdCkgLT4gc3RyOgogICAgICAgIHRyeToKICAg
ICAgICAgICAgdmFsdWUgPSBmbG9hdCh2YWx1ZSkKICAgICAgICBleGNlcHQgKFR5cGVFcnJvciwg
VmFsdWVFcnJvcik6CiAgICAgICAgICAgIHJldHVybiAiMCIKICAgICAgICBpZiBhYnModmFsdWUg
LSByb3VuZCh2YWx1ZSkpIDwgMWUtNjoKICAgICAgICAgICAgcmV0dXJuIHN0cihpbnQocm91bmQo
dmFsdWUpKSkKICAgICAgICByZXR1cm4gZiJ7dmFsdWU6LjFmfSIKCiAgICBkZWYgX2dldF9pbnRl
cnZhbF9tcyhzZWxmLCB2YXI6IHRrLlN0cmluZ1ZhciwgZGVmYXVsdDogZmxvYXQpIC0+IGZsb2F0
OgogICAgICAgIHJldHVybiBzZWxmLl9ub3JtYWxpemVfaW50ZXJ2YWxfdmFsdWUodmFyLmdldCgp
LCBkZWZhdWx0KQoKICAgIEBzdGF0aWNtZXRob2QKICAgIGRlZiBfdXBkYXRlX3JlZnJlc2hfcmF0
ZV9sYWJlbChsYWJlbF92YXI6IHRrLlN0cmluZ1ZhciwgaW50ZXJ2YWxfbXM6IGZsb2F0KSAtPiBO
b25lOgogICAgICAgIGh6ID0gMTAwMC4wIC8gaW50ZXJ2YWxfbXMgaWYgaW50ZXJ2YWxfbXMgPiAw
IGVsc2UgMC4wCiAgICAgICAgbGFiZWxfdmFyLnNldChmIuKJiCB7aHo6LjFmfSBIeiIpCgogICAg
ZGVmIF9vbl91aV9yZWZyZXNoX2ludGVydmFsX2NoYW5nZWQoc2VsZiwgKl9hcmdzKToKICAgICAg
ICBpbnRlcnZhbF9tcyA9IHNlbGYuX2dldF9pbnRlcnZhbF9tcygKICAgICAgICAgICAgc2VsZi51
aV9yZWZyZXNoX2ludGVydmFsX21zX3Zhciwgc2VsZi5fdWlfcmVmcmVzaF9kZWZhdWx0X21zCiAg
ICAgICAgKQogICAgICAgIHNlbGYuX3VwZGF0ZV9yZWZyZXNoX3JhdGVfbGFiZWwoc2VsZi51aV9y
ZWZyZXNoX3JhdGVfdmFyLCBpbnRlcnZhbF9tcykKICAgICAgICBpZiBnZXRhdHRyKHNlbGYsICJf
cGVyaW9kaWNfam9ic19lbmFibGVkIiwgRmFsc2UpOgogICAgICAgICAgICBzZWxmLl9yZXNjaGVk
dWxlX3VpX3VwZGF0ZShpbnRlcnZhbF9tcykKCiAgICBkZWYgX29uX3Bsb3RfcmVmcmVzaF9pbnRl
cnZhbF9jaGFuZ2VkKHNlbGYsICpfYXJncyk6CiAgICAgICAgaW50ZXJ2YWxfbXMgPSBzZWxmLl9n
ZXRfaW50ZXJ2YWxfbXMoCiAgICAgICAgICAgIHNlbGYucGxvdF9yZWZyZXNoX2ludGVydmFsX21z
X3Zhciwgc2VsZi5fcGxvdF9yZWZyZXNoX2RlZmF1bHRfbXMKICAgICAgICApCiAgICAgICAgc2Vs
Zi5fdXBkYXRlX3JlZnJlc2hfcmF0ZV9sYWJlbChzZWxmLnBsb3RfcmVmcmVzaF9yYXRlX3Zhciwg
aW50ZXJ2YWxfbXMpCiAgICAgICAgaWYgZ2V0YXR0cihzZWxmLCAiX3BlcmlvZGljX2pvYnNfZW5h
YmxlZCIsIEZhbHNlKToKICAgICAgICAgICAgc2VsZi5fcmVzY2hlZHVsZV9wbG90X3VwZGF0ZShp
bnRlcnZhbF9tcykKCiAgICBkZWYgX3Jlc2NoZWR1bGVfdWlfdXBkYXRlKHNlbGYsIGludGVydmFs
X21zOiBmbG9hdCB8IE5vbmUgPSBOb25lKSAtPiBOb25lOgogICAgICAgIGlmIHNlbGYuX3VpX3Vw
ZGF0ZV9qb2IgaXMgbm90IE5vbmU6CiAgICAgICAgICAgIHRyeToKICAgICAgICAgICAgICAgIHNl
bGYuYWZ0ZXJfY2FuY2VsKHNlbGYuX3VpX3VwZGF0ZV9qb2IpCiAgICAgICAgICAgIGV4Y2VwdCBF
eGNlcHRpb246CiAgICAgICAgICAgICAgICBwYXNzCiAgICAgICAgICAgIHNlbGYuX3VpX3VwZGF0
ZV9qb2IgPSBOb25lCiAgICAgICAgaWYgbm90IGdldGF0dHIoc2VsZiwgIl9wZXJpb2RpY19qb2Jz
X2VuYWJsZWQiLCBGYWxzZSk6CiAgICAgICAgICAgIHJldHVybgogICAgICAgIGlmIGludGVydmFs
X21zIGlzIE5vbmU6CiAgICAgICAgICAgIGludGVydmFsX21zID0gc2VsZi5fZ2V0X2ludGVydmFs
X21zKAogICAgICAgICAgICAgICAgc2VsZi51aV9yZWZyZXNoX2ludGVydmFsX21zX3Zhciwgc2Vs
Zi5fdWlfcmVmcmVzaF9kZWZhdWx0X21zCiAgICAgICAgICAgICkKICAgICAgICBpbnRlcnZhbF9t
cyA9IG1heCgxLCBpbnQocm91bmQoaW50ZXJ2YWxfbXMpKSkKICAgICAgICBzZWxmLl91aV91cGRh
dGVfam9iID0gc2VsZi5hZnRlcihpbnRlcnZhbF9tcywgc2VsZi51cGRhdGVfdWlfcGVyaW9kaWNh
bGx5KQoKICAgIGRlZiBfcmVzY2hlZHVsZV9wbG90X3VwZGF0ZShzZWxmLCBpbnRlcnZhbF9tczog
ZmxvYXQgfCBOb25lID0gTm9uZSkgLT4gTm9uZToKICAgICAgICBpZiBzZWxmLl9wbG90X3VwZGF0
ZV9qb2IgaXMgbm90IE5vbmU6CiAgICAgICAgICAgIHRyeToKICAgICAgICAgICAgICAgIHNlbGYu
YWZ0ZXJfY2FuY2VsKHNlbGYuX3Bsb3RfdXBkYXRlX2pvYikKICAgICAgICAgICAgZXhjZXB0IEV4
Y2VwdGlvbjoKICAgICAgICAgICAgICAgIHBhc3MKICAgICAgICAgICAgc2VsZi5fcGxvdF91cGRh
dGVfam9iID0gTm9uZQogICAgICAgIGlmIG5vdCBnZXRhdHRyKHNlbGYsICJfcGVyaW9kaWNfam9i
c19lbmFibGVkIiwgRmFsc2UpOgogICAgICAgICAgICByZXR1cm4KICAgICAgICBpZiBpbnRlcnZh
bF9tcyBpcyBOb25lOgogICAgICAgICAgICBpbnRlcnZhbF9tcyA9IHNlbGYuX2dldF9pbnRlcnZh
bF9tcygKICAgICAgICAgICAgICAgIHNlbGYucGxvdF9yZWZyZXNoX2ludGVydmFsX21zX3Zhciwg
c2VsZi5fcGxvdF9yZWZyZXNoX2RlZmF1bHRfbXMKICAgICAgICAgICAgKQogICAgICAgIGludGVy
dmFsX21zID0gbWF4KDEsIGludChyb3VuZChpbnRlcnZhbF9tcykpKQogICAgICAgIHNlbGYuX3Bs
b3RfdXBkYXRlX2pvYiA9IHNlbGYuYWZ0ZXIoaW50ZXJ2YWxfbXMsIHNlbGYudXBkYXRlX3Bsb3Rf
cGVyaW9kaWNhbGx5KQoKICAgIGRlZiBfY2FuY2VsX3BlcmlvZGljX2pvYnMoc2VsZikgLT4gTm9u
ZToKICAgICAgICBzZWxmLl9wZXJpb2RpY19qb2JzX2VuYWJsZWQgPSBGYWxzZQogICAgICAgIGZv
ciBhdHRyIGluICgiX3VpX3VwZGF0ZV9qb2IiLCAiX3Bsb3RfdXBkYXRlX2pvYiIpOgogICAgICAg
ICAgICBqb2IgPSBnZXRhdHRyKHNlbGYsIGF0dHIsIE5vbmUpCiAgICAgICAgICAgIGlmIGpvYiBp
cyBub3QgTm9uZToKICAgICAgICAgICAgICAgIHRyeToKICAgICAgICAgICAgICAgICAgICBzZWxm
LmFmdGVyX2NhbmNlbChqb2IpCiAgICAgICAgICAgICAgICBleGNlcHQgRXhjZXB0aW9uOgogICAg
ICAgICAgICAgICAgICAgIHBhc3MKICAgICAgICAgICAgICAgIHNldGF0dHIoc2VsZiwgYXR0ciwg
Tm9uZSkKCiAgICBkZWYgdXBkYXRlX3VpX3BlcmlvZGljYWxseShzZWxmKToKICAgICAgICBzZWxm
Ll91aV91cGRhdGVfam9iID0gTm9uZQogICAgICAgIGlmIG5vdCBnZXRhdHRyKHNlbGYsICJfcGVy
aW9kaWNfam9ic19lbmFibGVkIiwgRmFsc2UpOgogICAgICAgICAgICByZXR1cm4KCiAgICAgICAg
dHJ5OgogICAgICAgICAgICBzZWxmLnByb2Nlc3NfcXVldWVkX2RhdGEoKQogICAgICAgICAgICBz
ZWxmLmN1cnJlbnRfcG9zX3Zhci5zZXQoZiJ7c2VsZi5jdXJyZW50X3Bvc2l0aW9uOi4zZn0iKQog
ICAgICAgICAgICBzZWxmLnJlZnJlc2hfcHJlc3N1cmVfZGlzcGxheSgpCgogICAgICAgICAgICBu
b3cgPSB0aW1lLnRpbWUoKQogICAgICAgICAgICBpZiAobm90IHNlbGYucGl4ZWxfZGV0ZWN0aW9u
X2VuYWJsZWQuZ2V0KCkKICAgICAgICAgICAgICAgICAgICBvciBzZWxmLnByZXNzdXJlX2NvbnRy
b2xfcnVubmluZwogICAgICAgICAgICAgICAgICAgIG9yIG5vdyA8IHNlbGYucGl4ZWxfZGV0ZWN0
aW9uX3BhdXNlZF91bnRpbCk6CiAgICAgICAgICAgICAgICBzZWxmLl9sYXN0X3BpeGVsX2NoZWNr
X3RzID0gbm93CiAgICAgICAgICAgIGVsc2U6CiAgICAgICAgICAgICAgICB0cnk6CiAgICAgICAg
ICAgICAgICAgICAgaW50ZXJ2YWxfcyA9IGZsb2F0KHNlbGYuZGV0ZWN0aW9uX2ludGVydmFsX3Zh
ci5nZXQoKSkgLyAxMDAwLjAKICAgICAgICAgICAgICAgIGV4Y2VwdCBFeGNlcHRpb246CiAgICAg
ICAgICAgICAgICAgICAgaW50ZXJ2YWxfcyA9IDEuMAogICAgICAgICAgICAgICAgaW50ZXJ2YWxf
cyA9IG1heChpbnRlcnZhbF9zLCAwLjA1KQogICAgICAgICAgICAgICAgaWYgbm93IC0gZ2V0YXR0
cihzZWxmLCAiX2xhc3RfcGl4ZWxfY2hlY2tfdHMiLCAwLjApID49IGludGVydmFsX3M6CiAgICAg
ICAgICAgICAgICAgICAgY2hhbmdlZCwgbXNnID0gc2VsZi5jaGVja19waXhlbF9jaGFuZ2UoKQog
ICAgICAgICAgICAgICAgICAgIGlmIHNlbGYucGl4ZWxfbG9nX2VuYWJsZWQuZ2V0KCk6CiAgICAg
ICAgICAgICAgICAgICAgICAgIHNlbGYubG9nKGYi5YOP57Sg5qOA5rWLOiB7bXNnfSIpCiAgICAg
ICAgICAgICAgICAgICAgaWYgY2hhbmdlZDoKICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi5z
ZXRfaW5kaWNhdG9yX2NvbG9yKCJncmVlbiIpCiAgICAgICAgICAgICAgICAgICAgc2VsZi5fbGFz
dF9waXhlbF9jaGVja190cyA9IG5vdwoKICAgICAgICAgICAgdHJ5OgogICAgICAgICAgICAgICAg
c2FmZXR5X3ZhbCA9IGZsb2F0KHNlbGYuc2FmZXR5X3ByZXNzdXJlX3Zhci5nZXQoKSkKICAgICAg
ICAgICAgZXhjZXB0IEV4Y2VwdGlvbjoKICAgICAgICAgICAgICAgIHNhZmV0eV92YWwgPSAyMDAw
LjAKCiAgICAgICAgICAgIGlmIHNlbGYuY3VycmVudF9wcmVzc3VyZSA+PSBzYWZldHlfdmFsOgog
ICAgICAgICAgICAgICAgaWYgbm90IHNlbGYuZmxhc2hpbmc6CiAgICAgICAgICAgICAgICAgICAg
c2VsZi5mbGFzaGluZyA9IFRydWUKICAgICAgICAgICAgICAgICAgICBzZWxmLnN0YXJ0X3ByZXNz
dXJlX2ZsYXNoKCkKICAgICAgICAgICAgZWxzZToKICAgICAgICAgICAgICAgIGlmIHNlbGYuZmxh
c2hpbmc6CiAgICAgICAgICAgICAgICAgICAgc2VsZi5mbGFzaGluZyA9IEZhbHNlCiAgICAgICAg
ICAgICAgICBzZWxmLmJpZ19wcmVzc3VyZV9sYWJlbC5jb25maWcoYmFja2dyb3VuZD0id2hpdGUi
LCBmb3JlZ3JvdW5kPSJibGFjayIpCgogICAgICAgIGV4Y2VwdCBFeGNlcHRpb24gYXMgZXhjOiAg
IyBub3FhOiBCTEUwMDEKICAgICAgICAgICAgdHJ5OgogICAgICAgICAgICAgICAgc2VsZi5sb2co
ZiJVSSDliLfmlrDlvILluLg6IHtleGN9IikKICAgICAgICAgICAgZXhjZXB0IEV4Y2VwdGlvbjoK
ICAgICAgICAgICAgICAgIHBhc3MKICAgICAgICBmaW5hbGx5OgogICAgICAgICAgICBpZiBnZXRh
dHRyKHNlbGYsICJfcGVyaW9kaWNfam9ic19lbmFibGVkIiwgRmFsc2UpOgogICAgICAgICAgICAg
ICAgc2VsZi5fcmVzY2hlZHVsZV91aV91cGRhdGUoKQoKICAgIGRlZiBzdGFydF9wcmVzc3VyZV9m
bGFzaChzZWxmKToKICAgICAgICBpZiBub3Qgc2VsZi5mbGFzaGluZzoKICAgICAgICAgICAgc2Vs
Zi5iaWdfcHJlc3N1cmVfbGFiZWwuY29uZmlnKGJhY2tncm91bmQ9IndoaXRlIiwgZm9yZWdyb3Vu
ZD0iYmxhY2siKQogICAgICAgICAgICByZXR1cm4KICAgICAgICBpZiBzZWxmLmZsYXNoX3N0YXRl
OgogICAgICAgICAgICBzZWxmLmJpZ19wcmVzc3VyZV9sYWJlbC5jb25maWcoYmFja2dyb3VuZD0i
eWVsbG93IiwgZm9yZWdyb3VuZD0icmVkIikKICAgICAgICBlbHNlOg0KICAgICAgICAgICAgc2Vs
Zi5iaWdfcHJlc3N1cmVfbGFiZWwuY29uZmlnKGJhY2tncm91bmQ9InJlZCIsIGZvcmVncm91bmQ9
InllbGxvdyIpDQogICAgICAgIHNlbGYuZmxhc2hfc3RhdGUgPSBub3Qgc2VsZi5mbGFzaF9zdGF0
ZQ0KICAgICAgICBzZWxmLmFmdGVyKDM1MCwgc2VsZi5zdGFydF9wcmVzc3VyZV9mbGFzaCkNCg0K
ICAgIGRlZiB1cGRhdGVfcGxvdF9wZXJpb2RpY2FsbHkoc2VsZik6CiAgICAgICAgIiIiCiAgICAg
ICAg5qC55o2uIHNlbGYucGxvdF93aW5kb3dfc2Vjb25kc192YXIg55qE5pe26Ze056qX5LuF57uY
5Yi25pyA6L+R5LiA5q615pWw5o2u77yaCiAgICAgICAgLSDpgb/lhY0gWCDovbTkuIrkuIvpmZDn
m7jlkIzlr7zoh7TnmoQgc2luZ3VsYXIg6K2m5ZGK77yI5Y+q5pyJ5LiA5Liq54K55pe26Ieq5Yqo
5Yqg5L2Z6YeP77yJCiAgICAgICAgLSDov4fmu6QgTmFOL0luZgogICAgICAgIC0g5oq956iA5Yiw
5pyA5aSaIH4zMDAwIOeCue+8jOmZjeS9jumHjee7mOi0n+aLhQogICAgICAgICIiIgogICAgICAg
IGltcG9ydCBiaXNlY3QKCiAgICAgICAgc2VsZi5fcGxvdF91cGRhdGVfam9iID0gTm9uZQogICAg
ICAgIGlmIG5vdCBnZXRhdHRyKHNlbGYsICJfcGVyaW9kaWNfam9ic19lbmFibGVkIiwgRmFsc2Up
OgogICAgICAgICAgICByZXR1cm4KCiAgICAgICAgTUFYX1BPSU5UUyA9IDMwMDAgICMg5q+P5p2h
5puy57q/5pyA5aSa57uY5Yi255qE54K55pWwCgogICAgICAgIHRyeToKICAgICAgICAgICAgbiA9
IG1pbihsZW4oc2VsZi50aW1lX2RhdGEpLCBsZW4oc2VsZi5wb3NfZGF0YSksIGxlbihzZWxmLnBy
ZXNzdXJlX2RhdGEpKQogICAgICAgICAgICBpZiBuIDwgMToKICAgICAgICAgICAgICAgIHJldHVy
bgoKICAgICAgICAgICAgdCA9IGxpc3Qoc2VsZi50aW1lX2RhdGFbLW46XSkKICAgICAgICAgICAg
cG9zID0gbGlzdChzZWxmLnBvc19kYXRhWy1uOl0pCiAgICAgICAgICAgIHByZSA9IGxpc3Qoc2Vs
Zi5wcmVzc3VyZV9kYXRhWy1uOl0pCgogICAgICAgICAgICBmaWx0ZXJlZCA9IFsKICAgICAgICAg
ICAgICAgICh0aSwgeGksIHlpKQogICAgICAgICAgICAgICAgZm9yIHRpLCB4aSwgeWkgaW4gemlw
KHQsIHBvcywgcHJlKQogICAgICAgICAgICAgICAgaWYgKAogICAgICAgICAgICAgICAgICAgIHRp
IGlzIG5vdCBOb25lCiAgICAgICAgICAgICAgICAgICAgYW5kIHhpIGlzIG5vdCBOb25lCiAgICAg
ICAgICAgICAgICAgICAgYW5kIHlpIGlzIG5vdCBOb25lCiAgICAgICAgICAgICAgICAgICAgYW5k
IG1hdGguaXNmaW5pdGUodGkpCiAgICAgICAgICAgICAgICAgICAgYW5kIG1hdGguaXNmaW5pdGUo
eGkpCiAgICAgICAgICAgICAgICAgICAgYW5kIG1hdGguaXNmaW5pdGUoeWkpCiAgICAgICAgICAg
ICAgICApCiAgICAgICAgICAgIF0KICAgICAgICAgICAgaWYgbm90IGZpbHRlcmVkOgogICAgICAg
ICAgICAgICAgcmV0dXJuCiAgICAgICAgICAgIHQsIHBvcywgcHJlID0gbWFwKGxpc3QsIHppcCgq
ZmlsdGVyZWQpKQoKICAgICAgICAgICAgdHJ5OgogICAgICAgICAgICAgICAgd2luZG93X3MgPSBm
bG9hdChzZWxmLnBsb3Rfd2luZG93X3NlY29uZHNfdmFyLmdldCgpKQogICAgICAgICAgICAgICAg
aWYgd2luZG93X3MgPCAwOgogICAgICAgICAgICAgICAgICAgIHdpbmRvd19zID0gMC4wCiAgICAg
ICAgICAgIGV4Y2VwdCBFeGNlcHRpb246CiAgICAgICAgICAgICAgICB3aW5kb3dfcyA9IDAuMAoK
ICAgICAgICAgICAgaWYgd2luZG93X3MgPiAwIGFuZCBsZW4odCkgPiAxOgogICAgICAgICAgICAg
ICAgdF9lbmQgPSB0Wy0xXQogICAgICAgICAgICAgICAgdF9zdGFydCA9IHRfZW5kIC0gd2luZG93
X3MKICAgICAgICAgICAgICAgIGkwID0gYmlzZWN0LmJpc2VjdF9sZWZ0KHQsIHRfc3RhcnQpCiAg
ICAgICAgICAgICAgICB0LCBwb3MsIHByZSA9IHRbaTA6XSwgcG9zW2kwOl0sIHByZVtpMDpdCgog
ICAgICAgICAgICAgICAgaWYgbm90IHQ6CiAgICAgICAgICAgICAgICAgICAgdCwgcG9zLCBwcmUg
PSBbdF9lbmRdLCBbcG9zWy0xXV0sIFtwcmVbLTFdXQoKICAgICAgICAgICAgbiA9IGxlbih0KQog
ICAgICAgICAgICBpZiBuID4gTUFYX1BPSU5UUzoKICAgICAgICAgICAgICAgIHN0ZXAgPSBtYXgo
MSwgbiAvLyBNQVhfUE9JTlRTKQogICAgICAgICAgICAgICAgdCA9IHRbOjpzdGVwXQogICAgICAg
ICAgICAgICAgcG9zID0gcG9zWzo6c3RlcF0KICAgICAgICAgICAgICAgIHByZSA9IHByZVs6OnN0
ZXBdCiAgICAgICAgICAgICAgICBuID0gbGVuKHQpCgogICAgICAgICAgICBzZWxmLmxpbmVfcG9z
LnNldF9kYXRhKHQsIHBvcykKICAgICAgICAgICAgc2VsZi5saW5lX3ByZXNzLnNldF9kYXRhKHQs
IHByZSkKCiAgICAgICAgICAgIGlmIG4gPj0gMToKICAgICAgICAgICAgICAgIHgwLCB4MSA9IHRb
MF0sIHRbLTFdCiAgICAgICAgICAgICAgICBpZiB4MSA9PSB4MDoKICAgICAgICAgICAgICAgICAg
ICBwYWQgPSBtYXgoMWUtNiwgKDAuMDIgKiB3aW5kb3dfcykgaWYgd2luZG93X3MgPiAwIGVsc2Ug
MS4wKQogICAgICAgICAgICAgICAgICAgIHNlbGYuYXguc2V0X3hsaW0oeDAgLSBwYWQsIHgxICsg
cGFkKQogICAgICAgICAgICAgICAgZWxzZToKICAgICAgICAgICAgICAgICAgICBzZWxmLmF4LnNl
dF94bGltKHgwLCB4MSkKCiAgICAgICAgICAgIGlmIHBvczoKICAgICAgICAgICAgICAgIHltaW4s
IHltYXggPSBtaW4ocG9zKSwgbWF4KHBvcykKICAgICAgICAgICAgICAgIHBhZCA9IG1heCgxZS05
LCAoeW1heCAtIHltaW4pICogMC4wNSBpZiB5bWF4ICE9IHltaW4gZWxzZSBhYnMoeW1pbikgKiAw
LjA1IG9yIDFlLTYpCiAgICAgICAgICAgICAgICBzZWxmLmF4LnNldF95bGltKHltaW4gLSBwYWQs
IHltYXggKyBwYWQpCgogICAgICAgICAgICBpZiBwcmU6CiAgICAgICAgICAgICAgICB5bWluMiwg
eW1heDIgPSBtaW4ocHJlKSwgbWF4KHByZSkKICAgICAgICAgICAgICAgIHBhZDIgPSBtYXgoMWUt
OSwgKHltYXgyIC0geW1pbjIpICogMC4wNSBpZiB5bWF4MiAhPSB5bWluMiBlbHNlIGFicyh5bWlu
MikgKiAwLjA1IG9yIDFlLTYpCiAgICAgICAgICAgICAgICBzZWxmLmF4Mi5zZXRfeWxpbSh5bWlu
MiAtIHBhZDIsIHltYXgyICsgcGFkMikKCiAgICAgICAgICAgIHNlbGYuY2FudmFzLmRyYXdfaWRs
ZSgpCgogICAgICAgIGV4Y2VwdCBFeGNlcHRpb24gYXMgZTogICMgbm9xYTogQkxFMDAxCiAgICAg
ICAgICAgIHRyeToKICAgICAgICAgICAgICAgIHNlbGYubG9nKGYi57uY5Zu+5pu05paw5byC5bi4
77yae2V9IikKICAgICAgICAgICAgZXhjZXB0IEV4Y2VwdGlvbjoKICAgICAgICAgICAgICAgIHBh
c3MKICAgICAgICBmaW5hbGx5OgogICAgICAgICAgICBpZiBnZXRhdHRyKHNlbGYsICJfcGVyaW9k
aWNfam9ic19lbmFibGVkIiwgRmFsc2UpOgogICAgICAgICAgICAgICAgc2VsZi5fcmVzY2hlZHVs
ZV9wbG90X3VwZGF0ZSgpCg0KICAgIGRlZiBwcm9jZXNzX3F1ZXVlZF9kYXRhKHNlbGYpOg0KICAg
ICAgICB3aGlsZSBub3Qgc2VsZi5wb3NpdGlvbl9xdWV1ZS5lbXB0eSgpOg0KICAgICAgICAgICAg
dGltZXN0YW1wLCBwb3NpdGlvbiA9IHNlbGYucG9zaXRpb25fcXVldWUuZ2V0KCkNCiAgICAgICAg
ICAgIGN1cnJlbnRfdGltZSA9IHRpbWVzdGFtcCAtIHNlbGYudGltZV9zdGFydA0KICAgICAgICAg
ICAgc2VsZi50aW1lX2RhdGEuYXBwZW5kKGN1cnJlbnRfdGltZSkNCiAgICAgICAgICAgIHNlbGYu
cG9zX2RhdGEuYXBwZW5kKHBvc2l0aW9uKQ0KICAgICAgICAgICAgc2VsZi5wcmVzc3VyZV9kYXRh
LmFwcGVuZChzZWxmLmN1cnJlbnRfcHJlc3N1cmUpDQoNCiAgICAgICAgcHJlc3N1cmVfaW50ZXJ2
YWxfdGhyZXNob2xkID0gMS4wDQogICAgICAgIHdoaWxlIG5vdCBzZWxmLnByZXNzdXJlX3F1ZXVl
LmVtcHR5KCk6DQogICAgICAgICAgICB0aW1lc3RhbXAsIHByZXNzdXJlID0gc2VsZi5wcmVzc3Vy
ZV9xdWV1ZS5nZXQoKQ0KICAgICAgICAgICAgY3VycmVudF90aW1lX3JlbCA9IHRpbWVzdGFtcCAt
IHNlbGYudGltZV9zdGFydA0KICAgICAgICAgICAgaWYgbm90IHNlbGYudGltZV9kYXRhIG9yIHRp
bWVzdGFtcCAtIHNlbGYubGFzdF9wcmVzc3VyZV9yZWNvcmRfdGltZSA+PSBwcmVzc3VyZV9pbnRl
cnZhbF90aHJlc2hvbGQ6DQogICAgICAgICAgICAgICAgc2VsZi50aW1lX2RhdGEuYXBwZW5kKGN1
cnJlbnRfdGltZV9yZWwpDQogICAgICAgICAgICAgICAgc2VsZi5wb3NfZGF0YS5hcHBlbmQoc2Vs
Zi5jdXJyZW50X3Bvc2l0aW9uKQ0KICAgICAgICAgICAgICAgIHNlbGYucHJlc3N1cmVfZGF0YS5h
cHBlbmQocHJlc3N1cmUpDQogICAgICAgICAgICAgICAgc2VsZi5sYXN0X3ByZXNzdXJlX3JlY29y
ZF90aW1lID0gdGltZXN0YW1wDQoNCiAgICBkZWYgcmVhZF9wb3NpdGlvbihzZWxmKToNCiAgICAg
ICAgcG9zID0gMC4wDQogICAgICAgIHRyeToNCiAgICAgICAgICAgIGlmIHNlbGYubW9kYnVzMjoN
CiAgICAgICAgICAgICAgICByZXNwX3BvcyA9IHNlbGYubW9kYnVzMi5yZWFkX3JlZ2lzdGVycygx
MDAsIDIpDQogICAgICAgICAgICAgICAgaWYgcmVzcF9wb3MgYW5kIGxlbihyZXNwX3BvcykgPj0g
NyBhbmQgcmVzcF9wb3NbMl0gPj0gNDoNCiAgICAgICAgICAgICAgICAgICAgZGF0YSA9IHJlc3Bf
cG9zWzM6N10NCiAgICAgICAgICAgICAgICAgICAgbG93X3dvcmQgPSBpbnQuZnJvbV9ieXRlcyhk
YXRhWzA6Ml0sIGJ5dGVvcmRlcj0nYmlnJywgc2lnbmVkPVRydWUpDQogICAgICAgICAgICAgICAg
ICAgIGhpZ2hfd29yZCA9IGludC5mcm9tX2J5dGVzKGRhdGFbMjo0XSwgYnl0ZW9yZGVyPSdiaWcn
LCBzaWduZWQ9VHJ1ZSkNCiAgICAgICAgICAgICAgICAgICAgcG9zX3JhdyA9IChoaWdoX3dvcmQg
PDwgMTYpIHwgKGxvd193b3JkICYgMHhGRkZGKQ0KICAgICAgICAgICAgICAgICAgICBpZiBwb3Nf
cmF3ID49IDB4ODAwMDAwMDA6DQogICAgICAgICAgICAgICAgICAgICAgICBwb3NfcmF3IC09IDB4
MTAwMDAwMDAwDQogICAgICAgICAgICAgICAgICAgIHBvcyA9IHBvc19yYXcgLyAxMDAwLjANCiAg
ICAgICAgZXhjZXB0IEV4Y2VwdGlvbiBhcyBlOg0KICAgICAgICAgICAgc2VsZi5sb2coZiLor7vl
j5bkvY3nva7mlbDmja7lh7rplJk6IHtlfSIpDQogICAgICAgIHJldHVybiBwb3MNCg0KICAgIGRl
ZiByZWFkX3NwZWVkKHNlbGYpOg0KICAgICAgICBzcGVlZCA9IDAuMA0KICAgICAgICB0cnk6DQog
ICAgICAgICAgICBpZiBzZWxmLm1vZGJ1czI6DQogICAgICAgICAgICAgICAgcmVzcCA9IHNlbGYu
bW9kYnVzMi5yZWFkX3JlZ2lzdGVycygxMTAsIDIpDQogICAgICAgICAgICAgICAgaWYgcmVzcCBh
bmQgbGVuKHJlc3ApID49IDcgYW5kIHJlc3BbMl0gPT0gNDoNCiAgICAgICAgICAgICAgICAgICAg
ZGF0YSA9IHJlc3BbMzo3XQ0KICAgICAgICAgICAgICAgICAgICBsb3dfd29yZCA9IGludC5mcm9t
X2J5dGVzKGRhdGFbMDoyXSwgYnl0ZW9yZGVyPSdiaWcnLCBzaWduZWQ9VHJ1ZSkNCiAgICAgICAg
ICAgICAgICAgICAgaGlnaF93b3JkID0gaW50LmZyb21fYnl0ZXMoZGF0YVsyOjRdLCBieXRlb3Jk
ZXI9J2JpZycsIHNpZ25lZD1UcnVlKQ0KICAgICAgICAgICAgICAgICAgICBzcGVlZF9yYXcgPSAo
aGlnaF93b3JkIDw8IDE2KSB8IChsb3dfd29yZCAmIDB4RkZGRikNCiAgICAgICAgICAgICAgICAg
ICAgaWYgc3BlZWRfcmF3ID49IDB4ODAwMDAwMDA6DQogICAgICAgICAgICAgICAgICAgICAgICBz
cGVlZF9yYXcgLT0gMHgxMDAwMDAwMDANCiAgICAgICAgICAgICAgICAgICAgc3BlZWQgPSBzcGVl
ZF9yYXcgLyAxMDAwLjANCiAgICAgICAgZXhjZXB0IEV4Y2VwdGlvbiBhcyBlOg0KICAgICAgICAg
ICAgc2VsZi5sb2coZiLor7vlj5bpgJ/luqbmlbDmja7lh7rplJk6IHtlfSIpDQogICAgICAgIHJl
dHVybiBzcGVlZA0KDQogICAgZGVmIHJlYWRfcHJlc3N1cmUoc2VsZik6DQogICAgICAgICIiIg0K
ICAgICAgICDor7vlj5YgNDAwMDEgKOWcsOWdgCAweDAwMDApIOeahOKAnOa1i+mHj+aYvuekuuWA
vOKAne+8jOaMieaJi+WGjOS4uiAxNiDkvY3mnInnrKblj7fmlbDjgIINCiAgICAgICAg6L+U5Zue
5YC85Y2V5L2N5LiO6K6+5aSH5b2T5YmN5Y2V5L2N5LiA6Ie077yI5L2g55qEIFVJIOaMiSBnIOWx
leekuu+8jOe7tOaMgeeOsOeKtu+8ieOAgg0KICAgICAgICAiIiINCiAgICAgICAgcHJlc3N1cmUg
PSBzZWxmLmN1cnJlbnRfcHJlc3N1cmUNCiAgICAgICAgdHJ5Og0KICAgICAgICAgICAgaWYgbm90
IHNlbGYubW9kYnVzMToNCiAgICAgICAgICAgICAgICByZXR1cm4gcHJlc3N1cmUNCg0KICAgICAg
ICAgICAgIyDkvJjlhYjmjInigJzor7sgMSDkuKrlr4TlrZjlmajvvIzov5Tlm54gMiDlrZfoioLm
lbDmja7igJ3nmoTop4TojIPor7vlj5YNCiAgICAgICAgICAgIHJlc3AgPSBzZWxmLm1vZGJ1czEu
cmVhZF9yZWdpc3RlcnMoMHgwMDAwLCAxKSAgIyA0MDAwMQ0KICAgICAgICAgICAgaWYgcmVzcCBh
bmQgbGVuKHJlc3ApID49IDUgYW5kIHJlc3BbMV0gPT0gMHgwMyBhbmQgcmVzcFsyXSA9PSAweDAy
Og0KICAgICAgICAgICAgICAgIGhpLCBsbyA9IHJlc3BbM10sIHJlc3BbNF0NCiAgICAgICAgICAg
ICAgICB2YWwgPSAoaGkgPDwgOCkgfCBsbw0KICAgICAgICAgICAgICAgIGlmIHZhbCA+PSAweDgw
MDA6ICAjIDE2IOS9jeacieespuWPtw0KICAgICAgICAgICAgICAgICAgICB2YWwgLT0gMHgxMDAw
MA0KICAgICAgICAgICAgICAgIHByZXNzdXJlID0gdmFsIC0gc2VsZi50YXJlX3ZhbHVlDQogICAg
ICAgICAgICAgICAgcmV0dXJuIHByZXNzdXJlDQoNCiAgICAgICAgICAgICMg5YW85a655p+Q5Lqb
5Zu65Lu26L+U5ZueIDIg5a+E5a2Y5Zmo77yINCDlrZfoioLvvInnmoTml6fpgLvovpHvvIjmnoHl
sJHnlKjliLDvvIkNCiAgICAgICAgICAgIGlmIHJlc3AgYW5kIGxlbihyZXNwKSA+PSA3IGFuZCBy
ZXNwWzFdID09IDB4MDMgYW5kIHJlc3BbMl0gPT0gMHgwNDoNCiAgICAgICAgICAgICAgICBkYXRh
ID0gcmVzcFszOjddDQogICAgICAgICAgICAgICAgbG93X3dvcmQgPSBpbnQuZnJvbV9ieXRlcyhk
YXRhWzA6Ml0sICdiaWcnLCBzaWduZWQ9VHJ1ZSkNCiAgICAgICAgICAgICAgICBoaWdoX3dvcmQg
PSBpbnQuZnJvbV9ieXRlcyhkYXRhWzI6NF0sICdiaWcnLCBzaWduZWQ9VHJ1ZSkNCiAgICAgICAg
ICAgICAgICB2YWwzMiA9IChoaWdoX3dvcmQgPDwgMTYpIHwgKGxvd193b3JkICYgMHhGRkZGKQ0K
ICAgICAgICAgICAgICAgIGlmIHZhbDMyID49IDB4ODAwMDAwMDA6DQogICAgICAgICAgICAgICAg
ICAgIHZhbDMyIC09IDB4MTAwMDAwMDAwDQogICAgICAgICAgICAgICAgcHJlc3N1cmUgPSB2YWwz
MiAtIHNlbGYudGFyZV92YWx1ZQ0KICAgICAgICAgICAgICAgIHJldHVybiBwcmVzc3VyZQ0KDQog
ICAgICAgIGV4Y2VwdCBFeGNlcHRpb24gYXMgZToNCiAgICAgICAgICAgIHNlbGYubG9nKGYi6K+7
5Y+W5Y6L5Yqb5pWw5o2u5Ye66ZSZOiB7ZX0iKQ0KDQogICAgICAgIHJldHVybiBwcmVzc3VyZQ0K
DQogICAgZGVmIHN0YXJ0X2p1bXBfbW9kZShzZWxmKToNCiAgICAgICAgIiIi5qC55o2u6YCJ5oup
55qE5qih5byP5ZCv5Yqo6Lez5Y+Y77ya5oyJ5a6e6ZmF5Y6L5YqbIC8g5oyJ5a6e6ZmF5L2N572u
IiIiDQogICAgICAgIGlmIHNlbGYuanVtcF9ydW5uaW5nOg0KICAgICAgICAgICAgc2VsZi5sb2co
Iui3s+WPmOW3suWcqOi/kOihjOS4rSIpDQogICAgICAgICAgICByZXR1cm4NCg0KICAgICAgICBp
ZiBub3QgKHNlbGYubW9kYnVzMSBhbmQgc2VsZi5tb2RidXMyKToNCiAgICAgICAgICAgIG1lc3Nh
Z2Vib3guc2hvd2Vycm9yKCLplJnor68iLCAi6K+35YWI6L+e5o6l5Y6L5Yqb5Lyg5oSf5Zmo5ZKM
6L+Q5Yqo5o6n5Yi25ZmoIikNCiAgICAgICAgICAgIHJldHVybg0KDQogICAgICAgICMg5Y+q5Y+W
4oCc5byA5ZCv4oCd55qE6Lez5Y+Y54K5DQogICAgICAgIGVuYWJsZWRfaWRzID0gW2kgZm9yIGkg
aW4gcmFuZ2UoMSwgOSkgaWYgc2VsZi5zZW5kX2p1bXBfZW5hYmxlZC5nZXQoaSwgRmFsc2UpXQ0K
ICAgICAgICBpZiBub3QgZW5hYmxlZF9pZHM6DQogICAgICAgICAgICBzZWxmLmxvZygi5rKh5pyJ
J+W8gOWQryfnmoTot7Plj5jngrnvvIzml6Dms5XlkK/liqgiKQ0KICAgICAgICAgICAgcmV0dXJu
DQoNCiAgICAgICAgbW9kZSA9IChzZWxmLmp1bXBfbW9kZV92YXIuZ2V0KCkgb3IgIiIpLnN0cmlw
KCkKICAgICAgICB0YXJnZXRfZm4gPSBzZWxmLl9qdW1wX2J5X3Bvc2l0aW9uX2xvb3AgaWYgbW9k
ZSA9PSAi5oyJ5a6e6ZmF5L2N572uIiBlbHNlIHNlbGYuX2p1bXBfYnlfcHJlc3N1cmVfbG9vcAog
ICAgICAgIHNlbGYuX21heWJlX3Byb21wdF9hdXRvX3RhcmUoKQogICAgICAgIHRyeToKICAgICAg
ICAgICAgdCA9IHRocmVhZGluZy5UaHJlYWQodGFyZ2V0PXRhcmdldF9mbiwgYXJncz0oZW5hYmxl
ZF9pZHMsKSwgZGFlbW9uPVRydWUpCiAgICAgICAgICAgIHNlbGYuanVtcF9ydW5uaW5nID0gVHJ1
ZQogICAgICAgICAgICB0LnN0YXJ0KCkNCiAgICAgICAgZXhjZXB0IEV4Y2VwdGlvbiBhcyBlOg0K
ICAgICAgICAgICAgc2VsZi5qdW1wX3J1bm5pbmcgPSBGYWxzZQ0KICAgICAgICAgICAgc2VsZi5s
b2coZiLlkK/liqjot7Plj5jnur/nqIvlpLHotKU6IHtlfSIpDQoNCiAgICBkZWYgc3RvcF9qdW1w
X21vZGUoc2VsZik6DQogICAgICAgICIiIuWBnOatoui3s+WPmCIiIg0KICAgICAgICBpZiBub3Qg
c2VsZi5qdW1wX3J1bm5pbmc6DQogICAgICAgICAgICByZXR1cm4NCiAgICAgICAgc2VsZi5qdW1w
X3J1bm5pbmcgPSBGYWxzZQ0KICAgICAgICBzZWxmLnN0b3BfbW90aW9uKCkNCiAgICAgICAgc2Vs
Zi5sb2coIui3s+WPmOiiq+aJi+WKqOWBnOatoiIpDQoNCiAgICAjID09PT09PSDmqKHlvI8gQe+8
muaMieWunumZheWOi+WKmyA9PT09PT0NCiAgICBkZWYgX2p1bXBfYnlfcHJlc3N1cmVfc2VxdWVu
Y2Uoc2VsZiwgZW5hYmxlZF9wYWlycywgdG9sZXJhbmNlX2csIGp1bXBfc3BlZWQsIGludGVydmFs
X3MpOg0KICAgICAgICAiIiINCiAgICAgICAg5L6d5qyh5oqK5Y6L5Yqb6LeR5Yiw5q+P5Liq6ZiI
5YC877yIZ++8ie+8jOi+vuWIsOWuueW3ruWNs+aApeWBnO+8m+mXtOmalOetieW+he+8jOWGjeWI
sOS4i+S4gOS4qumYiOWAvA0KICAgICAgICAiIiINCiAgICAgICAgdHJ5Og0KICAgICAgICAgICAg
Zm9yIGlkeCwgdGFyZ2V0X2cgaW4gZW5hYmxlZF9wYWlyczoNCiAgICAgICAgICAgICAgICBpZiBu
b3Qgc2VsZi5qdW1wX3J1bm5pbmc6DQogICAgICAgICAgICAgICAgICAgIGJyZWFrDQoNCiAgICAg
ICAgICAgICAgICBvayA9IHNlbGYuX21vdmVfdG9fcHJlc3N1cmVfb25jZSh0YXJnZXRfZywgdG9s
ZXJhbmNlX2csIGp1bXBfc3BlZWQsIHRpbWVvdXRfcz0xMjApDQogICAgICAgICAgICAgICAgaWYg
bm90IG9rOg0KICAgICAgICAgICAgICAgICAgICBzZWxmLmxvZyhmIui3s+WPmHtpZHh9OiDmnKro
g73lnKjotoXml7bml7bpl7TlhoXliLDovr4ge3RhcmdldF9nfSBn77yM5bey6Lez6L+HIikNCiAg
ICAgICAgICAgICAgICBlbHNlOg0KICAgICAgICAgICAgICAgICAgICBzZWxmLmxvZyhmIui3s+WP
mHtpZHh9OiDovr7liLAge3RhcmdldF9nfSBn77yM5bey5oCl5YGcIikNCg0KICAgICAgICAgICAg
ICAgICMg6Ze06ZqUDQogICAgICAgICAgICAgICAgdDAgPSB0aW1lLnRpbWUoKQ0KICAgICAgICAg
ICAgICAgIHdoaWxlIHNlbGYuanVtcF9ydW5uaW5nIGFuZCB0aW1lLnRpbWUoKSAtIHQwIDwgaW50
ZXJ2YWxfczoNCiAgICAgICAgICAgICAgICAgICAgdGltZS5zbGVlcCgwLjA1KQ0KICAgICAgICAg
ICAgc2VsZi5sb2coIuaMieWunumZheWOi+WKm+i3s+WPmOWujOaIkCIpDQogICAgICAgIGV4Y2Vw
dCBFeGNlcHRpb24gYXMgZToNCiAgICAgICAgICAgIHNlbGYubG9nKGYi5oyJ5a6e6ZmF5Y6L5Yqb
6Lez5Y+Y5byC5bi4OiB7ZX0iKQ0KICAgICAgICBmaW5hbGx5Og0KICAgICAgICAgICAgc2VsZi5z
dG9wX21vdGlvbigpDQogICAgICAgICAgICBzZWxmLmN1cnJlbnRfc3BlZWRfdmFyLnNldCgiMC4w
MDAiKQ0KICAgICAgICAgICAgc2VsZi5qdW1wX3J1bm5pbmcgPSBGYWxzZQ0KDQogICAgIyA9PT09
PT0g5qih5byPIELvvJrmjInlrp7pmYXkvY3nva4gPT09PT09DQogICAgZGVmIF9qdW1wX2J5X3Bv
c2l0aW9uX3NlcXVlbmNlKHNlbGYsIGVuYWJsZWRfcGFpcnMsIHRvbGVyYW5jZV9nLCBjb2xsZWN0
X3NwZWVkLCBqdW1wX3NwZWVkLCBpbnRlcnZhbF9zKToNCiAgICAgICAgIiIiDQogICAgICAgIOes
rOS4gOatpe+8muaMieWOi+WKm+mAkOeCuemHh+mbhiAtPiDorrDlvZXlr7nlupTnmoTlvZPliY3k
vY3nva4obW0pDQogICAgICAgIOesrOS6jOatpe+8muWIh+WIsOi9rOWIsOaooeW8j++8jOaMiei/
meS6m+S9jee9ruWBmuebruagh+S9jee9rui/kOWKqA0KICAgICAgICAiIiINCiAgICAgICAgcG9z
aXRpb25zID0gW10NCiAgICAgICAgdHJ5Og0KICAgICAgICAgICAgIyAxKSDpgJDngrnliLDlkITl
jovlipvvvIzorrDlvZXkvY3nva4NCiAgICAgICAgICAgIGZvciBpZHgsIHRhcmdldF9nIGluIGVu
YWJsZWRfcGFpcnM6DQogICAgICAgICAgICAgICAgaWYgbm90IHNlbGYuanVtcF9ydW5uaW5nOg0K
ICAgICAgICAgICAgICAgICAgICBicmVhaw0KICAgICAgICAgICAgICAgIG9rID0gc2VsZi5fbW92
ZV90b19wcmVzc3VyZV9vbmNlKHRhcmdldF9nLCB0b2xlcmFuY2VfZywgY29sbGVjdF9zcGVlZCwg
dGltZW91dF9zPTE4MCkNCiAgICAgICAgICAgICAgICBpZiBub3Qgb2s6DQogICAgICAgICAgICAg
ICAgICAgIHNlbGYubG9nKGYi6YeH6ZuGe2lkeH06IOacquiDveWIsOi+viB7dGFyZ2V0X2d9IGfv
vIzot7Pov4for6XngrkiKQ0KICAgICAgICAgICAgICAgICAgICBjb250aW51ZQ0KICAgICAgICAg
ICAgICAgIHBvcyA9IHNlbGYucmVhZF9wb3NpdGlvbigpDQogICAgICAgICAgICAgICAgcG9zaXRp
b25zLmFwcGVuZCgoaWR4LCB0YXJnZXRfZywgcG9zKSkNCiAgICAgICAgICAgICAgICBzZWxmLmxv
ZyhmIumHh+mbhntpZHh9OiDljovlipsge3RhcmdldF9nfSBnIOWvueW6lOS9jee9riB7cG9zOi4z
Zn0gbW0iKQ0KDQogICAgICAgICAgICAgICAgIyDlsI/pl7TpmpQNCiAgICAgICAgICAgICAgICB0
MCA9IHRpbWUudGltZSgpDQogICAgICAgICAgICAgICAgd2hpbGUgc2VsZi5qdW1wX3J1bm5pbmcg
YW5kIHRpbWUudGltZSgpIC0gdDAgPCBpbnRlcnZhbF9zOg0KICAgICAgICAgICAgICAgICAgICB0
aW1lLnNsZWVwKDAuMDUpDQoNCiAgICAgICAgICAgIGlmIG5vdCBwb3NpdGlvbnM6DQogICAgICAg
ICAgICAgICAgc2VsZi5sb2coIuacqumHh+mbhuWIsOS7u+S9leS9jee9ru+8jOaMieWunumZheS9
jee9rui3s+WPmOe7iOatoiIpDQogICAgICAgICAgICAgICAgcmV0dXJuDQoNCiAgICAgICAgICAg
ICMgMikg5YiH5o2i5Yiw4oCc6L2s5Yiw5qih5byP4oCd77yM55So6Lez5Y+Y6YCf5bqm6YCQ5Liq
6LeR5L2N572uDQogICAgICAgICAgICBzZWxmLl9lbnN1cmVfZ290b19tb2RlKCkNCiAgICAgICAg
ICAgIHNlbGYuX3NldF9nb3RvX3NwZWVkKGp1bXBfc3BlZWQpDQoNCiAgICAgICAgICAgIGZvciBp
ZHgsIHRhcmdldF9nLCB0YXJnZXRfcG9zIGluIHBvc2l0aW9uczoNCiAgICAgICAgICAgICAgICBp
ZiBub3Qgc2VsZi5qdW1wX3J1bm5pbmc6DQogICAgICAgICAgICAgICAgICAgIGJyZWFrDQogICAg
ICAgICAgICAgICAgc2VsZi5sb2coZiLot7Plj5jliLDorrDlvZXkvY3nva7vvJoje2lkeH0g55uu
5qCH5Y6L5YqbIHt0YXJnZXRfZ30gZyDihpIg55uu5qCH5L2N572uIHt0YXJnZXRfcG9zOi4zZn0g
bW0iKQ0KDQogICAgICAgICAgICAgICAgIyDlj5Hnm67moIfkvY3nva7lubblkK/liqgNCiAgICAg
ICAgICAgICAgICB0cnk6DQogICAgICAgICAgICAgICAgICAgIHRhcmdldF92YWwgPSBpbnQocm91
bmQodGFyZ2V0X3BvcyAqIDEwMDApKQ0KICAgICAgICAgICAgICAgICAgICBzZWxmLm1vZGJ1czIu
d3JpdGVfcmVnaXN0ZXJzKDE3NCwgW3RhcmdldF92YWwsIDBdLCBkZWxheT0wLjAwNSkNCiAgICAg
ICAgICAgICAgICAgICAgc2VsZi5tb2RidXMyLndyaXRlX3JlZ2lzdGVycygxNzgsIFsxLCAwXSwg
ZGVsYXk9MC4wMDUpDQogICAgICAgICAgICAgICAgZXhjZXB0IEV4Y2VwdGlvbiBhcyBlOg0KICAg
ICAgICAgICAgICAgICAgICBzZWxmLmxvZyhmIuS4i+WPkeebruagh+S9jee9ruWksei0pe+8mntl
fSIpDQogICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlDQoNCiAgICAgICAgICAgICAgICAjIOet
ieW+heWIsOS9je+8iOagueaNrumAn+W6pi/kvY3nva7lj4zmnaHku7bvvIkNCiAgICAgICAgICAg
ICAgICBvayA9IHNlbGYuX3dhaXRfdW50aWxfcmVhY2hfcG9zaXRpb24odGFyZ2V0X3BvcywgdGlt
ZW91dF9zPTE4MCkNCiAgICAgICAgICAgICAgICBpZiBvazoNCiAgICAgICAgICAgICAgICAgICAg
c2VsZi5sb2coZiLkvY3nva7liLDkvY3vvJp7dGFyZ2V0X3BvczouM2Z9IG1tIikNCiAgICAgICAg
ICAgICAgICBlbHNlOg0KICAgICAgICAgICAgICAgICAgICBzZWxmLmxvZyhmIuWIsOS9jei2heaX
tu+8mnt0YXJnZXRfcG9zOi4zZn0gbW3vvIjlt7Lnu6fnu63lkI7nu63ngrnvvIkiKQ0KDQogICAg
ICAgICAgICAgICAgIyDpl7TpmpQNCiAgICAgICAgICAgICAgICB0MCA9IHRpbWUudGltZSgpDQog
ICAgICAgICAgICAgICAgd2hpbGUgc2VsZi5qdW1wX3J1bm5pbmcgYW5kIHRpbWUudGltZSgpIC0g
dDAgPCBpbnRlcnZhbF9zOg0KICAgICAgICAgICAgICAgICAgICB0aW1lLnNsZWVwKDAuMDUpDQoN
CiAgICAgICAgICAgIHNlbGYubG9nKCLmjInlrp7pmYXkvY3nva7ot7Plj5jlrozmiJAiKQ0KICAg
ICAgICBleGNlcHQgRXhjZXB0aW9uIGFzIGU6DQogICAgICAgICAgICBzZWxmLmxvZyhmIuaMieWu
numZheS9jee9rui3s+WPmOW8guW4uDoge2V9IikNCiAgICAgICAgZmluYWxseToNCiAgICAgICAg
ICAgIHNlbGYuc3RvcF9tb3Rpb24oKQ0KICAgICAgICAgICAgc2VsZi5jdXJyZW50X3NwZWVkX3Zh
ci5zZXQoIjAuMDAwIikNCiAgICAgICAgICAgIHNlbGYuanVtcF9ydW5uaW5nID0gRmFsc2UNCg0K
ICAgICMgPT09PT09IOmAmueUqOi+heWKqe+8muWcqOe7meWumumAn+W6puS4i+aKiuWOi+WKm+i3
keWIsCB0YXJnZXRfZyDlubbmgKXlgZwgPT09PT09DQogICAgZGVmIF9tb3ZlX3RvX3ByZXNzdXJl
X29uY2Uoc2VsZiwgdGFyZ2V0X2csIHRvbGVyYW5jZV9nLCBtb3ZlX3NwZWVkLCB0aW1lb3V0X3M9
MTIwLjAsIHN0YWJsZV9ob2xkX3M9MC4yKToNCiAgICAgICAgIiIiDQogICAgICAgIOWcqOe7meWu
mumAn+W6piBtb3ZlX3NwZWVkIOS4i++8jOaKiuWOi+WKm+i3keWIsCB0YXJnZXRfZ++8mg0KICAg
ICAgICAtIOWPquWcqOaWueWQkS/lj4LmlbDlj5jljJbjgIHmiJbnlpHkvLzlgZzkvY/ml7bvvIzm
iY3kuIvlj5HkuIDmrKHlj4LmlbAr5ZCv5Yqo77yI6IqC5rWB5Y675oqW77yJDQogICAgICAgIC0g
6L+b5YWl5a655beu5bm25L+d5oyBIHN0YWJsZV9ob2xkX3Mg56eS5ZCO5oCl5YGcDQogICAgICAg
IC0g6LaF5pe26L+U5ZueIEZhbHNlDQogICAgICAgICIiIg0KICAgICAgICAjIOS/neaKpOmYiOWA
vA0KICAgICAgICB0cnk6DQogICAgICAgICAgICBzYWZldHlfZyA9IGZsb2F0KHNlbGYuc2FmZXR5
X3ByZXNzdXJlX3Zhci5nZXQoKSkNCiAgICAgICAgZXhjZXB0IEV4Y2VwdGlvbjoNCiAgICAgICAg
ICAgIHNhZmV0eV9nID0gMzAwMDAuMA0KDQogICAgICAgICMg5riF5LiA5qyh6IqC5rWB6K6w5b+G
77yM6YG/5YWN5LiK5qyh54q25oCB5b2x5ZONDQogICAgICAgIHNlbGYuX21jX2xhc3RfZGlyID0g
Tm9uZQ0KICAgICAgICBzZWxmLl9tY19sYXN0X3NwZWVkID0gTm9uZQ0KICAgICAgICBzZWxmLl9t
Y19sYXN0X2Rpc3RhbmNlID0gTm9uZQ0KICAgICAgICBzZWxmLl9tY19sYXN0X2NtZF90cyA9IDAu
MA0KDQogICAgICAgIHQwID0gdGltZS50aW1lKCkNCiAgICAgICAgc3RhYmxlX3QwID0gTm9uZQ0K
DQogICAgICAgIHdoaWxlIHNlbGYuanVtcF9ydW5uaW5nIGFuZCAodGltZS50aW1lKCkgLSB0MCA8
PSB0aW1lb3V0X3MpOg0KICAgICAgICAgICAgY3VyID0gc2VsZi5yZWFkX3ByZXNzdXJlKCkNCiAg
ICAgICAgICAgIGRpZmYgPSB0YXJnZXRfZyAtIGN1cg0KDQogICAgICAgICAgICAjIOS/neaKpOWI
pOaWrQ0KICAgICAgICAgICAgaWYgY3VyID49IHNhZmV0eV9nOg0KICAgICAgICAgICAgICAgIHNl
bGYubG9nKGYi4pqg77iPIOS/neaKpOWOi+WKm+inpuWPke+8iHtjdXI6LjFmfSDiiaUge3NhZmV0
eV9nOi4xZn0gZ++8ie+8jOW3suaApeWBnCIpDQogICAgICAgICAgICAgICAgc2VsZi5zdG9wX21v
dGlvbigpDQogICAgICAgICAgICAgICAgcmV0dXJuIEZhbHNlDQoNCiAgICAgICAgICAgICMg5bey
5Zyo5a655beu5YaFIOKGkiDorqHml7bnqLPlrpoNCiAgICAgICAgICAgIGlmIGFicyhkaWZmKSA8
PSB0b2xlcmFuY2VfZzoNCiAgICAgICAgICAgICAgICBpZiBzdGFibGVfdDAgaXMgTm9uZToNCiAg
ICAgICAgICAgICAgICAgICAgc3RhYmxlX3QwID0gdGltZS50aW1lKCkNCiAgICAgICAgICAgICAg
ICBpZiB0aW1lLnRpbWUoKSAtIHN0YWJsZV90MCA+PSBzdGFibGVfaG9sZF9zOg0KICAgICAgICAg
ICAgICAgICAgICBzZWxmLnN0b3BfbW90aW9uKCkNCiAgICAgICAgICAgICAgICAgICAgc2VsZi5j
dXJyZW50X3NwZWVkX3Zhci5zZXQoIjAuMDAwIikNCiAgICAgICAgICAgICAgICAgICAgcmV0dXJu
IFRydWUNCiAgICAgICAgICAgIGVsc2U6DQogICAgICAgICAgICAgICAgc3RhYmxlX3QwID0gTm9u
ZSAgIyDnprvlvIDlrrnlt67vvIzph43nva7nqLPlrprorqHml7YNCg0KICAgICAgICAgICAgIyDm
oLnmja7ljovlipvlt67lhrPlrprmlrnlkJHvvIjoi6XkvaDnmoTnoazku7bmlrnlkJHnm7jlj43v
vIzmioogIuS4iyIvIuS4iiIg5LqS5o2i5Y2z5Y+v77yJDQogICAgICAgICAgICBkZXNpcmVkX2Rp
ciA9ICLkuIsiIGlmIGRpZmYgPiAwIGVsc2UgIuS4iiINCg0KICAgICAgICAgICAgIyDku4XlnKjl
v4XopoHml7bkuIvlj5HkuIDmrKHvvIjoioLmtYHvvIkNCiAgICAgICAgICAgIHNlbGYuX2lzc3Vl
X21vdGlvbl9pZl9uZWVkZWQoZGVzaXJlZF9kaXIsIG1vdmVfc3BlZWQsIDIwLjAsIG1pbl9pbnRl
cnZhbD0wLjMwKQ0KDQogICAgICAgICAgICB0aW1lLnNsZWVwKDAuMDUpDQoNCiAgICAgICAgIyDo
toXml7YNCiAgICAgICAgc2VsZi5zdG9wX21vdGlvbigpDQogICAgICAgIHNlbGYuY3VycmVudF9z
cGVlZF92YXIuc2V0KCIwLjAwMCIpDQogICAgICAgIHJldHVybiBGYWxzZQ0KDQogICAgIyA9PT09
PT0g5L2O5bGC77ya6L2s5Yiw5qih5byPIC8g6YCf5bqmIC8g5Yiw5L2N5Yik5patID09PT09PQ0K
ICAgIGRlZiBfZW5zdXJlX2dvdG9fbW9kZShzZWxmKToNCiAgICAgICAgIiIi5oqK5o6n5Yi25Zmo
5YiH5o2i5Yiw4oCc6L2s5Yiw5qih5byP4oCd77yIMTcw5a+E5a2Y5ZmoPTLvvInvvIzlj6rlgZrk
uIDmrKEiIiINCiAgICAgICAgaWYgbm90IHNlbGYuZ290b19tb2RlX3NldDoNCiAgICAgICAgICAg
IHRyeToNCiAgICAgICAgICAgICAgICByZXNwID0gc2VsZi5tb2RidXMyLndyaXRlX3JlZ2lzdGVy
cygxNzAsIFsyLCAwXSwgZGVsYXk9MC4wMDUpDQogICAgICAgICAgICAgICAgc2VsZi5sb2coZiLo
v5DliqjmjqfliLblmajorr7nva7kuLrovazliLDmqKHlvI86IHtyZXNwLmhleCgpfSIpDQogICAg
ICAgICAgICAgICAgc2VsZi5nb3RvX21vZGVfc2V0ID0gVHJ1ZQ0KICAgICAgICAgICAgZXhjZXB0
IEV4Y2VwdGlvbiBhcyBlOg0KICAgICAgICAgICAgICAgIHNlbGYubG9nKGYi6K6+572u6L2s5Yiw
5qih5byP5aSx6LSl77yae2V9IikNCg0KICAgIGRlZiBfc2V0X2dvdG9fc3BlZWQoc2VsZiwgc3Bl
ZWRfbW1fczogZmxvYXQpOg0KICAgICAgICB0cnk6DQogICAgICAgICAgICB2YWwgPSBpbnQocm91
bmQoc3BlZWRfbW1fcyAqIDEwMDApKQ0KICAgICAgICAgICAgcmVzcCA9IHNlbGYubW9kYnVzMi53
cml0ZV9yZWdpc3RlcnMoMTc2LCBbdmFsLCAwXSwgZGVsYXk9MC4wMDUpDQogICAgICAgICAgICBz
ZWxmLmxvZyhmIui9rOWIsOaooeW8j+mAn+W6puiuvue9ruS4uiB7c3BlZWRfbW1fc30gbW0vczog
e3Jlc3AuaGV4KCl9IikNCiAgICAgICAgZXhjZXB0IEV4Y2VwdGlvbiBhcyBlOg0KICAgICAgICAg
ICAgc2VsZi5sb2coZiLorr7nva7ovazliLDpgJ/luqblpLHotKXvvJp7ZX0iKQ0KDQogICAgZGVm
IF93YWl0X3VudGlsX3JlYWNoX3Bvc2l0aW9uKHNlbGYsIHRhcmdldF9wb3NfbW06IGZsb2F0LCB0
aW1lb3V0X3M6IGZsb2F0ID0gMTUuMCkgLT4gYm9vbDoNCiAgICAgICAgdDAgPSB0aW1lLnRpbWUo
KQ0KICAgICAgICBsYXN0X3BvcyA9IHNlbGYucmVhZF9wb3NpdGlvbigpDQogICAgICAgIGxhc3Rf
dHMgPSB0aW1lLnRpbWUoKQ0KICAgICAgICBub19wcm9nX3QwID0gTm9uZQ0KDQogICAgICAgIHdo
aWxlIHNlbGYuanVtcF9ydW5uaW5nIGFuZCAodGltZS50aW1lKCkgLSB0MCA8PSB0aW1lb3V0X3Mp
Og0KICAgICAgICAgICAgcG9zID0gc2VsZi5yZWFkX3Bvc2l0aW9uKCkNCiAgICAgICAgICAgIG5v
dyA9IHRpbWUudGltZSgpDQogICAgICAgICAgICBkdCA9IG1heCgxZS0zLCBub3cgLSBsYXN0X3Rz
KQ0KICAgICAgICAgICAgdl9lc3QgPSBhYnMocG9zIC0gbGFzdF9wb3MpIC8gZHQgICMg55So5L2N
572u5beu5Lyw6K6h5a6e6ZmF6YCf5bqmDQoNCiAgICAgICAgICAgICMg5Yiw5L2N5Yik5o2u77ya
6Z2g6L+R5YiwIDAuMDEgbW0g5oiWIOWunumZhemAn+W6puW+iOWwjw0KICAgICAgICAgICAgaWYg
YWJzKHBvcyAtIHRhcmdldF9wb3NfbW0pIDw9IDAuMDEgb3Igdl9lc3QgPCAwLjAwMDM6DQogICAg
ICAgICAgICAgICAgc2VsZi5zdG9wX21vdGlvbigpDQogICAgICAgICAgICAgICAgcmV0dXJuIFRy
dWUNCg0KICAgICAgICAgICAgIyDov5vluqbnnIvpl6jni5fvvJroi6UgMS41IHMg5YaF5Yeg5LmO
5rKh6Z2g6L+R55uu5qCH77yM5bCx4oCc6Lii5LiA5LiL4oCd6YeN5paw5ZCv5YqoDQogICAgICAg
ICAgICBhcHByb2FjaGluZyA9IGFicyhwb3MgLSB0YXJnZXRfcG9zX21tKSA8IGFicyhsYXN0X3Bv
cyAtIHRhcmdldF9wb3NfbW0pIC0gMWUtNA0KICAgICAgICAgICAgaWYgbm90IGFwcHJvYWNoaW5n
Og0KICAgICAgICAgICAgICAgIG5vX3Byb2dfdDAgPSBub19wcm9nX3QwIG9yIG5vdw0KICAgICAg
ICAgICAgICAgIGlmIG5vdyAtIG5vX3Byb2dfdDAgPiAxLjU6DQogICAgICAgICAgICAgICAgICAg
IHNlbGYuX3NldF9tb3Rpb25fcGFyYW1zX3F1aWV0KCLkuIsiIGlmIHRhcmdldF9wb3NfbW0gPiBw
b3MgZWxzZSAi5LiKIiwNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgZmxvYXQoc2VsZi5qdW1wX3J1bl9zcGVlZF92YXIuZ2V0KCkpLA0KICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAwLjIpICAjIOWwj+atpemV
v+i4ouWKqA0KICAgICAgICAgICAgICAgICAgICBzZWxmLnN0YXJ0X21hY2hpbmVfcXVpZXQoKQ0K
ICAgICAgICAgICAgICAgICAgICBub19wcm9nX3QwID0gTm9uZQ0KICAgICAgICAgICAgZWxzZToN
CiAgICAgICAgICAgICAgICBub19wcm9nX3QwID0gTm9uZQ0KDQogICAgICAgICAgICBsYXN0X3Bv
cywgbGFzdF90cyA9IHBvcywgbm93DQogICAgICAgICAgICB0aW1lLnNsZWVwKDAuMDUpDQoNCiAg
ICAgICAgc2VsZi5zdG9wX21vdGlvbigpDQogICAgICAgIHNlbGYubG9nKGYi5Yiw5L2N6LaF5pe2
77ya55uu5qCHIHt0YXJnZXRfcG9zX21tOi4zZn0gbW3vvIzlvZPliY0ge3BvczouM2Z9IG1tIikN
CiAgICAgICAgcmV0dXJuIEZhbHNlDQoNCiAgICBkZWYganVtcF9tb2RlX2xvb3Aoc2VsZiwgaW50
ZXJ2YWwsIHNlbGVjdGVkX2p1bXBzLCBtb2RlKToNCiAgICAgICAgaWYgbm90IHNlbGVjdGVkX2p1
bXBzOg0KICAgICAgICAgICAgc2VsZi5sb2coIuayoeaciemAieS4reeahOi3s+WPmOS9jee9ru+8
jOmAgOWHuui3s+WPmOaooeW8jyIpDQogICAgICAgICAgICBzZWxmLmp1bXBfcnVubmluZyA9IEZh
bHNlDQogICAgICAgICAgICByZXR1cm4NCg0KICAgICAgICBpZiBtb2RlID09ICLpobrluo/lvqrn
jq8iOg0KICAgICAgICAgICAgd2hpbGUgc2VsZi5qdW1wX3J1bm5pbmc6DQogICAgICAgICAgICAg
ICAgZm9yIGp1bXAgaW4gc2VsZWN0ZWRfanVtcHM6DQogICAgICAgICAgICAgICAgICAgIGlmIG5v
dCBzZWxmLmp1bXBfcnVubmluZzoNCiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrDQogICAg
ICAgICAgICAgICAgICAgIGp1bXBfdmFsID0gc2VsZi5qdW1wX3ZhbHVlc1tqdW1wXQ0KICAgICAg
ICAgICAgICAgICAgICBpZiBqdW1wX3ZhbCBpcyBub3QgTm9uZToNCiAgICAgICAgICAgICAgICAg
ICAgICAgIGp1bXBfdmFsID0gaW50KGp1bXBfdmFsICogMTAwMCkNCiAgICAgICAgICAgICAgICAg
ICAgICAgIHJlc3AyID0gc2VsZi5tb2RidXMyLndyaXRlX3JlZ2lzdGVycygxNzQsIFtqdW1wX3Zh
bCwgMF0sIGRlbGF5PTAuMDA1KQ0KICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi5sb2coZiLo
v5DliqjmjqfliLblmajorr7nva7ot7Plj5jkvY3nva4ge2p1bXB9OiB7cmVzcDIuaGV4KCl9IikN
CiAgICAgICAgICAgICAgICAgICAgICAgIHJlc3AyID0gc2VsZi5tb2RidXMyLndyaXRlX3JlZ2lz
dGVycygxNzgsIFsxLCAwXSwgZGVsYXk9MC4wMDUpDQogICAgICAgICAgICAgICAgICAgICAgICBz
ZWxmLmxvZyhmIui/kOWKqOaOp+WItuWZqOWQr+WKqOi3s+WPmCB7anVtcH06IHtyZXNwMi5oZXgo
KX0iKQ0KICAgICAgICAgICAgICAgICAgICAgICAgdGltZS5zbGVlcChpbnRlcnZhbCkNCiAgICAg
ICAgZWxpZiBtb2RlID09ICLpobrluo/liqDlgJLluo/lvqrnjq8iOg0KICAgICAgICAgICAgd2hp
bGUgc2VsZi5qdW1wX3J1bm5pbmc6DQogICAgICAgICAgICAgICAgZm9yIGp1bXAgaW4gc2VsZWN0
ZWRfanVtcHM6DQogICAgICAgICAgICAgICAgICAgIGlmIG5vdCBzZWxmLmp1bXBfcnVubmluZzoN
CiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrDQogICAgICAgICAgICAgICAgICAgIGp1bXBf
dmFsID0gc2VsZi5qdW1wX3ZhbHVlc1tqdW1wXQ0KICAgICAgICAgICAgICAgICAgICBpZiBqdW1w
X3ZhbCBpcyBub3QgTm9uZToNCiAgICAgICAgICAgICAgICAgICAgICAgIGp1bXBfdmFsID0gaW50
KGp1bXBfdmFsICogMTAwMCkNCiAgICAgICAgICAgICAgICAgICAgICAgIHJlc3AyID0gc2VsZi5t
b2RidXMyLndyaXRlX3JlZ2lzdGVycygxNzQsIFtqdW1wX3ZhbCwgMF0sIGRlbGF5PTAuMDA1KQ0K
ICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi5sb2coZiLov5DliqjmjqfliLblmajorr7nva7o
t7Plj5jkvY3nva4ge2p1bXB9OiB7cmVzcDIuaGV4KCl9IikNCiAgICAgICAgICAgICAgICAgICAg
ICAgIHJlc3AyID0gc2VsZi5tb2RidXMyLndyaXRlX3JlZ2lzdGVycygxNzgsIFsxLCAwXSwgZGVs
YXk9MC4wMDUpDQogICAgICAgICAgICAgICAgICAgICAgICBzZWxmLmxvZyhmIui/kOWKqOaOp+WI
tuWZqOWQr+WKqOi3s+WPmCB7anVtcH06IHtyZXNwMi5oZXgoKX0iKQ0KICAgICAgICAgICAgICAg
ICAgICAgICAgdGltZS5zbGVlcChpbnRlcnZhbCkNCiAgICAgICAgICAgICAgICBmb3IganVtcCBp
biByZXZlcnNlZChzZWxlY3RlZF9qdW1wcyk6DQogICAgICAgICAgICAgICAgICAgIGlmIG5vdCBz
ZWxmLmp1bXBfcnVubmluZzoNCiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrDQogICAgICAg
ICAgICAgICAgICAgIGp1bXBfdmFsID0gc2VsZi5qdW1wX3ZhbHVlc1tqdW1wXQ0KICAgICAgICAg
ICAgICAgICAgICBpZiBqdW1wX3ZhbCBpcyBub3QgTm9uZToNCiAgICAgICAgICAgICAgICAgICAg
ICAgIGp1bXBfdmFsID0gaW50KGp1bXBfdmFsICogMTAwMCkNCiAgICAgICAgICAgICAgICAgICAg
ICAgIHJlc3AyID0gc2VsZi5tb2RidXMyLndyaXRlX3JlZ2lzdGVycygxNzQsIFtqdW1wX3ZhbCwg
MF0sIGRlbGF5PTAuMDA1KQ0KICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi5sb2coZiLov5Dl
iqjmjqfliLblmajorr7nva7ot7Plj5jkvY3nva4ge2p1bXB9OiB7cmVzcDIuaGV4KCl9IikNCiAg
ICAgICAgICAgICAgICAgICAgICAgIHJlc3AyID0gc2VsZi5tb2RidXMyLndyaXRlX3JlZ2lzdGVy
cygxNzgsIFsxLCAwXSwgZGVsYXk9MC4wMDUpDQogICAgICAgICAgICAgICAgICAgICAgICBzZWxm
LmxvZyhmIui/kOWKqOaOp+WItuWZqOWQr+WKqOi3s+WPmCB7anVtcH06IHtyZXNwMi5oZXgoKX0i
KQ0KICAgICAgICAgICAgICAgICAgICAgICAgdGltZS5zbGVlcChpbnRlcnZhbCkNCiAgICAgICAg
ZWxpZiBtb2RlID09ICLlgJLluo/lvqrnjq8iOg0KICAgICAgICAgICAgd2hpbGUgc2VsZi5qdW1w
X3J1bm5pbmc6DQogICAgICAgICAgICAgICAgZm9yIGp1bXAgaW4gcmV2ZXJzZWQoc2VsZWN0ZWRf
anVtcHMpOg0KICAgICAgICAgICAgICAgICAgICBpZiBub3Qgc2VsZi5qdW1wX3J1bm5pbmc6DQog
ICAgICAgICAgICAgICAgICAgICAgICBicmVhaw0KICAgICAgICAgICAgICAgICAgICBqdW1wX3Zh
bCA9IHNlbGYuanVtcF92YWx1ZXNbanVtcF0NCiAgICAgICAgICAgICAgICAgICAgaWYganVtcF92
YWwgaXMgbm90IE5vbmU6DQogICAgICAgICAgICAgICAgICAgICAgICBqdW1wX3ZhbCA9IGludChq
dW1wX3ZhbCAqIDEwMDApDQogICAgICAgICAgICAgICAgICAgICAgICByZXNwMiA9IHNlbGYubW9k
YnVzMi53cml0ZV9yZWdpc3RlcnMoMTc0LCBbanVtcF92YWwsIDBdLCBkZWxheT0wLjAwNSkNCiAg
ICAgICAgICAgICAgICAgICAgICAgIHNlbGYubG9nKGYi6L+Q5Yqo5o6n5Yi25Zmo6K6+572u6Lez
5Y+Y5L2N572uIHtqdW1wfToge3Jlc3AyLmhleCgpfSIpDQogICAgICAgICAgICAgICAgICAgICAg
ICByZXNwMiA9IHNlbGYubW9kYnVzMi53cml0ZV9yZWdpc3RlcnMoMTc4LCBbMSwgMF0sIGRlbGF5
PTAuMDA1KQ0KICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi5sb2coZiLov5DliqjmjqfliLbl
majlkK/liqjot7Plj5gge2p1bXB9OiB7cmVzcDIuaGV4KCl9IikNCiAgICAgICAgICAgICAgICAg
ICAgICAgIHRpbWUuc2xlZXAoaW50ZXJ2YWwpDQoNCiAgICBkZWYgcHJlc3N1cmVfYmFzZWRfanVt
cF9sb29wKHNlbGYsIGludGVydmFsLCBlbmFibGVkX2luZGljZXMpOg0KICAgICAgICAiIiINCiAg
ICAgICAg5oyJ5Y6L5Yqb6ZiI5YC86Kem5Y+R6Lez5Y+Y44CCDQogICAgICAgIOato+WQkT3kuIrl
jYfmsr/vvIjkvY4tPumrmOi3qOi/h+mYiOWAvO+8iQ0KICAgICAgICDlj43lkJE95LiL6ZmN5rK/
77yI6auYLT7kvY7ot6jov4fpmIjlgLzvvIkNCiAgICAgICAg5Y+M5ZCRPeS7u+S4gOayvw0KICAg
ICAgICAiIiINCiAgICAgICAgbGFzdF9wcmVzc3VyZSA9IHNlbGYucmVhZF9wcmVzc3VyZSgpDQog
ICAgICAgIHNlbnRfb25jZSA9IHtpOiBGYWxzZSBmb3IgaSBpbiBlbmFibGVkX2luZGljZXN9ICAj
IOavj+eCueiKgua1geagh+iusA0KDQogICAgICAgIHdoaWxlIHNlbGYuanVtcF9ydW5uaW5nOg0K
ICAgICAgICAgICAgY3VyID0gc2VsZi5yZWFkX3ByZXNzdXJlKCkNCiAgICAgICAgICAgIGZvciBp
IGluIGxpc3QoZW5hYmxlZF9pbmRpY2VzKToNCiAgICAgICAgICAgICAgICAjIOiLpei/h+eoi+S4
reiiq+aJi+WKqOemgeeUqO+8jOWImei3s+i/h+W5tuWkjeS9jeiKgua1geagh+iusA0KICAgICAg
ICAgICAgICAgIGlmIG5vdCBzZWxmLnNlbmRfanVtcF9lbmFibGVkW2ldOg0KICAgICAgICAgICAg
ICAgICAgICBzZW50X29uY2VbaV0gPSBGYWxzZQ0KICAgICAgICAgICAgICAgICAgICBjb250aW51
ZQ0KDQogICAgICAgICAgICAgICAgdHJ5Og0KICAgICAgICAgICAgICAgICAgICB0aHJlc2hvbGQg
PSBmbG9hdChzZWxmLmp1bXBfdmFyc1tpXS5nZXQoKSkNCiAgICAgICAgICAgICAgICBleGNlcHQg
RXhjZXB0aW9uOg0KICAgICAgICAgICAgICAgICAgICBjb250aW51ZQ0KDQogICAgICAgICAgICAg
ICAgbW9kZSA9IHNlbGYuanVtcF9kaXJlY3Rpb25zW2ldLmdldCgpICAjICLmraPlkJEiIC8gIuWP
jeWQkSIgLyAi5Y+M5ZCRIg0KICAgICAgICAgICAgICAgIHJpc2UgPSAobGFzdF9wcmVzc3VyZSA8
IHRocmVzaG9sZCkgYW5kIChjdXIgPj0gdGhyZXNob2xkKQ0KICAgICAgICAgICAgICAgIGZhbGwg
PSAobGFzdF9wcmVzc3VyZSA+IHRocmVzaG9sZCkgYW5kIChjdXIgPD0gdGhyZXNob2xkKQ0KICAg
ICAgICAgICAgICAgIHNob3VsZF9maXJlID0gKA0KICAgICAgICAgICAgICAgICAgICAgICAgKG1v
ZGUgPT0gIuato+WQkSIgYW5kIHJpc2UpIG9yDQogICAgICAgICAgICAgICAgICAgICAgICAobW9k
ZSA9PSAi5Y+N5ZCRIiBhbmQgZmFsbCkgb3INCiAgICAgICAgICAgICAgICAgICAgICAgIChtb2Rl
ID09ICLlj4zlkJEiIGFuZCAocmlzZSBvciBmYWxsKSkNCiAgICAgICAgICAgICAgICApDQoNCiAg
ICAgICAgICAgICAgICBpZiBzaG91bGRfZmlyZSBhbmQgbm90IHNlbnRfb25jZVtpXToNCiAgICAg
ICAgICAgICAgICAgICAgc2VsZi5zZW5kX2p1bXBfc2lnbmFsKGkpDQogICAgICAgICAgICAgICAg
ICAgIGlmIHNlbGYuanVtcF9hdXRvX2Nsb3NlX3ZhcnNbaV0uZ2V0KCk6DQogICAgICAgICAgICAg
ICAgICAgICAgICBzZWxmLnN0b3BfbW90aW9uKCkNCiAgICAgICAgICAgICAgICAgICAgc2VudF9v
bmNlW2ldID0gVHJ1ZSAgIyDmnKzmrKHotorpmIjlj6rop6blj5HkuIDmrKENCiAgICAgICAgICAg
ICAgICAgICAgdGltZS5zbGVlcChpbnRlcnZhbCkgICMg566A5Y2V6IqC5rWBL+WPjeaKlg0KDQog
ICAgICAgICAgICAgICAgIyDov5znprvpmIjlgLzlkI7vvIzop6PpmaToioLmtYHku6Xkvr/kuIvm
rKHot6jotorlho3op6blj5ENCiAgICAgICAgICAgICAgICBpZiAoY3VyIDwgdGhyZXNob2xkIGFu
ZCBsYXN0X3ByZXNzdXJlIDwgdGhyZXNob2xkKSBvciAoY3VyID4gdGhyZXNob2xkIGFuZCBsYXN0
X3ByZXNzdXJlID4gdGhyZXNob2xkKToNCiAgICAgICAgICAgICAgICAgICAgc2VudF9vbmNlW2ld
ID0gRmFsc2UNCg0KICAgICAgICAgICAgbGFzdF9wcmVzc3VyZSA9IGN1cg0KICAgICAgICAgICAg
dGltZS5zbGVlcCgwLjAxKQ0KDQogICAgICAgIHNlbGYubG9nKCLot7Plj5jlt7LlgZzmraIiKQ0K
DQogICAgZGVmIGNoZWNrX3ByZXNzdXJlX3RocmVzaG9sZChzZWxmLCBjdXJyZW50X3ByZXNzdXJl
LCB0aHJlc2hvbGQsIGp1bXBfZGlyZWN0aW9uLCB0cmVuZCk6DQogICAgICAgIGlmIGp1bXBfZGly
ZWN0aW9uID09ICLmraPlkJEiOg0KICAgICAgICAgICAgcmV0dXJuIGN1cnJlbnRfcHJlc3N1cmUg
Pj0gdGhyZXNob2xkIGFuZCB0cmVuZCA9PSAi5q2j5ZCRIg0KICAgICAgICBlbGlmIGp1bXBfZGly
ZWN0aW9uID09ICLlj43lkJEiOg0KICAgICAgICAgICAgcmV0dXJuIGN1cnJlbnRfcHJlc3N1cmUg
PD0gdGhyZXNob2xkIGFuZCB0cmVuZCA9PSAi5Y+N5ZCRIg0KICAgICAgICBlbGlmIGp1bXBfZGly
ZWN0aW9uID09ICLlj4zlkJEiOg0KICAgICAgICAgICAgcmV0dXJuIChjdXJyZW50X3ByZXNzdXJl
ID49IHRocmVzaG9sZCBhbmQgdHJlbmQgPT0gIuato+WQkSIpIG9yIFwNCiAgICAgICAgICAgICAg
ICAgICAoY3VycmVudF9wcmVzc3VyZSA8PSB0aHJlc2hvbGQgYW5kIHRyZW5kID09ICLlj43lkJEi
KQ0KICAgICAgICByZXR1cm4gRmFsc2UNCg0KICAgIGRlZiBzZW5kX2p1bXBfc2lnbmFsKHNlbGYs
IGp1bXBfbnVtYmVyKToNCiAgICAgICAgaWYgbm90IHNlbGYubW9kYnVzMjoNCiAgICAgICAgICAg
IHJldHVybg0KDQogICAgICAgIGRlZiBfd29ya2VyKCk6DQogICAgICAgICAgICB0cnk6DQogICAg
ICAgICAgICAgICAgc2VsZi5sb2coZiLlj5HpgIHot7Plj5h7anVtcF9udW1iZXJ95L+h5Y+3IikN
CiAgICAgICAgICAgICAgICByZXNwMiA9IHNlbGYubW9kYnVzMi53cml0ZV9yZWdpc3RlcnMoMTgy
LCBbanVtcF9udW1iZXIsIDBdLCBkZWxheT0wLjAwNSkNCiAgICAgICAgICAgICAgICBzZWxmLmxv
ZyhmIui/kOWKqOaOp+WItuWZqOWPkemAgei3s+WPmHtqdW1wX251bWJlcn3kv6Hlj7c6IHtyZXNw
Mi5oZXgoKSBpZiByZXNwMiBlbHNlICfml6Dlk43lupQnfSIpDQogICAgICAgICAgICBleGNlcHQg
RXhjZXB0aW9uIGFzIGU6DQogICAgICAgICAgICAgICAgc2VsZi5sb2coZiLlj5HpgIHot7Plj5h7
anVtcF9udW1iZXJ95L+h5Y+35aSx6LSlOiB7ZX0iKQ0KDQogICAgICAgIHRocmVhZGluZy5UaHJl
YWQodGFyZ2V0PV93b3JrZXIsIGRhZW1vbj1UcnVlKS5zdGFydCgpDQoNCiAgICBkZWYgdG9nZ2xl
X3NlbmRfanVtcF9zaWduYWwoc2VsZiwganVtcF9udW1iZXIpOg0KICAgICAgICAiIiLmr4/ooYzi
gJzlvIDlkK8v5YWz6Zet4oCd5oyJ6ZKu77ya55yf5q2j5o6n5Yi26K+l54K55piv5ZCm5Y+C5LiO
6Kem5Y+RIiIiDQogICAgICAgIHNlbGYuc2VuZF9qdW1wX2VuYWJsZWRbanVtcF9udW1iZXJdID0g
bm90IHNlbGYuc2VuZF9qdW1wX2VuYWJsZWRbanVtcF9udW1iZXJdDQogICAgICAgIG9uID0gc2Vs
Zi5zZW5kX2p1bXBfZW5hYmxlZFtqdW1wX251bWJlcl0NCiAgICAgICAgc2VsZi5qdW1wX2J1dHRv
bnNbanVtcF9udW1iZXJdLmNvbmZpZygNCiAgICAgICAgICAgIHRleHQ9KCLlvIDlkK8iIGlmIG9u
IGVsc2UgIuWFs+mXrSIpLA0KICAgICAgICAgICAgYm9vdHN0eWxlPSgic3VjY2VzcyIgaWYgb24g
ZWxzZSAib3V0bGluZS1kYW5nZXIiKQ0KICAgICAgICApDQogICAgICAgIHNlbGYubG9nKGYi6Lez
5Y+Ye2p1bXBfbnVtYmVyfeW3snsn5L2/6IO9JyBpZiBvbiBlbHNlICfnpoHnlKgnfSIpDQoNCiAg
ICBkZWYgZW5hYmxlX2FsbF9qdW1wX3NpZ25hbHMoc2VsZik6DQogICAgICAgIGZvciBpIGluIHJh
bmdlKDEsIDkpOg0KICAgICAgICAgICAgc2VsZi5zZW5kX2p1bXBfZW5hYmxlZFtpXSA9IFRydWUN
CiAgICAgICAgICAgIHNlbGYuanVtcF9idXR0b25zW2ldLmNvbmZpZyh0ZXh0PSLlvIDlkK8iLCBi
b290c3R5bGU9InN1Y2Nlc3MiKQ0KICAgICAgICBzZWxmLmxvZygi5bey5LiA6ZSu5L2/6IO95omA
5pyJ6Lez5Y+YIikNCg0KICAgIGRlZiBhcHBseV9qdW1wX2ludGVydmFsKHNlbGYpOg0KICAgICAg
ICB0cnk6DQogICAgICAgICAgICBiYXNlX2p1bXAgPSBzZWxmLmJhc2VfanVtcF92YXIuZ2V0KCkN
CiAgICAgICAgICAgIGp1bXBfaW50ZXJ2YWwgPSBzZWxmLmp1bXBfaW50ZXJ2YWxfdmFyLmdldCgp
DQogICAgICAgICAgICBmb3IgaSBpbiByYW5nZSgxLCA5KToNCiAgICAgICAgICAgICAgICBzZWxm
Lmp1bXBfdmFyc1tpXS5zZXQoYmFzZV9qdW1wICsgKGkgLSAxKSAqIGp1bXBfaW50ZXJ2YWwpDQog
ICAgICAgICAgICAgICAgc2VsZi5qdW1wX3ZhbHVlc1tpXSA9IGJhc2VfanVtcCArIChpIC0gMSkg
KiBqdW1wX2ludGVydmFsDQogICAgICAgICAgICBzZWxmLmxvZyhmIuW3suW6lOeUqOWfuuehgOmY
iOWAvCB7YmFzZV9qdW1wfWcg5ZKM6Ze06ZqUIHtqdW1wX2ludGVydmFsfWciKQ0KICAgICAgICBl
eGNlcHQgRXhjZXB0aW9uIGFzIGU6DQogICAgICAgICAgICBzZWxmLmxvZyhmIuW6lOeUqOi3s+WP
mOmXtOmalOWksei0pToge2V9IikNCg0KICAgIGRlZiB0b2dnbGVfYWxsX2p1bXBfZGlyZWN0aW9u
KHNlbGYpOg0KICAgICAgICB0cnk6DQogICAgICAgICAgICBhbGxfZGlyZWN0aW9uID0gc2VsZi5h
bGxfanVtcF9kaXJlY3Rpb25fdmFyLmdldCgpDQogICAgICAgICAgICBmb3IgaSBpbiByYW5nZSgx
LCA5KToNCiAgICAgICAgICAgICAgICBzZWxmLmp1bXBfZGlyZWN0aW9uc1tpXS5zZXQoYWxsX2Rp
cmVjdGlvbikNCiAgICAgICAgICAgIHNlbGYubG9nKGYi5bey6K6+572u5omA5pyJ6Lez5Y+Y5pa5
5ZCR5Li6OiB7YWxsX2RpcmVjdGlvbn0iKQ0KICAgICAgICBleGNlcHQgRXhjZXB0aW9uIGFzIGU6
DQogICAgICAgICAgICBzZWxmLmxvZyhmIuiuvue9ruaJgOaciei3s+WPmOaWueWQkeWksei0pTog
e2V9IikNCg0KICAgIGRlZiB1cGRhdGVfcGxvdChzZWxmKToNCiAgICAgICAgaWYgbm90IHNlbGYu
dGltZV9kYXRhOg0KICAgICAgICAgICAgcmV0dXJuDQogICAgICAgIHRyeToNCiAgICAgICAgICAg
IG4gPSBtaW4obGVuKHNlbGYudGltZV9kYXRhKSwgbGVuKHNlbGYucG9zX2RhdGEpLCBsZW4oc2Vs
Zi5wcmVzc3VyZV9kYXRhKSkNCiAgICAgICAgICAgIHQgPSBzZWxmLnRpbWVfZGF0YVs6bl0NCiAg
ICAgICAgICAgIHkxID0gc2VsZi5wb3NfZGF0YVs6bl0NCiAgICAgICAgICAgIHkyID0gc2VsZi5w
cmVzc3VyZV9kYXRhWzpuXQ0KDQogICAgICAgICAgICBzZWxmLmxpbmVfcG9zLnNldF9kYXRhKHQs
IHkxKQ0KICAgICAgICAgICAgc2VsZi5saW5lX3ByZXNzLnNldF9kYXRhKHQsIHkyKQ0KDQogICAg
ICAgICAgICBzZWxmLmF4LnJlbGltKCk7IHNlbGYuYXguYXV0b3NjYWxlX3ZpZXcoKQ0KICAgICAg
ICAgICAgc2VsZi5heDIucmVsaW0oKTsgc2VsZi5heDIuYXV0b3NjYWxlX3ZpZXcoKQ0KICAgICAg
ICAgICAgc2VsZi5heDIuc2V0X3lsYWJlbChmIlByZXNzdXJlICh7c2VsZi5jdXJyZW50X3VuaXR9
KSIsIGNvbG9yPScjZTc0YzNjJykKICAgICAgICAgICAgc2VsZi5jYW52YXMuZHJhd19pZGxlKCkK
ICAgICAgICBleGNlcHQgRXhjZXB0aW9uIGFzIGU6CiAgICAgICAgICAgIHNlbGYubG9nKGYiQ2hh
cnQgdXBkYXRlIGVycm9yOiB7ZX0iKQoNCiAgICBkZWYgc2F2ZV9zZXNzaW9uX2RhdGEoc2VsZik6
DQogICAgICAgIGlmIG5vdCBzZWxmLnRpbWVfZGF0YSBvciBub3Qgc2VsZi5wb3NfZGF0YSBvciBu
b3Qgc2VsZi5wcmVzc3VyZV9kYXRhOg0KICAgICAgICAgICAgcmV0dXJuDQoNCiAgICAgICAgZmls
ZV9uYW1lID0gZiJwcmVzc3VyZV9kYXRhX3tzZWxmLnNlc3Npb25fc3RhcnRfdGltZS5yZXBsYWNl
KCc6JywgJy0nKX0uY3N2Ig0KICAgICAgICBmaWxlX3BhdGggPSBvcy5wYXRoLmpvaW4ob3MuZ2V0
Y3dkKCksIGZpbGVfbmFtZSkNCiAgICAgICAgdHJ5Og0KICAgICAgICAgICAgd2l0aCBvcGVuKGZp
bGVfcGF0aCwgJ3cnLCBuZXdsaW5lPScnKSBhcyBjc3ZmaWxlOg0KICAgICAgICAgICAgICAgIHdy
aXRlciA9IGNzdi53cml0ZXIoY3N2ZmlsZSkNCiAgICAgICAgICAgICAgICB3cml0ZXIud3JpdGVy
b3coWyJUaW1lIChzKSIsICJQb3NpdGlvbiAobW0pIiwgIlByZXNzdXJlIChnKSJdKQogICAgICAg
ICAgICAgICAgZm9yIGkgaW4gcmFuZ2UobGVuKHNlbGYudGltZV9kYXRhKSk6DQogICAgICAgICAg
ICAgICAgICAgIHdyaXRlci53cml0ZXJvdyhbc2VsZi50aW1lX2RhdGFbaV0sIHNlbGYucG9zX2Rh
dGFbaV0sIHNlbGYucHJlc3N1cmVfZGF0YVtpXV0pDQogICAgICAgICAgICBzZWxmLmxvZyhmIuS8
muivneaVsOaNruW3suS/neWtmOWIsCB7ZmlsZV9wYXRofSIpDQogICAgICAgIGV4Y2VwdCBFeGNl
cHRpb24gYXMgZToNCiAgICAgICAgICAgIHNlbGYubG9nKGYi5L+d5a2Y5Lya6K+d5pWw5o2u5aSx
6LSlOiB7ZX0iKQ0KDQogICAgZGVmIGV4cG9ydF9jaGFydChzZWxmKToNCiAgICAgICAgaWYgbm90
IHNlbGYudGltZV9kYXRhIG9yIG5vdCBzZWxmLnBvc19kYXRhIG9yIG5vdCBzZWxmLnByZXNzdXJl
X2RhdGE6CiAgICAgICAgICAgIG1lc3NhZ2Vib3guc2hvd2Vycm9yKCJFcnJvciIsICJObyBkYXRh
IGF2YWlsYWJsZSBmb3IgZXhwb3J0LiIpCiAgICAgICAgICAgIHJldHVybgogICAgICAgIHRyeToN
CiAgICAgICAgICAgIGNoYXJ0X3BhdGggPSAidGVtcF9jaGFydC5wbmciDQogICAgICAgICAgICBz
ZWxmLmZpZy5zYXZlZmlnKGNoYXJ0X3BhdGgsIGRwaT0xNTApDQogICAgICAgICAgICB3b3JrYm9v
ayA9IG9wZW5weXhsLldvcmtib29rKCkNCiAgICAgICAgICAgIHNoZWV0ID0gd29ya2Jvb2suYWN0
aXZlDQogICAgICAgICAgICBpbWcgPSBYTEltYWdlKGNoYXJ0X3BhdGgpDQogICAgICAgICAgICBz
aGVldC5hZGRfaW1hZ2UoaW1nLCAnQTEnKQ0KICAgICAgICAgICAgZmlsZV9wYXRoID0gZmlsZWRp
YWxvZy5hc2tzYXZlYXNmaWxlbmFtZSgKICAgICAgICAgICAgICAgIGRlZmF1bHRleHRlbnNpb249
Ii54bHN4IiwKICAgICAgICAgICAgICAgIGZpbGV0eXBlcz1bKCJFeGNlbCBmaWxlcyIsICIqLnhs
c3giKSwgKCJBbGwgZmlsZXMiLCAiKi4qIildLAogICAgICAgICAgICAgICAgdGl0bGU9IlNhdmUg
Q2hhcnQgdG8gRXhjZWwiCiAgICAgICAgICAgICkKICAgICAgICAgICAgaWYgZmlsZV9wYXRoOgog
ICAgICAgICAgICAgICAgd29ya2Jvb2suc2F2ZShmaWxlX3BhdGgpCiAgICAgICAgICAgICAgICBz
ZWxmLmxvZyhmIkNoYXJ0IGV4cG9ydGVkIHRvIHtmaWxlX3BhdGh9IikKICAgICAgICAgICAgaWYg
b3MucGF0aC5leGlzdHMoY2hhcnRfcGF0aCk6DQogICAgICAgICAgICAgICAgb3MucmVtb3ZlKGNo
YXJ0X3BhdGgpDQogICAgICAgIGV4Y2VwdCBFeGNlcHRpb24gYXMgZToKICAgICAgICAgICAgbWVz
c2FnZWJveC5zaG93ZXJyb3IoIkVycm9yIiwgZiJGYWlsZWQgdG8gZXhwb3J0IGNoYXJ0OiB7ZX0i
KQoNCiAgICBkZWYgcmVzZXRfY2hhcnQoc2VsZik6DQogICAgICAgIHNlbGYudGltZV9kYXRhLmNs
ZWFyKCkNCiAgICAgICAgc2VsZi5wb3NfZGF0YS5jbGVhcigpDQogICAgICAgIHNlbGYucHJlc3N1
cmVfZGF0YS5jbGVhcigpDQogICAgICAgIHNlbGYubGluZV9wb3Muc2V0X2RhdGEoW10sIFtdKQ0K
ICAgICAgICBzZWxmLmxpbmVfcHJlc3Muc2V0X2RhdGEoW10sIFtdKQ0KICAgICAgICBzZWxmLmF4
LnJlbGltKCk7IHNlbGYuYXguYXV0b3NjYWxlX3ZpZXcoKQ0KICAgICAgICBzZWxmLmF4Mi5yZWxp
bSgpOyBzZWxmLmF4Mi5hdXRvc2NhbGVfdmlldygpDQogICAgICAgIHNlbGYuY2FudmFzLmRyYXdf
aWRsZSgpDQogICAgICAgIHNlbGYubG9nKCJDaGFydCBjbGVhcmVkIikKCiAgICBkZWYgY2xlYXJf
Y2hhcnQoc2VsZik6CiAgICAgICAgaWYgbWVzc2FnZWJveC5hc2t5ZXNubygiQ29uZmlybSIsICJD
bGVhciBhbGwgY2hhcnQgZGF0YT8iKToKICAgICAgICAgICAgc2VsZi5yZXNldF9jaGFydCgpCg0K
ICAgIGRlZiB0YXJlX3ByZXNzdXJlKHNlbGYpOg0KICAgICAgICBpZiBub3Qgc2VsZi5tb2RidXMx
Og0KICAgICAgICAgICAgcmV0dXJuDQogICAgICAgIHRyeToNCiAgICAgICAgICAgIG9mZnNldCA9
IHNlbGYucmVhZF9wcmVzc3VyZSgpICAjIOi/meaYr+KAnOaXp+WOu+earuWQjuKAneeahOivu+aV
sA0KICAgICAgICAgICAgc2VsZi50YXJlX3ZhbHVlICs9IG9mZnNldCAgIyDlj6DliqDliLDmgLvl
jrvnmq7lgLwNCiAgICAgICAgICAgIHNlbGYubG9nKGYi6L2v5Lu25Y6755qu77ya5pys5qyh5YGP
56e7IHtvZmZzZXQ6LjFmfWfvvIzntK/orqHljrvnmq4gPSB7c2VsZi50YXJlX3ZhbHVlOi4xZn1n
IikNCiAgICAgICAgZXhjZXB0IEV4Y2VwdGlvbiBhcyBlOg0KICAgICAgICAgICAgc2VsZi5sb2co
ZiLorr7nva7ljovlipvljrvnmq7lgLzlpLHotKU6IHtlfSIpDQoNCiAgICBkZWYgaGFyZHdhcmVf
dGFyZShzZWxmKToNCiAgICAgICAgaWYgbm90IHNlbGYubW9kYnVzMToNCiAgICAgICAgICAgIG1l
c3NhZ2Vib3guc2hvd2Vycm9yKCLplJnor68iLCAi5Y6L5Yqb5Lyg5oSf5Zmo5pyq6L+e5o6lIikN
CiAgICAgICAgICAgIHJldHVybg0KICAgICAgICB0cnk6DQogICAgICAgICAgICBzZWxmLm1vZGJ1
czEudG9nZ2xlX3dyaXRlX3Byb3RlY3Rpb24oRmFsc2UpDQogICAgICAgICAgICBzZWxmLmxvZygi
5YaZ5L+d5oqk5bey5YWz6ZetIikNCiAgICAgICAgICAgIHJlc3AgPSBzZWxmLm1vZGJ1czEuaGFy
ZHdhcmVfdGFyZSgpDQogICAgICAgICAgICBpZiByZXNwOg0KICAgICAgICAgICAgICAgIHNlbGYu
bG9nKCLnoazku7bljrvnmq7lkb3ku6Tlt7Llj5HpgIEiKQ0KICAgICAgICAgICAgICAgIHNlbGYu
dGFyZV92YWx1ZSA9IDANCiAgICAgICAgICAgIGVsc2U6DQogICAgICAgICAgICAgICAgc2VsZi5s
b2coIuehrOS7tuWOu+earuWRveS7pOWksei0pSIpDQogICAgICAgICAgICBzZWxmLm1vZGJ1czEu
dG9nZ2xlX3dyaXRlX3Byb3RlY3Rpb24oVHJ1ZSkNCiAgICAgICAgICAgIHNlbGYubG9nKCLlhpnk
v53miqTlt7LlkK/nlKgiKQ0KICAgICAgICBleGNlcHQgRXhjZXB0aW9uIGFzIGU6DQogICAgICAg
ICAgICBzZWxmLmxvZyhmIuehrOS7tuWOu+earuWksei0pToge2V9IikNCg0KICAgIGRlZiB6ZXJv
X2NhbGlicmF0aW9uKHNlbGYpOg0KICAgICAgICBpZiBub3Qgc2VsZi5tb2RidXMxOg0KICAgICAg
ICAgICAgbWVzc2FnZWJveC5zaG93ZXJyb3IoIumUmeivryIsICLljovlipvkvKDmhJ/lmajmnKro
v57mjqUiKQ0KICAgICAgICAgICAgcmV0dXJuDQogICAgICAgIHRyeToNCiAgICAgICAgICAgIHNl
bGYubW9kYnVzMS50b2dnbGVfd3JpdGVfcHJvdGVjdGlvbihGYWxzZSkNCiAgICAgICAgICAgIHNl
bGYubG9nKCLlhpnkv53miqTlt7LlhbPpl60iKQ0KICAgICAgICAgICAgcmVzcCA9IHNlbGYubW9k
YnVzMS56ZXJvX2NhbGlicmF0aW9uKCkNCiAgICAgICAgICAgIGlmIHJlc3A6DQogICAgICAgICAg
ICAgICAgc2VsZi5sb2coIumbtueCueagoeWHhuWRveS7pOW3suWPkemAgSIpDQogICAgICAgICAg
ICBlbHNlOg0KICAgICAgICAgICAgICAgIHNlbGYubG9nKCLpm7bngrnmoKHlh4blkb3ku6TlpLHo
tKUiKQ0KICAgICAgICAgICAgc2VsZi5tb2RidXMxLnRvZ2dsZV93cml0ZV9wcm90ZWN0aW9uKFRy
dWUpDQogICAgICAgICAgICBzZWxmLmxvZygi5YaZ5L+d5oqk5bey5ZCv55SoIikNCiAgICAgICAg
ZXhjZXB0IEV4Y2VwdGlvbiBhcyBlOg0KICAgICAgICAgICAgc2VsZi5sb2coZiLpm7bngrnmoKHl
h4blpLHotKU6IHtlfSIpDQoNCiAgICBkZWYgd2VpZ2h0X2NhbGlicmF0aW9uKHNlbGYsIHdlaWdo
dF92YWx1ZT1Ob25lKToNCiAgICAgICAgaWYgbm90IHNlbGYubW9kYnVzMToNCiAgICAgICAgICAg
IG1lc3NhZ2Vib3guc2hvd2Vycm9yKCLplJnor68iLCAi5Y6L5Yqb5Lyg5oSf5Zmo5pyq6L+e5o6l
IikNCiAgICAgICAgICAgIHJldHVybg0KICAgICAgICBpZiB3ZWlnaHRfdmFsdWUgaXMgTm9uZToN
CiAgICAgICAgICAgIHRyeToNCiAgICAgICAgICAgICAgICB3ZWlnaHRfdmFsdWUgPSBpbnQoc2Vs
Zi50YXJnZXRfcHJlc3N1cmVfdmFyLmdldCgpKQ0KICAgICAgICAgICAgZXhjZXB0Og0KICAgICAg
ICAgICAgICAgIG1lc3NhZ2Vib3guc2hvd2Vycm9yKCLplJnor68iLCAi6K+36L6T5YWl5pyJ5pWI
55qE56Cd56CB5YC8IikNCiAgICAgICAgICAgICAgICByZXR1cm4NCiAgICAgICAgdHJ5Og0KICAg
ICAgICAgICAgc2VsZi5tb2RidXMxLnRvZ2dsZV93cml0ZV9wcm90ZWN0aW9uKEZhbHNlKQ0KICAg
ICAgICAgICAgc2VsZi5sb2coIuWGmeS/neaKpOW3suWFs+mXrSIpDQogICAgICAgICAgICByZXNw
ID0gc2VsZi5tb2RidXMxLndlaWdodF9jYWxpYnJhdGlvbih3ZWlnaHRfdmFsdWUpDQogICAgICAg
ICAgICBpZiByZXNwOg0KICAgICAgICAgICAgICAgIHNlbGYubG9nKGYi56Cd56CB5qCh5YeG5ZG9
5Luk5bey5Y+R6YCB77yM56Cd56CB5YC8OiB7d2VpZ2h0X3ZhbHVlfWciKQ0KICAgICAgICAgICAg
ZWxzZToNCiAgICAgICAgICAgICAgICBzZWxmLmxvZygi56Cd56CB5qCh5YeG5ZG95Luk5aSx6LSl
IikNCiAgICAgICAgICAgIHNlbGYubW9kYnVzMS50b2dnbGVfd3JpdGVfcHJvdGVjdGlvbihUcnVl
KQ0KICAgICAgICAgICAgc2VsZi5sb2coIuWGmeS/neaKpOW3suWQr+eUqCIpDQogICAgICAgIGV4
Y2VwdCBFeGNlcHRpb24gYXMgZToNCiAgICAgICAgICAgIHNlbGYubG9nKGYi56Cd56CB5qCh5YeG
5aSx6LSlOiB7ZX0iKQ0KDQogICAgZGVmIHRvZ2dsZV93cml0ZV9wcm90ZWN0aW9uKHNlbGYpOg0K
ICAgICAgICBpZiBub3Qgc2VsZi5tb2RidXMxOg0KICAgICAgICAgICAgbWVzc2FnZWJveC5zaG93
ZXJyb3IoIumUmeivryIsICLljovlipvkvKDmhJ/lmajmnKrov57mjqUiKQ0KICAgICAgICAgICAg
cmV0dXJuDQogICAgICAgIHRyeToNCiAgICAgICAgICAgIHNlbGYud3JpdGVfcHJvdGVjdGlvbl9l
bmFibGVkID0gbm90IHNlbGYud3JpdGVfcHJvdGVjdGlvbl9lbmFibGVkDQogICAgICAgICAgICBy
ZXNwID0gc2VsZi5tb2RidXMxLnRvZ2dsZV93cml0ZV9wcm90ZWN0aW9uKHNlbGYud3JpdGVfcHJv
dGVjdGlvbl9lbmFibGVkKQ0KICAgICAgICAgICAgaWYgcmVzcDoNCiAgICAgICAgICAgICAgICBz
dGF0dXMgPSAi5ZCv55SoIiBpZiBzZWxmLndyaXRlX3Byb3RlY3Rpb25fZW5hYmxlZCBlbHNlICLn
poHnlKgiDQogICAgICAgICAgICAgICAgc2VsZi5sb2coZiLlhpnkv53miqTlt7J7c3RhdHVzfSIp
DQogICAgICAgICAgICBlbHNlOg0KICAgICAgICAgICAgICAgIHNlbGYubG9nKCLlhpnkv53miqTl
iIfmjaLlpLHotKUiKQ0KICAgICAgICBleGNlcHQgRXhjZXB0aW9uIGFzIGU6DQogICAgICAgICAg
ICBzZWxmLmxvZyhmIuWGmeS/neaKpOWIh+aNouWksei0pToge2V9IikNCg0KICAgIGRlZiBsb2Fk
X2NvbmZpZyhzZWxmKToNCiAgICAgICAgc2VsZi5sb2FkZWRfY29uZmlnID0ge30NCiAgICAgICAg
aWYgb3MucGF0aC5leGlzdHMoc2VsZi5DT05GSUdfUEFUSCk6DQogICAgICAgICAgICB0cnk6DQog
ICAgICAgICAgICAgICAgd2l0aCBvcGVuKHNlbGYuQ09ORklHX1BBVEgsICdyJykgYXMgZjoNCiAg
ICAgICAgICAgICAgICAgICAgY29uZmlnID0ganNvbi5sb2FkKGYpDQogICAgICAgICAgICAgICAg
ICAgIGlmIGlzaW5zdGFuY2UoY29uZmlnLCBkaWN0KToNCiAgICAgICAgICAgICAgICAgICAgICAg
IHNlbGYubG9hZGVkX2NvbmZpZyA9IGNvbmZpZw0KDQogICAgICAgICAgICAgICAgICAgICMg5Liy
5Y+j6K6+572uDQogICAgICAgICAgICAgICAgICAgIGlmIGhhc2F0dHIoc2VsZiwgJ3BvcnRfY2Ix
Jyk6DQogICAgICAgICAgICAgICAgICAgICAgICBzZWxmLnBvcnRfY2IxLnNldChjb25maWcuZ2V0
KCJzZXJpYWxfcG9ydDEiLCAiIikgb3IgIiIpDQogICAgICAgICAgICAgICAgICAgIGlmIGhhc2F0
dHIoc2VsZiwgJ2JhdWRfZW50cnkxJyk6DQogICAgICAgICAgICAgICAgICAgICAgICBzZWxmLmJh
dWRfZW50cnkxLmRlbGV0ZSgwLCB0ay5FTkQpDQogICAgICAgICAgICAgICAgICAgICAgICBzZWxm
LmJhdWRfZW50cnkxLmluc2VydCgwLCBjb25maWcuZ2V0KCJiYXVkX3JhdGUxIiwgIjk2MDAiKSkN
CiAgICAgICAgICAgICAgICAgICAgaWYgaGFzYXR0cihzZWxmLCAncG9ydF9jYjInKToNCiAgICAg
ICAgICAgICAgICAgICAgICAgIHNlbGYucG9ydF9jYjIuc2V0KGNvbmZpZy5nZXQoInNlcmlhbF9w
b3J0MiIsICIiKSBvciAiIikNCiAgICAgICAgICAgICAgICAgICAgaWYgaGFzYXR0cihzZWxmLCAn
YmF1ZF9lbnRyeTInKToNCiAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYuYmF1ZF9lbnRyeTIu
ZGVsZXRlKDAsIHRrLkVORCkNCiAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYuYmF1ZF9lbnRy
eTIuaW5zZXJ0KDAsIGNvbmZpZy5nZXQoImJhdWRfcmF0ZTIiLCAiOTYwMCIpKQ0KDQogICAgICAg
ICAgICAgICAgICAgICMg5YW25LuW6K6+572uDQogICAgICAgICAgICAgICAgICAgIGlmIGhhc2F0
dHIoc2VsZiwgJ3Bvc19pbnRlcnZhbF9lbnRyeScpOg0KICAgICAgICAgICAgICAgICAgICAgICAg
c2VsZi5wb3NfaW50ZXJ2YWxfZW50cnkuZGVsZXRlKDAsIHRrLkVORCkNCiAgICAgICAgICAgICAg
ICAgICAgICAgIHNlbGYucG9zX2ludGVydmFsX2VudHJ5Lmluc2VydCgwLCBjb25maWcuZ2V0KCJw
b3NfaW50ZXJ2YWwiLCAiMC4wMSIpKQ0KICAgICAgICAgICAgICAgICAgICBpZiBoYXNhdHRyKHNl
bGYsICdwcmVzc19pbnRlcnZhbF9lbnRyeScpOg0KICAgICAgICAgICAgICAgICAgICAgICAgc2Vs
Zi5wcmVzc19pbnRlcnZhbF9lbnRyeS5kZWxldGUoMCwgdGsuRU5EKQ0KICAgICAgICAgICAgICAg
ICAgICAgICAgc2VsZi5wcmVzc19pbnRlcnZhbF9lbnRyeS5pbnNlcnQoMCwgY29uZmlnLmdldCgi
cHJlc3NfaW50ZXJ2YWwiLCAiMC4wMSIpKQ0KDQogICAgICAgICAgICAgICAgICAgIHNlbGYuYmFz
ZV9qdW1wX3Zhci5zZXQoY29uZmlnLmdldCgiYmFzZV9qdW1wIiwgMTAwMC4wKSkNCiAgICAgICAg
ICAgICAgICAgICAgc2VsZi5qdW1wX2ludGVydmFsX3Zhci5zZXQoY29uZmlnLmdldCgianVtcF9p
bnRlcnZhbCIsIDEwMDAuMCkpDQogICAgICAgICAgICAgICAgICAgIHNlbGYuYWxsX2p1bXBfZGly
ZWN0aW9uX3Zhci5zZXQoY29uZmlnLmdldCgiYWxsX2p1bXBfZGlyZWN0aW9uIiwgIuato+WQkSIp
KQ0KDQogICAgICAgICAgICAgICAgICAgIGZvciBpIGluIHJhbmdlKDEsIDkpOg0KICAgICAgICAg
ICAgICAgICAgICAgICAganVtcF9zZXR0aW5ncyA9IGNvbmZpZy5nZXQoImp1bXBfc2V0dGluZ3Mi
LCB7fSkuZ2V0KHN0cihpKSwge30pDQogICAgICAgICAgICAgICAgICAgICAgICBzZWxmLmp1bXBf
dmFyc1tpXS5zZXQoanVtcF9zZXR0aW5ncy5nZXQoInRocmVzaG9sZCIsIDEwMDAuMCArIChpIC0g
MSkgKiAxMDAwLjApKQ0KICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi5qdW1wX2RpcmVjdGlv
bnNbaV0uc2V0KGp1bXBfc2V0dGluZ3MuZ2V0KCJkaXJlY3Rpb24iLCAi5q2j5ZCRIikpDQogICAg
ICAgICAgICAgICAgICAgICAgICBzZWxmLmp1bXBfYXV0b19jbG9zZV92YXJzW2ldLnNldChqdW1w
X3NldHRpbmdzLmdldCgiYXV0b19jbG9zZSIsIEZhbHNlKSkNCg0KICAgICAgICAgICAgICAgICAg
ICAjIOWOi+WKm+aOp+WItg0KICAgICAgICAgICAgICAgICAgICBocyA9IGZsb2F0KGNvbmZpZy5n
ZXQoImhpZ2hfc3BlZWQiLCA1LjApKQ0KICAgICAgICAgICAgICAgICAgICBscyA9IGZsb2F0KGNv
bmZpZy5nZXQoImxvd19zcGVlZCIsIDAuMDAxKSkNCiAgICAgICAgICAgICAgICAgICAgdG9sID0g
ZmxvYXQoY29uZmlnLmdldCgicHJlc3N1cmVfdG9sZXJhbmNlIiwgMTAuMCkpDQogICAgICAgICAg
ICAgICAgICAgIHNlbGYuaGlnaF9zcGVlZF92YXIuc2V0KGhzKQ0KICAgICAgICAgICAgICAgICAg
ICBzZWxmLmxvd19zcGVlZF92YXIuc2V0KGxzKQ0KICAgICAgICAgICAgICAgICAgICBzZWxmLnRv
bGVyYW5jZV92YXIuc2V0KHRvbCkNCiAgICAgICAgICAgICAgICAgICAgc2VsZi5oaWdoX3NwZWVk
ID0gaHMNCiAgICAgICAgICAgICAgICAgICAgc2VsZi5sb3dfc3BlZWQgPSBscw0KICAgICAgICAg
ICAgICAgICAgICBzZWxmLnByZXNzdXJlX3RvbGVyYW5jZSA9IHRvbA0KDQogICAgICAgICAgICAg
ICAgICAgICMg5aSa5Y6L5Yqb5rWL6K+VDQogICAgICAgICAgICAgICAgICAgIHNlbGYuc3RhYmxl
X3RpbWVfdmFyLnNldChmbG9hdChjb25maWcuZ2V0KCJzdGFibGVfdGltZSIsIDEwLjApKSkNCiAg
ICAgICAgICAgICAgICAgICAgc2VsZi5waXhlbF9zZW5zaXRpdml0eV92YXIuc2V0KGZsb2F0KGNv
bmZpZy5nZXQoInBpeGVsX3NlbnNpdGl2aXR5IiwgNS4wKSkpDQogICAgICAgICAgICAgICAgICAg
IHNlbGYucGl4ZWxfdGltZW91dF92YXIuc2V0KGZsb2F0KGNvbmZpZy5nZXQoInBpeGVsX3RpbWVv
dXQiLCAzMDAuMCkpKQ0KICAgICAgICAgICAgICAgICAgICBzZWxmLnByZXNzdXJlX3BvaW50c192
YXIuc2V0KGNvbmZpZy5nZXQoInByZXNzdXJlX3BvaW50cyIsICIxMDAwLDIwMDAsMzAwMCIpKQ0K
ICAgICAgICAgICAgICAgICAgICBzZWxmLmxvb3BfbW9kZV92YXIuc2V0KGNvbmZpZy5nZXQoImxv
b3BfbW9kZSIsICLpobrluo8iKSkNCg0KICAgICAgICAgICAgICAgICAgICAjIOaXtumXtOWPguaV
sAogICAgICAgICAgICAgICAgICAgIHNlbGYuZGV0ZWN0aW9uX2ludGVydmFsX3Zhci5zZXQoaW50
KGNvbmZpZy5nZXQoImRldGVjdGlvbl9pbnRlcnZhbCIsIDEwMDApKSkgICMgbXMKICAgICAgICAg
ICAgICAgICAgICBzZWxmLnByZXNzdXJlX3N0ZXBfaW50ZXJ2YWxfdmFyLnNldChmbG9hdChjb25m
aWcuZ2V0KCJwcmVzc3VyZV9zdGVwX2ludGVydmFsIiwgNjAuMCkpKSAgIyBzCiAgICAgICAgICAg
ICAgICAgICAgc2VsZi50aW1lb3V0X3Zhci5zZXQoaW50KGNvbmZpZy5nZXQoInRpbWVvdXQiLCA4
MDAwKSkpICAjIG1zCgogICAgICAgICAgICAgICAgICAgIHVpX3JlZnJlc2ggPSBzZWxmLl9ub3Jt
YWxpemVfaW50ZXJ2YWxfdmFsdWUoCiAgICAgICAgICAgICAgICAgICAgICAgIGNvbmZpZy5nZXQo
InVpX3JlZnJlc2hfaW50ZXJ2YWxfbXMiLCBzZWxmLl91aV9yZWZyZXNoX2RlZmF1bHRfbXMpLAog
ICAgICAgICAgICAgICAgICAgICAgICBzZWxmLl91aV9yZWZyZXNoX2RlZmF1bHRfbXMsCiAgICAg
ICAgICAgICAgICAgICAgKQogICAgICAgICAgICAgICAgICAgIHBsb3RfcmVmcmVzaCA9IHNlbGYu
X25vcm1hbGl6ZV9pbnRlcnZhbF92YWx1ZSgKICAgICAgICAgICAgICAgICAgICAgICAgY29uZmln
LmdldCgicGxvdF9yZWZyZXNoX2ludGVydmFsX21zIiwgc2VsZi5fcGxvdF9yZWZyZXNoX2RlZmF1
bHRfbXMpLAogICAgICAgICAgICAgICAgICAgICAgICBzZWxmLl9wbG90X3JlZnJlc2hfZGVmYXVs
dF9tcywKICAgICAgICAgICAgICAgICAgICApCiAgICAgICAgICAgICAgICAgICAgc2VsZi51aV9y
ZWZyZXNoX2ludGVydmFsX21zX3Zhci5zZXQoc2VsZi5fZm9ybWF0X2ludGVydmFsKHVpX3JlZnJl
c2gpKQogICAgICAgICAgICAgICAgICAgIHNlbGYucGxvdF9yZWZyZXNoX2ludGVydmFsX21zX3Zh
ci5zZXQoc2VsZi5fZm9ybWF0X2ludGVydmFsKHBsb3RfcmVmcmVzaCkpCgogICAgICAgICAgICAg
ICAgICAgICMg4oCU4oCUIOaWsOWinu+8mui3s+WPmOiuvue9riDigJTigJQgIwogICAgICAgICAg
ICAgICAgICAgIGlmIGhhc2F0dHIoc2VsZiwgJ2p1bXBfbG9vcF9jb3VudF92YXInKToKICAgICAg
ICAgICAgICAgICAgICAgICAgc2VsZi5qdW1wX2xvb3BfY291bnRfdmFyLnNldChpbnQoY29uZmln
LmdldCgianVtcF9sb29wX2NvdW50IiwgMCkpKQogICAgICAgICAgICAgICAgICAgIGlmIGhhc2F0
dHIoc2VsZiwgJ2p1bXBfYWNxX3NwZWVkX3ZhcicpOg0KICAgICAgICAgICAgICAgICAgICAgICAg
c2VsZi5qdW1wX2FjcV9zcGVlZF92YXIuc2V0KGZsb2F0KGNvbmZpZy5nZXQoImp1bXBfYWNxX3Nw
ZWVkIiwgMC4wMDEpKSkNCiAgICAgICAgICAgICAgICAgICAgaWYgaGFzYXR0cihzZWxmLCAnanVt
cF9ydW5fc3BlZWRfdmFyJyk6DQogICAgICAgICAgICAgICAgICAgICAgICBzZWxmLmp1bXBfcnVu
X3NwZWVkX3Zhci5zZXQoZmxvYXQoY29uZmlnLmdldCgianVtcF9ydW5fc3BlZWQiLCAwLjEpKSkN
CiAgICAgICAgICAgICAgICAgICAgc2VsZi5qdW1wX21vZGVfdmFyLnNldChjb25maWcuZ2V0KCJq
dW1wX21vZGUiLCAi5oyJ5a6e6ZmF5L2N572uIikpDQogICAgICAgICAgICAgICAgICAgIHNlbGYu
anVtcF9iaWFzX2dhdGVfdmFyLnNldChmbG9hdChjb25maWcuZ2V0KCJqdW1wX2JpYXNfZ2F0ZSIs
IDEwMC4wKSkpDQoNCg0KDQogICAgICAgICAgICBleGNlcHQgRXhjZXB0aW9uIGFzIGU6DQogICAg
ICAgICAgICAgICAgc2VsZi5sb2coZiLliqDovb3phY3nva7mlofku7blh7rplJk6IHtlfSIpDQog
ICAgICAgIGVsc2U6DQogICAgICAgICAgICBzZWxmLmxvZygi5pyq5om+5Yiw6YWN572u5paH5Lu2
77yM5L2/55So6buY6K6k5Y+C5pWwIikNCiAgICAgICAgICAgIGlmIGhhc2F0dHIoc2VsZiwgJ3Bv
cnRfY2IxJyk6DQogICAgICAgICAgICAgICAgc2VsZi5wb3J0X2NiMS5zZXQoJycpDQogICAgICAg
ICAgICBpZiBoYXNhdHRyKHNlbGYsICdwb3J0X2NiMicpOg0KICAgICAgICAgICAgICAgIHNlbGYu
cG9ydF9jYjIuc2V0KCcnKQ0KDQogICAgICAgIHNlbGYucmVmcmVzaF9wb3J0cygpDQoNCiAgICBk
ZWYgc2F2ZV9jb25maWcoc2VsZik6DQogICAgICAgIGNvbmZpZyA9IHsNCiAgICAgICAgICAgICJw
b3NfaW50ZXJ2YWwiOiBzZWxmLnBvc19pbnRlcnZhbF9lbnRyeS5nZXQoKSBpZiBoYXNhdHRyKHNl
bGYsICdwb3NfaW50ZXJ2YWxfZW50cnknKSBlbHNlICIwLjAxIiwNCiAgICAgICAgICAgICJwcmVz
c19pbnRlcnZhbCI6IHNlbGYucHJlc3NfaW50ZXJ2YWxfZW50cnkuZ2V0KCkgaWYgaGFzYXR0cihz
ZWxmLCAncHJlc3NfaW50ZXJ2YWxfZW50cnknKSBlbHNlICIwLjAxIiwNCg0KICAgICAgICAgICAg
ImJhc2VfanVtcCI6IGZsb2F0KHNlbGYuYmFzZV9qdW1wX3Zhci5nZXQoKSksDQogICAgICAgICAg
ICAianVtcF9pbnRlcnZhbCI6IGZsb2F0KHNlbGYuanVtcF9pbnRlcnZhbF92YXIuZ2V0KCkpLA0K
ICAgICAgICAgICAgImFsbF9qdW1wX2RpcmVjdGlvbiI6IHNlbGYuYWxsX2p1bXBfZGlyZWN0aW9u
X3Zhci5nZXQoKSwNCiAgICAgICAgICAgICJqdW1wX3NldHRpbmdzIjogew0KICAgICAgICAgICAg
ICAgIHN0cihpKTogew0KICAgICAgICAgICAgICAgICAgICAidGhyZXNob2xkIjogZmxvYXQoc2Vs
Zi5qdW1wX3ZhcnNbaV0uZ2V0KCkpLA0KICAgICAgICAgICAgICAgICAgICAiZGlyZWN0aW9uIjog
c2VsZi5qdW1wX2RpcmVjdGlvbnNbaV0uZ2V0KCksDQogICAgICAgICAgICAgICAgICAgICJhdXRv
X2Nsb3NlIjogYm9vbChzZWxmLmp1bXBfYXV0b19jbG9zZV92YXJzW2ldLmdldCgpKQ0KICAgICAg
ICAgICAgICAgIH0gZm9yIGkgaW4gcmFuZ2UoMSwgOSkNCiAgICAgICAgICAgIH0sDQoNCiAgICAg
ICAgICAgICJzZXJpYWxfcG9ydDEiOiBzZWxmLnBvcnRfY2IxLmdldCgpIGlmIGhhc2F0dHIoc2Vs
ZiwgJ3BvcnRfY2IxJykgZWxzZSAiIiwNCiAgICAgICAgICAgICJiYXVkX3JhdGUxIjogc2VsZi5i
YXVkX2VudHJ5MS5nZXQoKSBpZiBoYXNhdHRyKHNlbGYsICdiYXVkX2VudHJ5MScpIGVsc2UgIjk2
MDAiLA0KICAgICAgICAgICAgInNlcmlhbF9wb3J0MiI6IHNlbGYucG9ydF9jYjIuZ2V0KCkgaWYg
aGFzYXR0cihzZWxmLCAncG9ydF9jYjInKSBlbHNlICIiLA0KICAgICAgICAgICAgImJhdWRfcmF0
ZTIiOiBzZWxmLmJhdWRfZW50cnkyLmdldCgpIGlmIGhhc2F0dHIoc2VsZiwgJ2JhdWRfZW50cnky
JykgZWxzZSAiOTYwMCIsDQoNCiAgICAgICAgICAgICMg5Y6L5Yqb5o6n5Yi25Yy6DQogICAgICAg
ICAgICAiaGlnaF9zcGVlZCI6IGZsb2F0KHNlbGYuaGlnaF9zcGVlZF92YXIuZ2V0KCkpLA0KICAg
ICAgICAgICAgImxvd19zcGVlZCI6IGZsb2F0KHNlbGYubG93X3NwZWVkX3Zhci5nZXQoKSksDQog
ICAgICAgICAgICAicHJlc3N1cmVfdG9sZXJhbmNlIjogZmxvYXQoc2VsZi50b2xlcmFuY2VfdmFy
LmdldCgpKSwNCg0KICAgICAgICAgICAgIyDlpJrljovlipvmtYvor5UNCiAgICAgICAgICAgICJz
dGFibGVfdGltZSI6IGZsb2F0KHNlbGYuc3RhYmxlX3RpbWVfdmFyLmdldCgpKSwNCiAgICAgICAg
ICAgICJwaXhlbF9zZW5zaXRpdml0eSI6IGZsb2F0KHNlbGYucGl4ZWxfc2Vuc2l0aXZpdHlfdmFy
LmdldCgpKSwNCiAgICAgICAgICAgICJwaXhlbF90aW1lb3V0IjogZmxvYXQoc2VsZi5waXhlbF90
aW1lb3V0X3Zhci5nZXQoKSksDQogICAgICAgICAgICAicHJlc3N1cmVfcG9pbnRzIjogc2VsZi5w
cmVzc3VyZV9wb2ludHNfdmFyLmdldCgpLA0KICAgICAgICAgICAgImxvb3BfbW9kZSI6IHNlbGYu
bG9vcF9tb2RlX3Zhci5nZXQoKSwNCg0KICAgICAgICAgICAgIyDmlrDlop7ml7bpl7Tlj4LmlbDv
vIjljZXkvY3kv53mjIHkuIDoh7TvvJptcyAvIHPvvIkNCiAgICAgICAgICAgICJkZXRlY3Rpb25f
aW50ZXJ2YWwiOiBpbnQoc2VsZi5kZXRlY3Rpb25faW50ZXJ2YWxfdmFyLmdldCgpKSwgICMgbXMK
ICAgICAgICAgICAgInByZXNzdXJlX3N0ZXBfaW50ZXJ2YWwiOiBmbG9hdChzZWxmLnByZXNzdXJl
X3N0ZXBfaW50ZXJ2YWxfdmFyLmdldCgpKSwgICMgcwogICAgICAgICAgICAidGltZW91dCI6IGlu
dChzZWxmLnRpbWVvdXRfdmFyLmdldCgpKSwgICMgbXMKICAgICAgICAgICAgInVpX3JlZnJlc2hf
aW50ZXJ2YWxfbXMiOiBzZWxmLl9nZXRfaW50ZXJ2YWxfbXMoCiAgICAgICAgICAgICAgICBzZWxm
LnVpX3JlZnJlc2hfaW50ZXJ2YWxfbXNfdmFyLCBzZWxmLl91aV9yZWZyZXNoX2RlZmF1bHRfbXMK
ICAgICAgICAgICAgKSwKICAgICAgICAgICAgInBsb3RfcmVmcmVzaF9pbnRlcnZhbF9tcyI6IHNl
bGYuX2dldF9pbnRlcnZhbF9tcygKICAgICAgICAgICAgICAgIHNlbGYucGxvdF9yZWZyZXNoX2lu
dGVydmFsX21zX3Zhciwgc2VsZi5fcGxvdF9yZWZyZXNoX2RlZmF1bHRfbXMKICAgICAgICAgICAg
KSwKCiAgICAgICAgICAgICMg4oCU4oCUIOaWsOWinu+8mui3s+WPmOiuvue9ruaMgeS5heWMliDi
gJTigJQgIwogICAgICAgICAgICAianVtcF9sb29wX2NvdW50IjogaW50KHNlbGYuanVtcF9sb29w
X2NvdW50X3Zhci5nZXQoKSkgaWYgaGFzYXR0cihzZWxmLCAnanVtcF9sb29wX2NvdW50X3Zhcicp
IGVsc2UgMCwKICAgICAgICAgICAgImp1bXBfYWNxX3NwZWVkIjogZmxvYXQoc2VsZi5qdW1wX2Fj
cV9zcGVlZF92YXIuZ2V0KCkpIGlmIGhhc2F0dHIoc2VsZiwgJ2p1bXBfYWNxX3NwZWVkX3Zhcicp
IGVsc2UgMC4wMDEsCiAgICAgICAgICAgICJqdW1wX3J1bl9zcGVlZCI6IGZsb2F0KHNlbGYuanVt
cF9ydW5fc3BlZWRfdmFyLmdldCgpKSBpZiBoYXNhdHRyKHNlbGYsICdqdW1wX3J1bl9zcGVlZF92
YXInKSBlbHNlIDAuMSwNCiAgICAgICAgICAgICJqdW1wX21vZGUiOiBzZWxmLmp1bXBfbW9kZV92
YXIuZ2V0KCksDQogICAgICAgICAgICAianVtcF9iaWFzX2dhdGUiOiBmbG9hdChzZWxmLmp1bXBf
Ymlhc19nYXRlX3Zhci5nZXQoKSksDQoNCiAgICAgICAgfQ0KDQogICAgICAgIHNlbGYubG9hZGVk
X2NvbmZpZyA9IGRpY3QoY29uZmlnKQ0KDQogICAgICAgIHRyeToNCiAgICAgICAgICAgIGlmIG5v
dCBvcy5wYXRoLmV4aXN0cyhzZWxmLkNPTkZJR19ESVIpOg0KICAgICAgICAgICAgICAgIG9zLm1h
a2VkaXJzKHNlbGYuQ09ORklHX0RJUikNCiAgICAgICAgICAgIHdpdGggb3BlbihzZWxmLkNPTkZJ
R19QQVRILCAndycpIGFzIGY6DQogICAgICAgICAgICAgICAganNvbi5kdW1wKGNvbmZpZywgZiwg
aW5kZW50PTQpDQogICAgICAgICAgICBzZWxmLmxvZygi6YWN572u5paH5Lu25L+d5a2Y5oiQ5Yqf
IikNCiAgICAgICAgZXhjZXB0IEV4Y2VwdGlvbiBhcyBlOg0KICAgICAgICAgICAgc2VsZi5sb2co
ZiLkv53lrZjphY3nva7mlofku7blh7rplJk6IHtlfSIpDQogICAgICAgICAgICBtZXNzYWdlYm94
LnNob3dlcnJvcigi6ZSZ6K+vIiwgZiLkv53lrZjphY3nva7mlofku7blpLHotKXvvJp7ZX1cbui3
r+W+hO+8mntzZWxmLkNPTkZJR19QQVRIfSIpDQoNCg0KDQogICAgZGVmIHNlbmRfdGVzdF9jb21t
YW5kKHNlbGYpOg0KICAgICAgICAiIiLlkIzml7blkJHkuKTkuKrorr7lpIflj5HkuIDmnaHlpJrl
r4TlrZjlmajlhpnlhaXlgZrov57pgJrmgKfmtYvor5UiIiINCiAgICAgICAgaWYgbm90IHNlbGYu
bW9kYnVzMSBvciBub3Qgc2VsZi5tb2RidXMyOg0KICAgICAgICAgICAgc2VsZi5sb2coIuivt+WF
iOi/nuaOpeS4pOWPsOiuvuWkh+WGjea1i+ivlSIpDQogICAgICAgICAgICByZXR1cm4NCiAgICAg
ICAgdHJ5Og0KICAgICAgICAgICAgdGVzdF9jb21tYW5kID0gWzEyMzQsIDBdDQogICAgICAgICAg
ICByZXNwMSA9IHNlbGYubW9kYnVzMS53cml0ZV9yZWdpc3RlcnMoMTkwLCB0ZXN0X2NvbW1hbmQs
IGRlbGF5PTAuMDA1KQ0KICAgICAgICAgICAgc2VsZi5sb2coZiLljovlipvkvKDmhJ/lmajlj5Hp
gIHmtYvor5Xlkb3ku6Q6IHtyZXNwMS5oZXgoKSBpZiByZXNwMSBlbHNlICfml6Dlk43lupQnfSIp
DQogICAgICAgICAgICByZXNwMiA9IHNlbGYubW9kYnVzMi53cml0ZV9yZWdpc3RlcnMoMTkwLCB0
ZXN0X2NvbW1hbmQsIGRlbGF5PTAuMDA1KQ0KICAgICAgICAgICAgc2VsZi5sb2coZiLov5Dliqjm
jqfliLblmajlj5HpgIHmtYvor5Xlkb3ku6Q6IHtyZXNwMi5oZXgoKSBpZiByZXNwMiBlbHNlICfm
l6Dlk43lupQnfSIpDQogICAgICAgIGV4Y2VwdCBFeGNlcHRpb24gYXMgZToNCiAgICAgICAgICAg
IHNlbGYubG9nKGYi5Y+R6YCB5rWL6K+V5ZG95Luk5aSx6LSlOiB7ZX0iKQ0KDQogICAgZGVmIHZh
bGlkYXRlX2ludGVydmFscyhzZWxmKToNCiAgICAgICAgdHJ5Og0KICAgICAgICAgICAgaWYgaGFz
YXR0cihzZWxmLCAncG9zX2ludGVydmFsX2VudHJ5Jyk6DQogICAgICAgICAgICAgICAgcG9zX2lu
dGVydmFsID0gbWF4KGZsb2F0KHNlbGYucG9zX2ludGVydmFsX2VudHJ5LmdldCgpKSwgc2VsZi5N
SU5fSU5URVJWQUwpDQogICAgICAgICAgICAgICAgc2VsZi5wb3NfaW50ZXJ2YWxfZW50cnkuZGVs
ZXRlKDAsIHRrLkVORCkNCiAgICAgICAgICAgICAgICBzZWxmLnBvc19pbnRlcnZhbF9lbnRyeS5p
bnNlcnQoMCwgc3RyKHBvc19pbnRlcnZhbCkpDQoNCiAgICAgICAgICAgIGlmIGhhc2F0dHIoc2Vs
ZiwgJ3ByZXNzX2ludGVydmFsX2VudHJ5Jyk6DQogICAgICAgICAgICAgICAgcHJlc3NfaW50ZXJ2
YWwgPSBtYXgoZmxvYXQoc2VsZi5wcmVzc19pbnRlcnZhbF9lbnRyeS5nZXQoKSksIHNlbGYuTUlO
X0lOVEVSVkFMKQ0KICAgICAgICAgICAgICAgIHNlbGYucHJlc3NfaW50ZXJ2YWxfZW50cnkuZGVs
ZXRlKDAsIHRrLkVORCkNCiAgICAgICAgICAgICAgICBzZWxmLnByZXNzX2ludGVydmFsX2VudHJ5
Lmluc2VydCgwLCBzdHIocHJlc3NfaW50ZXJ2YWwpKQ0KICAgICAgICBleGNlcHQgVmFsdWVFcnJv
cjoNCiAgICAgICAgICAgIGlmIGhhc2F0dHIoc2VsZiwgJ3Bvc19pbnRlcnZhbF9lbnRyeScpOg0K
ICAgICAgICAgICAgICAgIHNlbGYucG9zX2ludGVydmFsX2VudHJ5LmRlbGV0ZSgwLCB0ay5FTkQp
DQogICAgICAgICAgICAgICAgc2VsZi5wb3NfaW50ZXJ2YWxfZW50cnkuaW5zZXJ0KDAsIHN0cihz
ZWxmLk1JTl9JTlRFUlZBTCkpDQogICAgICAgICAgICBpZiBoYXNhdHRyKHNlbGYsICdwcmVzc19p
bnRlcnZhbF9lbnRyeScpOg0KICAgICAgICAgICAgICAgIHNlbGYucHJlc3NfaW50ZXJ2YWxfZW50
cnkuZGVsZXRlKDAsIHRrLkVORCkNCiAgICAgICAgICAgICAgICBzZWxmLnByZXNzX2ludGVydmFs
X2VudHJ5Lmluc2VydCgwLCBzdHIoc2VsZi5NSU5fSU5URVJWQUwpKQ0KDQogICAgZGVmIHN0YXJ0
X3ByZXNzdXJlX2NvbnRyb2woc2VsZiwgbm90aWZ5PVRydWUpOgogICAgICAgIGlmIG5vdCAoc2Vs
Zi5zZW5zb3JfY29ubmVjdGVkIGFuZCBzZWxmLmNvbnRyb2xsZXJfY29ubmVjdGVkKToKICAgICAg
ICAgICAgaWYgbm90aWZ5OgogICAgICAgICAgICAgICAgbWVzc2FnZWJveC5zaG93ZXJyb3IoIumU
meivryIsICLor7flhYjov57mjqXljovlipvkvKDmhJ/lmajlkozov5DliqjmjqfliLblmagiKQog
ICAgICAgICAgICBlbHNlOgogICAgICAgICAgICAgICAgc2VsZi5sb2coIuWOi+WKm+aOp+WItuWQ
r+WKqOWksei0pe+8muiuvuWkh+acquWFqOmDqOi/nuaOpSIpCiAgICAgICAgICAgIHJldHVybiBG
YWxzZQogICAgICAgIHRyeToKICAgICAgICAgICAgc2VsZi50YXJnZXRfcHJlc3N1cmUgPSBmbG9h
dChzZWxmLnRhcmdldF9wcmVzc3VyZV92YXIuZ2V0KCkpCiAgICAgICAgICAgIHNlbGYucHJlc3N1
cmVfdG9sZXJhbmNlID0gZmxvYXQoc2VsZi50b2xlcmFuY2VfdmFyLmdldCgpKQogICAgICAgICAg
ICBzZWxmLmhpZ2hfc3BlZWQgPSBmbG9hdChzZWxmLmhpZ2hfc3BlZWRfdmFyLmdldCgpKQogICAg
ICAgICAgICBzZWxmLmxvd19zcGVlZCA9IGZsb2F0KHNlbGYubG93X3NwZWVkX3Zhci5nZXQoKSkK
ICAgICAgICBleGNlcHQgVmFsdWVFcnJvcjoNCiAgICAgICAgICAgIGlmIG5vdGlmeToNCiAgICAg
ICAgICAgICAgICBtZXNzYWdlYm94LnNob3dlcnJvcigi6ZSZ6K+vIiwgIuivt+i+k+WFpeacieaV
iOeahOaVsOWAvCIpDQogICAgICAgICAgICByZXR1cm4gRmFsc2UNCg0KICAgICAgICBpZiBzZWxm
LnByZXNzdXJlX2NvbnRyb2xfcnVubmluZzoKICAgICAgICAgICAgaWYgbm90aWZ5OgogICAgICAg
ICAgICAgICAgc2VsZi5sb2coIuWOi+WKm+aOp+WItuW3suWcqOi/kOihjOS4rSIpCiAgICAgICAg
ICAgICAgICByZXR1cm4gRmFsc2UKICAgICAgICAgICAgIyDov5znqIsv6Z2Z6buY6LCD55So6KeG
5Li65bmC562J5oiQ5Yqf77yM6YG/5YWN6YeN5aSN5ZCv5Yqo5pe25oql6ZSZCiAgICAgICAgICAg
IHJldHVybiBUcnVlCg0KICAgICAgICBpZiBzZWxmLmhpZ2hfc3BlZWQgPiAwLjU6CiAgICAgICAg
ICAgIGlmIG5vdGlmeToKICAgICAgICAgICAgICAgIGlmIG5vdCBtZXNzYWdlYm94LmFza3llc25v
KCLpq5jpgJ/kuIvljovorablkYoiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgZiLmgqjljbPlsIbku6Uge3NlbGYuaGlnaF9zcGVlZH0gbW0vcyDnmoTpgJ/luqbk
uIvljovvvIzov5nlj6/og73lr7zoh7Torr7lpIfmjZ/lnY/vvIFcbuaYr+WQpue7p+e7re+8nyIp
OgogICAgICAgICAgICAgICAgICAgIHJldHVybiBGYWxzZQoKICAgICAgICBzZWxmLl9tYXliZV9w
cm9tcHRfYXV0b190YXJlKCkKICAgICAgICBzZWxmLnByZXNzdXJlX2NvbnRyb2xfcnVubmluZyA9
IFRydWUKICAgICAgICBzZWxmLmxvZyhmIuWQr+WKqOWOi+WKm+aOp+WItjog55uu5qCH5Y6L5Yqb
PXtzZWxmLnRhcmdldF9wcmVzc3VyZX1nLCDlrrnlt649e3NlbGYucHJlc3N1cmVfdG9sZXJhbmNl
fWciKQogICAgICAgIHNlbGYucHJlc3N1cmVfY29udHJvbF90aHJlYWQgPSB0aHJlYWRpbmcuVGhy
ZWFkKHRhcmdldD1zZWxmLnByZXNzdXJlX2NvbnRyb2xfbG9vcCwgZGFlbW9uPVRydWUpCiAgICAg
ICAgc2VsZi5wcmVzc3VyZV9jb250cm9sX3RocmVhZC5zdGFydCgpCiAgICAgICAgc2VsZi5fcmVm
cmVzaF9wcmVzc3VyZV9idXR0b25fc3RhdGVzKCkKICAgICAgICByZXR1cm4gVHJ1ZQoKICAgIGRl
ZiBfZmluYWxpemVfcHJlc3N1cmVfY29udHJvbChzZWxmLCAqLCBtYXJrX3N0b3BwZWQ6IGJvb2wg
PSBUcnVlLCBjbGVhcl90aHJlYWQ6IGJvb2wgPSBGYWxzZSk6CiAgICAgICAgIiIi6ZuG5Lit5aSE
55CG5YGc5q2i5Y6L5Yqb5o6n5Yi25pe255qE5YWs5YWx5riF55CG6YC76L6R44CCIiIiCiAgICAg
ICAgaWYgbWFya19zdG9wcGVkOgogICAgICAgICAgICBzZWxmLnByZXNzdXJlX2NvbnRyb2xfcnVu
bmluZyA9IEZhbHNlCiAgICAgICAgaWYgY2xlYXJfdGhyZWFkOgogICAgICAgICAgICBzZWxmLnBy
ZXNzdXJlX2NvbnRyb2xfdGhyZWFkID0gTm9uZQogICAgICAgIHNlbGYuc3RvcF9tb3Rpb24oKQog
ICAgICAgIHNlbGYuY3VycmVudF9zcGVlZF92YXIuc2V0KCIwLjAwMCIpCiAgICAgICAgc2VsZi5f
cmVmcmVzaF9wcmVzc3VyZV9idXR0b25fc3RhdGVzKCkKCiAgICBkZWYgc3RvcF9wcmVzc3VyZV9j
b250cm9sKHNlbGYpOgogICAgICAgIGlmIG5vdCBzZWxmLnByZXNzdXJlX2NvbnRyb2xfcnVubmlu
ZzoKICAgICAgICAgICAgc2VsZi5sb2coIuWOi+WKm+aOp+WItuW9k+WJjeacqui/kOihjCIpCiAg
ICAgICAgICAgIHNlbGYuX2ZpbmFsaXplX3ByZXNzdXJlX2NvbnRyb2wobWFya19zdG9wcGVkPUZh
bHNlKQogICAgICAgICAgICByZXR1cm4KCiAgICAgICAgc2VsZi5sb2coIuWOi+WKm+aOp+WItuW3
suWBnOatoiIpCiAgICAgICAgdGhyZWFkID0gZ2V0YXR0cihzZWxmLCAicHJlc3N1cmVfY29udHJv
bF90aHJlYWQiLCBOb25lKQogICAgICAgIHRocmVhZF9hbGl2ZSA9IGJvb2wodGhyZWFkIGFuZCB0
aHJlYWQuaXNfYWxpdmUoKSkKICAgICAgICBzZWxmLl9maW5hbGl6ZV9wcmVzc3VyZV9jb250cm9s
KGNsZWFyX3RocmVhZD1ub3QgdGhyZWFkX2FsaXZlKQoKICAgIGRlZiBwcmVzc3VyZV9jb250cm9s
X2xvb3Aoc2VsZik6CiAgICAgICAgc2VsZi5sb2coIuWOi+WKm+aOp+WItue6v+eoi+WQr+WKqCIp
CiAgICAgICAgdHJ5OgogICAgICAgICAgICB0cnk6CiAgICAgICAgICAgICAgICB0YXJnZXRfcHJl
c3N1cmUgPSBmbG9hdChzZWxmLnRhcmdldF9wcmVzc3VyZV92YXIuZ2V0KCkpCiAgICAgICAgICAg
ICAgICBoaWdoX3NwZWVkID0gZmxvYXQoc2VsZi5oaWdoX3NwZWVkX3Zhci5nZXQoKSkKICAgICAg
ICAgICAgICAgIGxvd19zcGVlZCA9IGZsb2F0KHNlbGYubG93X3NwZWVkX3Zhci5nZXQoKSkKICAg
ICAgICAgICAgICAgIHByb2dyZXNzaXZlX3pvbmUgPSBmbG9hdChzZWxmLnByb2dyZXNzaXZlX3pv
bmVfdmFyLmdldCgpKQogICAgICAgICAgICAgICAgc2FmZXR5X3ByZXNzdXJlID0gZmxvYXQoc2Vs
Zi5zYWZldHlfcHJlc3N1cmVfdmFyLmdldCgpKQogICAgICAgICAgICAgICAgbW9kZSA9IHNlbGYu
bW90aW9uX21vZGVfdmFyLmdldCgpCiAgICAgICAgICAgIGV4Y2VwdCBFeGNlcHRpb24gYXMgZToK
ICAgICAgICAgICAgICAgIHNlbGYubG9nKGYi5Y+C5pWw6K+75Y+W6ZSZ6K+vOiB7ZX0iKQogICAg
ICAgICAgICAgICAgcmV0dXJuCgogICAgICAgICAgICBqb2dfc3RlcCA9IHNlbGYuam9nX3N0ZXBf
bW0KCiAgICAgICAgICAgIGhpZ2hzcGVlZF9hY3RpdmUgPSBGYWxzZQogICAgICAgICAgICBjb250
aW51b3VzX2FjdGl2ZSA9IEZhbHNlCiAgICAgICAgICAgIHN0YWJsZV9jbnQgPSAwCiAgICAgICAg
ICAgIHN0YWJsZV9uZWVkID0gNQogICAgICAgICAgICBpbl9zdGFibGVfc3RhdGUgPSBGYWxzZQog
ICAgICAgICAgICBhZGp1c3RfZGlyID0gTm9uZQoKICAgICAgICAgICAgd2hpbGUgc2VsZi5wcmVz
c3VyZV9jb250cm9sX3J1bm5pbmc6CiAgICAgICAgICAgICAgICB0cnk6CiAgICAgICAgICAgICAg
ICAgICAgY3VycmVudF9wcmVzc3VyZSA9IHNlbGYucmVhZF9wcmVzc3VyZSgpCiAgICAgICAgICAg
ICAgICAgICAgZGlmZiA9IHRhcmdldF9wcmVzc3VyZSAtIGN1cnJlbnRfcHJlc3N1cmUKICAgICAg
ICAgICAgICAgICAgICBhYnNfZGlmZiA9IGFicyhkaWZmKQogICAgICAgICAgICAgICAgICAgIHRy
eToKICAgICAgICAgICAgICAgICAgICAgICAgdG9sZXJhbmNlID0gZmxvYXQoc2VsZi50b2xlcmFu
Y2VfdmFyLmdldCgpKQogICAgICAgICAgICAgICAgICAgIGV4Y2VwdDoKICAgICAgICAgICAgICAg
ICAgICAgICAgdG9sZXJhbmNlID0gMTAuMAoKICAgICAgICAgICAgICAgICAgICBpZiBjdXJyZW50
X3ByZXNzdXJlID49IHNhZmV0eV9wcmVzc3VyZToKICAgICAgICAgICAgICAgICAgICAgICAgc2Vs
Zi5sb2coZiLimqDvuI8g5L+d5oqk5Y6L5Yqb6Kem5Y+R77yBe2N1cnJlbnRfcHJlc3N1cmU6LjFm
fSDiiaUge3NhZmV0eV9wcmVzc3VyZTouMWZ9IGciKQogICAgICAgICAgICAgICAgICAgICAgICBz
ZWxmLnN0b3BfbW90aW9uKCkKICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi5jdXJyZW50X3Nw
ZWVkX3Zhci5zZXQoIjAuMDAwIikKICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi5hZnRlcigw
LCBsYW1iZGE6IG1lc3NhZ2Vib3guc2hvd3dhcm5pbmcoIuS/neaKpOWOi+WKmyIsIGYi5Y6L5Yqb
6LaF6L+H5L+d5oqk5YC8ICh7c2FmZXR5X3ByZXNzdXJlfSBnKe+8jOW3suaApeWBnCIpKQogICAg
ICAgICAgICAgICAgICAgICAgICBicmVhawoKICAgICAgICAgICAgICAgICAgICBpZiBhYnNfZGlm
ZiA+IHRvbGVyYW5jZToKICAgICAgICAgICAgICAgICAgICAgICAgaWYgaW5fc3RhYmxlX3N0YXRl
OgogICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi5sb2coIuWOi+WKm+a8guenu+WHuuWu
ueW3ru+8jOmHjeaWsOiwg+iKgiIpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbl9zdGFi
bGVfc3RhdGUgPSBGYWxzZQogICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhYmxlX2NudCA9
IDAKCiAgICAgICAgICAgICAgICAgICAgICAgIGlmIGFic19kaWZmID4gcHJvZ3Jlc3NpdmVfem9u
ZToKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlc2lyZWRfZGlyID0gIuS4iyIgaWYgZGlm
ZiA+IDAgZWxzZSAi5LiKIgogICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG5vdCBoaWdo
c3BlZWRfYWN0aXZlKSBvciAoc2VsZi5kaXJlY3Rpb24uZ2V0KCkgIT0gZGVzaXJlZF9kaXIpOgog
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYuc3RvcF9tb3Rpb24oKQogICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYuZGlyZWN0aW9uLnNldChkZXNpcmVkX2RpcikK
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZWxmLnNwZWVkX2VudHJ5LmRlbGV0ZSgw
LCB0ay5FTkQpOyBzZWxmLnNwZWVkX2VudHJ5Lmluc2VydCgwLCBzdHIoaGlnaF9zcGVlZCkpCiAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi5kaXN0YW5jZV9lbnRyeS5kZWxldGUo
MCwgdGsuRU5EKTsgc2VsZi5kaXN0YW5jZV9lbnRyeS5pbnNlcnQoMCwgIjIwLjAiKQogICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYuc2V0X3BhcmFtZXRlcnMoKTsgc2VsZi5zdGFy
dF9tYWNoaW5lKCkKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZWxmLmN1cnJlbnRf
c3BlZWRfdmFyLnNldChmIntoaWdoX3NwZWVkOi4zZn0iKQogICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgIHNlbGYubG9nKGYi5Yy66Ze05aSW6auY6YCfeyfkuIvljosnIGlmIGRpZmYgPiAw
IGVsc2UgJ+aKrOWNhyd95byA5aeLIM6UUD17YWJzX2RpZmY6LjFmfSBnIikKICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICBoaWdoc3BlZWRfYWN0aXZlID0gVHJ1ZQogICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICAgIGNvbnRpbnVvdXNfYWN0aXZlID0gRmFsc2UKICAgICAgICAgICAg
ICAgICAgICAgICAgICAgIHRpbWUuc2xlZXAoMC4wNSkKICAgICAgICAgICAgICAgICAgICAgICAg
ICAgIGNvbnRpbnVlCgogICAgICAgICAgICAgICAgICAgICAgICBpZiBoaWdoc3BlZWRfYWN0aXZl
OgogICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi5zdG9wX21vdGlvbigpCiAgICAgICAg
ICAgICAgICAgICAgICAgICAgICBoaWdoc3BlZWRfYWN0aXZlID0gRmFsc2UKCiAgICAgICAgICAg
ICAgICAgICAgICAgIGlmIG1vZGUgPT0gIueCueWKqCI6CiAgICAgICAgICAgICAgICAgICAgICAg
ICAgICBkZXNpcmVkX2RpciA9ICLkuIsiIGlmIGRpZmYgPiAwIGVsc2UgIuS4iiIKICAgICAgICAg
ICAgICAgICAgICAgICAgICAgIGlmIGFkanVzdF9kaXIgIT0gZGVzaXJlZF9kaXIgb3Igc2VsZi5w
YXJhbXNfbW9kaWZpZWQ6CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi5kaXJl
Y3Rpb24uc2V0KGRlc2lyZWRfZGlyKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNl
bGYuc3BlZWRfZW50cnkuZGVsZXRlKDAsIHRrLkVORCkKICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICBzZWxmLnNwZWVkX2VudHJ5Lmluc2VydCgwLCBzdHIobG93X3NwZWVkKSkKICAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICBzZWxmLmRpc3RhbmNlX2VudHJ5LmRlbGV0ZSgwLCB0
ay5FTkQpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi5kaXN0YW5jZV9lbnRy
eS5pbnNlcnQoMCwgc3RyKGpvZ19zdGVwKSkKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICBzZWxmLnNldF9wYXJhbWV0ZXJzKCkKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBh
ZGp1c3RfZGlyID0gZGVzaXJlZF9kaXIKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBz
ZWxmLmxvZyhmIua4kOi/m+WMuiDihpIg6K6+572uIHtkZXNpcmVkX2Rpcn0g54K55Yqo5Y+C5pWw
77yae2xvd19zcGVlZH0gbW0vcywge2pvZ19zdGVwfSBtbSIpCgogICAgICAgICAgICAgICAgICAg
ICAgICAgICAgc2VsZi5zdGFydF9tYWNoaW5lKCkKICAgICAgICAgICAgICAgICAgICAgICAgICAg
IHNlbGYuY3VycmVudF9zcGVlZF92YXIuc2V0KGYie2xvd19zcGVlZDouM2Z9IikKCiAgICAgICAg
ICAgICAgICAgICAgICAgICAgICBlZmZlY3RpdmVfc3BlZWQgPSBtYXgoYWJzKGxvd19zcGVlZCks
IDFlLTQpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBqb2dfZHVyYXRpb24gPSBtaW4oMC42
LCBtYXgoMC4wMiwgam9nX3N0ZXAgLyBlZmZlY3RpdmVfc3BlZWQgKyAwLjAyKSkKICAgICAgICAg
ICAgICAgICAgICAgICAgICAgIGpvZ19kZWFkbGluZSA9IHRpbWUudGltZSgpICsgam9nX2R1cmF0
aW9uCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBqb2dfY3Jvc3NlZCA9IEZhbHNlCiAgICAg
ICAgICAgICAgICAgICAgICAgICAgICBzYWZldHlfdHJpZ2dlcmVkID0gRmFsc2UKCiAgICAgICAg
ICAgICAgICAgICAgICAgICAgICB3aGlsZSBzZWxmLnByZXNzdXJlX2NvbnRyb2xfcnVubmluZyBh
bmQgdGltZS50aW1lKCkgPCBqb2dfZGVhZGxpbmU6CiAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgdGltZS5zbGVlcCgwLjAxKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1
cnJlbnRfcHJlc3N1cmUgPSBzZWxmLnJlYWRfcHJlc3N1cmUoKQogICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgIGlmIGN1cnJlbnRfcHJlc3N1cmUgPj0gc2FmZXR5X3ByZXNzdXJlOgogICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzYWZldHlfdHJpZ2dlcmVkID0gVHJ1ZQog
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhawoKICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgICBkaWZmID0gdGFyZ2V0X3ByZXNzdXJlIC0gY3VycmVudF9wcmVzc3Vy
ZQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChkZXNpcmVkX2RpciA9PSAi5LiL
IiBhbmQgZGlmZiA8PSAwKSBvciAoZGVzaXJlZF9kaXIgPT0gIuS4iiIgYW5kIGRpZmYgPj0gMCk6
CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGpvZ19jcm9zc2VkID0gVHJ1ZQog
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhawoKICAgICAgICAgICAgICAg
ICAgICAgICAgICAgIHNlbGYuc3RvcF9tb3Rpb24oKQoKICAgICAgICAgICAgICAgICAgICAgICAg
ICAgIGlmIHNhZmV0eV90cmlnZ2VyZWQ6CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
c2VsZi5sb2coZiLimqDvuI8g5L+d5oqk5Y6L5Yqb6Kem5Y+R77yBe2N1cnJlbnRfcHJlc3N1cmU6
LjFmfSDiiaUge3NhZmV0eV9wcmVzc3VyZTouMWZ9IGciKQogICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgIGJyZWFrCgogICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudF9wcmVz
c3VyZSA9IHNlbGYucmVhZF9wcmVzc3VyZSgpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBk
aWZmID0gdGFyZ2V0X3ByZXNzdXJlIC0gY3VycmVudF9wcmVzc3VyZQogICAgICAgICAgICAgICAg
ICAgICAgICAgICAgYWJzX2RpZmYgPSBhYnMoZGlmZikKCiAgICAgICAgICAgICAgICAgICAgICAg
ICAgICBpZiBqb2dfY3Jvc3NlZCBvciAoZGlmZiA+IDAgYW5kIGFkanVzdF9kaXIgPT0gIuS4iiIp
IG9yIChkaWZmIDwgMCBhbmQgYWRqdXN0X2RpciA9PSAi5LiLIik6CiAgICAgICAgICAgICAgICAg
ICAgICAgICAgICAgICAgc2VsZi5sb2coIuW3sui2iui/h+ebruagh+WOi+WKm++8jOWIh+aNouaW
ueWQkeeyvuiwgyIpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYWRqdXN0X2RpciA9
IE5vbmUKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlCiAgICAgICAgICAgICAg
ICAgICAgICAgIGVsc2U6CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZXNpcmVkX2RpciA9
ICLkuIsiIGlmIGRpZmYgPiAwIGVsc2UgIuS4iiIKICAgICAgICAgICAgICAgICAgICAgICAgICAg
IGlmIChub3QgY29udGludW91c19hY3RpdmUpIG9yIHNlbGYuZGlyZWN0aW9uLmdldCgpICE9IGRl
c2lyZWRfZGlyIG9yIHNlbGYucGFyYW1zX21vZGlmaWVkOgogICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgIHNlbGYuc3RvcF9tb3Rpb24oKQogICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgIHNlbGYuZGlyZWN0aW9uLnNldChkZXNpcmVkX2RpcikKICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICAgICBzZWxmLnNwZWVkX2VudHJ5LmRlbGV0ZSgwLCB0ay5FTkQpOyBzZWxmLnNwZWVk
X2VudHJ5Lmluc2VydCgwLCBzdHIobG93X3NwZWVkKSkKICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgICBzZWxmLmRpc3RhbmNlX2VudHJ5LmRlbGV0ZSgwLCB0ay5FTkQpOyBzZWxmLmRpc3Rh
bmNlX2VudHJ5Lmluc2VydCgwLCAiMjAuMCIpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgc2VsZi5zZXRfcGFyYW1ldGVycygpOyBzZWxmLnN0YXJ0X21hY2hpbmUoKQogICAgICAgICAg
ICAgICAgICAgICAgICAgICAgICAgIHNlbGYuY3VycmVudF9zcGVlZF92YXIuc2V0KGYie2xvd19z
cGVlZDouM2Z9IikKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZWxmLmxvZyhmIua4
kOi/m+WMuuS9jumAn+aMgee7rXsn5LiL5Y6LJyBpZiBkaWZmID4gMCBlbHNlICfmiqzljYcnfSIp
CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGludW91c19hY3RpdmUgPSBUcnVl
CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aW1lLnNsZWVwKDAuMDUpCiAgICAgICAgICAg
ICAgICAgICAgICAgICAgICBjb250aW51ZQoKICAgICAgICAgICAgICAgICAgICBzdGFibGVfY250
ICs9IDEKICAgICAgICAgICAgICAgICAgICBpZiBzdGFibGVfY250ID49IHN0YWJsZV9uZWVkIGFu
ZCBub3QgaW5fc3RhYmxlX3N0YXRlOgogICAgICAgICAgICAgICAgICAgICAgICBzZWxmLnN0b3Bf
bW90aW9uKCkKICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi5jdXJyZW50X3NwZWVkX3Zhci5z
ZXQoIjAuMDAwIikKICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi5sb2coZiLljovlipvov5vl
haXmgZLljovkv53mjIEgwrF7dG9sZXJhbmNlfSBnIikKICAgICAgICAgICAgICAgICAgICAgICAg
aW5fc3RhYmxlX3N0YXRlID0gVHJ1ZQogICAgICAgICAgICAgICAgICAgICAgICBoaWdoc3BlZWRf
YWN0aXZlID0gRmFsc2UKICAgICAgICAgICAgICAgICAgICAgICAgY29udGludW91c19hY3RpdmUg
PSBGYWxzZQogICAgICAgICAgICAgICAgICAgIHRpbWUuc2xlZXAoMC4wNSkKCiAgICAgICAgICAg
ICAgICBleGNlcHQgRXhjZXB0aW9uIGFzIGU6CiAgICAgICAgICAgICAgICAgICAgc2VsZi5sb2co
ZiLljovlipvmjqfliLblvILluLg6IHtlfSIpCiAgICAgICAgICAgICAgICAgICAgdGltZS5zbGVl
cCgwLjIpCiAgICAgICAgZmluYWxseToKICAgICAgICAgICAgc2VsZi5fZmluYWxpemVfcHJlc3N1
cmVfY29udHJvbChjbGVhcl90aHJlYWQ9VHJ1ZSkKICAgICAgICAgICAgc2VsZi5sb2coIuWOi+WK
m+aOp+WItue6v+eoi+e7k+adnyIpCgogICAgZGVmIHVwZGF0ZV9idXR0b25fc3RhdGVzKHNlbGYp
OgogICAgICAgIHN0YXJ0X2J0biA9IGdldGF0dHIoc2VsZiwgInN0YXJ0X3ByZXNzdXJlX2J0biIs
IE5vbmUpCiAgICAgICAgc3RvcF9idG4gPSBnZXRhdHRyKHNlbGYsICJzdG9wX3ByZXNzdXJlX2J0
biIsIE5vbmUpCiAgICAgICAgaWYgbm90IHN0YXJ0X2J0biBvciBub3Qgc3RvcF9idG46CiAgICAg
ICAgICAgIHJldHVybgoKICAgICAgICBjb25uZWN0ZWQgPSBzZWxmLnNlbnNvcl9jb25uZWN0ZWQg
YW5kIHNlbGYuY29udHJvbGxlcl9jb25uZWN0ZWQKICAgICAgICBpZiBjb25uZWN0ZWQ6CiAgICAg
ICAgICAgIHN0YXJ0X2J0bi5jb25maWcoc3RhdGU9Im5vcm1hbCIgaWYgbm90IHNlbGYucHJlc3N1
cmVfY29udHJvbF9ydW5uaW5nIGVsc2UgImRpc2FibGVkIikKICAgICAgICAgICAgc3RvcF9idG4u
Y29uZmlnKHN0YXRlPSJub3JtYWwiKQogICAgICAgIGVsc2U6CiAgICAgICAgICAgIHN0YXJ0X2J0
bi5jb25maWcoc3RhdGU9ImRpc2FibGVkIikKICAgICAgICAgICAgc3RvcF9idG4uY29uZmlnKHN0
YXRlPSJkaXNhYmxlZCIpCgogICAgZGVmIF9yZWZyZXNoX3ByZXNzdXJlX2J1dHRvbl9zdGF0ZXMo
c2VsZik6CiAgICAgICAgdHJ5OgogICAgICAgICAgICBzZWxmLmNhbGxfaW5fdWkoc2VsZi51cGRh
dGVfYnV0dG9uX3N0YXRlcykKICAgICAgICBleGNlcHQgRXhjZXB0aW9uIGFzIGV4YzogICMgbm9x
YTogQkxFMDAxCiAgICAgICAgICAgIHNlbGYubG9nKGYi5Yi35paw5Y6L5Yqb5o6n5Yi25oyJ6ZKu
54q25oCB5aSx6LSlOiB7ZXhjfSIpCg0KICAgIGRlZiBfcmVmcmVzaF9jb25uZWN0aW9uX2RlcGVu
ZGVudF9jb250cm9scyhzZWxmKToNCiAgICAgICAgY29udHJvbHMgPSBbDQogICAgICAgICAgICAn
c2V0X2J0bicsICdzdGFydF9idG4nLCAnemVyb19idG4nLCAnbW92ZV9idG4nLA0KICAgICAgICAg
ICAgJ2p1bXBfYnRuJywgJ3N0b3BfYnRuJywgJ2V4cG9ydF9idG4nDQogICAgICAgIF0NCiAgICAg
ICAgZW5hYmxlZCA9IHNlbGYuc2Vuc29yX2Nvbm5lY3RlZCBhbmQgc2VsZi5jb250cm9sbGVyX2Nv
bm5lY3RlZA0KICAgICAgICBzdGF0ZSA9ICJub3JtYWwiIGlmIGVuYWJsZWQgZWxzZSAiZGlzYWJs
ZWQiDQogICAgICAgIGZvciBhdHRyIGluIGNvbnRyb2xzOg0KICAgICAgICAgICAgYnRuID0gZ2V0
YXR0cihzZWxmLCBhdHRyLCBOb25lKQ0KICAgICAgICAgICAgaWYgYnRuIGlzIG5vdCBOb25lOg0K
ICAgICAgICAgICAgICAgIGJ0bi5jb25maWcoc3RhdGU9c3RhdGUpDQogICAgICAgIHNlbGYuX3Jl
ZnJlc2hfcHJlc3N1cmVfYnV0dG9uX3N0YXRlcygpCg0KICAgIGRlZiBzaHV0ZG93bihzZWxmLCBk
ZXN0cm95X3dpbmRvdzogYm9vbCB8IE5vbmUgPSBOb25lKToKICAgICAgICAiIiLnu5/kuIDnmoTl
hbPpl63mtYHnqIvvvJrlj6/lnKjltYzlhaUv54us56uL5qih5byP5Lit5aSN55So44CCIiIiCiAg
ICAgICAgaWYgZGVzdHJveV93aW5kb3cgaXMgTm9uZToKICAgICAgICAgICAgZGVzdHJveV93aW5k
b3cgPSBzZWxmLl9vd25zX3dpbmRvdwoKICAgICAgICB0cnk6CiAgICAgICAgICAgIHNlbGYuX2Nh
bmNlbF9wZXJpb2RpY19qb2JzKCkKICAgICAgICBleGNlcHQgRXhjZXB0aW9uOgogICAgICAgICAg
ICBwYXNzCgogICAgICAgIHRyeToKICAgICAgICAgICAgdHJ5OgogICAgICAgICAgICAgICAgc2Vs
Zi5zYXZlX2NvbmZpZygpCiAgICAgICAgICAgIGV4Y2VwdCBFeGNlcHRpb24gYXMgZToKICAgICAg
ICAgICAgICAgIHNlbGYubG9nKGYi5YWz6Zet5YmN5L+d5a2Y6YWN572u5aSx6LSlOiB7ZX0iKQoK
ICAgICAgICAgICAgdHJ5OgogICAgICAgICAgICAgICAgc2VsZi5zdG9wX2FsbCgpCiAgICAgICAg
ICAgIGV4Y2VwdCBFeGNlcHRpb246CiAgICAgICAgICAgICAgICBwYXNzCgogICAgICAgICAgICB0
cnk6CiAgICAgICAgICAgICAgICBpZiBnZXRhdHRyKHNlbGYsICJ0Y3Bfc2VydmVyIiwgTm9uZSk6
CiAgICAgICAgICAgICAgICAgICAgc2VsZi50Y3Bfc2VydmVyLnN0b3AoKQogICAgICAgICAgICBl
eGNlcHQgRXhjZXB0aW9uOgogICAgICAgICAgICAgICAgcGFzcwoKICAgICAgICAgICAgc2VsZi5f
Y2xlYW51cF9wb3J0cygpCiAgICAgICAgZmluYWxseToKICAgICAgICAgICAgdGFyZ2V0ID0gc2Vs
Zi5fd2luZG93IGlmIGRlc3Ryb3lfd2luZG93IGVsc2Ugc2VsZgogICAgICAgICAgICB0cnk6CiAg
ICAgICAgICAgICAgICB0YXJnZXQuZGVzdHJveSgpCiAgICAgICAgICAgIGV4Y2VwdCBFeGNlcHRp
b246CiAgICAgICAgICAgICAgICBwYXNzCgogICAgZGVmIG9uX2Nsb3Npbmcoc2VsZik6CiAgICAg
ICAgc2VsZi5zaHV0ZG93bihkZXN0cm95X3dpbmRvdz1UcnVlKQoNCiAgICBkZWYgY2hhbmdlX3By
ZXNzdXJlX3VuaXQoc2VsZiwgdW5pdCk6DQogICAgICAgIGZyb20gdGtpbnRlciBpbXBvcnQgVG9w
bGV2ZWwsIExhYmVsLCBFbnRyeSwgQnV0dG9uDQoNCiAgICAgICAgb2xkX3VuaXQgPSBzZWxmLmN1
cnJlbnRfdW5pdA0KICAgICAgICBzZWxmLmN1cnJlbnRfdW5pdCA9IHVuaXQNCg0KICAgICAgICBp
ZiB1bml0IGluIFsiUGEiLCAiTVBhIl06DQogICAgICAgICAgICBkZWYgY29uZmlybV9hcmVhKCk6
DQogICAgICAgICAgICAgICAgdHJ5Og0KICAgICAgICAgICAgICAgICAgICBsZW5ndGggPSBmbG9h
dChsZW5ndGhfZW50cnkuZ2V0KCkpDQogICAgICAgICAgICAgICAgICAgIHdpZHRoID0gZmxvYXQo
d2lkdGhfZW50cnkuZ2V0KCkpDQogICAgICAgICAgICAgICAgICAgIGlmIGxlbmd0aCA8PSAwIG9y
IHdpZHRoIDw9IDA6DQogICAgICAgICAgICAgICAgICAgICAgICByYWlzZSBWYWx1ZUVycm9yKCLp
lb/luqYv5a695bqm6ZyA5Li65q2j5pWwIikNCiAgICAgICAgICAgICAgICAgICAgYXJlYSA9IChs
ZW5ndGggLyAxMDAwKSAqICh3aWR0aCAvIDEwMDApDQogICAgICAgICAgICAgICAgICAgIHNlbGYu
dW5pdF9hcmVhID0gYXJlYQ0KICAgICAgICAgICAgICAgICAgICBtZXNzYWdlYm94LnNob3dpbmZv
KA0KICAgICAgICAgICAgICAgICAgICAgICAgIumdouenr+ehruiupCIsDQogICAgICAgICAgICAg
ICAgICAgICAgICBmIuW3suiuvue9ruWPl+WKm+mdou+8mntsZW5ndGg6LjJmfSBtbSDDlyB7d2lk
dGg6LjJmfSBtbVxu6Z2i56evID0ge2FyZWE6LjZmfSBtwrLvvIzljZXkvY0ge3VuaXR9Ig0KICAg
ICAgICAgICAgICAgICAgICApDQogICAgICAgICAgICAgICAgICAgIHRvcC5kZXN0cm95KCkNCiAg
ICAgICAgICAgICAgICAgICAgc2VsZi5yZWZyZXNoX3ByZXNzdXJlX2Rpc3BsYXkoKQ0KICAgICAg
ICAgICAgICAgIGV4Y2VwdCBFeGNlcHRpb24gYXMgZToNCiAgICAgICAgICAgICAgICAgICAgbWVz
c2FnZWJveC5zaG93ZXJyb3IoIui+k+WFpemUmeivryIsIGYi6L6T5YWl5peg5pWI77yae2V9IikN
Cg0KICAgICAgICAgICAgdG9wID0gdGsuVG9wbGV2ZWwoc2VsZikNCiAgICAgICAgICAgIHRvcC50
aXRsZSgi6K6+572u5Y+X5Yqb6Z2i5bC65a+4IikNCiAgICAgICAgICAgIHRvcC5nZW9tZXRyeSgi
NDAweDIwMCIpDQogICAgICAgICAgICB0b3AudHJhbnNpZW50KHNlbGYpDQogICAgICAgICAgICB0
b3AuZ3JhYl9zZXQoKQ0KICAgICAgICAgICAgTGFiZWwodG9wLCB0ZXh0PSLor7fovpPlhaXlj5fl
ipvpnaLlsLrlr7jvvIjljZXkvY06bW3vvIkiLCBmb250PSgi5b6u6L2v6ZuF6buRIiwgMTEsICJi
b2xkIikpLnBhY2socGFkeT0yMCkNCiAgICAgICAgICAgIGZyYW1lID0gdGsuRnJhbWUodG9wKQ0K
ICAgICAgICAgICAgZnJhbWUucGFjayhwYWR5PTUpDQogICAgICAgICAgICBMYWJlbChmcmFtZSwg
dGV4dD0i6ZW/OiIpLmdyaWQocm93PTAsIGNvbHVtbj0wLCBwYWR4PTQsIHBhZHk9NCwgc3RpY2t5
PSdlJykNCiAgICAgICAgICAgIGxlbmd0aF9lbnRyeSA9IEVudHJ5KGZyYW1lLCB3aWR0aD04KQ0K
ICAgICAgICAgICAgbGVuZ3RoX2VudHJ5LmdyaWQocm93PTAsIGNvbHVtbj0xLCBwYWR4PTQpDQog
ICAgICAgICAgICBsZW5ndGhfZW50cnkuaW5zZXJ0KDAsICIxMDAiKQ0KICAgICAgICAgICAgTGFi
ZWwoZnJhbWUsIHRleHQ9IuWuvToiKS5ncmlkKHJvdz0wLCBjb2x1bW49MiwgcGFkeD00LCBwYWR5
PTQsIHN0aWNreT0nZScpDQogICAgICAgICAgICB3aWR0aF9lbnRyeSA9IEVudHJ5KGZyYW1lLCB3
aWR0aD04KQ0KICAgICAgICAgICAgd2lkdGhfZW50cnkuZ3JpZChyb3c9MCwgY29sdW1uPTMsIHBh
ZHg9NCkNCiAgICAgICAgICAgIHdpZHRoX2VudHJ5Lmluc2VydCgwLCAiMTAwIikNCiAgICAgICAg
ICAgIGJ0biA9IEJ1dHRvbih0b3AsIHRleHQ9IuehruWumiIsIGNvbW1hbmQ9Y29uZmlybV9hcmVh
LCB3aWR0aD04KQ0KICAgICAgICAgICAgYnRuLnBhY2socGFkeT0xMCkNCiAgICAgICAgICAgIHRv
cC5iaW5kKCc8UmV0dXJuPicsIGxhbWJkYSBldmVudDogY29uZmlybV9hcmVhKCkpDQogICAgICAg
ICAgICB0b3Aud2FpdF93aW5kb3coKQ0KICAgICAgICAgICAgc2VsZi5yZWZyZXNoX3ByZXNzdXJl
X2Rpc3BsYXkoKQ0KICAgICAgICAgICAgcmV0dXJuDQogICAgICAgIGVsc2U6DQogICAgICAgICAg
ICBtZXNzYWdlYm94LnNob3dpbmZvKCLljZXkvY3liIfmjaIiLCBmIuW3suWIh+aNouWNleS9jeS4
uiB7dW5pdH0iKQ0KDQogICAgZGVmIHJlZnJlc2hfcHJlc3N1cmVfZGlzcGxheShzZWxmKToNCiAg
ICAgICAgcCA9IHNlbGYuY3VycmVudF9wcmVzc3VyZQ0KICAgICAgICAjIOWkp+Wtl+S4juWwj+Wt
l+e7n+S4gOagvOW8j++8jOS/neeVmSAxIOS9jeWwj+aVsO+8m+i0n+WAvOWmgiAtMjMuNCBnDQog
ICAgICAgIHRyeToNCiAgICAgICAgICAgIGlmIHNlbGYuY3VycmVudF91bml0ID09ICJnIjoNCiAg
ICAgICAgICAgICAgICB0eHQgPSBmIntwOi4xZn0gZyINCiAgICAgICAgICAgIGVsaWYgc2VsZi5j
dXJyZW50X3VuaXQgPT0gIk4iOg0KICAgICAgICAgICAgICAgIHR4dCA9IGYie3AgLyAxMDEuOTc6
LjNmfSBOIiAgIyDnpLrkvovmjaLnrpfvvJrmjIkgMSBrZ2Yg4omIIDkuODA2NjUgTu+8jOiLpeS9
oOW3suacieWHhuehrumdouenr+aNoueul+mAu+i+keWPr+abv+aNog0KICAgICAgICAgICAgZWxp
ZiBzZWxmLmN1cnJlbnRfdW5pdCA9PSAiUGEiOg0KICAgICAgICAgICAgICAgIHR4dCA9IGYie3Ag
LyBzZWxmLnVuaXRfYXJlYTouMWZ9IFBhIg0KICAgICAgICAgICAgZWxpZiBzZWxmLmN1cnJlbnRf
dW5pdCA9PSAiTVBhIjoNCiAgICAgICAgICAgICAgICB0eHQgPSBmIntwIC8gc2VsZi51bml0X2Fy
ZWEgLyAxZTY6LjZmfSBNUGEiDQogICAgICAgICAgICBlbHNlOg0KICAgICAgICAgICAgICAgIHR4
dCA9IGYie3A6LjFmfSBnIg0KICAgICAgICBleGNlcHQgRXhjZXB0aW9uOg0KICAgICAgICAgICAg
dHh0ID0gZiJ7cH0gZyINCg0KICAgICAgICAjIOWkp+Wtl+aYvuekug0KICAgICAgICBzZWxmLmJp
Z19wcmVzc3VyZV92YXIuc2V0KHR4dCkNCiAgICAgICAgIyDlrp7ml7bmlbDmja7ljLrnmoTlsI/l
rZfmmL7npLrvvIjkv53mjIHkvaDljp/mnInlj5jph4/lkI3vvIkNCiAgICAgICAgc2VsZi5wcmVz
c3VyZV9kaXNwbGF5X3Zhci5zZXQoZiJ7cDouMWZ9IikNCg0KICAgIGRlZiB0ZXN0X3BpeGVsX2Rl
dGVjdGlvbihzZWxmKToNCiAgICAgICAgaWYgbm90IHNlbGYucGl4ZWxfZGV0ZWN0aW9uX3JlZ2lv
bjoNCiAgICAgICAgICAgIG1lc3NhZ2Vib3guc2hvd3dhcm5pbmcoIuaPkOekuiIsICLor7flhYjo
rr7nva7mo4DmtYvljLrln5/lkI7lho3mtYvor5UiKQ0KICAgICAgICAgICAgcmV0dXJuDQogICAg
ICAgIGNoYW5nZWQsIG1zZyA9IHNlbGYuY2hlY2tfcGl4ZWxfY2hhbmdlKCkNCiAgICAgICAgc2Vs
Zi5sb2coZiLlg4/ntKDmo4DmtYvmtYvor5U6IHttc2d9IikNCiAgICAgICAgaWYgY2hhbmdlZDoN
CiAgICAgICAgICAgIHNlbGYuc2V0X2luZGljYXRvcl9jb2xvcigiZ3JlZW4iKQ0KICAgICAgICBl
bHNlOg0KICAgICAgICAgICAgc2VsZi5pbmRpY2F0b3JfY2FudmFzLml0ZW1jb25maWcoc2VsZi5p
bmRpY2F0b3JfY2lyY2xlLCBmaWxsPSJvcmFuZ2UiKQ0KICAgICAgICAgICAgc2VsZi5hZnRlcig1
MDAsIGxhbWJkYTogc2VsZi5pbmRpY2F0b3JfY2FudmFzLml0ZW1jb25maWcoc2VsZi5pbmRpY2F0
b3JfY2lyY2xlLCBmaWxsPSJyZWQiKSkNCg0KICAgIGRlZiBpbml0X3Bsb3Rfc3R5bGUoc2VsZik6
DQogICAgICAgIHNlbGYuYXguc2V0X3hsYWJlbCgiVGltZSAocykiKQogICAgICAgIHNlbGYuYXgu
c2V0X3lsYWJlbCgiUG9zaXRpb24gKG1tKSIsIGNvbG9yPScjMjY4YmQyJykKICAgICAgICBzZWxm
LmF4LnRpY2tfcGFyYW1zKGF4aXM9J3knLCBsYWJlbGNvbG9yPScjMjY4YmQyJykKICAgICAgICBz
ZWxmLmF4Mi5zZXRfeWxhYmVsKGYiUHJlc3N1cmUgKHtzZWxmLmN1cnJlbnRfdW5pdH0pIiwgY29s
b3I9JyNlNzRjM2MnKQogICAgICAgIHNlbGYuYXgyLnRpY2tfcGFyYW1zKGF4aXM9J3knLCBsYWJl
bGNvbG9yPScjZTc0YzNjJykNCiAgICAgICAgc2VsZi5heC5ncmlkKFRydWUsIGxpbmVzdHlsZT0n
LS0nLCBhbHBoYT0wLjYpDQoNCiAgICBkZWYgc3RvcF9tdWx0aV9wcmVzc3VyZV90ZXN0KHNlbGYp
Og0KICAgICAgICBpZiBzZWxmLm11bHRpX3ByZXNzdXJlX3J1bm5pbmc6DQogICAgICAgICAgICBz
ZWxmLm11bHRpX3ByZXNzdXJlX3J1bm5pbmcgPSBGYWxzZQ0KICAgICAgICAgICAgc2VsZi5sb2co
IuWkmuWOi+WKm+a1i+ivleW3suaJi+WKqOWBnOatoiIpDQogICAgICAgIHNlbGYucGl4ZWxfZGV0
ZWN0aW9uX2VuYWJsZWQuc2V0KEZhbHNlKQ0KICAgICAgICBzZWxmLnNpbV9jbGlja19lbmFibGVk
LnNldChGYWxzZSkNCg0KICAgIGRlZiBwZXJmb3JtX3NpbV9jbGljayhzZWxmLCAqLCBkb3VibGU6
IGJvb2wgPSBGYWxzZSwgZGVsYXlfbXM6IGludCA9IDApOgogICAgICAgIGlmIG5vdCBzZWxmLnNp
bV9jbGlja19wb3M6CiAgICAgICAgICAgIHNlbGYubG9nKCLmqKHmi5/ngrnlh7vngrnmnKrorr7n
va7vvIzot7Pov4fngrnlh7siKQogICAgICAgICAgICByZXR1cm4KICAgICAgICB4LCB5ID0gc2Vs
Zi5zaW1fY2xpY2tfcG9zCiAgICAgICAgcGVyZm9ybV9jbGlja19hc3luYyhpbnQoeCksIGludCh5
KSwgZG91YmxlPWRvdWJsZSwgZGVsYXlfbXM9ZGVsYXlfbXMsIHJlcG9ydGVyPXNlbGYubG9nKQoK
ICAgIGRlZiBzZXRfZXh0ZXJuYWxfbG9nZ2VyKHNlbGYsIGNhbGxiYWNrKToKICAgICAgICBzZWxm
Ll9leHRlcm5hbF9sb2cgPSBjYWxsYmFjawoNCiAgICBkZWYgc3RhcnRfbWFjaGluZV9xdWlldChz
ZWxmKToKICAgICAgICAiIiLnm7TmjqXkuIvlj5HlkK/liqjlr4TlrZjlmajvvIjml6DlvLnnqpfv
vInvvIzluKbnpoHlkK/nqpflj6PjgIIiIiIKICAgICAgICBpZiBub3Qgc2VsZi5tb2RidXMyOgog
ICAgICAgICAgICByZXR1cm4KICAgICAgICAjIOKAlOKAlCDmlrDlop7vvJrnpoHmraLlnKjliJrl
gZzmraLlkI7nmoTnqpflj6PlhoXph43mlrDngrnngasg4oCU4oCUICMKICAgICAgICBpZiB0aW1l
LnRpbWUoKSA8IGdldGF0dHIoc2VsZiwgIl9ub19hdXRvc3RhcnRfdW50aWwiLCAwKToKICAgICAg
ICAgICAgc2VsZi5sb2coIuaKkeWItuiHquWKqOmHjeWQr++8iOWImuWImuWBnOatou+8iSIpCiAg
ICAgICAgICAgIHJldHVybgogICAgICAgIHNlbGYuX21heWJlX3Byb21wdF9hdXRvX3RhcmUoKQog
ICAgICAgIHRyeToKICAgICAgICAgICAgcmVzcDIgPSBzZWxmLm1vZGJ1czIud3JpdGVfcmVnaXN0
ZXJzKDE3OCwgWzEsIDBdLCBkZWxheT0wLjAwNSkKICAgICAgICAgICAgc2VsZi5sb2coZiLov5Dl
iqjmjqfliLblmajlkK/liqjlkb3ku6QocXVpZXQpOiB7cmVzcDIuaGV4KCkgaWYgcmVzcDIgZWxz
ZSAnJ30iKQ0KICAgICAgICBleGNlcHQgRXhjZXB0aW9uIGFzIGU6DQogICAgICAgICAgICBzZWxm
LmxvZyhmIuWQr+WKqOWRveS7pOWksei0pShxdWlldCk6IHtlfSIpDQoNCiAgICBkZWYgX3NldF9t
b3Rpb25fcGFyYW1zX3F1aWV0KHNlbGYsIGRlc2lyZWRfZGlyOiBzdHIsIHNwZWVkX21tX3M6IGZs
b2F0LCBkaXN0YW5jZV9tbTogZmxvYXQpOg0KICAgICAgICAiIiLnm7TmjqXlhpnlr4TlrZjlmajo
rr7nva7mlrnlkJEv6Led56a7L+mAn+W6pu+8jOS4jeaUuVVJ6L6T5YWl5qGG44CCIiIiDQogICAg
ICAgIGlmIG5vdCBzZWxmLm1vZGJ1czI6DQogICAgICAgICAgICByZXR1cm4NCiAgICAgICAgb3Bf
bW9kZSA9IDEgaWYgZGVzaXJlZF9kaXIgPT0gIuS4iiIgZWxzZSAwDQogICAgICAgIHNwZWVkX3Zh
bCA9IGludChyb3VuZChzcGVlZF9tbV9zICogMTAwMCkpDQogICAgICAgIGRpc3RfdmFsID0gaW50
KHJvdW5kKGRpc3RhbmNlX21tICogMTAwMCkpDQogICAgICAgIHRyeToNCiAgICAgICAgICAgIHJl
c3AgPSBzZWxmLm1vZGJ1czIud3JpdGVfcmVnaXN0ZXJzKDE3MCwgW29wX21vZGUsIDBdLCBkZWxh
eT0wLjAwNSkNCiAgICAgICAgICAgIHNlbGYubG9nKGYi6L+Q5Yqo5o6n5Yi25Zmo6K6+572u5bel
5L2c5pa55byPKG9wPXtvcF9tb2RlfSk6IHtyZXNwLmhleCgpIGlmIHJlc3AgZWxzZSAnJ30iKQ0K
ICAgICAgICAgICAgcmVzcCA9IHNlbGYubW9kYnVzMi53cml0ZV9yZWdpc3RlcnMoMTc0LCBbZGlz
dF92YWwsIDBdLCBkZWxheT0wLjAwNSkNCiAgICAgICAgICAgIHNlbGYubG9nKGYi6L+Q5Yqo5o6n
5Yi25Zmo6K6+572u6Led56a7KG1tPXtkaXN0YW5jZV9tbX0pOiB7cmVzcC5oZXgoKSBpZiByZXNw
IGVsc2UgJyd9IikNCiAgICAgICAgICAgIHJlc3AgPSBzZWxmLm1vZGJ1czIud3JpdGVfcmVnaXN0
ZXJzKDE3NiwgW3NwZWVkX3ZhbCwgMF0sIGRlbGF5PTAuMDA1KQ0KICAgICAgICAgICAgc2VsZi5s
b2coZiLov5DliqjmjqfliLblmajorr7nva7pgJ/luqYobW0vcz17c3BlZWRfbW1fc30pOiB7cmVz
cC5oZXgoKSBpZiByZXNwIGVsc2UgJyd9IikNCiAgICAgICAgZXhjZXB0IEV4Y2VwdGlvbiBhcyBl
Og0KICAgICAgICAgICAgc2VsZi5sb2coZiLorr7nva7ov5Dliqjlj4LmlbDlpLHotKUocXVpZXQp
OiB7ZX0iKQ0KDQogICAgZGVmIF9pc3N1ZV9tb3Rpb25faWZfbmVlZGVkKHNlbGYsIGRlc2lyZWRf
ZGlyOiBzdHIsIHNwZWVkX21tX3M6IGZsb2F0LCBkaXN0YW5jZV9tbTogZmxvYXQsIG1pbl9pbnRl
cnZhbDogZmxvYXQgPSAwLjMwKToNCiAgICAgICAgIiIiDQogICAgICAgIOS7heWcqOmcgOimgeaX
tuaJjeS4i+WPke+8muaWueWQkeWPmOS6hiAvIOmAn+W6puaIlui3neemu+WPmOS6hiAvIOacuuWZ
qOeWkeS8vOWBnOS9jyDkuJQg6Led5LiK5qyh5Y+R5ZG95Luk6LaF6L+HIG1pbl9pbnRlcnZhbCDn
p5LjgIINCiAgICAgICAg6L+U5ZueIFRydWUg6KGo56S66L+Z5qyh56Gu5a6e5LiL5Y+R5LqG5ZCv
5Yqo44CCDQogICAgICAgICIiIg0KICAgICAgICBub3cgPSB0aW1lLnRpbWUoKQ0KICAgICAgICB0
cnk6DQogICAgICAgICAgICBjdXJfc3BkID0gc2VsZi5yZWFkX3NwZWVkKCkNCiAgICAgICAgZXhj
ZXB0IEV4Y2VwdGlvbjoNCiAgICAgICAgICAgIGN1cl9zcGQgPSAwLjANCg0KICAgICAgICBjaGFu
Z2VkX3BhcmFtcyA9ICgNCiAgICAgICAgICAgIGRlc2lyZWRfZGlyICE9IHNlbGYuX21jX2xhc3Rf
ZGlyIG9yDQogICAgICAgICAgICBzZWxmLl9tY19sYXN0X3NwZWVkIGlzIE5vbmUgb3IgYWJzKHNw
ZWVkX21tX3MgLSBzZWxmLl9tY19sYXN0X3NwZWVkKSA+IDFlLTYgb3INCiAgICAgICAgICAgIHNl
bGYuX21jX2xhc3RfZGlzdGFuY2UgaXMgTm9uZSBvciBhYnMoZGlzdGFuY2VfbW0gLSBzZWxmLl9t
Y19sYXN0X2Rpc3RhbmNlKSA+IDFlLTYNCiAgICAgICAgKQ0KICAgICAgICBsb29rc19pZGxlID0g
YWJzKGN1cl9zcGQpIDwgMC4wMDA4ICAjIOmAn+W6puWHoOS5juS4ujDvvIzorqTkuLrlgZzkvY8N
CiAgICAgICAgZW5vdWdoX2dhcCA9IChub3cgLSBzZWxmLl9tY19sYXN0X2NtZF90cykgPj0gbWlu
X2ludGVydmFsDQoNCiAgICAgICAgaWYgY2hhbmdlZF9wYXJhbXM6DQogICAgICAgICAgICAjIOaW
ueWQkeaUueWPmOWFiOWBnOS4gOS4i++8jOmYsuatouWPjeWQkemhtuaSng0KICAgICAgICAgICAg
aWYgc2VsZi5fbWNfbGFzdF9kaXIgaXMgbm90IE5vbmUgYW5kIGRlc2lyZWRfZGlyICE9IHNlbGYu
X21jX2xhc3RfZGlyOg0KICAgICAgICAgICAgICAgIHNlbGYuc3RvcF9tb3Rpb24oKQ0KICAgICAg
ICAgICAgICAgIHRpbWUuc2xlZXAoMC4wMykNCiAgICAgICAgICAgIHNlbGYuX3NldF9tb3Rpb25f
cGFyYW1zX3F1aWV0KGRlc2lyZWRfZGlyLCBzcGVlZF9tbV9zLCBkaXN0YW5jZV9tbSkNCiAgICAg
ICAgICAgIHNlbGYuc3RhcnRfbWFjaGluZV9xdWlldCgpDQogICAgICAgICAgICBzZWxmLl9tY19s
YXN0X2NtZF90cyA9IHRpbWUudGltZSgpDQogICAgICAgICAgICBzZWxmLl9tY19sYXN0X2RpciA9
IGRlc2lyZWRfZGlyDQogICAgICAgICAgICBzZWxmLl9tY19sYXN0X3NwZWVkID0gc3BlZWRfbW1f
cw0KICAgICAgICAgICAgc2VsZi5fbWNfbGFzdF9kaXN0YW5jZSA9IGRpc3RhbmNlX21tDQogICAg
ICAgICAgICBzZWxmLmN1cnJlbnRfc3BlZWRfdmFyLnNldChmIntzcGVlZF9tbV9zOi4zZn0iKQ0K
ICAgICAgICAgICAgcmV0dXJuIFRydWUNCg0KICAgICAgICAjIOWPguaVsOayoeWPmO+8muWPquac
ieWcqOKAnOWDj+aYr+WBnOS9j+S6huKAneS4lOaXtumXtOmXtOmalOa7oei2s+aXtu+8jOaJjemH
jeWPkeS4gOasoeWQr+WKqA0KICAgICAgICBpZiBsb29rc19pZGxlIGFuZCBlbm91Z2hfZ2FwOg0K
ICAgICAgICAgICAgc2VsZi5zdGFydF9tYWNoaW5lX3F1aWV0KCkNCiAgICAgICAgICAgIHNlbGYu
X21jX2xhc3RfY21kX3RzID0gdGltZS50aW1lKCkNCiAgICAgICAgICAgIHNlbGYuY3VycmVudF9z
cGVlZF92YXIuc2V0KGYie3NwZWVkX21tX3M6LjNmfSIpDQogICAgICAgICAgICByZXR1cm4gVHJ1
ZQ0KDQogICAgICAgIHJldHVybiBGYWxzZQ0KDQogICAgIyDigJTigJQg5YGc5q2i6Lez5Y+YIOKA
lOKAlCAjDQogICAgZGVmIHN0b3BfanVtcChzZWxmLCBtYW51YWw9RmFsc2UpOg0KICAgICAgICAi
IiLlj6rnva7kvY3lubblvILmraXlj5HlgZzmnLrvvJvmlLblsL7nlLHlkITlt6XkvZznur/nqIsg
ZmluYWxseSDoh6rooYzlrozmiJDjgIIiIiINCiAgICAgICAgaWYgbm90IHNlbGYuanVtcF9ydW5u
aW5nOg0KICAgICAgICAgICAgcmV0dXJuDQogICAgICAgIHNlbGYuanVtcF9ydW5uaW5nID0gRmFs
c2UNCiAgICAgICAgc2VsZi5zdG9wX21vdGlvbigpICAjIOW8guatpe+8jOS4jemYu+WhniBVSQ0K
ICAgICAgICBpZiBtYW51YWw6DQogICAgICAgICAgICBzZWxmLmxvZygi6Lez5Y+Y6KKr5omL5Yqo
5YGc5q2iIikNCg0KICAgICMg4oCU4oCUIOWOi+WKm+WIsOeCue+8iOS9v+eUqOS5i+WJjeS/ruWk
jeeahOKAnOiKgua1geKAnemAu+i+ke+8iSDigJTigJQgIw0KICAgIGRlZiBfbW92ZV90b19wcmVz
c3VyZV9vbmNlKHNlbGYsIHRhcmdldF9nLCB0b2xlcmFuY2VfZz1Ob25lLCBtb3ZlX3NwZWVkPTAu
MSwgdGltZW91dF9zPTEyMC4wLCBzdGFibGVfaG9sZF9zPTAuMik6DQogICAgICAgICIiIg0KICAg
ICAgICDmiorljovlipvot5HliLAgdGFyZ2V0X2cg5bm25L+d5oyBIHN0YWJsZV9ob2xkX3Mg56eS
5ZCO5oCl5YGc44CCDQogICAgICAgIOS7heWcqOaWueWQkS/pgJ/luqYv6Led56a75Y+Y5pu05oiW
55aR5Ly85YGc5L2P5pe25omN5LiL5Y+R5ZG95Luk77yI6IqC5rWB77yJ44CCDQogICAgICAgICIi
Ig0KICAgICAgICBpZiB0b2xlcmFuY2VfZyBpcyBOb25lOg0KICAgICAgICAgICAgdHJ5Og0KICAg
ICAgICAgICAgICAgIHRvbGVyYW5jZV9nID0gZmxvYXQoc2VsZi50b2xlcmFuY2VfdmFyLmdldCgp
KQ0KICAgICAgICAgICAgZXhjZXB0IEV4Y2VwdGlvbjoNCiAgICAgICAgICAgICAgICB0b2xlcmFu
Y2VfZyA9IDEwLjANCg0KICAgICAgICB0cnk6DQogICAgICAgICAgICBzYWZldHlfZyA9IGZsb2F0
KHNlbGYuc2FmZXR5X3ByZXNzdXJlX3Zhci5nZXQoKSkNCiAgICAgICAgZXhjZXB0IEV4Y2VwdGlv
bjoNCiAgICAgICAgICAgIHNhZmV0eV9nID0gMzAwMDAuMA0KDQogICAgICAgICMg6IqC5rWB6K6w
5b+G6YeN572uDQogICAgICAgIHNlbGYuX21jX2xhc3RfZGlyID0gTm9uZQ0KICAgICAgICBzZWxm
Ll9tY19sYXN0X3NwZWVkID0gTm9uZQ0KICAgICAgICBzZWxmLl9tY19sYXN0X2Rpc3RhbmNlID0g
Tm9uZQ0KICAgICAgICBzZWxmLl9tY19sYXN0X2NtZF90cyA9IDAuMA0KDQogICAgICAgIHQwID0g
dGltZS50aW1lKCkNCiAgICAgICAgc3RhYmxlX3QwID0gTm9uZQ0KDQogICAgICAgIHdoaWxlIHNl
bGYuanVtcF9ydW5uaW5nIGFuZCAodGltZS50aW1lKCkgLSB0MCA8PSB0aW1lb3V0X3MpOg0KICAg
ICAgICAgICAgY3VyID0gc2VsZi5yZWFkX3ByZXNzdXJlKCkNCiAgICAgICAgICAgIGRpZmYgPSB0
YXJnZXRfZyAtIGN1cg0KDQogICAgICAgICAgICAjIOS/neaKpA0KICAgICAgICAgICAgaWYgY3Vy
ID49IHNhZmV0eV9nOg0KICAgICAgICAgICAgICAgIHNlbGYubG9nKGYi4pqg77iPIOS/neaKpOWO
i+WKm+inpuWPke+8iHtjdXI6LjFmfSDiiaUge3NhZmV0eV9nOi4xZn0gZ++8ie+8jOW3suaApeWB
nCIpDQogICAgICAgICAgICAgICAgc2VsZi5zdG9wX21vdGlvbigpDQogICAgICAgICAgICAgICAg
cmV0dXJuIEZhbHNlDQoNCiAgICAgICAgICAgICMg5a655beu5Yik5patDQogICAgICAgICAgICBp
ZiBhYnMoZGlmZikgPD0gdG9sZXJhbmNlX2c6DQogICAgICAgICAgICAgICAgaWYgc3RhYmxlX3Qw
IGlzIE5vbmU6DQogICAgICAgICAgICAgICAgICAgIHN0YWJsZV90MCA9IHRpbWUudGltZSgpDQog
ICAgICAgICAgICAgICAgaWYgdGltZS50aW1lKCkgLSBzdGFibGVfdDAgPj0gc3RhYmxlX2hvbGRf
czoNCiAgICAgICAgICAgICAgICAgICAgc2VsZi5zdG9wX21vdGlvbigpDQogICAgICAgICAgICAg
ICAgICAgIHNlbGYuY3VycmVudF9zcGVlZF92YXIuc2V0KCIwLjAwMCIpDQogICAgICAgICAgICAg
ICAgICAgIHJldHVybiBUcnVlDQogICAgICAgICAgICBlbHNlOg0KICAgICAgICAgICAgICAgIHN0
YWJsZV90MCA9IE5vbmUNCg0KICAgICAgICAgICAgZGVzaXJlZF9kaXIgPSAi5LiLIiBpZiBkaWZm
ID4gMCBlbHNlICLkuIoiDQogICAgICAgICAgICAjIOS7heW/heimgeaXtuS4i+WPkQ0KICAgICAg
ICAgICAgc2VsZi5faXNzdWVfbW90aW9uX2lmX25lZWRlZChkZXNpcmVkX2RpciwgbW92ZV9zcGVl
ZCwgMjAuMCwgbWluX2ludGVydmFsPTAuMzApDQoNCiAgICAgICAgICAgIHRpbWUuc2xlZXAoMC4w
NSkNCg0KICAgICAgICBzZWxmLnN0b3BfbW90aW9uKCkNCiAgICAgICAgc2VsZi5jdXJyZW50X3Nw
ZWVkX3Zhci5zZXQoIjAuMDAwIikNCiAgICAgICAgcmV0dXJuIEZhbHNlDQoNCiAgICAjIOKAlOKA
lCDkvY3nva7liLDngrkg4oCU4oCUICMNCiAgICBkZWYgX21vdmVfdG9fcG9zaXRpb25fb25jZShz
ZWxmLCBwb3NfbW0sIHNwZWVkX21tX3MsIHRpbWVvdXRfcz05MC4wKToNCiAgICAgICAgaWYgbm90
IHNlbGYubW9kYnVzMjoNCiAgICAgICAgICAgIHJldHVybiBGYWxzZQ0KICAgICAgICB0cnk6DQog
ICAgICAgICAgICAjIOiuvue9ruKAnOi9rOWIsOKAneaooeW8jw0KICAgICAgICAgICAgc2VsZi5t
b2RidXMyLndyaXRlX3JlZ2lzdGVycygxNzAsIFsyLCAwXSwgZGVsYXk9MC4wMDUpDQogICAgICAg
ICAgICAjIOmAn+W6pg0KICAgICAgICAgICAgc3BlZWRfdmFsID0gaW50KHJvdW5kKHNwZWVkX21t
X3MgKiAxMDAwKSkNCiAgICAgICAgICAgIHNlbGYubW9kYnVzMi53cml0ZV9yZWdpc3RlcnMoMTc2
LCBbc3BlZWRfdmFsLCAwXSwgZGVsYXk9MC4wMDUpDQogICAgICAgICAgICAjIOebruagh+S9jee9
rg0KICAgICAgICAgICAgdGFyZ2V0X3ZhbCA9IGludChyb3VuZChwb3NfbW0gKiAxMDAwKSkNCiAg
ICAgICAgICAgIHNlbGYubW9kYnVzMi53cml0ZV9yZWdpc3RlcnMoMTc0LCBbdGFyZ2V0X3ZhbCwg
MF0sIGRlbGF5PTAuMDA1KQ0KICAgICAgICAgICAgIyDlkK/liqgNCiAgICAgICAgICAgIHNlbGYu
c3RhcnRfbWFjaGluZV9xdWlldCgpDQoNCiAgICAgICAgICAgIHQwID0gdGltZS50aW1lKCkNCiAg
ICAgICAgICAgIHdoaWxlIHNlbGYuanVtcF9ydW5uaW5nIGFuZCAodGltZS50aW1lKCkgLSB0MCA8
PSB0aW1lb3V0X3MpOg0KICAgICAgICAgICAgICAgIGN1cl9wb3MgPSBzZWxmLnJlYWRfcG9zaXRp
b24oKQ0KICAgICAgICAgICAgICAgIGN1cl9zcGQgPSBzZWxmLnJlYWRfc3BlZWQoKQ0KICAgICAg
ICAgICAgICAgICMg5Yiw5L2N5Yik5o2u77ya5L2N572u6K+v5beu5b6I5bCP5oiW6YCf5bqm4omI
MA0KICAgICAgICAgICAgICAgIGlmIGFicyhjdXJfcG9zIC0gcG9zX21tKSA8PSAwLjAxIG9yIGFi
cyhjdXJfc3BkKSA8IDAuMDAwODoNCiAgICAgICAgICAgICAgICAgICAgc2VsZi5zdG9wX21vdGlv
bigpDQogICAgICAgICAgICAgICAgICAgIHJldHVybiBUcnVlDQogICAgICAgICAgICAgICAgdGlt
ZS5zbGVlcCgwLjA1KQ0KICAgICAgICBleGNlcHQgRXhjZXB0aW9uIGFzIGU6DQogICAgICAgICAg
ICBzZWxmLmxvZyhmIuS9jee9ruWIsOeCueWksei0pToge2V9IikNCg0KICAgICAgICBzZWxmLnN0
b3BfbW90aW9uKCkNCiAgICAgICAgcmV0dXJuIEZhbHNlDQoNCiAgICAjIOKAlOKAlCDmoKHlh4bv
vJrmjInlkITigJzljovlipvngrnigJ3ph4fpm4bkuIDmrKHlrp7pmYXkvY3nva7vvIjnlKjkuo7i
gJzmjInlrp7pmYXkvY3nva7igJ3ot7Plj5jvvIkg4oCU4oCUICMNCiAgICBkZWYgX2NhbGlicmF0
ZV9qdW1wX3Bvc2l0aW9ucyhzZWxmLCBzZXFfcGFpcnMsIGFjcV9zcGVlZCk6DQogICAgICAgICIi
Ig0KICAgICAgICDph4fpm4bpmLbmrrXvvJrmjInljovlipvpgJDngrnpgLzov5HlubborrDlvZXk
vY3nva7jgIINCiAgICAgICAg5L2/55So5riQ6L+b5Yy66YC76L6R77yaDQogICAgICAgICAgLSDl
jLrpl7TlpJbvvJrpq5jpgJ/ov57nu63pnaDov5ENCiAgICAgICAgICAtIOWMuumXtOWGhe+8muS9
jumAn+eCueWKqC/mjIHnu63vvIjnlLHigJzngrnliqgv5oyB57ut4oCd5Y2V6YCJ5Yaz5a6a77yJ
DQogICAgICAgIOmAn+W6puWPluWAvO+8mg0KICAgICAgICAgIC0g6auY6YCfID0g4oCc6YeH6ZuG
6YCf5bqmKG1tL3Mp4oCd77yIanVtcF9hY3Ffc3BlZWRfdmFy77yJDQogICAgICAgICAgLSDkvY7p
gJ8gPSDigJzljovlipvmjqfliLbigJ3ljLrnmoTkvY7pgJ8obG93X3NwZWVkX3ZhcikNCiAgICAg
ICAgIiIiDQogICAgICAgIHBvc19tYXAgPSB7fQ0KICAgICAgICB0cnk6DQogICAgICAgICAgICB0
b2wgPSBmbG9hdChzZWxmLnRvbGVyYW5jZV92YXIuZ2V0KCkpDQogICAgICAgIGV4Y2VwdCBFeGNl
cHRpb246DQogICAgICAgICAgICB0b2wgPSAxMC4wDQogICAgICAgIHRyeToNCiAgICAgICAgICAg
IHByb2cgPSBmbG9hdChzZWxmLnByb2dyZXNzaXZlX3pvbmVfdmFyLmdldCgpKQ0KICAgICAgICBl
eGNlcHQgRXhjZXB0aW9uOg0KICAgICAgICAgICAgcHJvZyA9IDEwMC4wDQoNCiAgICAgICAgIyDp
h4fpm4bnlKjnmoTpq5gv5L2O6YCf5LiO54K55Yqo5q2l6ZW/44CB5qih5byPDQogICAgICAgIHRy
eToNCiAgICAgICAgICAgIGhpZ2hfc3BlZWQgPSBmbG9hdChzZWxmLmp1bXBfYWNxX3NwZWVkX3Zh
ci5nZXQoKSkgICMg6YeH6ZuG6YCf5bqmID0g6auY6YCfDQogICAgICAgIGV4Y2VwdCBFeGNlcHRp
b246DQogICAgICAgICAgICBoaWdoX3NwZWVkID0gbWF4KDAuMDAzLCBmbG9hdChhY3Ffc3BlZWQp
KSAgIyDlhZzlupUNCiAgICAgICAgdHJ5Og0KICAgICAgICAgICAgbG93X3NwZWVkID0gZmxvYXQo
c2VsZi5sb3dfc3BlZWRfdmFyLmdldCgpKSAgIyDmnaXoh6rigJzljovlipvmjqfliLbigJ3ljLoN
CiAgICAgICAgZXhjZXB0IEV4Y2VwdGlvbjoNCiAgICAgICAgICAgIGxvd19zcGVlZCA9IDAuMDAx
DQogICAgICAgIGpvZ19zdGVwID0gc2VsZi5qb2dfc3RlcF9tbQ0KICAgICAgICBtb2RlID0gc2Vs
Zi5tb3Rpb25fbW9kZV92YXIuZ2V0KCkgaWYgaGFzYXR0cihzZWxmLCAibW90aW9uX21vZGVfdmFy
IikgZWxzZSAi54K55YqoIg0KDQogICAgICAgIHNlbGYubG9nKCLlvIDlp4vmjInljovlipvngrnp
h4fpm4bkvY3nva7vvIjluKbmuJDov5vljLrpgLvovpHvvInigKYiKQ0KICAgICAgICBmb3IgaSwg
dGFyZ2V0X2cgaW4gc2VxX3BhaXJzOg0KICAgICAgICAgICAgaWYgbm90IHNlbGYuanVtcF9ydW5u
aW5nOg0KICAgICAgICAgICAgICAgIGJyZWFrDQoNCiAgICAgICAgICAgIHNlbGYubG9nKGYi6YeH
6ZuGe2l9OiDnm67moIfljovlipsge3RhcmdldF9nfSBn77yI6auY6YCfPXtoaWdoX3NwZWVkfSBt
bS9z77yM5L2O6YCfPXtsb3dfc3BlZWR9IG1tL3PvvIzmuJDov5vljLo9e3Byb2d9IGfvvIkiKQ0K
DQogICAgICAgICAgICBvayA9IHNlbGYuX2FwcHJvYWNoX3ByZXNzdXJlX2xpa2VfY29udHJvbCgN
CiAgICAgICAgICAgICAgICB0YXJnZXRfZywNCiAgICAgICAgICAgICAgICB0b2xlcmFuY2VfZz10
b2wsDQogICAgICAgICAgICAgICAgcHJvZ3Jlc3NpdmVfem9uZV9nPXByb2csDQogICAgICAgICAg
ICAgICAgaGlnaF9zcGVlZD1oaWdoX3NwZWVkLA0KICAgICAgICAgICAgICAgIGxvd19zcGVlZD1s
b3dfc3BlZWQsDQogICAgICAgICAgICAgICAgam9nX3N0ZXBfbW09am9nX3N0ZXAsDQogICAgICAg
ICAgICAgICAgbW9kZT1tb2RlLA0KICAgICAgICAgICAgICAgIHRpbWVvdXRfcz1Ob25lLCAgIyDp
h4fpm4bpmLbmrrXpgJrluLjkuI3otoXml7YNCiAgICAgICAgICAgICkNCiAgICAgICAgICAgIGlm
IG5vdCAoc2VsZi5qdW1wX3J1bm5pbmcgYW5kIG9rKToNCiAgICAgICAgICAgICAgICBzZWxmLmxv
ZyhmIumHh+mbhntpfTog5pyq6IO95Yiw6L6+IHt0YXJnZXRfZ30gZ++8jOi3s+i/h+ivpeeCuSIp
DQogICAgICAgICAgICAgICAgY29udGludWUNCg0KICAgICAgICAgICAgcG9zID0gc2VsZi5yZWFk
X3Bvc2l0aW9uKCkNCiAgICAgICAgICAgIHBvc19tYXBbaV0gPSBwb3MNCiAgICAgICAgICAgIGlm
IGhhc2F0dHIoc2VsZiwgImp1bXBfcG9zX3ZhcnMiKToNCiAgICAgICAgICAgICAgICBzZWxmLmp1
bXBfcG9zX3ZhcnNbaV0uc2V0KGYie3BvczouM2Z9IG1tIikNCiAgICAgICAgICAgIHNlbGYubG9n
KGYi6YeH6ZuGe2l9OiDljovlipsge3RhcmdldF9nOi4xZn0gZyDihpIg5L2N572uIHtwb3M6LjNm
fSBtbSIpDQoNCiAgICAgICAgICAgICMg5bCP5YGc6aG/77yM6Ziy5py65qKw5Zue5by5DQogICAg
ICAgICAgICBpbXBvcnQgdGltZQ0KICAgICAgICAgICAgdGltZS5zbGVlcCgwLjE1KQ0KDQogICAg
ICAgIGlmIG5vdCBwb3NfbWFwOg0KICAgICAgICAgICAgc2VsZi5sb2coIuacqumHh+mbhuWIsOS7
u+S9leS9jee9riIpDQogICAgICAgIGVsc2U6DQogICAgICAgICAgICBzZWxmLmxvZyhmIumHh+mb
huWujOaIkO+8jOWFsSB7bGVuKHBvc19tYXApfSDkuKrngrnvvIjlt7Lkvb/nlKjmuJDov5vljLrp
gLvovpHvvIkiKQ0KICAgICAgICByZXR1cm4gcG9zX21hcA0KDQogICAgIyDigJTigJQg6aG65bqP
77ya5oyJ5a6e6ZmF5Y6L5Yqb6Lez5Y+YIOKAlOKAlCAjDQogICAgZGVmIF9ydW5fanVtcF9zZXF1
ZW5jZV9wcmVzc3VyZShzZWxmLCBzZXFfcGFpcnMsIHJ1bl9zcGVlZCwgbG9vcF9jbnQsIGludGVy
dmFsX3MpOg0KICAgICAgICAiIiINCiAgICAgICAgc2VxX3BhaXJzOiBbKGksIHByZXNzdXJlX2cp
LCAuLi5dIOW3sue7j+aMieaWueWQkeaOkuWlveW6jw0KICAgICAgICAiIiINCiAgICAgICAgbG9v
cHNfZG9uZSA9IDANCiAgICAgICAgd2hpbGUgc2VsZi5qdW1wX3J1bm5pbmcgYW5kIChsb29wX2Nu
dCA9PSAwIG9yIGxvb3BzX2RvbmUgPCBsb29wX2NudCk6DQogICAgICAgICAgICBmb3IgaSwgdGFy
Z2V0X2cgaW4gc2VxX3BhaXJzOg0KICAgICAgICAgICAgICAgIGlmIG5vdCBzZWxmLmp1bXBfcnVu
bmluZzoNCiAgICAgICAgICAgICAgICAgICAgYnJlYWsNCiAgICAgICAgICAgICAgICBvayA9IHNl
bGYuX21vdmVfdG9fcHJlc3N1cmVfb25jZSh0YXJnZXRfZywgbW92ZV9zcGVlZD1ydW5fc3BlZWQs
IHRpbWVvdXRfcz0xODAuMCwgc3RhYmxlX2hvbGRfcz0wLjI1KQ0KICAgICAgICAgICAgICAgIGlm
IG9rOg0KICAgICAgICAgICAgICAgICAgICBzZWxmLmxvZyhmIuKckyDot7Plj5h7aX06IOWIsOi+
viB7dGFyZ2V0X2d9IGciKQ0KICAgICAgICAgICAgICAgIGVsc2U6DQogICAgICAgICAgICAgICAg
ICAgIHNlbGYubG9nKGYi4pyXIOi3s+WPmHtpfTog5pyq5Yiw6L6+IHt0YXJnZXRfZ30gZyIpDQog
ICAgICAgICAgICAgICAgIyDpl7TpmpQNCiAgICAgICAgICAgICAgICB0X2VuZCA9IHRpbWUudGlt
ZSgpICsgbWF4KDAuMCwgaW50ZXJ2YWxfcykNCiAgICAgICAgICAgICAgICB3aGlsZSBzZWxmLmp1
bXBfcnVubmluZyBhbmQgdGltZS50aW1lKCkgPCB0X2VuZDoNCiAgICAgICAgICAgICAgICAgICAg
dGltZS5zbGVlcCgwLjA1KQ0KICAgICAgICAgICAgbG9vcHNfZG9uZSArPSAxDQoNCiAgICAgICAg
c2VsZi5zdG9wX2p1bXAobWFudWFsPUZhbHNlKQ0KICAgICAgICBzZWxmLmxvZygi5oyJ5a6e6ZmF
5Y6L5Yqb6Lez5Y+Y57uT5p2fIikNCg0KICAgICMg4oCU4oCUIOmhuuW6j++8muaMieWunumZheS9
jee9rui3s+WPmO+8iOWFiOmHh+mbhuS9jee9ru+8jOWGjeaMieS9jee9rui3ke+8iSDigJTigJQg
Iw0KICAgICMgLS0tIEFwcCDlhoXvvJrnsr7lh4bliLDigJzpl7TpmpTmnIDlkI7kuIDliLvigJ3l
j5bmoLfnmoTmjInlrp7pmYXkvY3nva7ot7Plj5ggLS0tDQogICAgZGVmIF9ydW5fanVtcF9zZXF1
ZW5jZV9wb3NpdGlvbihzZWxmLCBzZXFfcGFpcnMsIGFjcV9zcGVlZCwgcnVuX3NwZWVkLCBsb29w
X2NudCwgaW50ZXJ2YWxfcyk6DQogICAgICAgICIiIg0KICAgICAgICDpl63njq/niYjigJzmjInl
rp7pmYXkvY3nva7igJ3ot7Plj5jvvIjmnKvlsL7ljZXngrnlj5bmoLfvvInvvJoNCiAgICAgICAg
ICAxKSDlhYjmjInlkITljovlipvngrnph4fpm4blr7nlupTkvY3nva7vvIjmuJDov5vljLrpgLvo
vpHvvIkNCiAgICAgICAgICAyKSDot7Plj5jmiafooYzpmLbmrrXvvJrmr4/liLDkuIDkuKrorrDl
vZXkvY3nva4gLT4g56uL5Yi76Kem5Y+R6Lez5Y+Y5L+h5Y+3DQogICAgICAgICAgICAgLT4g6L+b
5YWl54K56Ze04oCc6Ze06ZqU4oCdIC0+IOWcqOmXtOmalOeahOKAnOacgOWQjuS4gOWIu+KAneey
vuehruivu+WPluS4gOasoeWOi+WKmw0KICAgICAgICAgICAgIC0+IOiLpSB86K+v5beufCA+IOWB
j+e9rumXqOanmyhiaWFzX2dhdGUpIOWImeiusOW9lSDCsTAuMDAxIG1tIOWBj+e9ru+8iOS4i+as
oeeUn+aViO+8iQ0KICAgICAgICAiIiINCiAgICAgICAgaW1wb3J0IHRpbWUNCg0KICAgICAgICAj
IDEpIOmHh+mbhumYtuaute+8muW+l+WIsOavj+S4qui3s+WPmOeCueeahOKAnOWfuuWHhuS9jee9
ruKAnQ0KICAgICAgICBwb3NfbWFwID0gc2VsZi5fY2FsaWJyYXRlX2p1bXBfcG9zaXRpb25zKHNl
cV9wYWlycywgYWNxX3NwZWVkKQ0KICAgICAgICBpZiBub3QgcG9zX21hcDoNCiAgICAgICAgICAg
IHNlbGYubG9nKCLmnKrph4fpm4bliLDku7vkvZXkvY3nva7vvIzmjInlrp7pmYXkvY3nva7ot7Pl
j5jnu4jmraIiKQ0KICAgICAgICAgICAgc2VsZi5zdG9wX2p1bXAobWFudWFsPUZhbHNlKQ0KICAg
ICAgICAgICAgcmV0dXJuDQoNCiAgICAgICAgIyDlgY/nva7ooajvvIjot6jlvqrnjq/ntK/np6/v
vIkNCiAgICAgICAgaWYgbm90IGhhc2F0dHIoc2VsZiwgIl9qdW1wX3Bvc19vZmZzZXRzIik6DQog
ICAgICAgICAgICBzZWxmLl9qdW1wX3Bvc19vZmZzZXRzID0ge30gICMge2lkeDogb2Zmc2V0X21t
fQ0KDQogICAgICAgICMg5Y+C5pWw6K+75Y+WDQogICAgICAgIHRyeToNCiAgICAgICAgICAgIHRv
bF9nID0gZmxvYXQoc2VsZi50b2xlcmFuY2VfdmFyLmdldCgpKQ0KICAgICAgICBleGNlcHQgRXhj
ZXB0aW9uOg0KICAgICAgICAgICAgdG9sX2cgPSAxMC4wDQogICAgICAgIHRyeToNCiAgICAgICAg
ICAgIHNhZmV0eV9nID0gZmxvYXQoc2VsZi5zYWZldHlfcHJlc3N1cmVfdmFyLmdldCgpKQ0KICAg
ICAgICBleGNlcHQgRXhjZXB0aW9uOg0KICAgICAgICAgICAgc2FmZXR5X2cgPSAzMDAwMC4wDQog
ICAgICAgIHRyeToNCiAgICAgICAgICAgIGJpYXNfZ2F0ZV9nID0gZmxvYXQoc2VsZi5qdW1wX2Jp
YXNfZ2F0ZV92YXIuZ2V0KCkpICAjID7or6Xpl6jmp5vmiY3CsTAuMDAxbW0NCiAgICAgICAgZXhj
ZXB0IEV4Y2VwdGlvbjoNCiAgICAgICAgICAgIGJpYXNfZ2F0ZV9nID0gMTAwLjANCg0KICAgICAg
ICBPRkZTRVRfU1RFUF9NTSA9IDAuMDAxICAjIOWNleatpeWBj+e9rg0KICAgICAgICBNQVhfT0ZG
U0VUX0FCUyA9IDAuNTAgICMg5YGP572u6ZmQ5bmFDQogICAgICAgIExBU1RfR1VBUkRfUyA9IDAu
MDIgICMg4oCc5pyA5ZCO5LiA5Yi74oCd5L+d5oqk5pe26Ze0DQoNCiAgICAgICAgIyAyKSDmiafo
oYzpmLbmrrXvvJrovazliLDmqKHlvI8gKyDpgJ/luqYg4oCU4oCUIOS7heS4gOasoe+8m+iLpemA
n+W6puacquWPmOWImei3s+i/hw0KICAgICAgICAjIOe8k+WtmOmUru+8ml90dXJuX21vZGVfYXJt
ZWQgKGJvb2wpLCBfdHVybl9tb2RlX3NwZWVkIChmbG9hdCkNCiAgICAgICAgbmVlZF9wcmVwYXJl
ID0gKG5vdCBnZXRhdHRyKHNlbGYsICJfdHVybl9tb2RlX2FybWVkIiwgRmFsc2UpKSBcDQogICAg
ICAgICAgICAgICAgICAgICAgIG9yIChmbG9hdChnZXRhdHRyKHNlbGYsICJfdHVybl9tb2RlX3Nw
ZWVkIiwgZmxvYXQoIm5hbiIpKSkgIT0gZmxvYXQocnVuX3NwZWVkKSkNCiAgICAgICAgaWYgbmVl
ZF9wcmVwYXJlOg0KICAgICAgICAgICAgdHJ5Og0KICAgICAgICAgICAgICAgICMg56Gu5L+d5b2T
5YmN5YGc5q2i5LiA5qyh77yM5Lul5YWN5YiH5qih5byP5pe25Zyo5YqoDQogICAgICAgICAgICAg
ICAgc2VsZi5zdG9wX21vdGlvbigpDQogICAgICAgICAgICBleGNlcHQgRXhjZXB0aW9uOg0KICAg
ICAgICAgICAgICAgIHBhc3MNCiAgICAgICAgICAgIHRyeToNCiAgICAgICAgICAgICAgICBpZiBz
ZWxmLm1vZGJ1czI6DQogICAgICAgICAgICAgICAgICAgICMgMiA9IOi9rOWIsO+8iOe7neWvueS9
jee9ru+8ieaooeW8jw0KICAgICAgICAgICAgICAgICAgICBzZWxmLm1vZGJ1czIud3JpdGVfcmVn
aXN0ZXJzKDE3MCwgWzIsIDBdLCBkZWxheT0wLjAwNSkNCiAgICAgICAgICAgICAgICAgICAgIyDo
rr7nva7pgJ/luqbvvIjljZXkvY3vvJowLjAwMSBtbS9z77yJDQogICAgICAgICAgICAgICAgICAg
IHNlbGYubW9kYnVzMi53cml0ZV9yZWdpc3RlcnMoMTc2LCBbaW50KHJvdW5kKGZsb2F0KHJ1bl9z
cGVlZCkgKiAxMDAwKSksIDBdLCBkZWxheT0wLjAwNSkNCiAgICAgICAgICAgICAgICBzZWxmLl90
dXJuX21vZGVfYXJtZWQgPSBUcnVlDQogICAgICAgICAgICAgICAgc2VsZi5fdHVybl9tb2RlX3Nw
ZWVkID0gZmxvYXQocnVuX3NwZWVkKQ0KICAgICAgICAgICAgICAgIHNlbGYubG9nKGYi5omn6KGM
6Zi25q6177ya6L2s5Yiw5qih5byP5bey6YWN572u5LiA5qyh77yM6YCf5bqmIHtydW5fc3BlZWR9
IG1tL3MiKQ0KICAgICAgICAgICAgZXhjZXB0IEV4Y2VwdGlvbiBhcyBlOg0KICAgICAgICAgICAg
ICAgIHNlbGYubG9nKGYi6K6+572u6L2s5Yiw5qih5byPL+mAn+W6puWksei0pToge2V9IikNCg0K
ICAgICAgICBsb29wc19kb25lID0gMA0KICAgICAgICBwcmV2X3RhcmdldCA9IE5vbmUNCg0KICAg
ICAgICB3aGlsZSBzZWxmLmp1bXBfcnVubmluZyBhbmQgKGxvb3BfY250ID09IDAgb3IgbG9vcHNf
ZG9uZSA8IGxvb3BfY250KToNCiAgICAgICAgICAgIGZvciBpZHgsIHRhcmdldF9nIGluIHNlcV9w
YWlyczoNCiAgICAgICAgICAgICAgICBpZiBub3Qgc2VsZi5qdW1wX3J1bm5pbmc6DQogICAgICAg
ICAgICAgICAgICAgIGJyZWFrDQogICAgICAgICAgICAgICAgaWYgaWR4IG5vdCBpbiBwb3NfbWFw
Og0KICAgICAgICAgICAgICAgICAgICBjb250aW51ZQ0KDQogICAgICAgICAgICAgICAgYmFzZV9w
b3MgPSBmbG9hdChwb3NfbWFwW2lkeF0pDQogICAgICAgICAgICAgICAgb2Zmc2V0ID0gZmxvYXQo
c2VsZi5fanVtcF9wb3Nfb2Zmc2V0cy5nZXQoaWR4LCAwLjApKQ0KICAgICAgICAgICAgICAgIHRh
cmdldF9wb3MgPSBiYXNlX3BvcyArIG9mZnNldA0KDQogICAgICAgICAgICAgICAgIyDliLDkvY3v
vIjkuI3lho3lnKjov5nph4zph43lpI3phY3nva7mqKHlvI8v6YCf5bqm77yJDQogICAgICAgICAg
ICAgICAgb2sgPSBzZWxmLl9tb3ZlX3RvX3Bvc2l0aW9uX29uY2UodGFyZ2V0X3Bvcywgc3BlZWRf
bW1fcz1ydW5fc3BlZWQsIHRpbWVvdXRfcz0xODAuMCkNCiAgICAgICAgICAgICAgICBpZiBub3Qg
b2s6DQogICAgICAgICAgICAgICAgICAgIHNlbGYubG9nKA0KICAgICAgICAgICAgICAgICAgICAg
ICAgZiLot7Plj5h7aWR4fTog5Yiw5L2N562J5b6F6LaF5pe277yM55uu5qCHIHt0YXJnZXRfcG9z
Oi4zZn0gbW3vvIjln7rlh4Yge2Jhc2VfcG9zOi4zZn0gKyDlgY/nva4ge29mZnNldDorLjNmfe+8
iSIpDQogICAgICAgICAgICAgICAgICAgICMg6L+b5YWl54K56Ze06Ze06ZqU5L2G5LiN5YGa5YGP
572u6K+E5LywDQogICAgICAgICAgICAgICAgICAgIHRfZW5kID0gdGltZS50aW1lKCkgKyBtYXgo
MC4wLCBmbG9hdChpbnRlcnZhbF9zKSkNCiAgICAgICAgICAgICAgICAgICAgc2VsZi5fc2xlZXBf
dW50aWwodF9lbmQpDQogICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlDQoNCiAgICAgICAgICAg
ICAgICAjIOWImuWIsOS9jeWwseinpuWPkei3s+WPmOS/oeWPt++8iOWmguaenOmFjee9ruWFgeiu
uO+8iQ0KICAgICAgICAgICAgICAgIHRyeToNCiAgICAgICAgICAgICAgICAgICAgc2VsZi5fZmly
ZV9qdW1wX2lmX2NvbmZpZ3VyZWQoaWR4LCBwcmV2X3RhcmdldCwgdGFyZ2V0X2cpDQogICAgICAg
ICAgICAgICAgZXhjZXB0IEV4Y2VwdGlvbjoNCiAgICAgICAgICAgICAgICAgICAgcGFzcw0KICAg
ICAgICAgICAgICAgIHByZXZfdGFyZ2V0ID0gdGFyZ2V0X2cNCg0KICAgICAgICAgICAgICAgICMg
54K56Ze06Ze06ZqU77ya55uR5o6nICsg4oCc5pyA5ZCO5LiA5Yi74oCd5Y+W5qC3DQogICAgICAg
ICAgICAgICAgdF9lbmQgPSB0aW1lLnRpbWUoKSArIG1heCgwLjAsIGZsb2F0KGludGVydmFsX3Mp
KQ0KICAgICAgICAgICAgICAgIHdoaWxlIHNlbGYuanVtcF9ydW5uaW5nIGFuZCB0aW1lLnRpbWUo
KSA8IHRfZW5kIC0gTEFTVF9HVUFSRF9TOg0KICAgICAgICAgICAgICAgICAgICBwX25vdyA9IGZs
b2F0KHNlbGYucmVhZF9wcmVzc3VyZSgpKQ0KICAgICAgICAgICAgICAgICAgICBpZiBwX25vdyA+
PSBzYWZldHlfZzoNCiAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYubG9nKGYi4pqg77iPIOi3
s+WPmHtpZHh9OiDop6blj5Hkv53miqTljovlipsge3Bfbm93Oi4xZn1nIOKJpSB7c2FmZXR5X2c6
LjFmfWfvvIzmgKXlgZwiKQ0KICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi5zdG9wX21vdGlv
bigpDQogICAgICAgICAgICAgICAgICAgICAgICBzZWxmLmp1bXBfcnVubmluZyA9IEZhbHNlDQog
ICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4NCiAgICAgICAgICAgICAgICAgICAgdGltZS5z
bGVlcCgwLjA1KQ0KDQogICAgICAgICAgICAgICAgc2VsZi5fc2xlZXBfdW50aWwodF9lbmQpDQog
ICAgICAgICAgICAgICAgcF9sYXN0ID0gZmxvYXQoc2VsZi5yZWFkX3ByZXNzdXJlKCkpICAjIOKY
hSDmnKvliLvljZXngrkNCiAgICAgICAgICAgICAgICBpZiBwX2xhc3QgPj0gc2FmZXR5X2c6DQog
ICAgICAgICAgICAgICAgICAgIHNlbGYubG9nKGYi4pqg77iPIOi3s+WPmHtpZHh9OiDop6blj5Hk
v53miqTljovlipsge3BfbGFzdDouMWZ9ZyDiiaUge3NhZmV0eV9nOi4xZn1n77yM5oCl5YGcIikN
CiAgICAgICAgICAgICAgICAgICAgc2VsZi5zdG9wX21vdGlvbigpDQogICAgICAgICAgICAgICAg
ICAgIHNlbGYuanVtcF9ydW5uaW5nID0gRmFsc2UNCiAgICAgICAgICAgICAgICAgICAgcmV0dXJu
DQoNCiAgICAgICAgICAgICAgICAjIOWBj+e9ruivhOS8sA0KICAgICAgICAgICAgICAgIGVyciA9
IHBfbGFzdCAtIGZsb2F0KHRhcmdldF9nKQ0KICAgICAgICAgICAgICAgIGFlcnIgPSBhYnMoZXJy
KQ0KDQogICAgICAgICAgICAgICAgaWYgYWVyciA8PSB0b2xfZzoNCiAgICAgICAgICAgICAgICAg
ICAgc2VsZi5sb2coDQogICAgICAgICAgICAgICAgICAgICAgICBmIui3s+WPmHtpZHh9OiDmnKvl
iLvljovlipsge3BfbGFzdDouMWZ9IGcg5Zyo5a655beuIMKxe3RvbF9nOi4wZn0gZyDlhoXvvIjn
m67moIcge3RhcmdldF9nOi4xZn0gZ++8ie+8jOWBj+e9ruS/neaMgSB7b2Zmc2V0OisuM2Z9IG1t
IikNCiAgICAgICAgICAgICAgICBlbGlmIGFlcnIgPiBiaWFzX2dhdGVfZzoNCiAgICAgICAgICAg
ICAgICAgICAgaWYgZXJyIDwgMDoNCiAgICAgICAgICAgICAgICAgICAgICAgIG5ld19vZmZzZXQg
PSBvZmZzZXQgKyBPRkZTRVRfU1RFUF9NTSAgIyDljovlipvlgY/lsI8g4oaSIOWGjeWkmuWOi+S4
gOeCuQ0KICAgICAgICAgICAgICAgICAgICAgICAgYWN0aW9uID0gZiIre09GRlNFVF9TVEVQX01N
Oi4zZn0gbW0iDQogICAgICAgICAgICAgICAgICAgIGVsc2U6DQogICAgICAgICAgICAgICAgICAg
ICAgICBuZXdfb2Zmc2V0ID0gb2Zmc2V0IC0gT0ZGU0VUX1NURVBfTU0gICMg5Y6L5Yqb5YGP5aSn
IOKGkiDlsJHljovkuIDngrkNCiAgICAgICAgICAgICAgICAgICAgICAgIGFjdGlvbiA9IGYiLXtP
RkZTRVRfU1RFUF9NTTouM2Z9IG1tIg0KICAgICAgICAgICAgICAgICAgICBuZXdfb2Zmc2V0ID0g
bWF4KC1NQVhfT0ZGU0VUX0FCUywgbWluKE1BWF9PRkZTRVRfQUJTLCBuZXdfb2Zmc2V0KSkNCiAg
ICAgICAgICAgICAgICAgICAgc2VsZi5fanVtcF9wb3Nfb2Zmc2V0c1tpZHhdID0gbmV3X29mZnNl
dA0KICAgICAgICAgICAgICAgICAgICBzZWxmLmxvZygNCiAgICAgICAgICAgICAgICAgICAgICAg
IGYi6Lez5Y+Ye2lkeH06IOacq+WIu+WOi+WKmyB7cF9sYXN0Oi4xZn0gZyDkuI7nm67moIcge3Rh
cmdldF9nOi4xZn0gZyDlgY/lt64ge2VycjorLjFmfSBnID4gwrF7Ymlhc19nYXRlX2c6LjBmfSBn
IOKGkiAiDQogICAgICAgICAgICAgICAgICAgICAgICBmIuiusOW9leWBj+e9riB7YWN0aW9ufe+8
iOeUsSB7b2Zmc2V0OisuM2Z9IOKGkiB7bmV3X29mZnNldDorLjNmfSBtbe+8jOS4i+asoeeUn+aV
iO+8iSINCiAgICAgICAgICAgICAgICAgICAgKQ0KICAgICAgICAgICAgICAgIGVsc2U6DQogICAg
ICAgICAgICAgICAgICAgIHNlbGYubG9nKA0KICAgICAgICAgICAgICAgICAgICAgICAgZiLot7Pl
j5h7aWR4fTog5pyr5Yi75Y6L5YqbIHtwX2xhc3Q6LjFmfSBnIOS4juebruaghyB7dGFyZ2V0X2c6
LjFmfSBnIOWBj+W3riB7ZXJyOisuMWZ9IGfvvIwiDQogICAgICAgICAgICAgICAgICAgICAgICBm
IuWcqCjCsXt0b2xfZzouMGZ9IGcsIMKxe2JpYXNfZ2F0ZV9nOi4wZn0gZ10g5Yy66Ze0IOKGkiDk
uI3osIPmlbTlgY/nva7vvIjkv53mjIEge29mZnNldDorLjNmfSBtbe+8iSINCiAgICAgICAgICAg
ICAgICAgICAgKQ0KDQogICAgICAgICAgICBpZiBsb29wX2NudCAhPSAwOg0KICAgICAgICAgICAg
ICAgIGxvb3BzX2RvbmUgKz0gMQ0KDQogICAgICAgIHNlbGYuc3RvcF9qdW1wKG1hbnVhbD1GYWxz
ZSkNCiAgICAgICAgc2VsZi5sb2coIuaMieWunumZheS9jee9rui3s+WPmOe7k+adn++8iOacq+WI
u+WPluagtyAmIOmXreeOr+WBj+e9ru+8iSIpDQoNCiAgICBkZWYgX3NsZWVwX3VudGlsKHNlbGYs
IHRfZW5kOiBmbG9hdCk6DQogICAgICAgICIiIg0KICAgICAgICDlsIblvZPliY3nur/nqIvkvJHn
nKDliLAgdF9lbmTvvIjln7rkuo4gdGltZS50aW1lKCnvvInjgIINCiAgICAgICAg5L2/55So5Lik
6Zi25q61552h55yg77ya5YWI57KX552h77yM5YaN55+t6Ieq5peL77yM5bC96YeP6LS06L+R55uu
5qCH5pe25Yi744CCDQogICAgICAgICIiIg0KICAgICAgICBpbXBvcnQgdGltZQ0KICAgICAgICB3
aGlsZSBUcnVlOg0KICAgICAgICAgICAgbm93ID0gdGltZS50aW1lKCkNCiAgICAgICAgICAgIGR0
ID0gdF9lbmQgLSBub3cNCiAgICAgICAgICAgIGlmIGR0IDw9IDA6DQogICAgICAgICAgICAgICAg
YnJlYWsNCiAgICAgICAgICAgIGlmIGR0ID4gMC4wMToNCiAgICAgICAgICAgICAgICB0aW1lLnNs
ZWVwKGR0IC0gMC4wMDgpICAjIOeyl+edoe+8jOeVmeWwkeiuuOS9memHjw0KICAgICAgICAgICAg
ZWxzZToNCiAgICAgICAgICAgICAgICAjIOacgOWQjiAxMG1zIOWGheefreiHquaXi++8jOWwvemH
j+i0tOi/keKAnOacgOWQjuS4gOWIu+KAnQ0KICAgICAgICAgICAgICAgIHRpbWUuc2xlZXAoMC4w
MDA1KQ0KDQogICAgZGVmIHN0YXJ0X2F1dG9fdGFyZShzZWxmKToNCiAgICAgICAgIiIiDQogICAg
ICAgIOiHquWKqOWOu+earu+8mg0KICAgICAgICAtIOS7pSAwLjAwMSBtbS9zIOWQkeS4iuaFoumA
n+i/kOWKqO+8mw0KICAgICAgICAtIOebkea1i+acgOi/kSA1IHMg55qE5Y6L5Yqb5rOi5Yqo77yI
bWF4LW1pbu+8ie+8jOiLpSDiiaQgMSBnIOWImeiupOS4uueos+Wumu+8mw0KICAgICAgICAtIOeU
qOivpeeql+WPo+eahOW5s+Wdh+WAvOWBmui9r+S7tuWOu+earu+8iOe9riB0YXJlX3ZhbHVl77yJ
77yM54S25ZCO5oCl5YGc44CCDQogICAgICAgICIiIg0KICAgICAgICBpZiBub3Qgc2VsZi5tb2Ri
dXMxIG9yIG5vdCBzZWxmLnNlbnNvcl9jb25uZWN0ZWQ6DQogICAgICAgICAgICBtZXNzYWdlYm94
LnNob3dlcnJvcigi6ZSZ6K+vIiwgIuWOi+WKm+S8oOaEn+WZqOacqui/nuaOpSIpDQogICAgICAg
ICAgICByZXR1cm4NCiAgICAgICAgaWYgbm90IHNlbGYubW9kYnVzMiBvciBub3Qgc2VsZi5jb250
cm9sbGVyX2Nvbm5lY3RlZDoNCiAgICAgICAgICAgIG1lc3NhZ2Vib3guc2hvd2Vycm9yKCLplJno
r68iLCAi6L+Q5Yqo5o6n5Yi25Zmo5pyq6L+e5o6lIikNCiAgICAgICAgICAgIHJldHVybg0KDQog
ICAgICAgICMg6YG/5YWN6YeN5aSN5ZCv5YqoDQogICAgICAgIGlmIG5vdCBoYXNhdHRyKHNlbGYs
ICJhdXRvX3RhcmVfcnVubmluZyIpOg0KICAgICAgICAgICAgc2VsZi5hdXRvX3RhcmVfcnVubmlu
ZyA9IEZhbHNlDQogICAgICAgIGlmIHNlbGYuYXV0b190YXJlX3J1bm5pbmc6DQogICAgICAgICAg
ICBzZWxmLmxvZygi6Ieq5Yqo5Y6755qu5bey5Zyo6L+b6KGM5LitIikNCiAgICAgICAgICAgIHJl
dHVybg0KDQogICAgICAgICMg6Iul5b2T5YmN5pyJ5oGS5Y6L5o6n5Yi2562J77yM5YWI5YGc5o6J
DQogICAgICAgIGlmIGdldGF0dHIoc2VsZiwgInByZXNzdXJlX2NvbnRyb2xfcnVubmluZyIsIEZh
bHNlKToNCiAgICAgICAgICAgIHNlbGYuc3RvcF9wcmVzc3VyZV9jb250cm9sKCkNCg0KICAgICAg
ICAjIOiuvue9ruWQkeS4iiAwLjAwMSBtbS9zIOaFoumAn++8jOe7meWHuui+g+Wkp+eahOihjOeo
iw0KICAgICAgICB0cnk6DQogICAgICAgICAgICBzZWxmLmRpcmVjdGlvbi5zZXQoIuS4iiIpDQog
ICAgICAgICAgICBzZWxmLnNwZWVkX2VudHJ5LmRlbGV0ZSgwLCB0ay5FTkQpDQogICAgICAgICAg
ICBzZWxmLnNwZWVkX2VudHJ5Lmluc2VydCgwLCAiMC4wMDEiKQ0KICAgICAgICAgICAgc2VsZi5k
aXN0YW5jZV9lbnRyeS5kZWxldGUoMCwgdGsuRU5EKQ0KICAgICAgICAgICAgc2VsZi5kaXN0YW5j
ZV9lbnRyeS5pbnNlcnQoMCwgIjIwLjAiKSAgIyDotrPlpJ/nmoTkvY3np7sNCiAgICAgICAgICAg
IHNlbGYuc2V0X3BhcmFtZXRlcnMoKQ0KICAgICAgICAgICAgc2VsZi5zdGFydF9tYWNoaW5lKCkN
CiAgICAgICAgICAgIHNlbGYuY3VycmVudF9zcGVlZF92YXIuc2V0KGYiezAuMDAxOi4zZn0iKQ0K
ICAgICAgICBleGNlcHQgRXhjZXB0aW9uIGFzIGU6DQogICAgICAgICAgICBzZWxmLmxvZyhmIuiH
quWKqOWOu+earuWQr+WKqOi/kOWKqOWksei0pToge2V9IikNCiAgICAgICAgICAgIHJldHVybg0K
DQogICAgICAgIHNlbGYuYXV0b190YXJlX3J1bm5pbmcgPSBUcnVlDQogICAgICAgIHRocmVhZGlu
Zy5UaHJlYWQodGFyZ2V0PXNlbGYuX2F1dG9fdGFyZV9sb29wLCBkYWVtb249VHJ1ZSkuc3RhcnQo
KQ0KICAgICAgICBzZWxmLmxvZygi6Ieq5Yqo5Y6755qu5byA5aeL77ya5ZCR5LiKIDAuMDAxIG1t
L3PvvIzmo4DmtYsgNSBzIOazouWKqCDiiaQgMSBnIOWNs+WPlumbtiIpDQoNCiAgICBkZWYgX2F1
dG9fdGFyZV9sb29wKHNlbGYpOg0KICAgICAgICAiIiINCiAgICAgICAg566A5YyW54mI6Ieq5Yqo
5Y6755qu77yaDQogICAgICAgIC0g5Lul4oCc5b2T5YmN6K+75Y+W5Y6L5Yqb4oCd5Li65Z+65YeG
IGJhc2VsaW5lDQogICAgICAgIC0g5Y+q6KaB6L+e57ut5L+d5oyB5ZyoIGJhc2VsaW5lIMKxIDEg
ZyDlhoXmu6EgNSBz77yM5bCx6Kem5Y+RIDMvMi8xIOWAkuiuoeaXtuW5tuWOu+earg0KICAgICAg
ICAtIOS4gOaXpui2iueVjO+8jOeri+WIu+aKiiBiYXNlbGluZSDph43nva7kuLrmnIDmlrDlgLzl
ubbph43mlrDorqHml7YNCiAgICAgICAgIiIiDQogICAgICAgIHdpbmRvd19zZWMgPSA1LjAgICMg
6L+e57utIDVzDQogICAgICAgIHRvbGVyYW5jZV9nID0gMS4wICAjIMKxMSBnDQogICAgICAgIHRp
bWVvdXRfcyA9IDE4MC4wICAjIOWPr+mAiei2heaXtg0KDQogICAgICAgICMg5LiK6KGMIDAuMDAx
IG1tL3PvvIzorr7nva7kuIDmrKHljbPlj6/vvIzkuI3opoHlnKjlvqrnjq/ph4zlj43lpI3lhpnl
r4TlrZjlmagNCiAgICAgICAgdHJ5Og0KICAgICAgICAgICAgc2VsZi5kaXJlY3Rpb24uc2V0KCLk
uIoiKQ0KICAgICAgICAgICAgc2VsZi5zcGVlZF9lbnRyeS5kZWxldGUoMCwgdGsuRU5EKQ0KICAg
ICAgICAgICAgc2VsZi5zcGVlZF9lbnRyeS5pbnNlcnQoMCwgIjAuMDAxIikNCiAgICAgICAgICAg
IHNlbGYuZGlzdGFuY2VfZW50cnkuZGVsZXRlKDAsIHRrLkVORCkNCiAgICAgICAgICAgIHNlbGYu
ZGlzdGFuY2VfZW50cnkuaW5zZXJ0KDAsICIyMC4wIikgICMg57uZ6Laz6KGM56iL5Y2z5Y+vDQog
ICAgICAgICAgICBzZWxmLnNldF9wYXJhbWV0ZXJzKCkNCiAgICAgICAgICAgIHNlbGYuc3RhcnRf
bWFjaGluZSgpDQogICAgICAgICAgICBzZWxmLmN1cnJlbnRfc3BlZWRfdmFyLnNldCgiMC4wMDEi
KQ0KICAgICAgICAgICAgc2VsZi5sb2coIuiHquWKqOWOu+earu+8muWQkeS4iiAwLjAwMSBtbS9z
77yM6L+b5YWl56iz5a6a5qOA5rWL77yIwrExIGcg6L+e57utIDUgc++8iSIpDQogICAgICAgIGV4
Y2VwdCBFeGNlcHRpb24gYXMgZToNCiAgICAgICAgICAgIHNlbGYubG9nKGYi6Ieq5Yqo5Y6755qu
5ZCv5Yqo5aSx6LSlOiB7ZX0iKQ0KICAgICAgICAgICAgc2VsZi5hdXRvX3RhcmVfcnVubmluZyA9
IEZhbHNlDQogICAgICAgICAgICByZXR1cm4NCg0KICAgICAgICBiYXNlbGluZSA9IE5vbmUNCiAg
ICAgICAgc3RhYmxlX3QwID0gTm9uZQ0KICAgICAgICBsYXN0X2NvdW50ZG93bl9sb2dnZWQgPSBO
b25lDQogICAgICAgIHRfYmVnaW4gPSB0aW1lLnRpbWUoKQ0KDQogICAgICAgIHRyeToNCiAgICAg
ICAgICAgIHdoaWxlIHNlbGYuYXV0b190YXJlX3J1bm5pbmcgYW5kICh0aW1lLnRpbWUoKSAtIHRf
YmVnaW4gPD0gdGltZW91dF9zKToNCiAgICAgICAgICAgICAgICBwID0gZmxvYXQoc2VsZi5yZWFk
X3ByZXNzdXJlKCkpDQogICAgICAgICAgICAgICAgbm93ID0gdGltZS50aW1lKCkNCg0KICAgICAg
ICAgICAgICAgIGlmIGJhc2VsaW5lIGlzIE5vbmU6DQogICAgICAgICAgICAgICAgICAgIGJhc2Vs
aW5lID0gcA0KICAgICAgICAgICAgICAgICAgICBzdGFibGVfdDAgPSBub3cNCiAgICAgICAgICAg
ICAgICAgICAgbGFzdF9jb3VudGRvd25fbG9nZ2VkID0gTm9uZQ0KICAgICAgICAgICAgICAgIGVs
c2U6DQogICAgICAgICAgICAgICAgICAgICMg5ZyoIMKxMSBnIOWGhQ0KICAgICAgICAgICAgICAg
ICAgICBpZiBhYnMocCAtIGJhc2VsaW5lKSA8PSB0b2xlcmFuY2VfZzoNCiAgICAgICAgICAgICAg
ICAgICAgICAgIGVsYXBzZWQgPSBub3cgLSBzdGFibGVfdDANCg0KICAgICAgICAgICAgICAgICAg
ICAgICAgIyDliankvZkgMy8yLzEg56eS5pe25omT5Y2w5YCS6K6h5pe277yI5Y+q5omT5LiA6YGN
77yJDQogICAgICAgICAgICAgICAgICAgICAgICByZW1haW4gPSBpbnQobWF4KDAsIHdpbmRvd19z
ZWMgLSBlbGFwc2VkKSArIDAuOTk5KSAgIyDlpKnoirHmnb/lj5bmlbQNCiAgICAgICAgICAgICAg
ICAgICAgICAgIGlmIDEgPD0gcmVtYWluIDw9IDMgYW5kIHJlbWFpbiAhPSBsYXN0X2NvdW50ZG93
bl9sb2dnZWQ6DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi5sb2coZiLoh6rliqjl
jrvnmq7vvJrlgJLorqHml7Yge3JlbWFpbn0iKQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAg
IGxhc3RfY291bnRkb3duX2xvZ2dlZCA9IHJlbWFpbg0KDQogICAgICAgICAgICAgICAgICAgICAg
ICBpZiBlbGFwc2VkID49IHdpbmRvd19zZWM6DQogICAgICAgICAgICAgICAgICAgICAgICAgICAg
IyDovr7moIfvvJrlgZzmraLlubbljrvnmq7vvIjku6UgYmFzZWxpbmUg5L2c5Li66Zu254K577yJ
DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi5zdG9wX21vdGlvbigpDQogICAgICAg
ICAgICAgICAgICAgICAgICAgICAgc2VsZi5jdXJyZW50X3NwZWVkX3Zhci5zZXQoIjAuMDAwIikN
CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZWxmLnRhcmVfdmFsdWUgKz0gYmFzZWxpbmUN
CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZWxmLmxvZyhmIuiHquWKqOWOu+earuaIkOWK
n++8muWfuuWHhiB7YmFzZWxpbmU6LjFmfSBn77yMwrF7dG9sZXJhbmNlX2c6LjFmfSBnIOaMgee7
rSB7d2luZG93X3NlYzouMGZ9cyDihpIg5bey572u6Zu277yI57Sv6K6h5Y6755quIHtzZWxmLnRh
cmVfdmFsdWU6LjFmfSBn77yJIikNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZWxmLmFm
dGVyKDAsIGxhbWJkYTogbWVzc2FnZWJveC5zaG93aW5mbygi6Ieq5Yqo5Y6755quIiwgIuiHquWK
qOWOu+earuWujOaIkO+8jOW3suWPlumbtuOAgiIpKQ0KICAgICAgICAgICAgICAgICAgICAgICAg
ICAgIHJldHVybg0KICAgICAgICAgICAgICAgICAgICBlbHNlOg0KICAgICAgICAgICAgICAgICAg
ICAgICAgIyDotornlYzvvJrku6XlvZPliY3or7vmlbDkuLrmlrDln7rlh4bvvIzph43mlrDorqHm
l7YNCiAgICAgICAgICAgICAgICAgICAgICAgIGJhc2VsaW5lID0gcA0KICAgICAgICAgICAgICAg
ICAgICAgICAgc3RhYmxlX3QwID0gbm93DQogICAgICAgICAgICAgICAgICAgICAgICBsYXN0X2Nv
dW50ZG93bl9sb2dnZWQgPSBOb25lDQoNCiAgICAgICAgICAgICAgICB0aW1lLnNsZWVwKDAuMDUp
DQoNCiAgICAgICAgICAgICMg57uT5p2f77yI5Y+v6IO95piv5omL5Yqo5YGc5q2i5oiW6LaF5pe2
77yJDQogICAgICAgICAgICBzZWxmLnN0b3BfbW90aW9uKCkNCiAgICAgICAgICAgIHNlbGYuY3Vy
cmVudF9zcGVlZF92YXIuc2V0KCIwLjAwMCIpDQogICAgICAgICAgICBpZiBzZWxmLmF1dG9fdGFy
ZV9ydW5uaW5nOg0KICAgICAgICAgICAgICAgIHNlbGYubG9nKCLoh6rliqjljrvnmq7otoXml7bv
vJrkuIDnm7TmnKrog73ov57nu60gNSBzIOeos+WumuWcqCDCsTEgZyDlhoUiKQ0KICAgICAgICAg
ICAgICAgIHNlbGYuYWZ0ZXIoMCwgbGFtYmRhOiBtZXNzYWdlYm94LnNob3d3YXJuaW5nKCLoh6rl
iqjljrvnmq4iLCAi6LaF5pe277ya5pyq6L6+5Yiw56iz5a6a5p2h5Lu244CCIikpDQogICAgICAg
IGZpbmFsbHk6DQogICAgICAgICAgICBzZWxmLmF1dG9fdGFyZV9ydW5uaW5nID0gRmFsc2UNCg0K
ICAgIGRlZiBfYXBwcm9hY2hfcHJlc3N1cmVfbGlrZV9jb250cm9sKA0KICAgICAgICAgICAgc2Vs
ZiwNCiAgICAgICAgICAgIHRhcmdldF9nOiBmbG9hdCwNCiAgICAgICAgICAgIHRvbGVyYW5jZV9n
OiBmbG9hdCwNCiAgICAgICAgICAgIHByb2dyZXNzaXZlX3pvbmVfZzogZmxvYXQsDQogICAgICAg
ICAgICBoaWdoX3NwZWVkOiBmbG9hdCwNCiAgICAgICAgICAgIGxvd19zcGVlZDogZmxvYXQsDQog
ICAgICAgICAgICBqb2dfc3RlcF9tbTogZmxvYXQsDQogICAgICAgICAgICBtb2RlOiBzdHIgPSBO
b25lLA0KICAgICAgICAgICAgc3RhYmxlX25lZWQ6IGludCA9IDUsDQogICAgICAgICAgICBzYWZl
dHlfcHJlc3N1cmU6IGZsb2F0ID0gTm9uZSwNCiAgICAgICAgICAgIHRpbWVvdXRfczogZmxvYXQg
fCBOb25lID0gTm9uZSwgICMgTm9uZSA9IOS4jei2heaXtg0KICAgICkgLT4gYm9vbDoNCiAgICAg
ICAgIiIiDQogICAgICAgIOmAvOi/keWIsCB0YXJnZXRfZyDlubbnqLPlrprkv53mjIHvvJoNCiAg
ICAgICAgLSDljLrpl7TlpJbpq5jpgJ/ov57nu63vvJvmuJDov5vljLrkvY7pgJ/ngrnliqgv5oyB
57ut77ybDQogICAgICAgIC0g6L+b5YWl5a655beu57Sv6K6hIHN0YWJsZV9uZWVkIOasoeWNs+aI
kOWKn++8mw0KICAgICAgICAtIHRpbWVvdXRfcz1Ob25lIOWImeS4jeWboOS4uui2heaXtumAgOWH
uu+8iOS7jeS/neeVmeS/neaKpOWOi+WKm+WSjOaJi+WKqOWBnOatou+8ieOAgg0KICAgICAgICAi
IiINCiAgICAgICAgaWYgbW9kZSBpcyBOb25lOg0KICAgICAgICAgICAgbW9kZSA9IHNlbGYubW90
aW9uX21vZGVfdmFyLmdldCgpIGlmIGhhc2F0dHIoc2VsZiwgIm1vdGlvbl9tb2RlX3ZhciIpIGVs
c2UgIueCueWKqCINCiAgICAgICAgaWYgc2FmZXR5X3ByZXNzdXJlIGlzIE5vbmU6DQogICAgICAg
ICAgICB0cnk6DQogICAgICAgICAgICAgICAgc2FmZXR5X3ByZXNzdXJlID0gZmxvYXQoc2VsZi5z
YWZldHlfcHJlc3N1cmVfdmFyLmdldCgpKQ0KICAgICAgICAgICAgZXhjZXB0IEV4Y2VwdGlvbjoN
CiAgICAgICAgICAgICAgICBzYWZldHlfcHJlc3N1cmUgPSAzMDAwMC4wDQoNCiAgICAgICAgdDAg
PSB0aW1lLnRpbWUoKQ0KICAgICAgICBoaWdoc3BlZWRfYWN0aXZlID0gRmFsc2UNCiAgICAgICAg
Y29udGludW91c19hY3RpdmUgPSBGYWxzZQ0KICAgICAgICBhZGp1c3RfZGlyID0gTm9uZQ0KICAg
ICAgICBzdGFibGVfY250ID0gMA0KDQogICAgICAgIHdoaWxlIHNlbGYuanVtcF9ydW5uaW5nIGFu
ZCAodGltZW91dF9zIGlzIE5vbmUgb3IgdGltZS50aW1lKCkgLSB0MCA8PSB0aW1lb3V0X3MpOg0K
ICAgICAgICAgICAgY3VyX3AgPSBmbG9hdChzZWxmLnJlYWRfcHJlc3N1cmUoKSkNCiAgICAgICAg
ICAgIGRpZmYgPSB0YXJnZXRfZyAtIGN1cl9wDQogICAgICAgICAgICBhZGlmZiA9IGFicyhkaWZm
KQ0KDQogICAgICAgICAgICAjIOS/neaKpA0KICAgICAgICAgICAgaWYgY3VyX3AgPj0gc2FmZXR5
X3ByZXNzdXJlOg0KICAgICAgICAgICAgICAgIHNlbGYubG9nKGYi4pqg77iPIOS/neaKpOWOi+WK
m+inpuWPke+8mntjdXJfcDouMWZ9IOKJpSB7c2FmZXR5X3ByZXNzdXJlOi4xZn0gZ++8jOaApeWB
nCIpDQogICAgICAgICAgICAgICAgc2VsZi5zdG9wX21vdGlvbigpDQogICAgICAgICAgICAgICAg
cmV0dXJuIEZhbHNlDQoNCiAgICAgICAgICAgICMg5pyq6L6+5a655beu77ya6LCD5pW0DQogICAg
ICAgICAgICBpZiBhZGlmZiA+IHRvbGVyYW5jZV9nOg0KICAgICAgICAgICAgICAgIGlmIHN0YWJs
ZV9jbnQ6DQogICAgICAgICAgICAgICAgICAgIHN0YWJsZV9jbnQgPSAwDQoNCiAgICAgICAgICAg
ICAgICAjIOWMuumXtOWklu+8mumrmOmAn+aMgee7rQ0KICAgICAgICAgICAgICAgIGlmIGFkaWZm
ID4gcHJvZ3Jlc3NpdmVfem9uZV9nOg0KICAgICAgICAgICAgICAgICAgICBkZXNpcmVkID0gIuS4
iyIgaWYgZGlmZiA+IDAgZWxzZSAi5LiKIg0KICAgICAgICAgICAgICAgICAgICBpZiAobm90IGhp
Z2hzcGVlZF9hY3RpdmUpIG9yIHNlbGYuZGlyZWN0aW9uLmdldCgpICE9IGRlc2lyZWQ6DQogICAg
ICAgICAgICAgICAgICAgICAgICBzZWxmLnN0b3BfbW90aW9uKCkNCiAgICAgICAgICAgICAgICAg
ICAgICAgIHNlbGYuZGlyZWN0aW9uLnNldChkZXNpcmVkKQ0KICAgICAgICAgICAgICAgICAgICAg
ICAgc2VsZi5zcGVlZF9lbnRyeS5kZWxldGUoMCwgdGsuRU5EKTsNCiAgICAgICAgICAgICAgICAg
ICAgICAgIHNlbGYuc3BlZWRfZW50cnkuaW5zZXJ0KDAsIGYie2hpZ2hfc3BlZWR9IikNCiAgICAg
ICAgICAgICAgICAgICAgICAgIHNlbGYuZGlzdGFuY2VfZW50cnkuZGVsZXRlKDAsIHRrLkVORCk7
DQogICAgICAgICAgICAgICAgICAgICAgICBzZWxmLmRpc3RhbmNlX2VudHJ5Lmluc2VydCgwLCAi
MjAuMCIpDQogICAgICAgICAgICAgICAgICAgICAgICBzZWxmLnNldF9wYXJhbWV0ZXJzKCk7DQog
ICAgICAgICAgICAgICAgICAgICAgICBzZWxmLnN0YXJ0X21hY2hpbmUoKQ0KICAgICAgICAgICAg
ICAgICAgICAgICAgaGlnaHNwZWVkX2FjdGl2ZSA9IFRydWUNCiAgICAgICAgICAgICAgICAgICAg
ICAgIGNvbnRpbnVvdXNfYWN0aXZlID0gRmFsc2UNCiAgICAgICAgICAgICAgICAgICAgICAgIHNl
bGYuY3VycmVudF9zcGVlZF92YXIuc2V0KGYie2hpZ2hfc3BlZWQ6LjNmfSIpDQogICAgICAgICAg
ICAgICAgICAgICAgICBzZWxmLmxvZyhmIumrmOmAn+mdoOi/ke+8mntkZXNpcmVkfe+8jM6UUD17
YWRpZmY6LjFmfSBnIikNCiAgICAgICAgICAgICAgICAgICAgdGltZS5zbGVlcCgwLjA1KQ0KICAg
ICAgICAgICAgICAgICAgICBjb250aW51ZQ0KDQogICAgICAgICAgICAgICAgIyDmuJDov5vljLrv
vJrkvY7pgJ8NCiAgICAgICAgICAgICAgICBpZiBoaWdoc3BlZWRfYWN0aXZlOg0KICAgICAgICAg
ICAgICAgICAgICBzZWxmLnN0b3BfbW90aW9uKCkNCiAgICAgICAgICAgICAgICAgICAgaGlnaHNw
ZWVkX2FjdGl2ZSA9IEZhbHNlDQoNCiAgICAgICAgICAgICAgICBpZiBtb2RlID09ICLngrnliqgi
Og0KICAgICAgICAgICAgICAgICAgICBkZXNpcmVkID0gIuS4iyIgaWYgZGlmZiA+IDAgZWxzZSAi
5LiKIg0KICAgICAgICAgICAgICAgICAgICBpZiBhZGp1c3RfZGlyICE9IGRlc2lyZWQ6DQogICAg
ICAgICAgICAgICAgICAgICAgICBzZWxmLmRpcmVjdGlvbi5zZXQoZGVzaXJlZCkNCiAgICAgICAg
ICAgICAgICAgICAgICAgIHNlbGYuc3BlZWRfZW50cnkuZGVsZXRlKDAsIHRrLkVORCk7DQogICAg
ICAgICAgICAgICAgICAgICAgICBzZWxmLnNwZWVkX2VudHJ5Lmluc2VydCgwLCBmIntsb3dfc3Bl
ZWR9IikNCiAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYuZGlzdGFuY2VfZW50cnkuZGVsZXRl
KDAsIHRrLkVORCk7DQogICAgICAgICAgICAgICAgICAgICAgICBzZWxmLmRpc3RhbmNlX2VudHJ5
Lmluc2VydCgwLCBmIntqb2dfc3RlcF9tbX0iKQ0KICAgICAgICAgICAgICAgICAgICAgICAgc2Vs
Zi5zZXRfcGFyYW1ldGVycygpDQogICAgICAgICAgICAgICAgICAgICAgICBhZGp1c3RfZGlyID0g
ZGVzaXJlZA0KICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi5sb2coZiLmuJDov5vljLrngrnl
iqjvvJp7ZGVzaXJlZH0gQCB7bG93X3NwZWVkfSBtbS9z77yM5q2l6ZW/IHtqb2dfc3RlcF9tbX0g
bW0iKQ0KICAgICAgICAgICAgICAgICAgICBzZWxmLnN0YXJ0X21hY2hpbmUoKTsNCiAgICAgICAg
ICAgICAgICAgICAgc2VsZi5zdG9wX21vdGlvbigpDQogICAgICAgICAgICAgICAgICAgIHRpbWUu
c2xlZXAoMC4wNSkNCiAgICAgICAgICAgICAgICAgICAgY29udGludWUNCiAgICAgICAgICAgICAg
ICBlbHNlOg0KICAgICAgICAgICAgICAgICAgICBkZXNpcmVkID0gIuS4iyIgaWYgZGlmZiA+IDAg
ZWxzZSAi5LiKIg0KICAgICAgICAgICAgICAgICAgICBpZiAobm90IGNvbnRpbnVvdXNfYWN0aXZl
KSBvciBzZWxmLmRpcmVjdGlvbi5nZXQoKSAhPSBkZXNpcmVkOg0KICAgICAgICAgICAgICAgICAg
ICAgICAgc2VsZi5zdG9wX21vdGlvbigpDQogICAgICAgICAgICAgICAgICAgICAgICBzZWxmLmRp
cmVjdGlvbi5zZXQoZGVzaXJlZCkNCiAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYuc3BlZWRf
ZW50cnkuZGVsZXRlKDAsIHRrLkVORCk7DQogICAgICAgICAgICAgICAgICAgICAgICBzZWxmLnNw
ZWVkX2VudHJ5Lmluc2VydCgwLCBmIntsb3dfc3BlZWR9IikNCiAgICAgICAgICAgICAgICAgICAg
ICAgIHNlbGYuZGlzdGFuY2VfZW50cnkuZGVsZXRlKDAsIHRrLkVORCk7DQogICAgICAgICAgICAg
ICAgICAgICAgICBzZWxmLmRpc3RhbmNlX2VudHJ5Lmluc2VydCgwLCAiMjAuMCIpDQogICAgICAg
ICAgICAgICAgICAgICAgICBzZWxmLnNldF9wYXJhbWV0ZXJzKCk7DQogICAgICAgICAgICAgICAg
ICAgICAgICBzZWxmLnN0YXJ0X21hY2hpbmUoKQ0KICAgICAgICAgICAgICAgICAgICAgICAgY29u
dGludW91c19hY3RpdmUgPSBUcnVlDQogICAgICAgICAgICAgICAgICAgICAgICBzZWxmLmN1cnJl
bnRfc3BlZWRfdmFyLnNldChmIntsb3dfc3BlZWQ6LjNmfSIpDQogICAgICAgICAgICAgICAgICAg
ICAgICBzZWxmLmxvZyhmIua4kOi/m+WMuuaMgee7re+8mntkZXNpcmVkfSBAIHtsb3dfc3BlZWR9
IG1tL3MiKQ0KICAgICAgICAgICAgICAgICAgICB0aW1lLnNsZWVwKDAuMDUpDQogICAgICAgICAg
ICAgICAgICAgIGNvbnRpbnVlDQoNCiAgICAgICAgICAgICMg5bey5Zyo5a655beu5YaF77ya57Sv
6K6h56iz5a6aDQogICAgICAgICAgICBzdGFibGVfY250ICs9IDENCiAgICAgICAgICAgIGlmIHN0
YWJsZV9jbnQgPj0gc3RhYmxlX25lZWQ6DQogICAgICAgICAgICAgICAgc2VsZi5zdG9wX21vdGlv
bigpDQogICAgICAgICAgICAgICAgc2VsZi5jdXJyZW50X3NwZWVkX3Zhci5zZXQoIjAuMDAwIikN
CiAgICAgICAgICAgICAgICBzZWxmLmxvZyhmIuW3suWcqOWuueW3riDCsXt0b2xlcmFuY2VfZ30g
ZyDlhoXnqLPlrprvvIznm67moIcge3RhcmdldF9nOi4xZn0gZyDovr7miJAiKQ0KICAgICAgICAg
ICAgICAgIHJldHVybiBUcnVlDQogICAgICAgICAgICB0aW1lLnNsZWVwKDAuMDUpDQoNCiAgICAg
ICAgIyDlj6rmnInlnKjooqvmiYvliqjlgZzmraLvvIjmiJbmnInotoXml7blgLzkuJTnoa7lrp7o
toXml7bvvInmiY3kvJrotbDliLDov5nph4wNCiAgICAgICAgc2VsZi5zdG9wX21vdGlvbigpDQog
ICAgICAgIHJldHVybiBGYWxzZQ0KDQogICAgZGVmIF9qdW1wX2J5X3Bvc2l0aW9uX2xvb3Aoc2Vs
ZiwgZW5hYmxlZF9pZHMpOg0KICAgICAgICAiIiLor7vlj5ZVSeWPguaVsOS4juWQr+eUqOeCue+8
jOi9rOS6pOe7memXreeOr+aJp+ihjOWHveaVsOOAgiIiIg0KICAgICAgICB0cnk6DQogICAgICAg
ICAgICBjb2xsZWN0X3NwZWVkID0gZmxvYXQoc2VsZi5qdW1wX2FjcV9zcGVlZF92YXIuZ2V0KCkp
ICAjIOmHh+mbhumAn+W6pihtbS9zKQ0KICAgICAgICAgICAgcnVuX3NwZWVkID0gZmxvYXQoc2Vs
Zi5qdW1wX3J1bl9zcGVlZF92YXIuZ2V0KCkpICAjIOi3s+WPmOmAn+W6pihtbS9zKQ0KICAgICAg
ICAgICAgaW50ZXJ2YWxfcyA9IGZsb2F0KHNlbGYuaW50ZXJ2YWxfZW50cnkuZ2V0KCkpICAjIOeC
uemXtOetieW+hShzKQ0KICAgICAgICAgICAgbG9vcF9jbnQgPSBpbnQoc2VsZi5qdW1wX2xvb3Bf
Y291bnRfdmFyLmdldCgpKSAgIyAwPeaXoOmZkA0KICAgICAgICBleGNlcHQgRXhjZXB0aW9uIGFz
IGU6DQogICAgICAgICAgICBzZWxmLmxvZyhmIui3s+WPmOWPguaVsOmUmeivrzoge2V9IikNCiAg
ICAgICAgICAgIHNlbGYuanVtcF9ydW5uaW5nID0gRmFsc2UNCiAgICAgICAgICAgIHJldHVybg0K
DQogICAgICAgICMg5Y+q5Y+W5pyJ5pWI55qEIChpZHgsIHRhcmdldF9nKQ0KICAgICAgICBzZXFf
cGFpcnMgPSBbXQ0KICAgICAgICBmb3IgaSBpbiBlbmFibGVkX2lkczoNCiAgICAgICAgICAgIHRy
eToNCiAgICAgICAgICAgICAgICB0YXJnZXRfZyA9IGZsb2F0KHNlbGYuanVtcF92YXJzW2ldLmdl
dCgpKQ0KICAgICAgICAgICAgICAgIHNlcV9wYWlycy5hcHBlbmQoKGksIHRhcmdldF9nKSkNCiAg
ICAgICAgICAgIGV4Y2VwdCBFeGNlcHRpb246DQogICAgICAgICAgICAgICAgc2VsZi5sb2coZiLo
t7Plj5h7aX06IOWOi+WKm+mYiOWAvOaXoOaViO+8jOi3s+i/hyIpDQoNCiAgICAgICAgaWYgbm90
IHNlcV9wYWlyczoNCiAgICAgICAgICAgIHNlbGYubG9nKCLmnKrmib7liLDmnInmlYjnmoTot7Pl
j5jngrkiKQ0KICAgICAgICAgICAgc2VsZi5qdW1wX3J1bm5pbmcgPSBGYWxzZQ0KICAgICAgICAg
ICAgcmV0dXJuDQoNCiAgICAgICAgIyDkuqTnlLHpl63njq/luo/liJflh73mlbDmiafooYzvvIjl
kKvph4fpm4Yr6Zet546v5b6u6LCDK+W+queOr++8iQ0KICAgICAgICBzZWxmLl9ydW5fanVtcF9z
ZXF1ZW5jZV9wb3NpdGlvbihzZXFfcGFpcnMsIGNvbGxlY3Rfc3BlZWQsIHJ1bl9zcGVlZCwgbG9v
cF9jbnQsIGludGVydmFsX3MpDQoNCiAgICBkZWYgX2p1bXBfYnlfcHJlc3N1cmVfbG9vcChzZWxm
LCBlbmFibGVkX2lkcyk6DQogICAgICAgICIiIg0KICAgICAgICDmjInigJzlrp7pmYXljovlipvi
gJ3nm7Tot5HvvJoNCiAgICAgICAgLSDlj6rnlKjkuIDmoaPot7Plj5jpgJ/luqYgcnVuX3NwZWVk
77ybDQogICAgICAgIC0g6L6+5Yiw5oiW6LaK6L+H6ZiI5YC856uL5Y2z5oCl5YGc77yI5LiN5YGa
5L2O6YCfL+a4kOi/m+iwg+iKgu+8ie+8mw0KICAgICAgICAtIOS4i+WOi+S9v+eUqOKAnOeci+mX
qOeLl+ihjOeoiyBzdGVwX21t4oCd5YiG5q615o6o6L+b77yM6Ziy5LiA5qyh6ZW/6KGM56iL56C4
5Z2P5bel5Lu277ybDQogICAgICAgIC0g5Lu75L2V5YGc5py65ZCOIDYwMG1zIOWGheemgeatouiH
quWKqOmHjeWQr++8mw0KICAgICAgICAtIOaUr+aMgeW+queOr+asoeaVsCgwPeaXoOmZkCnkuI7n
grnpl7Tpl7TpmpTvvJsNCiAgICAgICAgIiIiDQogICAgICAgICMg6K+75Y+W5Y+C5pWwDQogICAg
ICAgIHRyeToNCiAgICAgICAgICAgIHJ1bl9zcGVlZCA9IGZsb2F0KHNlbGYuanVtcF9ydW5fc3Bl
ZWRfdmFyLmdldCgpKSAgIyDot7Plj5jpgJ/luqYNCiAgICAgICAgICAgIGludGVydmFsX3MgPSBm
bG9hdChzZWxmLmludGVydmFsX2VudHJ5LmdldCgpKSAgIyDngrnpl7Tpl7TpmpQNCiAgICAgICAg
ICAgIGxvb3BfY250ID0gaW50KHNlbGYuanVtcF9sb29wX2NvdW50X3Zhci5nZXQoKSkgICMgMD3k
uIDnm7Tlvqrnjq8NCiAgICAgICAgICAgIHRyeToNCiAgICAgICAgICAgICAgICBzYWZldHkgPSBm
bG9hdChzZWxmLnNhZmV0eV9wcmVzc3VyZV92YXIuZ2V0KCkpICAjIOS/neaKpOWOi+WKmw0KICAg
ICAgICAgICAgZXhjZXB0IEV4Y2VwdGlvbjoNCiAgICAgICAgICAgICAgICBzYWZldHkgPSAzMDAw
MC4wDQogICAgICAgIGV4Y2VwdCBFeGNlcHRpb24gYXMgZToNCiAgICAgICAgICAgIHNlbGYubG9n
KGYi6Lez5Y+Y5Y+C5pWw6ZSZ6K+vOiB7ZX0iKQ0KICAgICAgICAgICAgc2VsZi5qdW1wX3J1bm5p
bmcgPSBGYWxzZQ0KICAgICAgICAgICAgcmV0dXJuDQoNCiAgICAgICAgIyDigJTigJQg5LiL5Y6L
55yL6Zeo54uX6KGM56iL77yI5LiA5qyh5Y+q6LeR6L+Z5LmI6ZW/77yM5rKh5Yiw6ZiI5YC85YaN
57ut6LeR77yJIOKAlOKAlCAjDQogICAgICAgIHN0ZXBfbW1fZG93biA9IDAuMjAgICMg5bu66K6u
IDAuMTB+MC41MCDkuYvpl7QNCiAgICAgICAgc3RlcF9tbV91cCA9IDIuMDAgICMg5LiK5oqs5Y+v
5Lul56iN5aSn5LqbDQoNCiAgICAgICAgIyDmlLbpm4blvIDlkK/nmoTngrkNCiAgICAgICAgc2Vx
ID0gW10NCiAgICAgICAgZm9yIGkgaW4gZW5hYmxlZF9pZHM6DQogICAgICAgICAgICB0cnk6DQog
ICAgICAgICAgICAgICAgcCA9IGZsb2F0KHNlbGYuanVtcF92YXJzW2ldLmdldCgpKQ0KICAgICAg
ICAgICAgICAgIHNlcS5hcHBlbmQoKGksIHApKQ0KICAgICAgICAgICAgZXhjZXB0IEV4Y2VwdGlv
bjoNCiAgICAgICAgICAgICAgICBwYXNzDQogICAgICAgIGlmIG5vdCBzZXE6DQogICAgICAgICAg
ICBzZWxmLmxvZygi5peg5pyJ5pWI5Y6L5Yqb54K577yM6YCA5Ye6IikNCiAgICAgICAgICAgIHNl
bGYuanVtcF9ydW5uaW5nID0gRmFsc2UNCiAgICAgICAgICAgIHJldHVybg0KDQogICAgICAgICMg
5YWI5oyJ5b2T5YmN5Y6L5Yqb5Yaz5a6a5pa55ZCR6aG65bqP77yI5YWI5Y674oCc6L+R56uv4oCd
77yJDQogICAgICAgIGN1cl9wID0gZmxvYXQoc2VsZi5yZWFkX3ByZXNzdXJlKCkpDQogICAgICAg
IHNlcS5zb3J0KGtleT1sYW1iZGEgeDogeFsxXSkNCiAgICAgICAgc2VxID0gc2VxIGlmIGN1cl9w
IDwgc2VxWzBdWzFdIGVsc2UgbGlzdChyZXZlcnNlZChzZXEpKQ0KDQogICAgICAgIGxvb3BzX2Rv
bmUgPSAwDQogICAgICAgIHByZXZfdGFyZ2V0ID0gTm9uZQ0KDQogICAgICAgIHdoaWxlIHNlbGYu
anVtcF9ydW5uaW5nIGFuZCAobG9vcF9jbnQgPT0gMCBvciBsb29wc19kb25lIDwgbG9vcF9jbnQp
Og0KICAgICAgICAgICAgZm9yIGlkeCwgdGFyZ2V0IGluIHNlcToNCiAgICAgICAgICAgICAgICBp
ZiBub3Qgc2VsZi5qdW1wX3J1bm5pbmc6DQogICAgICAgICAgICAgICAgICAgIGJyZWFrDQoNCiAg
ICAgICAgICAgICAgICBoaXQgPSBGYWxzZQ0KICAgICAgICAgICAgICAgIHQwID0gdGltZS50aW1l
KCkNCiAgICAgICAgICAgICAgICB0aW1lb3V0X3MgPSAxODAuMA0KDQogICAgICAgICAgICAgICAg
d2hpbGUgc2VsZi5qdW1wX3J1bm5pbmcgYW5kICh0aW1lLnRpbWUoKSAtIHQwIDw9IHRpbWVvdXRf
cyk6DQogICAgICAgICAgICAgICAgICAgIGN1cl9wID0gZmxvYXQoc2VsZi5yZWFkX3ByZXNzdXJl
KCkpDQogICAgICAgICAgICAgICAgICAgICMg5L+d5oqkDQogICAgICAgICAgICAgICAgICAgIGlm
IGN1cl9wID49IHNhZmV0eToNCiAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYubG9nKGYi4pqg
77iPIOS/neaKpOWOi+WKm+inpuWPke+8mntjdXJfcDouMWZ9IOKJpSB7c2FmZXR5Oi4xZn0gZ++8
jOaApeWBnCIpDQogICAgICAgICAgICAgICAgICAgICAgICBzZWxmLnN0b3BfbW90aW9uKCkNCiAg
ICAgICAgICAgICAgICAgICAgICAgIHNlbGYuanVtcF9ydW5uaW5nID0gRmFsc2UNCiAgICAgICAg
ICAgICAgICAgICAgICAgIHJldHVybg0KDQogICAgICAgICAgICAgICAgICAgIGRlc2lyZWRfZGly
ID0gIuS4iyIgaWYgdGFyZ2V0ID4gY3VyX3AgZWxzZSAi5LiKIg0KICAgICAgICAgICAgICAgICAg
ICAjIOacrOasoeWPqui3keS4gOS4quWwj+atpemVv++8iOeci+mXqOeLl+ihjOeoi++8iQ0KICAg
ICAgICAgICAgICAgICAgICBzdGVwX21tID0gc3RlcF9tbV9kb3duIGlmIGRlc2lyZWRfZGlyID09
ICLkuIsiIGVsc2Ugc3RlcF9tbV91cA0KDQogICAgICAgICAgICAgICAgICAgICMg5LiL5Y+R5Y+C
5pWw5bm25ZCv5Yqo77yI5bim56aB5ZCv56qX5Y+j77yJDQogICAgICAgICAgICAgICAgICAgIHNl
bGYuX3NldF9tb3Rpb25fcGFyYW1zX3F1aWV0KGRlc2lyZWRfZGlyLCBydW5fc3BlZWQsIHN0ZXBf
bW0pDQogICAgICAgICAgICAgICAgICAgIHNlbGYuc3RhcnRfbWFjaGluZV9xdWlldCgpDQogICAg
ICAgICAgICAgICAgICAgIHNlbGYuY3VycmVudF9zcGVlZF92YXIuc2V0KGYie3J1bl9zcGVlZDou
M2Z9IikNCg0KICAgICAgICAgICAgICAgICAgICAjIOWcqOi/meS4quWwj+atpemVv+WGhe+8jOeb
r+edgOmYiOWAvO+8jOi+vuWIsC/otorov4fnq4vljbPmgKXlgZwNCiAgICAgICAgICAgICAgICAg
ICAgaW5uZXJfdDAgPSB0aW1lLnRpbWUoKQ0KICAgICAgICAgICAgICAgICAgICB3aGlsZSBzZWxm
Lmp1bXBfcnVubmluZyBhbmQgdGltZS50aW1lKCkgLSBpbm5lcl90MCA8PSAyLjA6ICAjIOS4gOS4
quWwj+atpeS4jei2hei/hzLnp5INCiAgICAgICAgICAgICAgICAgICAgICAgIGN1cl9wID0gZmxv
YXQoc2VsZi5yZWFkX3ByZXNzdXJlKCkpDQoNCiAgICAgICAgICAgICAgICAgICAgICAgIGlmIGN1
cl9wID49IHNhZmV0eToNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZWxmLmxvZyhmIuKa
oO+4jyDkv53miqTljovlipvop6blj5HvvJp7Y3VyX3A6LjFmfSDiiaUge3NhZmV0eTouMWZ9IGfv
vIzmgKXlgZwiKQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYuc3RvcF9tb3Rpb24o
KQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYuanVtcF9ydW5uaW5nID0gRmFsc2UN
CiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4NCg0KICAgICAgICAgICAgICAgICAg
ICAgICAgaWYgKGRlc2lyZWRfZGlyID09ICLkuIsiIGFuZCBjdXJfcCA+PSB0YXJnZXQpIG9yIChk
ZXNpcmVkX2RpciA9PSAi5LiKIiBhbmQgY3VyX3AgPD0gdGFyZ2V0KToNCiAgICAgICAgICAgICAg
ICAgICAgICAgICAgICBoaXQgPSBUcnVlDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJl
YWsNCg0KICAgICAgICAgICAgICAgICAgICAgICAgdGltZS5zbGVlcCgwLjAyKQ0KDQogICAgICAg
ICAgICAgICAgICAgICMg5peg6K665ZG95Lit5LiO5ZCm77yM5bCP5q2l57uT5p2f6YO95YWI5YGc
5LiA5LiL77yM5YaN5Yaz5a6a5piv5ZCm57ut6LeRDQogICAgICAgICAgICAgICAgICAgIHNlbGYu
c3RvcF9tb3Rpb24oKQ0KDQogICAgICAgICAgICAgICAgICAgIGlmIGhpdDoNCiAgICAgICAgICAg
ICAgICAgICAgICAgIGJyZWFrDQogICAgICAgICAgICAgICAgICAgICMg5rKh5ZG95Lit5LiU6L+Y
5Zyo6LaF5pe25pe26Ze05YaFIOKGkiDnu6fnu63kuIvkuIDlsI/mraUNCg0KICAgICAgICAgICAg
ICAgICMg5LiA5Liq55uu5qCH54K55pS25bC+DQogICAgICAgICAgICAgICAgaWYgaGl0Og0KICAg
ICAgICAgICAgICAgICAgICBzZWxmLmxvZyhmIuKckyDot7Plj5h7aWR4fTogeyflop7ljosnIGlm
IHRhcmdldCA+IGN1cl9wIGVsc2UgJ+WNuOWOiyd96IezIHt0YXJnZXR9IGfvvIjliLAv6LaK6L+H
6ZiI5YC877yM5oCl5YGc77yJIikNCiAgICAgICAgICAgICAgICAgICAgc2VsZi5fZmlyZV9qdW1w
X2lmX2NvbmZpZ3VyZWQoaWR4LCBwcmV2X3RhcmdldCwgdGFyZ2V0KQ0KICAgICAgICAgICAgICAg
IGVsc2U6DQogICAgICAgICAgICAgICAgICAgIHNlbGYubG9nKGYi4pyXIOi3s+WPmHtpZHh9OiDo
toXml7bmnKrliLDovr4ge3RhcmdldH0gZyIpDQoNCiAgICAgICAgICAgICAgICBwcmV2X3Rhcmdl
dCA9IHRhcmdldA0KDQogICAgICAgICAgICAgICAgIyDngrnpl7Tpl7TpmpQNCiAgICAgICAgICAg
ICAgICB0X2VuZCA9IHRpbWUudGltZSgpICsgbWF4KDAuMCwgaW50ZXJ2YWxfcykNCiAgICAgICAg
ICAgICAgICB3aGlsZSBzZWxmLmp1bXBfcnVubmluZyBhbmQgdGltZS50aW1lKCkgPCB0X2VuZDoN
CiAgICAgICAgICAgICAgICAgICAgdGltZS5zbGVlcCgwLjA1KQ0KDQogICAgICAgICAgICBpZiBs
b29wX2NudCAhPSAwOg0KICAgICAgICAgICAgICAgIGxvb3BzX2RvbmUgKz0gMQ0KICAgICAgICAg
ICAgIyDlpoLpnIDlvoDov5TvvIzlj6/lnKjmraTlpITvvJogc2VxID0gbGlzdChyZXZlcnNlZChz
ZXEpKQ0KDQogICAgICAgIHNlbGYuc3RvcF9tb3Rpb24oKQ0KICAgICAgICBzZWxmLmp1bXBfcnVu
bmluZyA9IEZhbHNlDQogICAgICAgIHNlbGYubG9nKCLmjInlrp7pmYXljovlipvot7Plj5jnu5Pm
nZ8iKQ0KDQogICAgZGVmIF9maXJlX2p1bXBfaWZfY29uZmlndXJlZChzZWxmLCBpZHg6IGludCwg
cHJldl90YXJnZXQ6IGZsb2F0LCBjdXJfdGFyZ2V0OiBmbG9hdCk6DQogICAgICAgICIiIuagueaN
rui3s+WPmOaWueWQkemFjee9ruWGs+WumuaYr+WQpuWPkemAgei3s+WPmOS/oeWPtyIiIg0KICAg
ICAgICBpZiBwcmV2X3RhcmdldCBpcyBOb25lOg0KICAgICAgICAgICAgcmV0dXJuDQogICAgICAg
IGlmIG5vdCBzZWxmLnNlbmRfanVtcF9lbmFibGVkLmdldChpZHgsIEZhbHNlKToNCiAgICAgICAg
ICAgIHJldHVybg0KDQogICAgICAgIHRyZW5kID0gIuato+WQkSIgaWYgY3VyX3RhcmdldCA+IHBy
ZXZfdGFyZ2V0IGVsc2UgKCLlj43lkJEiIGlmIGN1cl90YXJnZXQgPCBwcmV2X3RhcmdldCBlbHNl
ICLlj4zlkJEiKQ0KICAgICAgICBjZmcgPSBzZWxmLmp1bXBfZGlyZWN0aW9uc1tpZHhdLmdldCgp
IGlmIGhhc2F0dHIoc2VsZiwgImp1bXBfZGlyZWN0aW9ucyIpIGVsc2UgIuWPjOWQkSINCg0KICAg
ICAgICBzaG91bGQgPSAoY2ZnID09ICLlj4zlkJEiKSBvciAoY2ZnID09IHRyZW5kKQ0KICAgICAg
ICBpZiBub3Qgc2hvdWxkOg0KICAgICAgICAgICAgc2VsZi5sb2coZiLot7Plj5h7aWR4fTog5pa5
5ZCR6YWN572u5Li6W3tjZmd9Xe+8jOS4jui2i+WKv1t7dHJlbmR9XeS4jeespu+8jOS4jeinpuWP
kSIpDQogICAgICAgICAgICByZXR1cm4NCg0KICAgICAgICB0cnk6DQogICAgICAgICAgICBzZWxm
LnNlbmRfanVtcF9zaWduYWwoaWR4KQ0KICAgICAgICAgICAgc2VsZi5sb2coZiLot7Plj5h7aWR4
fTog5bey5Y+R6YCB77yI6YWN572uW3tjZmd9Xe+8jOi2i+WKv1t7dHJlbmR9Xe+8iSIpDQogICAg
ICAgICAgICBpZiBoYXNhdHRyKHNlbGYsICJqdW1wX2F1dG9fY2xvc2VfdmFycyIpIGFuZCBzZWxm
Lmp1bXBfYXV0b19jbG9zZV92YXJzW2lkeF0uZ2V0KCk6DQogICAgICAgICAgICAgICAgc2VsZi5z
dG9wX21vdGlvbigpDQogICAgICAgICAgICAgICAgc2VsZi5sb2coZiLot7Plj5h7aWR4fTog6Ieq
5Yqo5YWz6Zet5bey5ZCv55So77yM5bey5YGc5q2i6L+Q5YqoIikNCiAgICAgICAgZXhjZXB0IEV4
Y2VwdGlvbiBhcyBlOg0KICAgICAgICAgICAgc2VsZi5sb2coZiLot7Plj5h7aWR4fTog5Y+R6YCB
5L+h5Y+35aSx6LSlOiB7ZX0iKQ0KDQogICAgZGVmIHNldF92YXJfc2FmZShzZWxmLCB0a192YXIs
IHZhbHVlKToNCiAgICAgICAgaWYgdGhyZWFkaW5nLmN1cnJlbnRfdGhyZWFkKCkgaXMgdGhyZWFk
aW5nLm1haW5fdGhyZWFkKCk6DQogICAgICAgICAgICB0a192YXIuc2V0KHZhbHVlKQ0KICAgICAg
ICBlbHNlOg0KICAgICAgICAgICAgc2VsZi5hZnRlcigwLCBsYW1iZGE6IHRrX3Zhci5zZXQodmFs
dWUpKQ0KDQogICAgZGVmIF9yZWFkX3ByZXNzdXJlX2F2ZyhzZWxmLCBkdXJhdGlvbl9zPTAuMjUp
Og0KICAgICAgICB0MCA9IHRpbWUudGltZSgpOw0KICAgICAgICB2YWxzID0gW10NCiAgICAgICAg
d2hpbGUgdGltZS50aW1lKCkgLSB0MCA8IGR1cmF0aW9uX3M6DQogICAgICAgICAgICB2YWxzLmFw
cGVuZChmbG9hdChzZWxmLnJlYWRfcHJlc3N1cmUoKSkpDQogICAgICAgICAgICB0aW1lLnNsZWVw
KDAuMDIpDQogICAgICAgIHJldHVybiBzdW0odmFscykgLyBsZW4odmFscykgaWYgdmFscyBlbHNl
IGZsb2F0KHNlbGYucmVhZF9wcmVzc3VyZSgpKQ0KDQogICAgZGVmIF90dW5lX3Bvc2l0aW9uX2Zv
cl9wcmVzc3VyZShzZWxmLCBpZHg6IGludCwgdGFyZ2V0X2c6IGZsb2F0LCBzdGFydF9wb3NfbW06
IGZsb2F0LA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdG9sX2c6IGZsb2F0
LCBzdGVwX21tOiBmbG9hdCA9IDAuMDAxLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAg
ICAgICAgbWF4X3N0ZXBzOiBpbnQgPSA2MCwgc2V0dGxlX3M6IGZsb2F0ID0gMC4yNSwNCiAgICAg
ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRpbWVvdXRfZWFjaDogZmxvYXQgPSAxNS4w
KToNCiAgICAgICAgIiIiDQogICAgICAgIOS7pSBzdGFydF9wb3NfbW0g5Li66LW354K577yM5oyJ
IMKxMC4wMDEgbW0g5b6u6LCD77yM55u05YiwIHxQLVAqfCDiiaQgdG9sX2cNCiAgICAgICAg6L+U
5ZueIChmaW5hbF9wb3NfbW0sIHN1Y2Nlc3MpDQogICAgICAgICIiIg0KICAgICAgICB0cnk6DQog
ICAgICAgICAgICBzYWZldHlfZyA9IGZsb2F0KHNlbGYuc2FmZXR5X3ByZXNzdXJlX3Zhci5nZXQo
KSkNCiAgICAgICAgZXhjZXB0IEV4Y2VwdGlvbjoNCiAgICAgICAgICAgIHNhZmV0eV9nID0gMzAw
MDAuMA0KDQogICAgICAgIHBvcyA9IGZsb2F0KHN0YXJ0X3Bvc19tbSkNCiAgICAgICAgZm9yIGsg
aW4gcmFuZ2UobWF4X3N0ZXBzKToNCiAgICAgICAgICAgIG9rID0gc2VsZi5fbW92ZV90b19wb3Np
dGlvbl9vbmNlKHBvcywgc3BlZWRfbW1fcz1mbG9hdChzZWxmLmp1bXBfcnVuX3NwZWVkX3Zhci5n
ZXQoKSksDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aW1l
b3V0X3M9dGltZW91dF9lYWNoKQ0KICAgICAgICAgICAgaWYgbm90IG9rOg0KICAgICAgICAgICAg
ICAgIHNlbGYubG9nKGYi6Lez5Y+Ye2lkeH06IOWIsOS9jeetieW+hei2heaXtu+8jOW3suWBnOat
ouWcqCB7cG9zOi4zZn0gbW0iKQ0KICAgICAgICAgICAgICAgIHJldHVybiBwb3MsIEZhbHNlDQoN
CiAgICAgICAgICAgIHRpbWUuc2xlZXAoc2V0dGxlX3MpDQogICAgICAgICAgICBwID0gc2VsZi5f
cmVhZF9wcmVzc3VyZV9hdmcoMC4yNSkNCiAgICAgICAgICAgIGlmIHAgPj0gc2FmZXR5X2c6DQog
ICAgICAgICAgICAgICAgc2VsZi5sb2coZiLimqDvuI8g6Lez5Y+Ye2lkeH06IOinpuWPkeS/neaK
pOWOi+WKmyB7cDouMWZ9ZyDiiaUge3NhZmV0eV9nOi4xZn1n77yM5oCl5YGcIikNCiAgICAgICAg
ICAgICAgICBzZWxmLnN0b3BfbW90aW9uKCkNCiAgICAgICAgICAgICAgICByZXR1cm4gcG9zLCBG
YWxzZQ0KDQogICAgICAgICAgICBlcnIgPSBwIC0gdGFyZ2V0X2cNCiAgICAgICAgICAgIGlmIGFi
cyhlcnIpIDw9IHRvbF9nOg0KICAgICAgICAgICAgICAgIHNlbGYubG9nKGYi6Lez5Y+Ye2lkeH06
IOWOi+WKm+aUtuaVmyB7cDouMWZ9ZyAo55uu5qCHIHt0YXJnZXRfZzouMWZ9ZywgfOivr+W3rnzi
iaR7dG9sX2d9ZykiKQ0KICAgICAgICAgICAgICAgIHJldHVybiBwb3MsIFRydWUNCg0KICAgICAg
ICAgICAgIyDkvaDopoHmsYLvvJrigJzor6/lt64+MTAwZyDml7bmjIkgwrEwLjAwMW1tIOiwg+KA
ne+8jOi/memHjOWFvOWuueWwj+S6jjEwMGfku43mnKrov5vlrrnlt67nmoTmg4XlhrXigJTigJTk
u43nlKjlkIzmoLfmraXplb/mlLbmlZsNCiAgICAgICAgICAgIGlmIGVyciA8IDA6ICAjIOWOi+WK
m+WBj+WwjyDihpIg5b6A5LiL77yI5aKe5aSn5L2N572u77yJDQogICAgICAgICAgICAgICAgcG9z
ICs9IHN0ZXBfbW0NCiAgICAgICAgICAgIGVsc2U6ICAjIOWOi+WKm+WBj+WkpyDihpIg5b6A5LiK
77yI5YeP5bCP5L2N572u77yJDQogICAgICAgICAgICAgICAgcG9zIC09IHN0ZXBfbW0NCg0KICAg
ICAgICBzZWxmLmxvZyhmIui3s+WPmHtpZHh9OiDlvq7osIPmraXmlbDnlKjlsL3ku43mnKrov5vl
rrnlt67vvIjmnIDlkI7ljovlipsge3A6LjFmfWfvvIkiKQ0KICAgICAgICByZXR1cm4gcG9zLCBG
YWxzZQ0KDQogICAgIyAtLS0g5pS+5ZyoIGNsYXNzIEFwcCDlhoXpg6ggLS0tDQogICAgZGVmIF9j
bGVhbnVwX3BvcnRzKHNlbGYpOgogICAgICAgICIiIuWFnOW6lemHiuaUvu+8muWFiOWBnOW+queO
r+S4jue6v+eoi++8jOWGjeiuqempseWKqOmHiuaUvuS4suWPo+WPpeafhOOAguWPr+WuieWFqOmH
jeWkjeiwg+eUqOOAgiIiIgogICAgICAgIHRyeToKICAgICAgICAgICAgc2VsZi5fY2FuY2VsX3Bl
cmlvZGljX2pvYnMoKQogICAgICAgIGV4Y2VwdCBFeGNlcHRpb246CiAgICAgICAgICAgIHBhc3MK
CiAgICAgICAgIyDpmLLph43lpI3muIXnkIYKICAgICAgICBpZiBnZXRhdHRyKHNlbGYsICJfY2xl
YW5pbmciLCBGYWxzZSk6CiAgICAgICAgICAgIHJldHVybgogICAgICAgIHNlbGYuX2NsZWFuaW5n
ID0gVHJ1ZQ0KICAgICAgICB0cnk6DQogICAgICAgICAgICAjIDEpIOWFiOaLiemXuO+8muiuqeaJ
gOacieWQjuWPsOW+queOr+eci+WIsCBGYWxzZSDoh6rooYzpgIDlh7oNCiAgICAgICAgICAgIGZv
ciBmbGFnIGluICgicHJlc3N1cmVfdGhyZWFkX3J1bm5pbmciLA0KICAgICAgICAgICAgICAgICAg
ICAgICAgICJwb3NpdGlvbl90aHJlYWRfcnVubmluZyIsDQogICAgICAgICAgICAgICAgICAgICAg
ICAgInByZXNzdXJlX2NvbnRyb2xfcnVubmluZyIsDQogICAgICAgICAgICAgICAgICAgICAgICAg
Im11bHRpX3ByZXNzdXJlX3J1bm5pbmciLA0KICAgICAgICAgICAgICAgICAgICAgICAgICJqdW1w
X3J1bm5pbmciLA0KICAgICAgICAgICAgICAgICAgICAgICAgICJhdXRvX3RhcmVfcnVubmluZyIp
Og0KICAgICAgICAgICAgICAgIGlmIGhhc2F0dHIoc2VsZiwgZmxhZyk6DQogICAgICAgICAgICAg
ICAgICAgIHRyeToNCiAgICAgICAgICAgICAgICAgICAgICAgIHNldGF0dHIoc2VsZiwgZmxhZywg
RmFsc2UpDQogICAgICAgICAgICAgICAgICAgIGV4Y2VwdCBFeGNlcHRpb246DQogICAgICAgICAg
ICAgICAgICAgICAgICBwYXNzDQoNCiAgICAgICAgICAgICMg57uZ5b6q546v5LiA5Liq5pe26Ze0
54mH5oSf55+l6YCA5Ye6DQogICAgICAgICAgICB0cnk6DQogICAgICAgICAgICAgICAgdGltZS5z
bGVlcCgwLjA1KQ0KICAgICAgICAgICAgZXhjZXB0IEV4Y2VwdGlvbjoNCiAgICAgICAgICAgICAg
ICBwYXNzDQoNCiAgICAgICAgICAgICMgMikg5bC96YeP562J5b6F57q/56iL57uT5p2f77yI6Z2e
6Zi75aGe5oiW5pyJ6ZmQ5pe277yJDQogICAgICAgICAgICBkZWYgX2pvaW4obmFtZSwgdGltZW91
dF9kYWVtb249MC4yLCB0aW1lb3V0X25vbmRhZW1vbj0wLjgpOg0KICAgICAgICAgICAgICAgIHQg
PSBnZXRhdHRyKHNlbGYsIG5hbWUsIE5vbmUpDQogICAgICAgICAgICAgICAgaWYgdCBhbmQgaGFz
YXR0cih0LCAiaXNfYWxpdmUiKSBhbmQgdC5pc19hbGl2ZSgpOg0KICAgICAgICAgICAgICAgICAg
ICB0cnk6DQogICAgICAgICAgICAgICAgICAgICAgICAjIOWQjuWPsOe6v+eoi++8iGRhZW1vbu+8
ieefreetieS4gOS4i++8m+mdnuWQjuWPsOe6v+eoi+WkmuetieS4gOS8mg0KICAgICAgICAgICAg
ICAgICAgICAgICAgdG8gPSB0aW1lb3V0X2RhZW1vbiBpZiBnZXRhdHRyKHQsICJkYWVtb24iLCBG
YWxzZSkgZWxzZSB0aW1lb3V0X25vbmRhZW1vbg0KICAgICAgICAgICAgICAgICAgICAgICAgdC5q
b2luKHRpbWVvdXQ9dG8pDQogICAgICAgICAgICAgICAgICAgIGV4Y2VwdCBFeGNlcHRpb246DQog
ICAgICAgICAgICAgICAgICAgICAgICBwYXNzDQoNCiAgICAgICAgICAgIGZvciB0aF9uYW1lIGlu
ICgicHJlc3N1cmVfdGhyZWFkIiwgInBvc2l0aW9uX3RocmVhZCIsDQogICAgICAgICAgICAgICAg
ICAgICAgICAgICAgInByZXNzdXJlX2NvbnRyb2xfdGhyZWFkIiwgInBsb3RfdXBkYXRlX3RocmVh
ZCIsDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgInVpX3VwZGF0ZV90aHJlYWQiKToNCiAg
ICAgICAgICAgICAgICBfam9pbih0aF9uYW1lKQ0KDQogICAgICAgICAgICAjIDMpIOWFs+mXreiu
vuWkh++8iOi1sCBNb2RidXNDb250cm9sbGVyLmNsb3NlKCnvvIzlhoXpg6joh6rluKbplIHvvIbp
h4rmlL7nrYnlvoXvvIkNCiAgICAgICAgICAgIGRlZiBfY2xvc2VfZGV2KGRldl9hdHRyKToNCiAg
ICAgICAgICAgICAgICB0cnk6DQogICAgICAgICAgICAgICAgICAgIGRldiA9IGdldGF0dHIoc2Vs
ZiwgZGV2X2F0dHIsIE5vbmUpDQogICAgICAgICAgICAgICAgICAgIGlmIGRldjoNCiAgICAgICAg
ICAgICAgICAgICAgICAgIHRyeToNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZXYuY2xv
c2UoKSAgIyDkvb/nlKjkvaDmjqfliLblmajnsbvnmoQgY2xvc2XvvIzpgb/lhY3oh6rlt7Hljrvl
iqggZGV2LnNlcmlhbA0KICAgICAgICAgICAgICAgICAgICAgICAgZXhjZXB0IEV4Y2VwdGlvbjoN
CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYXNzDQogICAgICAgICAgICAgICAgICAgICAg
ICAjIOe9ruepuu+8jOmBv+WFjeWQjue7reivr+eUqA0KICAgICAgICAgICAgICAgICAgICAgICAg
dHJ5Og0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldGF0dHIoc2VsZiwgZGV2X2F0dHIs
IE5vbmUpDQogICAgICAgICAgICAgICAgICAgICAgICBleGNlcHQgRXhjZXB0aW9uOg0KICAgICAg
ICAgICAgICAgICAgICAgICAgICAgIHBhc3MNCiAgICAgICAgICAgICAgICBleGNlcHQgRXhjZXB0
aW9uOg0KICAgICAgICAgICAgICAgICAgICBwYXNzDQoNCiAgICAgICAgICAgIF9jbG9zZV9kZXYo
Im1vZGJ1czEiKQ0KICAgICAgICAgICAgX2Nsb3NlX2RldigibW9kYnVzMiIpDQoNCiAgICAgICAg
ICAgICMgNCkg5YaN57uZIFdpbmRvd3Mg5LiA54K554K55pe26Ze055yf5q2j6YeK5pS+5Liy5Y+j
5Y+l5p+EDQogICAgICAgICAgICB0cnk6DQogICAgICAgICAgICAgICAgdGltZS5zbGVlcCgwLjI1
KQ0KICAgICAgICAgICAgZXhjZXB0IEV4Y2VwdGlvbjoNCiAgICAgICAgICAgICAgICBwYXNzDQoN
CiAgICAgICAgZmluYWxseToNCiAgICAgICAgICAgIHNlbGYuX2NsZWFuaW5nID0gRmFsc2UNCg0K
ICAgIGRlZiBwYW5pY19yZXNldF9tb3RvcihzZWxmKToNCiAgICAgICAgc2VsZi5wb3NpdGlvbl90
aHJlYWRfcnVubmluZyA9IEZhbHNlDQogICAgICAgIHRpbWUuc2xlZXAoMC4xKQ0KICAgICAgICBp
ZiBzZWxmLm1vZGJ1czI6DQogICAgICAgICAgICB0cnk6DQogICAgICAgICAgICAgICAgc2VsZi5t
b2RidXMyLmNsb3NlKCkNCiAgICAgICAgICAgIGV4Y2VwdDoNCiAgICAgICAgICAgICAgICBwYXNz
DQogICAgICAgICAgICBzZWxmLm1vZGJ1czIgPSBOb25lDQogICAgICAgIHRpbWUuc2xlZXAoMC4y
KQ0KICAgICAgICB0cnk6DQogICAgICAgICAgICBzZWxmLm1vZGJ1czIgPSBNb2RidXNDb250cm9s
bGVyKHNlbGYucG9ydF9jYjIuZ2V0KCksIGludChzZWxmLmJhdWRfZW50cnkyLmdldCgpKSwgMSkN
CiAgICAgICAgICAgIHNlbGYuY29udHJvbGxlcl9jb25uZWN0ZWQgPSBUcnVlDQogICAgICAgICAg
ICBzZWxmLmNvbm5lY3Rpb25fc3RhdHVzX3ZhcjIuc2V0KCLlt7Lov57mjqUiKQ0KICAgICAgICAg
ICAgc2VsZi5sb2coIuKckyDnlLXmnLrkuLLlj6Plt7Lph43nva7lubbph43ov54iKQ0KICAgICAg
ICBleGNlcHQgRXhjZXB0aW9uIGFzIGU6DQogICAgICAgICAgICBzZWxmLmNvbnRyb2xsZXJfY29u
bmVjdGVkID0gRmFsc2UNCiAgICAgICAgICAgIHNlbGYuY29ubmVjdGlvbl9zdGF0dXNfdmFyMi5z
ZXQoIuacqui/nuaOpSIpDQogICAgICAgICAgICBzZWxmLmxvZyhmIsOXIOmHjee9ruWksei0pTog
e2V9IikNCg0KDQppZiBfX25hbWVfXyA9PSAiX19tYWluX18iOgogICAgYXBwID0gQXBwKCkKICAg
IGFwcC5fd2luZG93Lm1haW5sb29wKCkKUEsDBBQAAAAAAHY6fVt8TiDGx0ABAMdAAQAcAAAAbXVs
dGlfc2VxdWVuY2VfY29udHJvbGxlci5weWltcG9ydCBjc3YKaW1wb3J0IGpzb24KaW1wb3J0IG1h
dGgKaW1wb3J0IHNvY2tldAppbXBvcnQgc3lzCmltcG9ydCB0aHJlYWRpbmcKaW1wb3J0IHRpbWUK
ZnJvbSBjb2xsZWN0aW9ucyBpbXBvcnQgZGVxdWUKZnJvbSBwYXRobGliIGltcG9ydCBQYXRoCmZy
b20gdHlwaW5nIGltcG9ydCBBbnksIENhbGxhYmxlLCBEZXF1ZSwgRGljdCwgTGlzdCwgT3B0aW9u
YWwsIFR1cGxlCgppbXBvcnQgdGtpbnRlciBhcyB0awppbXBvcnQgdHRrYm9vdHN0cmFwIGFzIHR0
awpmcm9tIHR0a2Jvb3RzdHJhcC5jb25zdGFudHMgaW1wb3J0ICoKZnJvbSB0a2ludGVyIGltcG9y
dCBmaWxlZGlhbG9nLCBtZXNzYWdlYm94LCBzY3JvbGxlZHRleHQKCmltcG9ydCBtYXRwbG90bGli
Cm1hdHBsb3RsaWIudXNlKCJUa0FnZyIpCmZyb20gbWF0cGxvdGxpYi5maWd1cmUgaW1wb3J0IEZp
Z3VyZQpmcm9tIG1hdHBsb3RsaWIuYmFja2VuZHMuYmFja2VuZF90a2FnZyBpbXBvcnQgRmlndXJl
Q2FudmFzVGtBZ2cKCmZyb20gUElMIGltcG9ydCBJbWFnZSwgSW1hZ2VDaG9wcwoKaW1wb3J0IGN0
eXBlcwoKCiMgPT09PT09PT09PT09PT09PT09PT09PT09PQojIFRDUCBKU09OIOihjOWNj+iuru+8
iOWGhee9ruWuouaIt+err++8iQojID09PT09PT09PT09PT09PT09PT09PT09PT0KCgpjbGFzcyBK
U09OTGluZUNsaWVudDoKICAgICIiIuWPkemAgeWNleasoSBKU09OIOihjOivt+axgueahOi9u+mH
j+WuouaIt+err+OAgiIiIgoKICAgIGRlZiBfX2luaXRfXyhzZWxmLCBob3N0OiBzdHIsIHBvcnQ6
IGludCwgdGltZW91dDogZmxvYXQgPSAzLjApOgogICAgICAgIHNlbGYuaG9zdCA9IGhvc3QKICAg
ICAgICBzZWxmLnBvcnQgPSBwb3J0CiAgICAgICAgc2VsZi50aW1lb3V0ID0gdGltZW91dAoKICAg
IGRlZiByZXF1ZXN0KHNlbGYsIHBheWxvYWQ6IERpY3Rbc3RyLCBBbnldKSAtPiBEaWN0W3N0ciwg
QW55XToKICAgICAgICBkYXRhID0gKGpzb24uZHVtcHMocGF5bG9hZCwgZW5zdXJlX2FzY2lpPUZh
bHNlKSArICJcbiIpLmVuY29kZSgidXRmLTgiKQogICAgICAgIHdpdGggc29ja2V0LmNyZWF0ZV9j
b25uZWN0aW9uKChzZWxmLmhvc3QsIHNlbGYucG9ydCksIHRpbWVvdXQ9c2VsZi50aW1lb3V0KSBh
cyBzb2NrOgogICAgICAgICAgICBzb2NrLnNlbmRhbGwoZGF0YSkKICAgICAgICAgICAgc29jay5z
aHV0ZG93bihzb2NrZXQuU0hVVF9XUikKICAgICAgICAgICAgc29jay5zZXR0aW1lb3V0KHNlbGYu
dGltZW91dCkKICAgICAgICAgICAgY2h1bmtzID0gW10KICAgICAgICAgICAgd2hpbGUgVHJ1ZToK
ICAgICAgICAgICAgICAgIHRyeToKICAgICAgICAgICAgICAgICAgICBjaHVuayA9IHNvY2sucmVj
dig0MDk2KQogICAgICAgICAgICAgICAgZXhjZXB0IHNvY2tldC50aW1lb3V0OgogICAgICAgICAg
ICAgICAgICAgIHJhaXNlIFRpbWVvdXRFcnJvcigibm8gcmVzcG9uc2UgZnJvbSBzZXJ2ZXIiKQog
ICAgICAgICAgICAgICAgaWYgbm90IGNodW5rOgogICAgICAgICAgICAgICAgICAgIGJyZWFrCiAg
ICAgICAgICAgICAgICBjaHVua3MuYXBwZW5kKGNodW5rKQogICAgICAgIHRleHQgPSBiIiIuam9p
bihjaHVua3MpLmRlY29kZSgidXRmLTgiKS5zdHJpcCgpCiAgICAgICAgaWYgbm90IHRleHQ6CiAg
ICAgICAgICAgIHJhaXNlIENvbm5lY3Rpb25FcnJvcigiZW1wdHkgcmVzcG9uc2UiKQogICAgICAg
IGxpbmUgPSB0ZXh0LnNwbGl0bGluZXMoKVstMV0KICAgICAgICByZXR1cm4ganNvbi5sb2Fkcyhs
aW5lKQoKCiMgPT09PT09PT09PT09PT09PT09PT09PT09PQojIOaooeaLn+eCueWHu++8iOWGhee9
ru+8iQojID09PT09PT09PT09PT09PT09PT09PT09PT0KUG9pbnQgPSBUdXBsZVtpbnQsIGludF0K
UmVwb3J0ZXIgPSBPcHRpb25hbFtDYWxsYWJsZVtbc3RyXSwgTm9uZV1dCgoKZGVmIF9nZXRfY3Vy
c29yX3BvcygpIC0+IFBvaW50OgogICAgaWYgcHlhdXRvZ3VpIGlzIG5vdCBOb25lOgogICAgICAg
IHBvcyA9IHB5YXV0b2d1aS5wb3NpdGlvbigpCiAgICAgICAgcmV0dXJuIGludChwb3NbMF0pLCBp
bnQocG9zWzFdKQogICAgaWYgc3lzLnBsYXRmb3JtLnN0YXJ0c3dpdGgoIndpbiIpIGFuZCBjdHlw
ZXMgaXMgbm90IE5vbmU6CiAgICAgICAgY2xhc3MgX1BPSU5UKGN0eXBlcy5TdHJ1Y3R1cmUpOiAg
IyB0eXBlOiBpZ25vcmVbbWlzYywgdmFsaWQtdHlwZV0KICAgICAgICAgICAgX2ZpZWxkc18gPSBb
KCJ4IiwgY3R5cGVzLmNfbG9uZyksICgieSIsIGN0eXBlcy5jX2xvbmcpXQoKICAgICAgICBwdCA9
IF9QT0lOVCgpCiAgICAgICAgaWYgY3R5cGVzLndpbmRsbC51c2VyMzIuR2V0Q3Vyc29yUG9zKGN0
eXBlcy5ieXJlZihwdCkpID09IDA6CiAgICAgICAgICAgIHJhaXNlIFJ1bnRpbWVFcnJvcigi6I63
5Y+W6byg5qCH5Z2Q5qCH5aSx6LSlIikKICAgICAgICByZXR1cm4gaW50KHB0LngpLCBpbnQocHQu
eSkKICAgIHJhaXNlIFJ1bnRpbWVFcnJvcigi57y65bCRIHB5YXV0b2d1aSDkuJTpnZ4gV2luZG93
cyDlubPlj7DvvIzml6Dms5Xojrflj5blnZDmoIciKQoKCmRlZiBjYXB0dXJlX2NsaWNrX3BvaW50
KAogICAgbWFzdGVyOiB0ay5NaXNjLAogICAgKiwKICAgIHRpdGxlOiBzdHIgPSAi6K6+572u54K5
5Ye754K5IiwKICAgIGhpbnQ6IHN0ciA9ICLnp7vliqjpvKDmoIfliLDnm67moIflpITvvIzmjIkg
RW50ZXIg6ZSu6K6w5b2VIiwKICAgIHJlcG9ydGVyOiBSZXBvcnRlciA9IE5vbmUsCikgLT4gT3B0
aW9uYWxbUG9pbnRdOgogICAgIiIi5o+Q56S655So5oi356e75Yqo6byg5qCH5bm25oyJ5Zue6L2m
6I635Y+W5Z2Q5qCH44CCIiIiCgogICAgdG9wID0gdGsuVG9wbGV2ZWwobWFzdGVyKQogICAgdG9w
LnRpdGxlKHRpdGxlKQogICAgdG9wLmdlb21ldHJ5KCIzMjB4MTIwIikKICAgIHRvcC50cmFuc2ll
bnQobWFzdGVyLndpbmZvX3RvcGxldmVsKCkpCiAgICB0b3AuZ3JhYl9zZXQoKQogICAgdG9wLmZv
Y3VzX2ZvcmNlKCkKCiAgICBsYWJlbCA9IHRrLkxhYmVsKHRvcCwgdGV4dD1oaW50KQogICAgbGFi
ZWwucGFjayhleHBhbmQ9VHJ1ZSkKCiAgICByZXN1bHQ6IE9wdGlvbmFsW1BvaW50XSA9IE5vbmUK
CiAgICBkZWYgX2ZpbmlzaChfOiBPcHRpb25hbFt0ay5FdmVudF0gPSBOb25lKSAtPiBOb25lOgog
ICAgICAgIG5vbmxvY2FsIHJlc3VsdAogICAgICAgIHRyeToKICAgICAgICAgICAgcmVzdWx0ID0g
X2dldF9jdXJzb3JfcG9zKCkKICAgICAgICAgICAgaWYgcmVwb3J0ZXI6CiAgICAgICAgICAgICAg
ICByZXBvcnRlcihmIuW3suiusOW9leaooeaLn+eCueWHu+eCuToge3Jlc3VsdH0iKQogICAgICAg
IGV4Y2VwdCBFeGNlcHRpb24gYXMgZXhjOgogICAgICAgICAgICBtZXNzYWdlYm94LnNob3dlcnJv
cigi6ZSZ6K+vIiwgZiLojrflj5blnZDmoIflpLHotKU6IHtleGN9IikKICAgICAgICAgICAgcmVz
dWx0ID0gTm9uZQogICAgICAgIGZpbmFsbHk6CiAgICAgICAgICAgIHRyeToKICAgICAgICAgICAg
ICAgIHRvcC5ncmFiX3JlbGVhc2UoKQogICAgICAgICAgICBleGNlcHQgRXhjZXB0aW9uOgogICAg
ICAgICAgICAgICAgcGFzcwogICAgICAgICAgICB0b3AuZGVzdHJveSgpCgogICAgdG9wLmJpbmQo
IjxSZXR1cm4+IiwgX2ZpbmlzaCkKICAgIHRvcC5wcm90b2NvbCgiV01fREVMRVRFX1dJTkRPVyIs
IF9maW5pc2gpCiAgICB0b3Aud2FpdF93aW5kb3coKQogICAgcmV0dXJuIHJlc3VsdAoKCmRlZiBf
Y2xpY2tfb25jZSh4OiBpbnQsIHk6IGludCwgYnV0dG9uOiBzdHIpIC0+IE5vbmU6CiAgICBidG4g
PSAoYnV0dG9uIG9yICJsZWZ0IikubG93ZXIoKQogICAgaWYgcHlhdXRvZ3VpIGlzIG5vdCBOb25l
OgogICAgICAgIGlmIGJ0biBub3QgaW4gKCJsZWZ0IiwgInJpZ2h0IiwgIm1pZGRsZSIpOgogICAg
ICAgICAgICBidG4gPSAibGVmdCIKICAgICAgICBweWF1dG9ndWkuY2xpY2soeD1pbnQoeCksIHk9
aW50KHkpLCBidXR0b249YnRuKQogICAgICAgIHJldHVybgogICAgaWYgbm90IHN5cy5wbGF0Zm9y
bS5zdGFydHN3aXRoKCJ3aW4iKSBvciBjdHlwZXMgaXMgTm9uZToKICAgICAgICByYWlzZSBSdW50
aW1lRXJyb3IoIue8uuWwkSBweWF1dG9ndWkg5LiU6Z2eIFdpbmRvd3Mg5bmz5Y+w77yM5peg5rOV
5qih5ouf54K55Ye7IikKICAgIHVzZXIzMiA9IGN0eXBlcy53aW5kbGwudXNlcjMyICAjIHR5cGU6
IGlnbm9yZVthdHRyLWRlZmluZWRdCiAgICB1c2VyMzIuU2V0Q3Vyc29yUG9zKGludCh4KSwgaW50
KHkpKQogICAgbWFwcGluZyA9IHsKICAgICAgICAibGVmdCI6ICgweDAwMDIsIDB4MDAwNCksCiAg
ICAgICAgInJpZ2h0IjogKDB4MDAwOCwgMHgwMDEwKSwKICAgICAgICAibWlkZGxlIjogKDB4MDAy
MCwgMHgwMDQwKSwKICAgIH0KICAgIGRvd24sIHVwID0gbWFwcGluZy5nZXQoYnRuLCBtYXBwaW5n
WyJsZWZ0Il0pCiAgICB1c2VyMzIubW91c2VfZXZlbnQoZG93biwgMCwgMCwgMCwgMCkKICAgIHVz
ZXIzMi5tb3VzZV9ldmVudCh1cCwgMCwgMCwgMCwgMCkKCgpkZWYgcGVyZm9ybV9jbGlja19hc3lu
YygKICAgIHg6IGludCwKICAgIHk6IGludCwKICAgICosCiAgICBidXR0b246IHN0ciA9ICJsZWZ0
IiwKICAgIGRvdWJsZTogYm9vbCA9IEZhbHNlLAogICAgZGVsYXlfbXM6IGludCA9IDAsCiAgICBy
ZXBvcnRlcjogUmVwb3J0ZXIgPSBOb25lLAopIC0+IHRocmVhZGluZy5UaHJlYWQ6CiAgICAiIiLl
kI7lj7Dnur/nqIvmiafooYzmqKHmi5/ngrnlh7vvvIzpgb/lhY3pmLvloZ4gVUnjgIIiIiIKCiAg
ICBkZWYgX3dvcmtlcigpIC0+IE5vbmU6CiAgICAgICAgdHJ5OgogICAgICAgICAgICBpZiBkZWxh
eV9tcyA+IDA6CiAgICAgICAgICAgICAgICB0aW1lLnNsZWVwKGRlbGF5X21zIC8gMTAwMC4wKQog
ICAgICAgICAgICBfY2xpY2tfb25jZShpbnQoeCksIGludCh5KSwgYnV0dG9uKQogICAgICAgICAg
ICBpZiBkb3VibGU6CiAgICAgICAgICAgICAgICB0aW1lLnNsZWVwKDAuMDMpCiAgICAgICAgICAg
ICAgICBfY2xpY2tfb25jZShpbnQoeCksIGludCh5KSwgYnV0dG9uKQogICAgICAgICAgICBpZiBy
ZXBvcnRlcjoKICAgICAgICAgICAgICAgIHJlcG9ydGVyKAogICAgICAgICAgICAgICAgICAgIGYi
5bey5qih5ouf54K55Ye777yaKHtpbnQoeCl9LCB7aW50KHkpfSkge2J1dHRvbn17JyDlj4zlh7sn
IGlmIGRvdWJsZSBlbHNlICcnfSIuc3RyaXAoKQogICAgICAgICAgICAgICAgKQogICAgICAgIGV4
Y2VwdCBFeGNlcHRpb24gYXMgZXhjOgogICAgICAgICAgICBpZiByZXBvcnRlcjoKICAgICAgICAg
ICAgICAgIHJlcG9ydGVyKGYi5omn6KGM5qih5ouf54K55Ye75aSx6LSlOiB7ZXhjfSIpCgogICAg
dGhyZWFkID0gdGhyZWFkaW5nLlRocmVhZCh0YXJnZXQ9X3dvcmtlciwgZGFlbW9uPVRydWUpCiAg
ICB0aHJlYWQuc3RhcnQoKQogICAgcmV0dXJuIHRocmVhZAoKdHJ5OgogICAgaW1wb3J0IHB5YXV0
b2d1aQogICAgcHlhdXRvZ3VpLkZBSUxTQUZFID0gRmFsc2UKZXhjZXB0IEV4Y2VwdGlvbjogICMg
cHJhZ21hOiBubyBjb3ZlciAtIOS+nei1lue8uuWkseaXtumZjee6pwogICAgcHlhdXRvZ3VpID0g
Tm9uZQoKClRFTVBfREVGQVVMVF9IT1NUID0gIjEyNy4wLjAuMSIKVEVNUF9ERUZBVUxUX1BPUlQg
PSA1MDAxMApQUkVTU19ERUZBVUxUX0hPU1QgPSAiMTI3LjAuMC4xIgpQUkVTU19ERUZBVUxUX1BP
UlQgPSA1MDAyMAoKREVGQVVMVF9URU1QX01BRSA9IDAuMwpERUZBVUxUX1RFTVBfSE9MRCA9IDYw
LjAKREVGQVVMVF9URU1QX1JFQ0hFQ0tfSE9MRCA9IDE1LjAKREVGQVVMVF9QUkVTU19NQUUgPSA1
MC4wCkRFRkFVTFRfUFJFU1NfSE9MRCA9IDMwLjAKREVGQVVMVF9QUkVTU19TVEFCTEVfV0lORE9X
ID0gMTUuMApERUZBVUxUX1BSRVNTX0ZMVUNUX1JBTkdFID0gNTAuMApERUZBVUxUX0NFTExfVElN
RU9VVCA9IDMwMC4wCkRFRkFVTFRfQ09ORklSTV9DT1VOVCA9IDIKUkVBTFRJTUVfUkVGUkVTSF9T
ID0gMS4wCkNIQVJUX0hJU1RPUllfU0VDT05EUyA9IDMwMC4wCgpDT05GSUdfRElSTkFNRSA9ICJQ
SURf5Ya354Ot5Y+wIgoKCmRlZiByZXNvbHZlX2RvY3VtZW50c19kaXIoKSAtPiBQYXRoOgogICAg
aG9tZSA9IFBhdGguaG9tZSgpCiAgICBjYW5kaWRhdGVzID0gWwogICAgICAgIGhvbWUgLyAiRG9j
dW1lbnRzIiwKICAgICAgICBob21lIC8gIuaWh+ahoyIsCiAgICAgICAgaG9tZSAvICJPbmVEcml2
ZSIgLyAiRG9jdW1lbnRzIiwKICAgICAgICBob21lIC8gIk9uZURyaXZlIiAvICLmlofmoaMiLAog
ICAgXQogICAgZm9yIHBhdGggaW4gY2FuZGlkYXRlczoKICAgICAgICBpZiBwYXRoLmV4aXN0cygp
OgogICAgICAgICAgICByZXR1cm4gcGF0aAogICAgcmV0dXJuIGhvbWUKCgpkZWYgZ2V0X2xvZ3Nf
ZGlyKCkgLT4gUGF0aDoKICAgIHJvb3QgPSByZXNvbHZlX2RvY3VtZW50c19kaXIoKSAvIENPTkZJ
R19ESVJOQU1FIC8gImxvZ3MiCiAgICByb290Lm1rZGlyKHBhcmVudHM9VHJ1ZSwgZXhpc3Rfb2s9
VHJ1ZSkKICAgIHJldHVybiByb290CgoKY2xhc3MgQ29udHJvbGxlckNsaWVudDoKICAgIGRlZiBf
X2luaXRfXygKICAgICAgICBzZWxmLAogICAgICAgIGhvc3Q6IHN0ciwKICAgICAgICBwb3J0OiBp
bnQsCiAgICAgICAgbmFtZTogc3RyLAogICAgICAgIGhhbmRsZXI6IE9wdGlvbmFsW0NhbGxhYmxl
W1tEaWN0W3N0ciwgQW55XV0sIERpY3Rbc3RyLCBBbnldXV0gPSBOb25lLAogICAgICAgIGxvY2s6
IE9wdGlvbmFsW3RocmVhZGluZy5STG9ja10gPSBOb25lLAogICAgKToKICAgICAgICBzZWxmLmhv
c3QgPSBob3N0CiAgICAgICAgc2VsZi5wb3J0ID0gcG9ydAogICAgICAgIHNlbGYubmFtZSA9IG5h
bWUKICAgICAgICBzZWxmLl9oYW5kbGVyID0gaGFuZGxlcgogICAgICAgIHNlbGYuX2xvY2sgPSBs
b2NrIG9yICh0aHJlYWRpbmcuUkxvY2soKSBpZiBoYW5kbGVyIGVsc2UgTm9uZSkKCiAgICBkZWYg
X3JlcXVlc3Qoc2VsZiwgcGF5bG9hZDogRGljdCkgLT4gRGljdDoKICAgICAgICBpZiBzZWxmLl9o
YW5kbGVyOgogICAgICAgICAgICBsb2NrID0gc2VsZi5fbG9jawogICAgICAgICAgICBpZiBsb2Nr
OgogICAgICAgICAgICAgICAgbG9jay5hY3F1aXJlKCkKICAgICAgICAgICAgdHJ5OgogICAgICAg
ICAgICAgICAgcmVzdWx0ID0gc2VsZi5faGFuZGxlcihkaWN0KHBheWxvYWQpKSAgIyB0eXBlOiBp
Z25vcmVbYXJnLXR5cGVdCiAgICAgICAgICAgIGV4Y2VwdCBFeGNlcHRpb24gYXMgZXhjOiAgIyBu
b3FhOiBCTEUwMDEgLSBzdXJmYWNlIHRvIGNhbGxlcgogICAgICAgICAgICAgICAgcmVzdWx0ID0g
eyJvayI6IEZhbHNlLCAiZXJyb3IiOiBzdHIoZXhjKX0KICAgICAgICAgICAgZmluYWxseToKICAg
ICAgICAgICAgICAgIGlmIGxvY2s6CiAgICAgICAgICAgICAgICAgICAgbG9jay5yZWxlYXNlKCkK
ICAgICAgICAgICAgaWYgcmVzdWx0IGlzIE5vbmU6CiAgICAgICAgICAgICAgICByZXN1bHQgPSB7
fQogICAgICAgICAgICBpZiAib2siIG5vdCBpbiByZXN1bHQ6CiAgICAgICAgICAgICAgICByZXN1
bHRbIm9rIl0gPSBUcnVlCiAgICAgICAgZWxzZToKICAgICAgICAgICAgY2xpZW50ID0gSlNPTkxp
bmVDbGllbnQoc2VsZi5ob3N0LCBzZWxmLnBvcnQsIHRpbWVvdXQ9NS4wKQogICAgICAgICAgICBy
ZXN1bHQgPSBjbGllbnQucmVxdWVzdChwYXlsb2FkKQogICAgICAgIGlmIG5vdCByZXN1bHQuZ2V0
KCJvayIsIFRydWUpOgogICAgICAgICAgICByYWlzZSBSdW50aW1lRXJyb3IoZiJ7c2VsZi5uYW1l
fSDmjqfliLblpLHotKU6IHtyZXN1bHQuZ2V0KCdlcnJvcicsICfmnKrnn6XplJnor68nKX0iKQog
ICAgICAgIHJldHVybiByZXN1bHQKCiAgICBkZWYgcGluZyhzZWxmKSAtPiBEaWN0OgogICAgICAg
IHJldHVybiBzZWxmLl9yZXF1ZXN0KHsiY21kIjogInBpbmcifSkKCiAgICBkZWYgc3RhdHVzKHNl
bGYpIC0+IERpY3Q6CiAgICAgICAgcmV0dXJuIHNlbGYuX3JlcXVlc3QoeyJjbWQiOiAic3RhdHVz
In0pCgogICAgZGVmIHNldF90ZW1wZXJhdHVyZShzZWxmLCB2YWx1ZTogZmxvYXQsIHN0YXJ0OiBi
b29sID0gRmFsc2UpIC0+IERpY3Q6CiAgICAgICAgcmV0dXJuIHNlbGYuX3JlcXVlc3QoeyJjbWQi
OiAic2V0X3RhcmdldCIsICJ2YWx1ZSI6IHZhbHVlLCAic3RhcnQiOiBzdGFydH0pCgogICAgZGVm
IHN0YXJ0X3BpZChzZWxmKSAtPiBEaWN0OgogICAgICAgIHJldHVybiBzZWxmLl9yZXF1ZXN0KHsi
Y21kIjogInN0YXJ0X3BpZCJ9KQoKICAgIGRlZiBzdG9wX3BpZChzZWxmKSAtPiBEaWN0OgogICAg
ICAgIHJldHVybiBzZWxmLl9yZXF1ZXN0KHsiY21kIjogInN0b3BfcGlkIn0pCgogICAgZGVmIHN0
YXJ0X3JhbXAoc2VsZiwgc3RhcnQ6IGZsb2F0LCBlbmQ6IGZsb2F0LCByYXRlOiBmbG9hdCwgaG9s
ZDogZmxvYXQgPSAwLjAsIGxvb3A6IGJvb2wgPSBGYWxzZSkgLT4gRGljdDoKICAgICAgICBwYXls
b2FkID0gewogICAgICAgICAgICAiY21kIjogInN0YXJ0X3JhbXAiLAogICAgICAgICAgICAicGFy
YW1zIjogeyJzdGFydCI6IHN0YXJ0LCAiZW5kIjogZW5kLCAicmF0ZSI6IHJhdGUsICJob2xkIjog
aG9sZCwgImxvb3AiOiBsb29wfSwKICAgICAgICB9CiAgICAgICAgcmV0dXJuIHNlbGYuX3JlcXVl
c3QocGF5bG9hZCkKCiAgICBkZWYgc3RvcF9yYW1wKHNlbGYpIC0+IERpY3Q6CiAgICAgICAgcmV0
dXJuIHNlbGYuX3JlcXVlc3QoeyJjbWQiOiAic3RvcF9yYW1wIn0pCgogICAgZGVmIHNldF9wcmVz
c3VyZShzZWxmLCB2YWx1ZTogZmxvYXQsIHN0YXJ0OiBib29sID0gRmFsc2UpIC0+IERpY3Q6CiAg
ICAgICAgcGF5bG9hZCA9IHsiY21kIjogInNldF90YXJnZXQiLCAidmFsdWUiOiB2YWx1ZSwgInN0
YXJ0Ijogc3RhcnR9CiAgICAgICAgcmV0dXJuIHNlbGYuX3JlcXVlc3QocGF5bG9hZCkKCiAgICBk
ZWYgc3RhcnRfcHJlc3N1cmUoc2VsZikgLT4gRGljdDoKICAgICAgICByZXR1cm4gc2VsZi5fcmVx
dWVzdCh7ImNtZCI6ICJzdGFydF9jb250cm9sIn0pCgogICAgZGVmIHN0b3BfcHJlc3N1cmUoc2Vs
ZikgLT4gRGljdDoKICAgICAgICByZXR1cm4gc2VsZi5fcmVxdWVzdCh7ImNtZCI6ICJzdG9wX2Nv
bnRyb2wifSkKCiAgICBkZWYgc3RvcF9hbGwoc2VsZikgLT4gTm9uZToKICAgICAgICB0cnk6CiAg
ICAgICAgICAgIHNlbGYuX3JlcXVlc3QoeyJjbWQiOiAic3RvcF9hbGwifSkKICAgICAgICBleGNl
cHQgRXhjZXB0aW9uOgogICAgICAgICAgICBwYXNzCgoKY2xhc3MgU2VxdWVuY2VSdW5uZXIodGhy
ZWFkaW5nLlRocmVhZCk6CiAgICBkZWYgX19pbml0X18oCiAgICAgICAgc2VsZiwKICAgICAgICBh
cHA6ICJNdWx0aVNlcXVlbmNlQXBwIiwKICAgICAgICBwbGFuOiBEaWN0LAogICAgICAgIHRlbXBf
aGFuZGxlcjogT3B0aW9uYWxbQ2FsbGFibGVbW0RpY3Rbc3RyLCBBbnldXSwgRGljdFtzdHIsIEFu
eV1dXSA9IE5vbmUsCiAgICAgICAgcHJlc3NfaGFuZGxlcjogT3B0aW9uYWxbQ2FsbGFibGVbW0Rp
Y3Rbc3RyLCBBbnldXSwgRGljdFtzdHIsIEFueV1dXSA9IE5vbmUsCiAgICAgICAgdGVtcF9sb2Nr
OiBPcHRpb25hbFt0aHJlYWRpbmcuUkxvY2tdID0gTm9uZSwKICAgICAgICBwcmVzc19sb2NrOiBP
cHRpb25hbFt0aHJlYWRpbmcuUkxvY2tdID0gTm9uZSwKICAgICk6CiAgICAgICAgc3VwZXIoKS5f
X2luaXRfXyhkYWVtb249VHJ1ZSkKICAgICAgICBzZWxmLmFwcCA9IGFwcAogICAgICAgIHNlbGYu
cGxhbiA9IHBsYW4KICAgICAgICBzZWxmLnBpeGVsX3JlZ2lvbjogT3B0aW9uYWxbVHVwbGVbaW50
LCBpbnQsIGludCwgaW50XV0gPSBOb25lCiAgICAgICAgc2VsZi5waXhlbF9zZW5zaXRpdml0eSA9
IDUuMAogICAgICAgIHNlbGYucGl4ZWxfdGltZW91dCA9IDE4MC4wCiAgICAgICAgc2VsZi5waXhl
bF9pbnRlcnZhbCA9IDEuMAogICAgICAgIHNlbGYucGl4ZWxfYmFzZSA9IE5vbmUKICAgICAgICBz
ZWxmLnBpeGVsX3ByZXYgPSBOb25lCiAgICAgICAgc2VsZi5waXhlbF9sb2dfZW5hYmxlZCA9IEZh
bHNlCiAgICAgICAgc2VsZi5fbGFzdF9jbGlja190cyA9IDAuMAogICAgICAgIHNlbGYuc3RvcF9l
dmVudCA9IHRocmVhZGluZy5FdmVudCgpCiAgICAgICAgc2VsZi50ZW1wX2hhbmRsZXIgPSB0ZW1w
X2hhbmRsZXIKICAgICAgICBzZWxmLnByZXNzX2hhbmRsZXIgPSBwcmVzc19oYW5kbGVyCiAgICAg
ICAgc2VsZi50ZW1wX2xvY2sgPSB0ZW1wX2xvY2sKICAgICAgICBzZWxmLnByZXNzX2xvY2sgPSBw
cmVzc19sb2NrCgogICAgICAgIHBpeGVsX2NmZyA9IChzZWxmLnBsYW4uZ2V0KCJhdXRvX3Rlc3Qi
KSBvciB7fSkuZ2V0KCJwaXhlbCIpIG9yIHt9CiAgICAgICAgcmVnaW9uID0gcGl4ZWxfY2ZnLmdl
dCgicmVnaW9uIikKICAgICAgICBpZiBpc2luc3RhbmNlKHJlZ2lvbiwgKGxpc3QsIHR1cGxlKSkg
YW5kIGxlbihyZWdpb24pID09IDQ6CiAgICAgICAgICAgIHRyeToKICAgICAgICAgICAgICAgIHNl
bGYucGl4ZWxfcmVnaW9uID0gdHVwbGUoaW50KHYpIGZvciB2IGluIHJlZ2lvbikKICAgICAgICAg
ICAgZXhjZXB0IEV4Y2VwdGlvbjoKICAgICAgICAgICAgICAgIHNlbGYucGl4ZWxfcmVnaW9uID0g
Tm9uZQogICAgICAgIHRyeToKICAgICAgICAgICAgc2VsZi5waXhlbF9zZW5zaXRpdml0eSA9IGZs
b2F0KHBpeGVsX2NmZy5nZXQoInNlbnNpdGl2aXR5Iiwgc2VsZi5waXhlbF9zZW5zaXRpdml0eSkp
CiAgICAgICAgZXhjZXB0IEV4Y2VwdGlvbjoKICAgICAgICAgICAgcGFzcwogICAgICAgIHRyeToK
ICAgICAgICAgICAgc2VsZi5waXhlbF90aW1lb3V0ID0gZmxvYXQocGl4ZWxfY2ZnLmdldCgidGlt
ZW91dCIsIHNlbGYucGl4ZWxfdGltZW91dCkpCiAgICAgICAgZXhjZXB0IEV4Y2VwdGlvbjoKICAg
ICAgICAgICAgcGFzcwogICAgICAgIHRyeToKICAgICAgICAgICAgc2VsZi5waXhlbF9pbnRlcnZh
bCA9IG1heCgwLjA1LCBmbG9hdChwaXhlbF9jZmcuZ2V0KCJpbnRlcnZhbF9tcyIsIDEwMDApKSAv
IDEwMDAuMCkKICAgICAgICBleGNlcHQgRXhjZXB0aW9uOgogICAgICAgICAgICBwYXNzCiAgICAg
ICAgc2VsZi5waXhlbF9sb2dfZW5hYmxlZCA9IGJvb2wocGl4ZWxfY2ZnLmdldCgibG9nX2VuYWJs
ZWQiLCBGYWxzZSkpCgogICAgZGVmIHN0b3Aoc2VsZikgLT4gTm9uZToKICAgICAgICBzZWxmLnN0
b3BfZXZlbnQuc2V0KCkKCiAgICBkZWYgbG9nKHNlbGYsIG1lc3NhZ2U6IHN0cikgLT4gTm9uZToK
ICAgICAgICBzZWxmLmFwcC5sb2cobWVzc2FnZSkKCiAgICBAc3RhdGljbWV0aG9kCiAgICBkZWYg
X3NhZmVfZmxvYXQodmFsdWUpIC0+IE9wdGlvbmFsW2Zsb2F0XToKICAgICAgICB0cnk6CiAgICAg
ICAgICAgIGlmIHZhbHVlIGlzIE5vbmU6CiAgICAgICAgICAgICAgICByZXR1cm4gTm9uZQogICAg
ICAgICAgICBmID0gZmxvYXQodmFsdWUpCiAgICAgICAgICAgIGlmIGYgIT0gZjoKICAgICAgICAg
ICAgICAgIHJldHVybiBOb25lCiAgICAgICAgICAgIHJldHVybiBmCiAgICAgICAgZXhjZXB0IEV4
Y2VwdGlvbjoKICAgICAgICAgICAgcmV0dXJuIE5vbmUKCiAgICBkZWYgd2FpdF90ZW1wZXJhdHVy
ZSgKICAgICAgICBzZWxmLAogICAgICAgIGNsaWVudDogQ29udHJvbGxlckNsaWVudCwKICAgICAg
ICBtYWVfdGhyOiBmbG9hdCwKICAgICAgICBob2xkX3M6IGZsb2F0LAogICAgICAgICosCiAgICAg
ICAgdGltZW91dDogT3B0aW9uYWxbZmxvYXRdLAogICAgICAgIGNvbmZpcm1fbmVlZDogaW50LAog
ICAgICAgIGNvbnRleHQ6IHN0ciwKICAgICkgLT4gVHVwbGVbT3B0aW9uYWxbRGljdF0sIGJvb2xd
OgogICAgICAgIHN0YXJ0X3RpbWUgPSB0aW1lLnRpbWUoKQogICAgICAgIHN0YWJsZV9zaW5jZSA9
IE5vbmUKICAgICAgICBjb25maXJtX2NvdW50ID0gMAogICAgICAgIG5vdGlmaWVkX3N0YXJ0ID0g
RmFsc2UKICAgICAgICB3aGlsZSBub3Qgc2VsZi5zdG9wX2V2ZW50LmlzX3NldCgpOgogICAgICAg
ICAgICB0cnk6CiAgICAgICAgICAgICAgICByZXNwID0gY2xpZW50LnN0YXR1cygpCiAgICAgICAg
ICAgIGV4Y2VwdCBFeGNlcHRpb24gYXMgZXhjOgogICAgICAgICAgICAgICAgc2VsZi5sb2coZiJ7
Y29udGV4dH3nirbmgIHor7vlj5blpLHotKU6IHtleGN9IikKICAgICAgICAgICAgICAgIHRpbWUu
c2xlZXAoMS4wKQogICAgICAgICAgICAgICAgY29udGludWUKICAgICAgICAgICAgc3RhdHVzID0g
cmVzcC5nZXQoInN0YXR1cyIsIHt9KQogICAgICAgICAgICB0ZW1wZXJhdHVyZSA9IHNlbGYuX3Nh
ZmVfZmxvYXQoc3RhdHVzLmdldCgidGVtcGVyYXR1cmUiKSkKICAgICAgICAgICAgdGFyZ2V0ID0g
c2VsZi5fc2FmZV9mbG9hdChzdGF0dXMuZ2V0KCJ0YXJnZXQiKSkKICAgICAgICAgICAgbWFlID0g
c2VsZi5fc2FmZV9mbG9hdChzdGF0dXMuZ2V0KCJtYWUiKSkKICAgICAgICAgICAgZXJyb3IgPSBz
ZWxmLl9zYWZlX2Zsb2F0KHN0YXR1cy5nZXQoImVycm9yIikpCiAgICAgICAgICAgIHN0YWJsZV9m
bGFnID0gYm9vbChzdGF0dXMuZ2V0KCJzdGFibGUiKSkKICAgICAgICAgICAgaWYgbm90IHN0YWJs
ZV9mbGFnOgogICAgICAgICAgICAgICAgaWYgbWFlIGlzIG5vdCBOb25lOgogICAgICAgICAgICAg
ICAgICAgIHN0YWJsZV9mbGFnID0gbWFlIDw9IG1hZV90aHIKICAgICAgICAgICAgICAgIGVsaWYg
ZXJyb3IgaXMgbm90IE5vbmU6CiAgICAgICAgICAgICAgICAgICAgc3RhYmxlX2ZsYWcgPSBhYnMo
ZXJyb3IpIDw9IG1hZV90aHIKICAgICAgICAgICAgaWYgc3RhYmxlX2ZsYWc6CiAgICAgICAgICAg
ICAgICBpZiBub3Qgbm90aWZpZWRfc3RhcnQ6CiAgICAgICAgICAgICAgICAgICAgc2VsZi5sb2co
ZiJ7Y29udGV4dH3ov5vlhaXnqLPlrprojIPlm7TvvIzlvIDlp4vorqHml7YiKQogICAgICAgICAg
ICAgICAgICAgIG5vdGlmaWVkX3N0YXJ0ID0gVHJ1ZQogICAgICAgICAgICAgICAgaWYgc3RhYmxl
X3NpbmNlIGlzIE5vbmU6CiAgICAgICAgICAgICAgICAgICAgc3RhYmxlX3NpbmNlID0gdGltZS50
aW1lKCkKICAgICAgICAgICAgICAgICAgICBjb25maXJtX2NvdW50ID0gMAogICAgICAgICAgICAg
ICAgZWxpZiB0aW1lLnRpbWUoKSAtIHN0YWJsZV9zaW5jZSA+PSBob2xkX3M6CiAgICAgICAgICAg
ICAgICAgICAgY29uZmlybV9jb3VudCArPSAxCiAgICAgICAgICAgICAgICAgICAgaWYgY29uZmly
bV9jb3VudCA+PSBtYXgoMSwgY29uZmlybV9uZWVkKToKICAgICAgICAgICAgICAgICAgICAgICAg
Y3VycmVudF9pbmZvID0gW10KICAgICAgICAgICAgICAgICAgICAgICAgaWYgdGVtcGVyYXR1cmUg
aXMgbm90IE5vbmU6CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50X2luZm8uYXBw
ZW5kKGYi5b2T5YmNIHt0ZW1wZXJhdHVyZTouM2Z9wrBDIikKICAgICAgICAgICAgICAgICAgICAg
ICAgaWYgdGFyZ2V0IGlzIG5vdCBOb25lOgogICAgICAgICAgICAgICAgICAgICAgICAgICAgY3Vy
cmVudF9pbmZvLmFwcGVuZChmIuebruaghyB7dGFyZ2V0Oi4zZn3CsEMiKQogICAgICAgICAgICAg
ICAgICAgICAgICBpZiBjdXJyZW50X2luZm86CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBz
ZWxmLmxvZyhmIntjb250ZXh0feWIpOeos+WujOaIkO+8iCIgKyAiLCAiLmpvaW4oY3VycmVudF9p
bmZvKSArICIpIikKICAgICAgICAgICAgICAgICAgICAgICAgZWxzZToKICAgICAgICAgICAgICAg
ICAgICAgICAgICAgIHNlbGYubG9nKGYie2NvbnRleHR95Yik56iz5a6M5oiQIikKICAgICAgICAg
ICAgICAgICAgICAgICAgcmV0dXJuIHN0YXR1cywgRmFsc2UKICAgICAgICAgICAgZWxzZToKICAg
ICAgICAgICAgICAgIGlmIHN0YWJsZV9zaW5jZSBpcyBub3QgTm9uZToKICAgICAgICAgICAgICAg
ICAgICBzZWxmLmxvZyhmIntjb250ZXh0feWBj+emu+mYiOWAvO+8jOmHjeaWsOiuoeaXtiIpCiAg
ICAgICAgICAgICAgICBzdGFibGVfc2luY2UgPSBOb25lCiAgICAgICAgICAgICAgICBjb25maXJt
X2NvdW50ID0gMAogICAgICAgICAgICAgICAgbm90aWZpZWRfc3RhcnQgPSBGYWxzZQogICAgICAg
ICAgICBpZiB0aW1lb3V0IGlzIG5vdCBOb25lIGFuZCB0aW1lLnRpbWUoKSAtIHN0YXJ0X3RpbWUg
Pj0gdGltZW91dDoKICAgICAgICAgICAgICAgIHNlbGYubG9nKGYie2NvbnRleHR95Yik56iz6LaF
5pe2IikKICAgICAgICAgICAgICAgIHJldHVybiBOb25lLCBUcnVlCiAgICAgICAgICAgIHRpbWUu
c2xlZXAoMS4wKQogICAgICAgIHJldHVybiBOb25lLCBGYWxzZQoKICAgIGRlZiB3YWl0X3ByZXNz
dXJlKAogICAgICAgIHNlbGYsCiAgICAgICAgY2xpZW50OiBDb250cm9sbGVyQ2xpZW50LAogICAg
ICAgIG1hZV90aHI6IGZsb2F0LAogICAgICAgIGhvbGRfczogZmxvYXQsCiAgICAgICAgKiwKICAg
ICAgICB0aW1lb3V0OiBPcHRpb25hbFtmbG9hdF0sCiAgICAgICAgY29uZmlybV9uZWVkOiBpbnQs
CiAgICAgICAgY29udGV4dDogc3RyLAogICAgKSAtPiBUdXBsZVtPcHRpb25hbFtEaWN0XSwgYm9v
bF06CiAgICAgICAgc3RhcnRfdGltZSA9IHRpbWUudGltZSgpCiAgICAgICAgc3RhYmxlX3NpbmNl
ID0gTm9uZQogICAgICAgIGNvbmZpcm1fY291bnQgPSAwCiAgICAgICAgbm90aWZpZWRfc3RhcnQg
PSBGYWxzZQogICAgICAgIHdoaWxlIG5vdCBzZWxmLnN0b3BfZXZlbnQuaXNfc2V0KCk6CiAgICAg
ICAgICAgIHRyeToKICAgICAgICAgICAgICAgIHJlc3AgPSBjbGllbnQuc3RhdHVzKCkKICAgICAg
ICAgICAgZXhjZXB0IEV4Y2VwdGlvbiBhcyBleGM6CiAgICAgICAgICAgICAgICBzZWxmLmxvZyhm
Intjb250ZXh0feeKtuaAgeivu+WPluWksei0pToge2V4Y30iKQogICAgICAgICAgICAgICAgdGlt
ZS5zbGVlcCgxLjApCiAgICAgICAgICAgICAgICBjb250aW51ZQogICAgICAgICAgICBzdGF0dXMg
PSByZXNwLmdldCgic3RhdHVzIiwge30pCiAgICAgICAgICAgIG1hZSA9IHNlbGYuX3NhZmVfZmxv
YXQoc3RhdHVzLmdldCgibWFlIikpCiAgICAgICAgICAgIGxhc3QgPSBzdGF0dXMuZ2V0KCJsYXN0
Iiwge30pIGlmIGlzaW5zdGFuY2Uoc3RhdHVzLmdldCgibGFzdCIpLCBkaWN0KSBlbHNlIHt9CiAg
ICAgICAgICAgIGVycm9yID0gc2VsZi5fc2FmZV9mbG9hdChsYXN0LmdldCgiZXJyb3IiKSkKICAg
ICAgICAgICAgc3RhYmxlX2ZsYWcgPSBib29sKHN0YXR1cy5nZXQoInN0YWJsZSIpKQogICAgICAg
ICAgICBpZiBub3Qgc3RhYmxlX2ZsYWc6CiAgICAgICAgICAgICAgICBpZiBtYWUgaXMgbm90IE5v
bmU6CiAgICAgICAgICAgICAgICAgICAgc3RhYmxlX2ZsYWcgPSBtYWUgPD0gbWFlX3RocgogICAg
ICAgICAgICAgICAgZWxpZiBlcnJvciBpcyBub3QgTm9uZToKICAgICAgICAgICAgICAgICAgICBz
dGFibGVfZmxhZyA9IGFicyhlcnJvcikgPD0gbWFlX3RocgogICAgICAgICAgICBpZiBzdGFibGVf
ZmxhZzoKICAgICAgICAgICAgICAgIGlmIG5vdCBub3RpZmllZF9zdGFydDoKICAgICAgICAgICAg
ICAgICAgICBzZWxmLmxvZyhmIntjb250ZXh0fei/m+WFpeeos+WumuiMg+WbtO+8jOW8gOWni+iu
oeaXtiIpCiAgICAgICAgICAgICAgICAgICAgbm90aWZpZWRfc3RhcnQgPSBUcnVlCiAgICAgICAg
ICAgICAgICBpZiBzdGFibGVfc2luY2UgaXMgTm9uZToKICAgICAgICAgICAgICAgICAgICBzdGFi
bGVfc2luY2UgPSB0aW1lLnRpbWUoKQogICAgICAgICAgICAgICAgICAgIGNvbmZpcm1fY291bnQg
PSAwCiAgICAgICAgICAgICAgICBlbGlmIHRpbWUudGltZSgpIC0gc3RhYmxlX3NpbmNlID49IGhv
bGRfczoKICAgICAgICAgICAgICAgICAgICBjb25maXJtX2NvdW50ICs9IDEKICAgICAgICAgICAg
ICAgICAgICBpZiBjb25maXJtX2NvdW50ID49IG1heCgxLCBjb25maXJtX25lZWQpOgogICAgICAg
ICAgICAgICAgICAgICAgICBzZWxmLmxvZyhmIntjb250ZXh0feWIpOeos+WujOaIkCIpCiAgICAg
ICAgICAgICAgICAgICAgICAgIHJldHVybiBzdGF0dXMsIEZhbHNlCiAgICAgICAgICAgIGVsc2U6
CiAgICAgICAgICAgICAgICBpZiBzdGFibGVfc2luY2UgaXMgbm90IE5vbmU6CiAgICAgICAgICAg
ICAgICAgICAgc2VsZi5sb2coZiJ7Y29udGV4dH3lgY/nprvpmIjlgLzvvIzph43mlrDorqHml7Yi
KQogICAgICAgICAgICAgICAgc3RhYmxlX3NpbmNlID0gTm9uZQogICAgICAgICAgICAgICAgY29u
ZmlybV9jb3VudCA9IDAKICAgICAgICAgICAgICAgIG5vdGlmaWVkX3N0YXJ0ID0gRmFsc2UKICAg
ICAgICAgICAgaWYgdGltZW91dCBpcyBub3QgTm9uZSBhbmQgdGltZS50aW1lKCkgLSBzdGFydF90
aW1lID49IHRpbWVvdXQ6CiAgICAgICAgICAgICAgICBzZWxmLmxvZyhmIntjb250ZXh0feWIpOeo
s+i2heaXtiIpCiAgICAgICAgICAgICAgICByZXR1cm4gTm9uZSwgVHJ1ZQogICAgICAgICAgICB0
aW1lLnNsZWVwKDEuMCkKICAgICAgICByZXR1cm4gTm9uZSwgRmFsc2UKCiAgICBkZWYgZW5zdXJl
X3RlbXBlcmF0dXJlX3J1bm5pbmcoc2VsZiwgY2xpZW50OiBDb250cm9sbGVyQ2xpZW50LCB0YXJn
ZXQ6IGZsb2F0KSAtPiBib29sOgogICAgICAgIHRyeToKICAgICAgICAgICAgcmVzcCA9IGNsaWVu
dC5zZXRfdGVtcGVyYXR1cmUodGFyZ2V0LCBzdGFydD1UcnVlKQogICAgICAgIGV4Y2VwdCBFeGNl
cHRpb24gYXMgZXhjOgogICAgICAgICAgICBzZWxmLmxvZyhmIua4qeaOp+ebruagh+iuvue9ruWk
sei0pToge2V4Y30iKQogICAgICAgICAgICByZXR1cm4gRmFsc2UKICAgICAgICBpZiBub3QgcmVz
cC5nZXQoInJlc3VsdCIsIFRydWUpOgogICAgICAgICAgICBzZWxmLmxvZygi5rip5o6n5ouS57ud
5pu05paw55uu5qCH5rip5bqmIikKICAgICAgICAgICAgcmV0dXJuIEZhbHNlCiAgICAgICAgdHJ5
OgogICAgICAgICAgICByZXNwID0gY2xpZW50LnN0YXJ0X3BpZCgpCiAgICAgICAgZXhjZXB0IEV4
Y2VwdGlvbiBhcyBleGM6CiAgICAgICAgICAgIHNlbGYubG9nKGYi5rip5o6nIFBJRCDlkK/liqjl
pLHotKU6IHtleGN9IikKICAgICAgICAgICAgcmV0dXJuIEZhbHNlCiAgICAgICAgaWYgbm90IHJl
c3AuZ2V0KCJyZXN1bHQiLCBUcnVlKToKICAgICAgICAgICAgc2VsZi5sb2coIua4qeaOpyBQSUQg
5pyq6IO95ZCv5YqoIikKICAgICAgICAgICAgcmV0dXJuIEZhbHNlCiAgICAgICAgcmV0dXJuIFRy
dWUKCiAgICBkZWYgZW5zdXJlX3ByZXNzdXJlX3J1bm5pbmcoc2VsZiwgY2xpZW50OiBDb250cm9s
bGVyQ2xpZW50LCB0YXJnZXQ6IGZsb2F0KSAtPiBib29sOgogICAgICAgIHRyeToKICAgICAgICAg
ICAgcmVzcCA9IGNsaWVudC5zZXRfcHJlc3N1cmUodGFyZ2V0LCBzdGFydD1UcnVlKQogICAgICAg
IGV4Y2VwdCBFeGNlcHRpb24gYXMgZXhjOgogICAgICAgICAgICBzZWxmLmxvZyhmIuWOi+WKm+eb
ruagh+iuvue9ruWksei0pToge2V4Y30iKQogICAgICAgICAgICByZXR1cm4gRmFsc2UKICAgICAg
ICBpZiBub3QgcmVzcC5nZXQoInJlc3VsdCIsIFRydWUpOgogICAgICAgICAgICBzZWxmLmxvZygi
5Y6L5Yqb5o6n5Yi25ouS57ud5pu05paw55uu5qCHIikKICAgICAgICAgICAgcmV0dXJuIEZhbHNl
CiAgICAgICAgdHJ5OgogICAgICAgICAgICByZXNwID0gY2xpZW50LnN0YXJ0X3ByZXNzdXJlKCkK
ICAgICAgICBleGNlcHQgRXhjZXB0aW9uIGFzIGV4YzoKICAgICAgICAgICAgc2VsZi5sb2coZiLl
jovlipvmjqfliLblkK/liqjlpLHotKU6IHtleGN9IikKICAgICAgICAgICAgcmV0dXJuIEZhbHNl
CiAgICAgICAgaWYgbm90IHJlc3AuZ2V0KCJyZXN1bHQiLCBUcnVlKToKICAgICAgICAgICAgc2Vs
Zi5sb2coIuWOi+WKm+aOp+WItuacquiDveWQr+WKqCIpCiAgICAgICAgICAgIHJldHVybiBGYWxz
ZQogICAgICAgIHJldHVybiBUcnVlCgogICAgZGVmIHdhaXRfcHJlc3N1cmVfc3RhYmxlX2FmdGVy
X3RlbXAoCiAgICAgICAgc2VsZiwKICAgICAgICBjbGllbnQ6IENvbnRyb2xsZXJDbGllbnQsCiAg
ICAgICAgd2luZG93X3M6IGZsb2F0LAogICAgICAgIGZsdWN0X3RocmVzaG9sZDogZmxvYXQsCiAg
ICAgICAgKiwKICAgICAgICB0aW1lb3V0OiBPcHRpb25hbFtmbG9hdF0sCiAgICApIC0+IFR1cGxl
W09wdGlvbmFsW0RpY3RdLCBib29sXToKICAgICAgICBzdGFydF90aW1lID0gdGltZS50aW1lKCkK
ICAgICAgICB3aW5kb3dfcyA9IG1heCgxLjAsIGZsb2F0KHdpbmRvd19zKSkKICAgICAgICBmbHVj
dF90aHJlc2hvbGQgPSBtYXgoMC4wLCBmbG9hdChmbHVjdF90aHJlc2hvbGQpKQogICAgICAgIHNh
bXBsZXM6IERlcXVlW1R1cGxlW2Zsb2F0LCBmbG9hdF1dID0gZGVxdWUoKQogICAgICAgIGxhc3Rf
cmVwb3J0ID0gc3RhcnRfdGltZQogICAgICAgIHNlbGYubG9nKAogICAgICAgICAgICBmIua4qeW6
puWIh+aNouWQju+8jOebkea1i+WOi+WKm+WcqCB7d2luZG93X3M6LjFmfXMg5YaF5rOi5Yqo5LiN
6LaF6L+HIHtmbHVjdF90aHJlc2hvbGQ6LjNmfSDku6XlvIDlp4vmtYvor5UiCiAgICAgICAgKQog
ICAgICAgIHdoaWxlIG5vdCBzZWxmLnN0b3BfZXZlbnQuaXNfc2V0KCk6CiAgICAgICAgICAgIHRy
eToKICAgICAgICAgICAgICAgIHJlc3AgPSBjbGllbnQuc3RhdHVzKCkKICAgICAgICAgICAgZXhj
ZXB0IEV4Y2VwdGlvbiBhcyBleGM6CiAgICAgICAgICAgICAgICBzZWxmLmxvZyhmIua4qeW6puWI
h+aNouWQjuWOi+WKm+ebkea1i+Wksei0pToge2V4Y30iKQogICAgICAgICAgICAgICAgdGltZS5z
bGVlcCgxLjApCiAgICAgICAgICAgICAgICBjb250aW51ZQogICAgICAgICAgICBzdGF0dXMgPSBy
ZXNwLmdldCgic3RhdHVzIiwge30pCiAgICAgICAgICAgIHByZXNzdXJlX3ZhbCA9IHNlbGYuX3Nh
ZmVfZmxvYXQoc2VsZi5hcHAuX2V4dHJhY3RfcHJlc3N1cmVfdmFsdWUoc3RhdHVzKSkKICAgICAg
ICAgICAgbm93ID0gdGltZS50aW1lKCkKICAgICAgICAgICAgaWYgcHJlc3N1cmVfdmFsIGlzIG5v
dCBOb25lOgogICAgICAgICAgICAgICAgc2FtcGxlcy5hcHBlbmQoKG5vdywgcHJlc3N1cmVfdmFs
KSkKICAgICAgICAgICAgICAgIGN1dG9mZiA9IG5vdyAtIHdpbmRvd19zCiAgICAgICAgICAgICAg
ICB3aGlsZSBzYW1wbGVzIGFuZCBzYW1wbGVzWzBdWzBdIDwgY3V0b2ZmOgogICAgICAgICAgICAg
ICAgICAgIHNhbXBsZXMucG9wbGVmdCgpCiAgICAgICAgICAgICAgICBpZiBzYW1wbGVzIGFuZCBz
YW1wbGVzWy0xXVswXSAtIHNhbXBsZXNbMF1bMF0gPj0gd2luZG93X3MgKiAwLjk1OgogICAgICAg
ICAgICAgICAgICAgIHZhbHVlcyA9IFt2YWwgZm9yIF8sIHZhbCBpbiBzYW1wbGVzXQogICAgICAg
ICAgICAgICAgICAgIGZsdWN0ID0gbWF4KHZhbHVlcykgLSBtaW4odmFsdWVzKQogICAgICAgICAg
ICAgICAgICAgIGlmIGZsdWN0IDw9IGZsdWN0X3RocmVzaG9sZDoKICAgICAgICAgICAgICAgICAg
ICAgICAgc2VsZi5sb2coCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmIuWOi+WKm+azouWK
qCB7Zmx1Y3Q6LjNmfSDmu6HotrPpmIjlgLzvvIzlvIDlp4vlvZPliY3muKnluqbnmoTljovlipvl
iJfooagiCiAgICAgICAgICAgICAgICAgICAgICAgICkKICAgICAgICAgICAgICAgICAgICAgICAg
cmV0dXJuIHN0YXR1cywgRmFsc2UKICAgICAgICAgICAgICAgICAgICBpZiBub3cgLSBsYXN0X3Jl
cG9ydCA+PSA1LjA6CiAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYubG9nKAogICAgICAgICAg
ICAgICAgICAgICAgICAgICAgZiLlvZPliY3ljovlipvms6Lliqgge2ZsdWN0Oi4zZn0g6LaF6L+H
6ZiI5YC8IHtmbHVjdF90aHJlc2hvbGQ6LjNmfe+8jOe7p+e7reetieW+hSIKICAgICAgICAgICAg
ICAgICAgICAgICAgKQogICAgICAgICAgICAgICAgICAgICAgICBsYXN0X3JlcG9ydCA9IG5vdwog
ICAgICAgICAgICBpZiB0aW1lb3V0IGlzIG5vdCBOb25lIGFuZCBub3cgLSBzdGFydF90aW1lID49
IHRpbWVvdXQ6CiAgICAgICAgICAgICAgICBzZWxmLmxvZygi5rip5bqm5YiH5o2i5ZCO55qE5Y6L
5Yqb5Yik56iz6LaF5pe2IikKICAgICAgICAgICAgICAgIHJldHVybiBOb25lLCBUcnVlCiAgICAg
ICAgICAgIHRpbWUuc2xlZXAoMS4wKQogICAgICAgIHJldHVybiBOb25lLCBGYWxzZQoKICAgIGRl
ZiBfcmVjb3JkX3Jlc3VsdCgKICAgICAgICBzZWxmLAogICAgICAgIHJvdzogaW50LAogICAgICAg
IGNvbDogaW50LAogICAgICAgIHRlbXBlcmF0dXJlOiBmbG9hdCwKICAgICAgICBjdXJyZW50OiBm
bG9hdCwKICAgICAgICB0ZW1wX3N0YXR1czogRGljdCwKICAgICAgICBwcmVzc3VyZV9zdGF0dXM6
IERpY3QsCiAgICApIC0+IE5vbmU6CiAgICAgICAgcmVzdWx0ID0gewogICAgICAgICAgICAidGlt
ZXN0YW1wIjogdGltZS50aW1lKCksCiAgICAgICAgICAgICJyb3ciOiByb3csCiAgICAgICAgICAg
ICJjb2wiOiBjb2wsCiAgICAgICAgICAgICJ0ZW1wZXJhdHVyZSI6IHRlbXBlcmF0dXJlLAogICAg
ICAgICAgICAiY3VycmVudCI6IGN1cnJlbnQsCiAgICAgICAgICAgICJwcmVzc3VyZSI6IGN1cnJl
bnQsICAjIOaMieWOn+Wni+Wtl+auteS/neeVmQogICAgICAgICAgICAidGVtcF9zdGF0dXMiOiB0
ZW1wX3N0YXR1cywKICAgICAgICAgICAgInByZXNzdXJlX3N0YXR1cyI6IHByZXNzdXJlX3N0YXR1
cywKICAgICAgICAgICAgInN0YXR1cyI6ICJjb21wbGV0ZWQiLAogICAgICAgIH0KICAgICAgICBz
ZWxmLmFwcC5hZGRfcmVzdWx0KHJlc3VsdCkKICAgICAgICBzZWxmLmFwcC5hcHBlbmRfY3N2X3Jl
Y29yZChyZXN1bHQpCgogICAgZGVmIF9jYXB0dXJlX3BpeGVsX2Jhc2VsaW5lKHNlbGYpIC0+IGJv
b2w6CiAgICAgICAgaWYgcHlhdXRvZ3VpIGlzIE5vbmUgb3Igbm90IHNlbGYucGl4ZWxfcmVnaW9u
OgogICAgICAgICAgICByZXR1cm4gRmFsc2UKICAgICAgICB0cnk6CiAgICAgICAgICAgIHNuYXAg
PSBweWF1dG9ndWkuc2NyZWVuc2hvdChyZWdpb249c2VsZi5waXhlbF9yZWdpb24pCiAgICAgICAg
ICAgIGlmIHNuYXAubW9kZSAhPSAiUkdCIjoKICAgICAgICAgICAgICAgIHNuYXAgPSBzbmFwLmNv
bnZlcnQoIlJHQiIpCiAgICAgICAgICAgIHNlbGYucGl4ZWxfYmFzZSA9IHNuYXAKICAgICAgICAg
ICAgc2VsZi5waXhlbF9wcmV2ID0gTm9uZQogICAgICAgICAgICByZXR1cm4gVHJ1ZQogICAgICAg
IGV4Y2VwdCBFeGNlcHRpb24gYXMgZXhjOgogICAgICAgICAgICBzZWxmLmxvZyhmIuWfuue6v+aI
quWxj+Wksei0pe+8mntleGN9IikKICAgICAgICAgICAgcmV0dXJuIEZhbHNlCgogICAgZGVmIF9j
aGVja19waXhlbF9jaGFuZ2Uoc2VsZikgLT4gVHVwbGVbYm9vbCwgc3RyXToKICAgICAgICBpZiBu
b3Qgc2VsZi5waXhlbF9yZWdpb246CiAgICAgICAgICAgIHJldHVybiBGYWxzZSwgIuacquiuvue9
ruajgOa1i+WMuuWfnyIKICAgICAgICBpZiBweWF1dG9ndWkgaXMgTm9uZToKICAgICAgICAgICAg
cmV0dXJuIEZhbHNlLCAi5pyq5a6J6KOFIHB5YXV0b2d1ae+8jOaXoOazleaIquWxjyIKICAgICAg
ICBpZiBzZWxmLnBpeGVsX2Jhc2UgaXMgTm9uZToKICAgICAgICAgICAgaWYgbm90IHNlbGYuX2Nh
cHR1cmVfcGl4ZWxfYmFzZWxpbmUoKToKICAgICAgICAgICAgICAgIHJldHVybiBGYWxzZSwgIuWw
muacquaIquWPluWfuue6v+aIquWbvu+8jOaXoOazleajgOa1iyIKICAgICAgICB0cnk6CiAgICAg
ICAgICAgIGN1cnIgPSBweWF1dG9ndWkuc2NyZWVuc2hvdChyZWdpb249c2VsZi5waXhlbF9yZWdp
b24pCiAgICAgICAgICAgIGlmIGN1cnIubW9kZSAhPSAiUkdCIjoKICAgICAgICAgICAgICAgIGN1
cnIgPSBjdXJyLmNvbnZlcnQoIlJHQiIpCiAgICAgICAgICAgIGJhc2UgPSBzZWxmLnBpeGVsX3By
ZXYgb3Igc2VsZi5waXhlbF9iYXNlCiAgICAgICAgICAgIGlmIGJhc2UgaXMgTm9uZToKICAgICAg
ICAgICAgICAgIGJhc2UgPSBjdXJyCiAgICAgICAgICAgIGRpZmYgPSBJbWFnZUNob3BzLmRpZmZl
cmVuY2UoYmFzZSwgY3VycikKICAgICAgICAgICAgc2VsZi5waXhlbF9wcmV2ID0gY3VycgogICAg
ICAgICAgICBkaWZmX2RhdGEgPSBkaWZmLmdldGRhdGEoKQogICAgICAgICAgICBkaWZmX3BpeGVs
cyA9IHN1bSgxIGZvciBweCBpbiBkaWZmX2RhdGEgaWYgcHggIT0gKDAsIDAsIDApKQogICAgICAg
ICAgICB0b3RhbCA9IGN1cnIud2lkdGggKiBjdXJyLmhlaWdodAogICAgICAgICAgICBwY3QgPSBk
aWZmX3BpeGVscyAvIHRvdGFsICogMTAwIGlmIHRvdGFsIGVsc2UgMAogICAgICAgICAgICBpZiBw
Y3QgPj0gc2VsZi5waXhlbF9zZW5zaXRpdml0eToKICAgICAgICAgICAgICAgIHJldHVybiBUcnVl
LCBmIuajgOa1i+WIsOWDj+e0oOWPmOWMljoge3BjdDouMmZ9JSIKICAgICAgICAgICAgcmV0dXJu
IEZhbHNlLCBmIuaXoOaYvuiRl+WPmOWMljoge3BjdDouMmZ9JSIKICAgICAgICBleGNlcHQgRXhj
ZXB0aW9uIGFzIGV4YzoKICAgICAgICAgICAgcmV0dXJuIEZhbHNlLCBmIuajgOa1i+Wksei0pe+8
mntleGN9IgoKICAgIGRlZiBfd2FpdF9mb3JfcGl4ZWxfY2hhbmdlKHNlbGYpIC0+IFR1cGxlW2Jv
b2wsIHN0cl06CiAgICAgICAgaWYgbm90IHNlbGYucGl4ZWxfcmVnaW9uOgogICAgICAgICAgICBy
ZXR1cm4gRmFsc2UsICLmnKrorr7nva7mo4DmtYvljLrln58iCiAgICAgICAgaWYgbm90IHNlbGYu
X2NhcHR1cmVfcGl4ZWxfYmFzZWxpbmUoKToKICAgICAgICAgICAgcmV0dXJuIEZhbHNlLCAi5peg
5rOV5oiq5Y+W5Z+657q/77yM6Lez6L+H5YOP57Sg5qOA5rWLIgogICAgICAgIGVuZF90aW1lID0g
dGltZS50aW1lKCkgKyBtYXgoMC4wLCBzZWxmLnBpeGVsX3RpbWVvdXQpCiAgICAgICAgd2hpbGUg
bm90IHNlbGYuc3RvcF9ldmVudC5pc19zZXQoKSBhbmQgdGltZS50aW1lKCkgPD0gZW5kX3RpbWU6
CiAgICAgICAgICAgIGNoYW5nZWQsIG1zZyA9IHNlbGYuX2NoZWNrX3BpeGVsX2NoYW5nZSgpCiAg
ICAgICAgICAgIGlmIHNlbGYucGl4ZWxfbG9nX2VuYWJsZWQ6CiAgICAgICAgICAgICAgICBzZWxm
LmxvZyhtc2cpCiAgICAgICAgICAgIGlmIGNoYW5nZWQ6CiAgICAgICAgICAgICAgICBzZWxmLmFw
cC5hZnRlcigwLCBsYW1iZGE6IHNlbGYuYXBwLnNldF9pbmRpY2F0b3JfY29sb3IoImdyZWVuIikp
CiAgICAgICAgICAgICAgICByZXR1cm4gVHJ1ZSwgbXNnCiAgICAgICAgICAgIHNlbGYuc3RvcF9l
dmVudC53YWl0KHNlbGYucGl4ZWxfaW50ZXJ2YWwpCiAgICAgICAgcmV0dXJuIEZhbHNlLCAi5YOP
57Sg5qOA5rWL6LaF5pe2IgoKICAgIGRlZiBfbWF5YmVfc2ltX2NsaWNrKHNlbGYpIC0+IE5vbmU6
CiAgICAgICAgYXV0b19jZmcgPSBzZWxmLnBsYW4uZ2V0KCJhdXRvX3Rlc3QiKSBvciB7fQogICAg
ICAgIGNmZyA9IGF1dG9fY2ZnLmdldCgic2ltX2NsaWNrIikgb3Ige30KICAgICAgICBwaXhlbF9j
ZmcgPSBhdXRvX2NmZy5nZXQoInBpeGVsIikgb3Ige30KICAgICAgICBpZiBub3QgaXNpbnN0YW5j
ZShjZmcsIGRpY3QpIG9yIG5vdCBjZmcuZ2V0KCJlbmFibGVkIik6CiAgICAgICAgICAgIHJldHVy
bgogICAgICAgIHBvaW50ID0gY2ZnLmdldCgicG9pbnQiKQogICAgICAgIGlmIG5vdCBwb2ludCBv
ciBsZW4ocG9pbnQpICE9IDI6CiAgICAgICAgICAgIHNlbGYubG9nKCLmqKHmi5/ngrnlh7vngrnm
nKrorr7nva7vvIzot7Pov4fngrnlh7siKQogICAgICAgICAgICByZXR1cm4KICAgICAgICB0cnk6
CiAgICAgICAgICAgIHJlcGVhdCA9IG1heCgxLCBpbnQoY2ZnLmdldCgicmVwZWF0IiwgMSkpKQog
ICAgICAgIGV4Y2VwdCBFeGNlcHRpb246CiAgICAgICAgICAgIHJlcGVhdCA9IDEKICAgICAgICB0
cnk6CiAgICAgICAgICAgIGRlbGF5X21zID0gbWF4KDAsIGludChjZmcuZ2V0KCJkZWxheV9tcyIs
IDApKSkKICAgICAgICBleGNlcHQgRXhjZXB0aW9uOgogICAgICAgICAgICBkZWxheV9tcyA9IDAK
ICAgICAgICB0cnk6CiAgICAgICAgICAgIGNvb2xkb3duX21zID0gbWF4KDAsIGludChjZmcuZ2V0
KCJjb29sZG93bl9tcyIsIDApKSkKICAgICAgICBleGNlcHQgRXhjZXB0aW9uOgogICAgICAgICAg
ICBjb29sZG93bl9tcyA9IDAKICAgICAgICBub3cgPSB0aW1lLnRpbWUoKQogICAgICAgIGlmIGNv
b2xkb3duX21zIGFuZCBub3cgLSBzZWxmLl9sYXN0X2NsaWNrX3RzIDwgY29vbGRvd25fbXMgLyAx
MDAwLjA6CiAgICAgICAgICAgIHNlbGYubG9nKCLmqKHmi5/ngrnlh7vlhrfljbTkuK3vvIzot7Po
v4fmnKzova7op6blj5EiKQogICAgICAgICAgICByZXR1cm4KICAgICAgICBmb3IgaWR4IGluIHJh
bmdlKHJlcGVhdCk6CiAgICAgICAgICAgIHBlcmZvcm1fY2xpY2tfYXN5bmMoaW50KHBvaW50WzBd
KSwgaW50KHBvaW50WzFdKSwgZGVsYXlfbXM9ZGVsYXlfbXMsIHJlcG9ydGVyPXNlbGYubG9nKQog
ICAgICAgICAgICBpZiBjb29sZG93bl9tcyBhbmQgaWR4IDwgcmVwZWF0IC0gMToKICAgICAgICAg
ICAgICAgIGlmIHNlbGYuc3RvcF9ldmVudC53YWl0KGNvb2xkb3duX21zIC8gMTAwMC4wKToKICAg
ICAgICAgICAgICAgICAgICBicmVhawogICAgICAgIHNlbGYuX2xhc3RfY2xpY2tfdHMgPSB0aW1l
LnRpbWUoKQoKICAgICAgICBpZiBwaXhlbF9jZmcuZ2V0KCJlbmFibGVkIik6CiAgICAgICAgICAg
IGlmIG5vdCBzZWxmLnBpeGVsX3JlZ2lvbjoKICAgICAgICAgICAgICAgIHNlbGYubG9nKCLlt7Ll
kK/nlKjlg4/ntKDmo4DmtYvkvYbmnKrorr7nva7ljLrln5/vvIzot7Pov4ciKQogICAgICAgICAg
ICAgICAgcmV0dXJuCiAgICAgICAgICAgIG9rLCBtc2cgPSBzZWxmLl93YWl0X2Zvcl9waXhlbF9j
aGFuZ2UoKQogICAgICAgICAgICBpZiBvazoKICAgICAgICAgICAgICAgIHNlbGYubG9nKGYi5YOP
57Sg5qOA5rWL5a6M5oiQ77yae21zZ30iKQogICAgICAgICAgICBlbHNlOgogICAgICAgICAgICAg
ICAgc2VsZi5sb2cobXNnKQoKICAgIGRlZiBydW4oc2VsZikgLT4gTm9uZToKICAgICAgICB0ZW1w
X2NsaWVudCA9IENvbnRyb2xsZXJDbGllbnQoCiAgICAgICAgICAgIHNlbGYucGxhblsidGVtcF9o
b3N0Il0sCiAgICAgICAgICAgIHNlbGYucGxhblsidGVtcF9wb3J0Il0sCiAgICAgICAgICAgICLm
uKnmjqciLAogICAgICAgICAgICBoYW5kbGVyPXNlbGYudGVtcF9oYW5kbGVyLAogICAgICAgICAg
ICBsb2NrPXNlbGYudGVtcF9sb2NrLAogICAgICAgICkKICAgICAgICBwcmVzc3VyZV9jbGllbnQg
PSBDb250cm9sbGVyQ2xpZW50KAogICAgICAgICAgICBzZWxmLnBsYW5bInByZXNzX2hvc3QiXSwK
ICAgICAgICAgICAgc2VsZi5wbGFuWyJwcmVzc19wb3J0Il0sCiAgICAgICAgICAgICLljovlipsi
LAogICAgICAgICAgICBoYW5kbGVyPXNlbGYucHJlc3NfaGFuZGxlciwKICAgICAgICAgICAgbG9j
az1zZWxmLnByZXNzX2xvY2ssCiAgICAgICAgKQogICAgICAgIHRyeToKICAgICAgICAgICAgdGVt
cF9jbGllbnQucGluZygpCiAgICAgICAgICAgIHByZXNzdXJlX2NsaWVudC5waW5nKCkKICAgICAg
ICBleGNlcHQgRXhjZXB0aW9uIGFzIGV4YzoKICAgICAgICAgICAgc2VsZi5sb2coZiLov57mjqXo
rr7lpIflpLHotKU6IHtleGN9IikKICAgICAgICAgICAgc2VsZi5hcHAuYWZ0ZXIoMCwgc2VsZi5h
cHAub25fcnVubmVyX2ZpbmlzaGVkKQogICAgICAgICAgICByZXR1cm4KCiAgICAgICAgdGVtcHMg
PSBzZWxmLnBsYW5bInRlbXBlcmF0dXJlcyJdCiAgICAgICAgY3VycmVudHMgPSBzZWxmLnBsYW5b
InByZXNzdXJlcyJdCiAgICAgICAgdGltZW91dCA9IHNlbGYucGxhbi5nZXQoImNlbGxfdGltZW91
dCIsIERFRkFVTFRfQ0VMTF9USU1FT1VUKQogICAgICAgIHRfdGhyID0gc2VsZi5wbGFuLmdldCgi
dGVtcF9tYWUiLCBERUZBVUxUX1RFTVBfTUFFKQogICAgICAgIHRfaG9sZCA9IHNlbGYucGxhbi5n
ZXQoInRlbXBfaG9sZCIsIERFRkFVTFRfVEVNUF9IT0xEKQogICAgICAgIHBfdGhyID0gc2VsZi5w
bGFuLmdldCgicHJlc3NfbWFlIiwgREVGQVVMVF9QUkVTU19NQUUpCiAgICAgICAgcF9ob2xkID0g
c2VsZi5wbGFuLmdldCgicHJlc3NfaG9sZCIsIERFRkFVTFRfUFJFU1NfSE9MRCkKICAgICAgICBj
b25maXJtX25lZWQgPSBpbnQoc2VsZi5wbGFuLmdldCgicmVwZWF0X2NvbmZpcm0iLCBERUZBVUxU
X0NPTkZJUk1fQ09VTlQpKQogICAgICAgIHJlY2hlY2tfaG9sZCA9IGZsb2F0KHNlbGYucGxhbi5n
ZXQoInRlbXBfcmVjaGVja19ob2xkIiwgREVGQVVMVF9URU1QX1JFQ0hFQ0tfSE9MRCkpCiAgICAg
ICAgcHJlc3Nfd2luZG93ID0gZmxvYXQoc2VsZi5wbGFuLmdldCgicHJlc3Nfc2V0dGxlX3dpbmRv
dyIsIERFRkFVTFRfUFJFU1NfU1RBQkxFX1dJTkRPVykpCiAgICAgICAgcHJlc3NfZmx1Y3QgPSBm
bG9hdChzZWxmLnBsYW4uZ2V0KCJwcmVzc19zZXR0bGVfcmFuZ2UiLCBERUZBVUxUX1BSRVNTX0ZM
VUNUX1JBTkdFKSkKCiAgICAgICAgdHJ5OgogICAgICAgICAgICBmb3IgY29sLCB0ZW1wX3Rhcmdl
dCBpbiBlbnVtZXJhdGUodGVtcHMpOgogICAgICAgICAgICAgICAgaWYgc2VsZi5zdG9wX2V2ZW50
LmlzX3NldCgpOgogICAgICAgICAgICAgICAgICAgIGJyZWFrCiAgICAgICAgICAgICAgICBzZWxm
LmxvZyhmIuiuvuWumua4qeW6piB7dGVtcF90YXJnZXR9wrBD77yM562J5b6F56iz5a6aIikKICAg
ICAgICAgICAgICAgIGlmIG5vdCBzZWxmLmVuc3VyZV90ZW1wZXJhdHVyZV9ydW5uaW5nKHRlbXBf
Y2xpZW50LCB0ZW1wX3RhcmdldCk6CiAgICAgICAgICAgICAgICAgICAgc2VsZi5hcHAubWFya19j
b2x1bW5fZXJyb3IoY29sLCAi5rip5o6n5aSx6LSlIikKICAgICAgICAgICAgICAgICAgICByZXR1
cm4KICAgICAgICAgICAgICAgIHRlbXBfc3RhdHVzLCB0ZW1wX3RpbWVvdXQgPSBzZWxmLndhaXRf
dGVtcGVyYXR1cmUoCiAgICAgICAgICAgICAgICAgICAgdGVtcF9jbGllbnQsCiAgICAgICAgICAg
ICAgICAgICAgdF90aHIsCiAgICAgICAgICAgICAgICAgICAgdF9ob2xkLAogICAgICAgICAgICAg
ICAgICAgIHRpbWVvdXQ9dGltZW91dCwKICAgICAgICAgICAgICAgICAgICBjb25maXJtX25lZWQ9
Y29uZmlybV9uZWVkLAogICAgICAgICAgICAgICAgICAgIGNvbnRleHQ9Iua4qeW6piIsCiAgICAg
ICAgICAgICAgICApCiAgICAgICAgICAgICAgICBpZiB0ZW1wX3N0YXR1cyBpcyBOb25lOgogICAg
ICAgICAgICAgICAgICAgIGlmIHRlbXBfdGltZW91dDoKICAgICAgICAgICAgICAgICAgICAgICAg
c2VsZi5hcHAubWFya19jb2x1bW5fdGltZW91dChjb2wsICLmuKnluqbotoXml7YiKQogICAgICAg
ICAgICAgICAgICAgICAgICBjb250aW51ZQogICAgICAgICAgICAgICAgICAgIGJyZWFrCiAgICAg
ICAgICAgICAgICBzZXR0bGVfc3RhdHVzLCBzZXR0bGVfdGltZW91dCA9IHNlbGYud2FpdF9wcmVz
c3VyZV9zdGFibGVfYWZ0ZXJfdGVtcCgKICAgICAgICAgICAgICAgICAgICBwcmVzc3VyZV9jbGll
bnQsCiAgICAgICAgICAgICAgICAgICAgcHJlc3Nfd2luZG93LAogICAgICAgICAgICAgICAgICAg
IHByZXNzX2ZsdWN0LAogICAgICAgICAgICAgICAgICAgIHRpbWVvdXQ9dGltZW91dCwKICAgICAg
ICAgICAgICAgICkKICAgICAgICAgICAgICAgIGlmIHNldHRsZV9zdGF0dXMgaXMgTm9uZToKICAg
ICAgICAgICAgICAgICAgICBpZiBzZXR0bGVfdGltZW91dDoKICAgICAgICAgICAgICAgICAgICAg
ICAgc2VsZi5hcHAubWFya19jb2x1bW5fdGltZW91dChjb2wsICLmuKnluqblkI7ljovlipvkuI3n
qLMiKQogICAgICAgICAgICAgICAgICAgICAgICBjb250aW51ZQogICAgICAgICAgICAgICAgICAg
IGJyZWFrCiAgICAgICAgICAgICAgICBmb3Igcm93LCBjdXJyZW50X3RhcmdldCBpbiBlbnVtZXJh
dGUoY3VycmVudHMpOgogICAgICAgICAgICAgICAgICAgIGlmIHNlbGYuc3RvcF9ldmVudC5pc19z
ZXQoKToKICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWsKICAgICAgICAgICAgICAgICAgICBz
ZWxmLmFwcC5tYXJrX2NlbGxfaW5fcHJvZ3Jlc3Mocm93LCBjb2wpCiAgICAgICAgICAgICAgICAg
ICAgc2VsZi5sb2coZiLorr7lrprnlLXmtYEge2N1cnJlbnRfdGFyZ2V0fe+8jOetieW+heeos+Wu
miIpCiAgICAgICAgICAgICAgICAgICAgaWYgbm90IHNlbGYuZW5zdXJlX3ByZXNzdXJlX3J1bm5p
bmcocHJlc3N1cmVfY2xpZW50LCBjdXJyZW50X3RhcmdldCk6CiAgICAgICAgICAgICAgICAgICAg
ICAgIHNlbGYuYXBwLm1hcmtfY2VsbF9lcnJvcihyb3csIGNvbCwgIuWOi+WKm+Wksei0pSIpCiAg
ICAgICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlCiAgICAgICAgICAgICAgICAgICAgcHJlc3Nf
c3RhdHVzLCBwcmVzc190aW1lb3V0ID0gc2VsZi53YWl0X3ByZXNzdXJlKAogICAgICAgICAgICAg
ICAgICAgICAgICBwcmVzc3VyZV9jbGllbnQsCiAgICAgICAgICAgICAgICAgICAgICAgIHBfdGhy
LAogICAgICAgICAgICAgICAgICAgICAgICBwX2hvbGQsCiAgICAgICAgICAgICAgICAgICAgICAg
IHRpbWVvdXQ9dGltZW91dCwKICAgICAgICAgICAgICAgICAgICAgICAgY29uZmlybV9uZWVkPWNv
bmZpcm1fbmVlZCwKICAgICAgICAgICAgICAgICAgICAgICAgY29udGV4dD0i5Y6L5YqbIiwKICAg
ICAgICAgICAgICAgICAgICApCiAgICAgICAgICAgICAgICAgICAgaWYgcHJlc3Nfc3RhdHVzIGlz
IE5vbmU6CiAgICAgICAgICAgICAgICAgICAgICAgIGlmIHByZXNzX3RpbWVvdXQ6CiAgICAgICAg
ICAgICAgICAgICAgICAgICAgICBzZWxmLmFwcC5tYXJrX2NlbGxfdGltZW91dChyb3csIGNvbCwg
IuWOi+WKm+i2heaXtiIpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250aW51ZQogICAg
ICAgICAgICAgICAgICAgICAgICBicmVhawogICAgICAgICAgICAgICAgICAgIHNlbGYuX21heWJl
X3NpbV9jbGljaygpCiAgICAgICAgICAgICAgICAgICAgdGVtcF9yZWNoZWNrLCB0ZW1wX3JlY2hl
Y2tfdGltZW91dCA9IHNlbGYud2FpdF90ZW1wZXJhdHVyZSgKICAgICAgICAgICAgICAgICAgICAg
ICAgdGVtcF9jbGllbnQsCiAgICAgICAgICAgICAgICAgICAgICAgIHRfdGhyLAogICAgICAgICAg
ICAgICAgICAgICAgICByZWNoZWNrX2hvbGQsCiAgICAgICAgICAgICAgICAgICAgICAgIHRpbWVv
dXQ9dGltZW91dCwKICAgICAgICAgICAgICAgICAgICAgICAgY29uZmlybV9uZWVkPWNvbmZpcm1f
bmVlZCwKICAgICAgICAgICAgICAgICAgICAgICAgY29udGV4dD0i5rip5bqm5aSN5qOAIiwKICAg
ICAgICAgICAgICAgICAgICApCiAgICAgICAgICAgICAgICAgICAgaWYgdGVtcF9yZWNoZWNrIGlz
IE5vbmU6CiAgICAgICAgICAgICAgICAgICAgICAgIGlmIHRlbXBfcmVjaGVja190aW1lb3V0Ogog
ICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi5hcHAubWFya19jZWxsX3RpbWVvdXQocm93
LCBjb2wsICLmuKnluqblpI3mo4DotoXml7YiKQogICAgICAgICAgICAgICAgICAgICAgICAgICAg
Y29udGludWUKICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWsKICAgICAgICAgICAgICAgICAg
ICBzZWxmLl9yZWNvcmRfcmVzdWx0KHJvdywgY29sLCB0ZW1wX3RhcmdldCwgY3VycmVudF90YXJn
ZXQsIHRlbXBfcmVjaGVjaywgcHJlc3Nfc3RhdHVzKQogICAgICAgICAgICAgICAgICAgIHNlbGYu
YXBwLm1hcmtfY2VsbF9kb25lKHJvdywgY29sKQogICAgICAgIGZpbmFsbHk6CiAgICAgICAgICAg
IHRyeToKICAgICAgICAgICAgICAgIHByZXNzdXJlX2NsaWVudC5zdG9wX2FsbCgpCiAgICAgICAg
ICAgIGV4Y2VwdCBFeGNlcHRpb246CiAgICAgICAgICAgICAgICBwYXNzCiAgICAgICAgICAgIHRy
eToKICAgICAgICAgICAgICAgIHRlbXBfY2xpZW50LnN0b3BfcmFtcCgpCiAgICAgICAgICAgIGV4
Y2VwdCBFeGNlcHRpb246CiAgICAgICAgICAgICAgICBwYXNzCiAgICAgICAgICAgIHRyeToKICAg
ICAgICAgICAgICAgIHRlbXBfY2xpZW50LnN0b3BfcGlkKCkKICAgICAgICAgICAgZXhjZXB0IEV4
Y2VwdGlvbjoKICAgICAgICAgICAgICAgIHBhc3MKICAgICAgICAgICAgc2VsZi5hcHAuYWZ0ZXIo
MCwgc2VsZi5hcHAub25fcnVubmVyX2ZpbmlzaGVkKQoKCmNsYXNzIE11bHRpU2VxdWVuY2VBcHAo
dHRrLkZyYW1lKToKICAgIGRlZiBfX2luaXRfXygKICAgICAgICBzZWxmLAogICAgICAgIG1hc3Rl
cjogT3B0aW9uYWxbdGsuTWlzY10gPSBOb25lLAogICAgICAgIHRlbXBfY29udHJvbGxlcjogT3B0
aW9uYWxbQW55XSA9IE5vbmUsCiAgICAgICAgcHJlc3N1cmVfY29udHJvbGxlcjogT3B0aW9uYWxb
QW55XSA9IE5vbmUsCiAgICApIC0+IE5vbmU6CiAgICAgICAgaWYgbWFzdGVyIGlzIE5vbmU6CiAg
ICAgICAgICAgIHdpbmRvdyA9IHR0ay5XaW5kb3codGhlbWVuYW1lPSJjb3NtbyIpCiAgICAgICAg
ICAgIG1hc3Rlcl93aWRnZXQ6IHRrLk1pc2MgPSB3aW5kb3cKICAgICAgICAgICAgc2VsZi5fb3du
c193aW5kb3cgPSBUcnVlCiAgICAgICAgZWxzZToKICAgICAgICAgICAgbWFzdGVyX3dpZGdldCA9
IG1hc3RlcgogICAgICAgICAgICBpZiBpc2luc3RhbmNlKG1hc3RlciwgKHRrLlRrLCB0ay5Ub3Bs
ZXZlbCwgdHRrLldpbmRvdykpOgogICAgICAgICAgICAgICAgd2luZG93ID0gbWFzdGVyICAjIHR5
cGU6IGlnbm9yZVthc3NpZ25tZW50XQogICAgICAgICAgICBlbHNlOgogICAgICAgICAgICAgICAg
d2luZG93ID0gbWFzdGVyLndpbmZvX3RvcGxldmVsKCkKICAgICAgICAgICAgc2VsZi5fb3duc193
aW5kb3cgPSBGYWxzZQoKICAgICAgICBzdXBlcigpLl9faW5pdF9fKG1hc3Rlcl93aWRnZXQpCiAg
ICAgICAgc2VsZi5wYWNrKGZpbGw9dGsuQk9USCwgZXhwYW5kPVRydWUpCgogICAgICAgIHNlbGYu
X3dpbmRvdyA9IHdpbmRvdwogICAgICAgIGlmIGhhc2F0dHIoc2VsZi5fd2luZG93LCAidGl0bGUi
KToKICAgICAgICAgICAgc2VsZi5fd2luZG93LnRpdGxlKCLlhrfng63lubPlj7DlpJrngrnoh6rl
iqjmtYvor5UiKQogICAgICAgIGlmIGhhc2F0dHIoc2VsZi5fd2luZG93LCAiZ2VvbWV0cnkiKToK
ICAgICAgICAgICAgc2VsZi5fd2luZG93Lmdlb21ldHJ5KCI5NjB4NzIwIikKICAgICAgICBpZiBo
YXNhdHRyKHNlbGYuX3dpbmRvdywgInByb3RvY29sIik6CiAgICAgICAgICAgIHNlbGYuX3dpbmRv
dy5wcm90b2NvbCgiV01fREVMRVRFX1dJTkRPVyIsIHNlbGYub25fY2xvc2UpCgogICAgICAgIHNl
bGYuX3ByZXNzdXJlX2NvbnRyb2xsZXIgPSBwcmVzc3VyZV9jb250cm9sbGVyCiAgICAgICAgc2Vs
Zi5fdGVtcF9oYW5kbGVyID0gZ2V0YXR0cih0ZW1wX2NvbnRyb2xsZXIsICJfaGFuZGxlX3RjcF9j
b21tYW5kIiwgTm9uZSkKICAgICAgICBzZWxmLl9wcmVzc19oYW5kbGVyID0gZ2V0YXR0cihwcmVz
c3VyZV9jb250cm9sbGVyLCAiX2hhbmRsZV90Y3BfY29tbWFuZCIsIE5vbmUpCiAgICAgICAgc2Vs
Zi5fdGVtcF9oYW5kbGVyX2xvY2sgPSB0aHJlYWRpbmcuUkxvY2soKSBpZiBzZWxmLl90ZW1wX2hh
bmRsZXIgZWxzZSBOb25lCiAgICAgICAgc2VsZi5fcHJlc3NfaGFuZGxlcl9sb2NrID0gdGhyZWFk
aW5nLlJMb2NrKCkgaWYgc2VsZi5fcHJlc3NfaGFuZGxlciBlbHNlIE5vbmUKCiAgICAgICAgc2Vs
Zi50ZW1wZXJhdHVyZV92YXJzOiBMaXN0W3RrLlN0cmluZ1Zhcl0gPSBbXQogICAgICAgIHNlbGYu
Y3VycmVudF92YXJzOiBMaXN0W3RrLlN0cmluZ1Zhcl0gPSBbXQogICAgICAgIHNlbGYuY2VsbF9s
YWJlbHM6IERpY3RbVHVwbGVbaW50LCBpbnRdLCB0dGsuTGFiZWxdID0ge30KICAgICAgICBzZWxm
LmNlbGxfc3RhdGVzOiBEaWN0W1R1cGxlW2ludCwgaW50XSwgVHVwbGVbc3RyLCBzdHJdXSA9IHt9
CgogICAgICAgIHNlbGYuY2VsbF90aW1lb3V0X3ZhciA9IHRrLkRvdWJsZVZhcih2YWx1ZT1ERUZB
VUxUX0NFTExfVElNRU9VVCkKICAgICAgICBzZWxmLmNvbmZpcm1fY291bnRfdmFyID0gdGsuSW50
VmFyKHZhbHVlPURFRkFVTFRfQ09ORklSTV9DT1VOVCkKICAgICAgICBzZWxmLnByZXNzX3NldHRs
ZV93aW5kb3dfdmFyID0gdGsuRG91YmxlVmFyKHZhbHVlPURFRkFVTFRfUFJFU1NfU1RBQkxFX1dJ
TkRPVykKICAgICAgICBzZWxmLnByZXNzX3NldHRsZV9yYW5nZV92YXIgPSB0ay5Eb3VibGVWYXIo
CiAgICAgICAgICAgIHZhbHVlPXNlbGYuX2dldF9wcmVzc3VyZV90b2xlcmFuY2UoREVGQVVMVF9Q
UkVTU19GTFVDVF9SQU5HRSkKICAgICAgICApCgogICAgICAgIHNlbGYudGVtcF9saXZlX3ZhciA9
IHRrLlN0cmluZ1Zhcih2YWx1ZT0iLS0iKQogICAgICAgIHNlbGYudGVtcF90YXJnZXRfdmFyID0g
dGsuU3RyaW5nVmFyKHZhbHVlPSItLSIpCiAgICAgICAgc2VsZi50ZW1wX2Vycm9yX3ZhciA9IHRr
LlN0cmluZ1Zhcih2YWx1ZT0iLS0iKQogICAgICAgIHNlbGYucHJlc3NfbGl2ZV92YXIgPSB0ay5T
dHJpbmdWYXIodmFsdWU9Ii0tIikKICAgICAgICBzZWxmLnByZXNzX3RhcmdldF92YXIgPSB0ay5T
dHJpbmdWYXIodmFsdWU9Ii0tIikKICAgICAgICBzZWxmLnByZXNzX2Vycm9yX3ZhciA9IHRrLlN0
cmluZ1Zhcih2YWx1ZT0iLS0iKQogICAgICAgIHNlbGYucmVhbHRpbWVfdGltZXN0YW1wX3ZhciA9
IHRrLlN0cmluZ1Zhcih2YWx1ZT0iLS0iKQogICAgICAgIHNlbGYucmVhbHRpbWVfc3RhdHVzX3Zh
ciA9IHRrLlN0cmluZ1Zhcih2YWx1ZT0iIikKICAgICAgICBzZWxmLnRlbXBfY29ubl9zdGF0dXMg
PSB0ay5TdHJpbmdWYXIodmFsdWU9IuacquajgOafpSIpCiAgICAgICAgc2VsZi5wcmVzc19jb25u
X3N0YXR1cyA9IHRrLlN0cmluZ1Zhcih2YWx1ZT0i5pyq5qOA5p+lIikKCiAgICAgICAgc2VsZi5j
c3ZfZGlyID0gdGsuU3RyaW5nVmFyKHZhbHVlPXN0cihnZXRfbG9nc19kaXIoKSkpCiAgICAgICAg
c2VsZi5fY3N2X2xvY2sgPSB0aHJlYWRpbmcuTG9jaygpCiAgICAgICAgc2VsZi5fY3N2X2ZpbGU6
IE9wdGlvbmFsW0FueV0gPSBOb25lCiAgICAgICAgc2VsZi5fY3N2X3dyaXRlcjogT3B0aW9uYWxb
Y3N2LndyaXRlcl0gPSBOb25lCiAgICAgICAgc2VsZi5fY3N2X3BhdGg6IE9wdGlvbmFsW1BhdGhd
ID0gTm9uZQogICAgICAgIHNlbGYuX2Nzdl9oYXNfZGF0YSA9IEZhbHNlCgogICAgICAgIHNlbGYu
c2ltX2NsaWNrX2VuYWJsZWQgPSB0ay5Cb29sZWFuVmFyKHZhbHVlPUZhbHNlKQogICAgICAgIHNl
bGYuc2ltX2NsaWNrX2RlbGF5X3ZhciA9IHRrLkludFZhcih2YWx1ZT0wKQogICAgICAgIHNlbGYu
c2ltX2NsaWNrX3JlcGVhdF92YXIgPSB0ay5JbnRWYXIodmFsdWU9MikKICAgICAgICBzZWxmLnNp
bV9jbGlja19jb29sZG93bl92YXIgPSB0ay5JbnRWYXIodmFsdWU9NTAwKQogICAgICAgIHNlbGYu
c2ltX2NsaWNrX3BvczogT3B0aW9uYWxbVHVwbGVbaW50LCBpbnRdXSA9IE5vbmUKICAgICAgICBz
ZWxmLnNpbV9jbGlja19kaXNwbGF5X3ZhciA9IHRrLlN0cmluZ1Zhcih2YWx1ZT0i5pyq6K6+572u
IikKCiAgICAgICAgc2VsZi5waXhlbF9kZXRlY3Rpb25fZW5hYmxlZCA9IHRrLkJvb2xlYW5WYXIo
dmFsdWU9RmFsc2UpCiAgICAgICAgc2VsZi5waXhlbF9sb2dfZW5hYmxlZCA9IHRrLkJvb2xlYW5W
YXIodmFsdWU9RmFsc2UpCiAgICAgICAgc2VsZi5waXhlbF9zZW5zaXRpdml0eV92YXIgPSB0ay5E
b3VibGVWYXIodmFsdWU9NS4wKQogICAgICAgIHNlbGYucGl4ZWxfdGltZW91dF92YXIgPSB0ay5E
b3VibGVWYXIodmFsdWU9MTgwLjApCiAgICAgICAgc2VsZi5kZXRlY3Rpb25faW50ZXJ2YWxfdmFy
ID0gdGsuSW50VmFyKHZhbHVlPTEwMDApCiAgICAgICAgc2VsZi5waXhlbF9kZXRlY3Rpb25fcmVn
aW9uOiBPcHRpb25hbFtUdXBsZVtpbnQsIGludCwgaW50LCBpbnRdXSA9IE5vbmUKICAgICAgICBz
ZWxmLmluaXRpYWxfcGl4ZWxfc25hcHNob3QgPSBOb25lCiAgICAgICAgc2VsZi5wcmV2X3BpeGVs
X3NuYXBzaG90ID0gTm9uZQoKICAgICAgICBzZWxmLl9leHRlcm5hbF9sb2c6IE9wdGlvbmFsW0Nh
bGxhYmxlW1tzdHJdLCBOb25lXV0gPSBOb25lCiAgICAgICAgc2VsZi5fdXNlX2ludGVybmFsX2xv
ZyA9IHNlbGYuX293bnNfd2luZG93CiAgICAgICAgc2VsZi5sb2dfdGV4dDogT3B0aW9uYWxbc2Ny
b2xsZWR0ZXh0LlNjcm9sbGVkVGV4dF0gPSBOb25lCgogICAgICAgIHNlbGYucnVubmVyOiBPcHRp
b25hbFtTZXF1ZW5jZVJ1bm5lcl0gPSBOb25lCiAgICAgICAgc2VsZi5yZXN1bHRzOiBMaXN0W0Rp
Y3RdID0gW10KCiAgICAgICAgc2VsZi5fY2hhcnRfaGlzdG9yeV9zID0gQ0hBUlRfSElTVE9SWV9T
RUNPTkRTCiAgICAgICAgc2VsZi5fdGVtcF9oaXN0b3J5OiBEZXF1ZVtUdXBsZVtmbG9hdCwgZmxv
YXQsIGZsb2F0XV0gPSBkZXF1ZSgpCiAgICAgICAgc2VsZi5fcHJlc3NfaGlzdG9yeTogRGVxdWVb
VHVwbGVbZmxvYXQsIGZsb2F0LCBmbG9hdF1dID0gZGVxdWUoKQogICAgICAgIHNlbGYuY2hhcnRf
Y2FudmFzOiBPcHRpb25hbFtGaWd1cmVDYW52YXNUa0FnZ10gPSBOb25lCiAgICAgICAgc2VsZi5f
Y2hhcnRfZmlnOiBPcHRpb25hbFtGaWd1cmVdID0gTm9uZQogICAgICAgIHNlbGYuX3RlbXBfbGlu
ZV9hY3R1YWwgPSBOb25lCiAgICAgICAgc2VsZi5fdGVtcF9saW5lX3RhcmdldCA9IE5vbmUKICAg
ICAgICBzZWxmLl9wcmVzc19saW5lX2FjdHVhbCA9IE5vbmUKICAgICAgICBzZWxmLl9wcmVzc19s
aW5lX3RhcmdldCA9IE5vbmUKCiAgICAgICAgc2VsZi5fcnRfc3RvcCA9IHRocmVhZGluZy5FdmVu
dCgpCiAgICAgICAgc2VsZi5fcnRfbG9jayA9IHRocmVhZGluZy5Mb2NrKCkKICAgICAgICBzZWxm
Ll9ydF9sYXRlc3Q6IE9wdGlvbmFsW1R1cGxlW09wdGlvbmFsW0RpY3RdLCBPcHRpb25hbFtEaWN0
XSwgZmxvYXRdXSA9IE5vbmUKICAgICAgICBzZWxmLl9ydF90aHJlYWQ6IE9wdGlvbmFsW3RocmVh
ZGluZy5UaHJlYWRdID0gTm9uZQoKICAgICAgICBzZWxmLl9idWlsZF91aSgpCiAgICAgICAgc2Vs
Zi5fcmVmcmVzaF9jaGFydHMoKQogICAgICAgIHNlbGYuX2luaXRfZGVmYXVsdF9tYXRyaXgoKQog
ICAgICAgIHNlbGYuX3N0YXJ0X3JlYWx0aW1lX21vbml0b3IoKQogICAgICAgIHNlbGYucmVmcmVz
aF9jb250cm9sbGVyX3N0YXR1cygpCgogICAgIyBVSSAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0t
LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQogICAgZGVmIF9idWlsZF91
aShzZWxmKSAtPiBOb25lOgogICAgICAgIG91dGVyID0gdHRrLkZyYW1lKHNlbGYpCiAgICAgICAg
b3V0ZXIucGFjayhmaWxsPXRrLkJPVEgsIGV4cGFuZD1UcnVlKQoKICAgICAgICBjYW52YXMgPSB0
ay5DYW52YXMob3V0ZXIsIGhpZ2hsaWdodHRoaWNrbmVzcz0wKQogICAgICAgIHNjcm9sbGJhciA9
IHR0ay5TY3JvbGxiYXIob3V0ZXIsIG9yaWVudD10ay5WRVJUSUNBTCwgY29tbWFuZD1jYW52YXMu
eXZpZXcpCiAgICAgICAgY2FudmFzLmNvbmZpZ3VyZSh5c2Nyb2xsY29tbWFuZD1zY3JvbGxiYXIu
c2V0KQogICAgICAgIHNjcm9sbGJhci5wYWNrKHNpZGU9dGsuUklHSFQsIGZpbGw9dGsuWSkKICAg
ICAgICBjYW52YXMucGFjayhzaWRlPXRrLkxFRlQsIGZpbGw9dGsuQk9USCwgZXhwYW5kPVRydWUp
CgogICAgICAgIG1haW4gPSB0dGsuRnJhbWUoY2FudmFzLCBwYWRkaW5nPTEyKQogICAgICAgIHdp
bmRvd19pZCA9IGNhbnZhcy5jcmVhdGVfd2luZG93KCgwLCAwKSwgd2luZG93PW1haW4sIGFuY2hv
cj0ibnciKQoKICAgICAgICBkZWYgX3N5bmNfc2Nyb2xsX3JlZ2lvbihldmVudDogdGsuRXZlbnQp
IC0+IE5vbmU6ICAjIHR5cGU6IGlnbm9yZVt0eXBlLWFyZ10KICAgICAgICAgICAgY2FudmFzLmNv
bmZpZ3VyZShzY3JvbGxyZWdpb249Y2FudmFzLmJib3goImFsbCIpKQogICAgICAgICAgICBjYW52
YXMuaXRlbWNvbmZpZ3VyZSh3aW5kb3dfaWQsIHdpZHRoPWNhbnZhcy53aW5mb193aWR0aCgpKQoK
ICAgICAgICBtYWluLmJpbmQoIjxDb25maWd1cmU+IiwgX3N5bmNfc2Nyb2xsX3JlZ2lvbikKICAg
ICAgICBjYW52YXMuYmluZCgiPENvbmZpZ3VyZT4iLCBsYW1iZGEgZTogY2FudmFzLml0ZW1jb25m
aWd1cmUod2luZG93X2lkLCB3aWR0aD1lLndpZHRoKSkKICAgICAgICBzZWxmLl9iaW5kX21vdXNl
d2hlZWwoY2FudmFzKQoKICAgICAgICBtYXRyaXhfZnJhbWUgPSB0dGsuTGFiZWxmcmFtZShtYWlu
LCB0ZXh0PSLmtYvor5Xnn6npmLXvvIjliJfvvJrmuKnluqYgwrBDIC8g6KGM77ya55S15rWB77yJ
IikKICAgICAgICBtYXRyaXhfZnJhbWUucGFjayhmaWxsPXRrLlgsIHBhZHk9OCkKCiAgICAgICAg
dG9vbGJhciA9IHR0ay5GcmFtZShtYXRyaXhfZnJhbWUpCiAgICAgICAgdG9vbGJhci5wYWNrKGZp
bGw9dGsuWCwgcGFkeT00KQogICAgICAgIHR0ay5CdXR0b24odG9vbGJhciwgdGV4dD0i5re75Yqg
5rip5bqm5YiXIiwgY29tbWFuZD1zZWxmLmFkZF90ZW1wZXJhdHVyZV9jb2x1bW4sIGJvb3RzdHls
ZT0ib3V0bGluZS1pbmZvIikucGFjaygKICAgICAgICAgICAgc2lkZT10ay5MRUZULCBwYWR4PTQK
ICAgICAgICApCiAgICAgICAgdHRrLkJ1dHRvbih0b29sYmFyLCB0ZXh0PSLliKDpmaTmuKnluqbl
iJciLCBjb21tYW5kPXNlbGYucmVtb3ZlX3RlbXBlcmF0dXJlX2NvbHVtbiwgYm9vdHN0eWxlPSJv
dXRsaW5lLXNlY29uZGFyeSIpLnBhY2soCiAgICAgICAgICAgIHNpZGU9dGsuTEVGVCwgcGFkeD00
CiAgICAgICAgKQogICAgICAgIHR0ay5CdXR0b24odG9vbGJhciwgdGV4dD0i5re75Yqg55S15rWB
6KGMIiwgY29tbWFuZD1zZWxmLmFkZF9jdXJyZW50X3JvdywgYm9vdHN0eWxlPSJvdXRsaW5lLWlu
Zm8iKS5wYWNrKAogICAgICAgICAgICBzaWRlPXRrLkxFRlQsIHBhZHg9MTIKICAgICAgICApCiAg
ICAgICAgdHRrLkJ1dHRvbih0b29sYmFyLCB0ZXh0PSLliKDpmaTnlLXmtYHooYwiLCBjb21tYW5k
PXNlbGYucmVtb3ZlX2N1cnJlbnRfcm93LCBib290c3R5bGU9Im91dGxpbmUtc2Vjb25kYXJ5Iiku
cGFjaygKICAgICAgICAgICAgc2lkZT10ay5MRUZULCBwYWR4PTQKICAgICAgICApCiAgICAgICAg
dHRrLkJ1dHRvbih0b29sYmFyLCB0ZXh0PSLph43nva7nirbmgIEiLCBjb21tYW5kPXNlbGYucmVz
ZXRfbWF0cml4X3N0YXR1c2VzLCBib290c3R5bGU9Im91dGxpbmUtd2FybmluZyIpLnBhY2soCiAg
ICAgICAgICAgIHNpZGU9dGsuUklHSFQsIHBhZHg9NAogICAgICAgICkKCiAgICAgICAgc2VsZi5t
YXRyaXhfZ3JpZCA9IHR0ay5GcmFtZShtYXRyaXhfZnJhbWUpCiAgICAgICAgc2VsZi5tYXRyaXhf
Z3JpZC5wYWNrKGZpbGw9dGsuWCwgcGFkeT00KQoKICAgICAgICBtYXRyaXhfYWN0aW9ucyA9IHR0
ay5GcmFtZShtYXRyaXhfZnJhbWUpCiAgICAgICAgbWF0cml4X2FjdGlvbnMucGFjayhmaWxsPXRr
LlgsIHBhZHk9NCkKICAgICAgICB0dGsuQnV0dG9uKG1hdHJpeF9hY3Rpb25zLCB0ZXh0PSLlvIDl
p4vmiafooYwiLCBib290c3R5bGU9U1VDQ0VTUywgY29tbWFuZD1zZWxmLnN0YXJ0X3BsYW4pLnBh
Y2soc2lkZT10ay5MRUZULCBwYWR4PTQpCiAgICAgICAgdHRrLkJ1dHRvbihtYXRyaXhfYWN0aW9u
cywgdGV4dD0i5YGc5q2iIiwgYm9vdHN0eWxlPURBTkdFUiwgY29tbWFuZD1zZWxmLnN0b3BfcGxh
bikucGFjayhzaWRlPXRrLkxFRlQsIHBhZHg9NCkKICAgICAgICB0dGsuQnV0dG9uKG1hdHJpeF9h
Y3Rpb25zLCB0ZXh0PSLlr7zlh7rnu5PmnpwiLCBjb21tYW5kPXNlbGYuZXhwb3J0X3Jlc3VsdHMs
IGJvb3RzdHlsZT0ib3V0bGluZS1wcmltYXJ5IikucGFjaygKICAgICAgICAgICAgc2lkZT10ay5S
SUdIVCwgcGFkeD00CiAgICAgICAgKQoKICAgICAgICBvcHRpb25zX2ZyYW1lID0gdHRrLkxhYmVs
ZnJhbWUobWFpbiwgdGV4dD0i5omn6KGM6K6+572uIikKICAgICAgICBvcHRpb25zX2ZyYW1lLnBh
Y2soZmlsbD10ay5YLCBwYWR5PTgpCiAgICAgICAgb3B0X3JvdyA9IHR0ay5GcmFtZShvcHRpb25z
X2ZyYW1lKQogICAgICAgIG9wdF9yb3cucGFjayhmaWxsPXRrLlgsIHBhZHk9NCkKICAgICAgICB0
dGsuTGFiZWwob3B0X3JvdywgdGV4dD0i5Y2V54K56LaF5pe25pe26Ze0IChzKSIpLnBhY2soc2lk
ZT10ay5MRUZULCBwYWR4PTQpCiAgICAgICAgdHRrLkVudHJ5KG9wdF9yb3csIHRleHR2YXJpYWJs
ZT1zZWxmLmNlbGxfdGltZW91dF92YXIsIHdpZHRoPTgpLnBhY2soc2lkZT10ay5MRUZULCBwYWR4
PTQpCiAgICAgICAgdHRrLkxhYmVsKG9wdF9yb3csIHRleHQ9Iueos+WumumHjeWkjeehruiupOas
oeaVsCIpLnBhY2soc2lkZT10ay5MRUZULCBwYWR4PSgxMiwgNCkpCiAgICAgICAgdHRrLkVudHJ5
KG9wdF9yb3csIHRleHR2YXJpYWJsZT1zZWxmLmNvbmZpcm1fY291bnRfdmFyLCB3aWR0aD02KS5w
YWNrKHNpZGU9dGsuTEVGVCwgcGFkeD00KQogICAgICAgIHR0ay5MYWJlbChvcHRfcm93LCB0ZXh0
PSLor7TmmI7vvJrph4fnlKjlm7rlrprliKTnqLPpmIjlgLzoh6rliqjlpI3mo4DvvIzotoXml7bl
sIbmoIforrDkuLrnuqLoibLlubbot7Pov4fjgIIiLCBib290c3R5bGU9SU5GTykucGFjaygKICAg
ICAgICAgICAgc2lkZT10ay5MRUZULCBwYWR4PTgKICAgICAgICApCgogICAgICAgIHByZXNzX3By
ZWNoZWNrX3JvdyA9IHR0ay5GcmFtZShvcHRpb25zX2ZyYW1lKQogICAgICAgIHByZXNzX3ByZWNo
ZWNrX3Jvdy5wYWNrKGZpbGw9dGsuWCwgcGFkeT00KQogICAgICAgIHR0ay5MYWJlbChwcmVzc19w
cmVjaGVja19yb3csIHRleHQ9Iua4qeW6puWIh+aNouWQjuWOi+WKm+eos+WumuaXtumXtCAocyki
KS5wYWNrKHNpZGU9dGsuTEVGVCwgcGFkeD00KQogICAgICAgIHR0ay5FbnRyeShwcmVzc19wcmVj
aGVja19yb3csIHRleHR2YXJpYWJsZT1zZWxmLnByZXNzX3NldHRsZV93aW5kb3dfdmFyLCB3aWR0
aD04KS5wYWNrKAogICAgICAgICAgICBzaWRlPXRrLkxFRlQsIHBhZHg9NAogICAgICAgICkKICAg
ICAgICB0dGsuTGFiZWwocHJlc3NfcHJlY2hlY2tfcm93LCB0ZXh0PSLljovlipvms6LliqjpmIjl
gLwiKS5wYWNrKHNpZGU9dGsuTEVGVCwgcGFkeD0oMTIsIDQpKQogICAgICAgIHR0ay5FbnRyeShw
cmVzc19wcmVjaGVja19yb3csIHRleHR2YXJpYWJsZT1zZWxmLnByZXNzX3NldHRsZV9yYW5nZV92
YXIsIHdpZHRoPTEwKS5wYWNrKAogICAgICAgICAgICBzaWRlPXRrLkxFRlQsIHBhZHg9NAogICAg
ICAgICkKICAgICAgICB0dGsuTGFiZWwoCiAgICAgICAgICAgIHByZXNzX3ByZWNoZWNrX3JvdywK
ICAgICAgICAgICAgdGV4dD0i5rip5bqm5Y+Y5YyW5ZCO77yM5Y+q5pyJ5Zyo6K6+5a6a5pe26Ze0
5YaF5Y6L5Yqb5rOi5Yqo5L2O5LqO6ZiI5YC85omN5byA5aeL5Y6L5Yqb5YiX6KGo44CCIiwKICAg
ICAgICAgICAgYm9vdHN0eWxlPUlORk8sCiAgICAgICAgKS5wYWNrKHNpZGU9dGsuTEVGVCwgcGFk
eD04KQoKICAgICAgICByZWNvcmRfZnJhbWUgPSB0dGsuTGFiZWxmcmFtZShtYWluLCB0ZXh0PSLm
lbDmja7orrDlvZXvvIhDU1Yg5a+85Ye677yJIikKICAgICAgICByZWNvcmRfZnJhbWUucGFjayhm
aWxsPXRrLlgsIHBhZHk9OCkKICAgICAgICByZWNvcmRfcm93ID0gdHRrLkZyYW1lKHJlY29yZF9m
cmFtZSkKICAgICAgICByZWNvcmRfcm93LnBhY2soZmlsbD10ay5YLCBwYWR5PTQpCiAgICAgICAg
dHRrLkxhYmVsKHJlY29yZF9yb3csIHRleHQ9IuS/neWtmOebruW9lSIpLnBhY2soc2lkZT10ay5M
RUZULCBwYWR4PTQpCiAgICAgICAgdHRrLkVudHJ5KHJlY29yZF9yb3csIHRleHR2YXJpYWJsZT1z
ZWxmLmNzdl9kaXIsIHdpZHRoPTQ4KS5wYWNrKHNpZGU9dGsuTEVGVCwgcGFkeD02KQogICAgICAg
IHR0ay5CdXR0b24oCiAgICAgICAgICAgIHJlY29yZF9yb3csCiAgICAgICAgICAgIHRleHQ9IumA
ieaLqeebruW9lSIsCiAgICAgICAgICAgIGNvbW1hbmQ9c2VsZi5fY2hvb3NlX2Nzdl9kaXIsCiAg
ICAgICAgICAgIGJvb3RzdHlsZT0ib3V0bGluZS1zZWNvbmRhcnkiLAogICAgICAgICkucGFjayhz
aWRlPXRrLkxFRlQsIHBhZHg9NCkKICAgICAgICB0dGsuTGFiZWwoCiAgICAgICAgICAgIHJlY29y
ZF9mcmFtZSwKICAgICAgICAgICAgdGV4dD0i6KeE5YiZ77ya54K55Ye74oCc5byA5aeL5omn6KGM
4oCd5paw5bu65paH5Lu277yM5Lu75Yqh57uT5p2f5ZCO6Ieq5Yqo5L+d5a2Y44CCIiwKICAgICAg
ICAgICAgYm9vdHN0eWxlPUlORk8sCiAgICAgICAgICAgIHdyYXBsZW5ndGg9NjgwLAogICAgICAg
ICAgICBqdXN0aWZ5PXRrLkxFRlQsCiAgICAgICAgKS5wYWNrKGFuY2hvcj10ay5XLCBwYWR4PTQs
IHBhZHk9KDAsIDIpKQoKICAgICAgICBhdXRvX2ZyYW1lID0gdHRrLkxhYmVsZnJhbWUob3B0aW9u
c19mcmFtZSwgdGV4dD0i6Ieq5Yqo5rWL6K+VIikKICAgICAgICBhdXRvX2ZyYW1lLnBhY2soZmls
bD10ay5YLCBwYWR5PTYpCgogICAgICAgIHBpeGVsX3JvdyA9IHR0ay5GcmFtZShhdXRvX2ZyYW1l
KQogICAgICAgIHBpeGVsX3Jvdy5wYWNrKGZpbGw9dGsuWCwgcGFkeT0yKQogICAgICAgIHR0ay5D
aGVja2J1dHRvbihwaXhlbF9yb3csIHRleHQ9IuWQr+eUqOWDj+e0oOajgOa1iyIsIHZhcmlhYmxl
PXNlbGYucGl4ZWxfZGV0ZWN0aW9uX2VuYWJsZWQpLnBhY2soc2lkZT10ay5MRUZULCBwYWR4PTQp
CiAgICAgICAgdHRrLkJ1dHRvbihwaXhlbF9yb3csIHRleHQ9Iuiuvue9ruajgOa1i+WMuuWfnyIs
IGNvbW1hbmQ9c2VsZi5zZXRfcGl4ZWxfZGV0ZWN0aW9uX3JlZ2lvbiwgYm9vdHN0eWxlPSJvdXRs
aW5lLWluZm8iKS5wYWNrKAogICAgICAgICAgICBzaWRlPXRrLkxFRlQsIHBhZHg9NAogICAgICAg
ICkKICAgICAgICB0dGsuQ2hlY2tidXR0b24ocGl4ZWxfcm93LCB0ZXh0PSLorrDlvZXmo4DmtYvm
l6Xlv5ciLCB2YXJpYWJsZT1zZWxmLnBpeGVsX2xvZ19lbmFibGVkKS5wYWNrKHNpZGU9dGsuTEVG
VCwgcGFkeD02KQogICAgICAgIHNlbGYuaW5kaWNhdG9yX2NhbnZhcyA9IHRrLkNhbnZhcyhwaXhl
bF9yb3csIHdpZHRoPTE4LCBoZWlnaHQ9MTgsIGhpZ2hsaWdodHRoaWNrbmVzcz0wKQogICAgICAg
IHNlbGYuaW5kaWNhdG9yX2NpcmNsZSA9IHNlbGYuaW5kaWNhdG9yX2NhbnZhcy5jcmVhdGVfb3Zh
bCgyLCAyLCAxNiwgMTYsIGZpbGw9InJlZCIpCiAgICAgICAgc2VsZi5pbmRpY2F0b3JfY2FudmFz
LnBhY2soc2lkZT10ay5MRUZULCBwYWR4PTYpCiAgICAgICAgdHRrLkxhYmVsKHBpeGVsX3Jvdywg
dGV4dD0i54G15pWP5bqmKCUpIikucGFjayhzaWRlPXRrLkxFRlQsIHBhZHg9KDgsIDQpKQogICAg
ICAgIHR0ay5FbnRyeShwaXhlbF9yb3csIHRleHR2YXJpYWJsZT1zZWxmLnBpeGVsX3NlbnNpdGl2
aXR5X3Zhciwgd2lkdGg9OCkucGFjayhzaWRlPXRrLkxFRlQpCiAgICAgICAgdHRrLkxhYmVsKHBp
eGVsX3JvdywgdGV4dD0i6LaF5pe2KHMpIikucGFjayhzaWRlPXRrLkxFRlQsIHBhZHg9KDgsIDQp
KQogICAgICAgIHR0ay5FbnRyeShwaXhlbF9yb3csIHRleHR2YXJpYWJsZT1zZWxmLnBpeGVsX3Rp
bWVvdXRfdmFyLCB3aWR0aD04KS5wYWNrKHNpZGU9dGsuTEVGVCkKCiAgICAgICAgaW50ZXJ2YWxf
cm93ID0gdHRrLkZyYW1lKGF1dG9fZnJhbWUpCiAgICAgICAgaW50ZXJ2YWxfcm93LnBhY2soZmls
bD10ay5YLCBwYWR5PTIpCiAgICAgICAgdHRrLkxhYmVsKGludGVydmFsX3JvdywgdGV4dD0i5qOA
5rWL6Ze06ZqUKG1zKSIpLnBhY2soc2lkZT10ay5MRUZULCBwYWR4PTQpCiAgICAgICAgdHRrLkVu
dHJ5KGludGVydmFsX3JvdywgdGV4dHZhcmlhYmxlPXNlbGYuZGV0ZWN0aW9uX2ludGVydmFsX3Zh
ciwgd2lkdGg9MTApLnBhY2soc2lkZT10ay5MRUZULCBwYWR4PSgwLCAxMikpCiAgICAgICAgdHRr
LkxhYmVsKGludGVydmFsX3JvdywgdGV4dD0i54K55Ye75Ya35Y20KG1zKSIpLnBhY2soc2lkZT10
ay5MRUZULCBwYWR4PTQpCiAgICAgICAgdHRrLkVudHJ5KGludGVydmFsX3JvdywgdGV4dHZhcmlh
YmxlPXNlbGYuc2ltX2NsaWNrX2Nvb2xkb3duX3Zhciwgd2lkdGg9MTApLnBhY2soc2lkZT10ay5M
RUZUKQoKICAgICAgICBjbGlja19yb3cgPSB0dGsuRnJhbWUoYXV0b19mcmFtZSkKICAgICAgICBj
bGlja19yb3cucGFjayhmaWxsPXRrLlgsIHBhZHk9MikKICAgICAgICB0dGsuQ2hlY2tidXR0b24o
Y2xpY2tfcm93LCB0ZXh0PSLnqLPlrprlkI7miafooYzmqKHmi5/ngrnlh7siLCB2YXJpYWJsZT1z
ZWxmLnNpbV9jbGlja19lbmFibGVkKS5wYWNrKHNpZGU9dGsuTEVGVCwgcGFkeD00KQogICAgICAg
IHR0ay5CdXR0b24oY2xpY2tfcm93LCB0ZXh0PSLorr7nva7ngrnlh7vngrkiLCBjb21tYW5kPXNl
bGYuc2V0X3NpbV9jbGlja19wb2ludCwgYm9vdHN0eWxlPSJvdXRsaW5lLWluZm8iKS5wYWNrKAog
ICAgICAgICAgICBzaWRlPXRrLkxFRlQsIHBhZHg9NAogICAgICAgICkKICAgICAgICB0dGsuTGFi
ZWwoY2xpY2tfcm93LCB0ZXh0dmFyaWFibGU9c2VsZi5zaW1fY2xpY2tfZGlzcGxheV92YXIsIGJv
b3RzdHlsZT1TRUNPTkRBUlkpLnBhY2soc2lkZT10ay5MRUZULCBwYWR4PTYpCiAgICAgICAgdHRr
LkxhYmVsKGNsaWNrX3JvdywgdGV4dD0i5bu25pe2KG1zKSIpLnBhY2soc2lkZT10ay5MRUZULCBw
YWR4PSgxMiwgNCkpCiAgICAgICAgdHRrLkVudHJ5KGNsaWNrX3JvdywgdGV4dHZhcmlhYmxlPXNl
bGYuc2ltX2NsaWNrX2RlbGF5X3Zhciwgd2lkdGg9NykucGFjayhzaWRlPXRrLkxFRlQpCiAgICAg
ICAgdHRrLkxhYmVsKGNsaWNrX3JvdywgdGV4dD0i6YeN5aSN5qyh5pWwIikucGFjayhzaWRlPXRr
LkxFRlQsIHBhZHg9KDEyLCA0KSkKICAgICAgICB0dGsuRW50cnkoY2xpY2tfcm93LCB0ZXh0dmFy
aWFibGU9c2VsZi5zaW1fY2xpY2tfcmVwZWF0X3Zhciwgd2lkdGg9NSkucGFjayhzaWRlPXRrLkxF
RlQpCgogICAgICAgIHJlYWx0aW1lX2ZyYW1lID0gdHRrLkxhYmVsZnJhbWUobWFpbiwgdGV4dD0i
5a6e5pe254q25oCB77yI5p2l6Ieq5rip5bqmL+WOi+WKm+aOp+WItueoi+W6j++8iSIpCiAgICAg
ICAgcmVhbHRpbWVfZnJhbWUucGFjayhmaWxsPXRrLlgsIHBhZHk9OCkKCiAgICAgICAgcnRfcm93
MSA9IHR0ay5GcmFtZShyZWFsdGltZV9mcmFtZSkKICAgICAgICBydF9yb3cxLnBhY2soZmlsbD10
ay5YLCBwYWR5PTIpCiAgICAgICAgdHRrLkxhYmVsKHJ0X3JvdzEsIHRleHQ9Iua4qeW6piDlvZPl
iY0v55uu5qCHICjCsEMp77yaIikucGFjayhzaWRlPXRrLkxFRlQsIHBhZHg9NCkKICAgICAgICB0
dGsuTGFiZWwocnRfcm93MSwgdGV4dHZhcmlhYmxlPXNlbGYudGVtcF9saXZlX3Zhciwgd2lkdGg9
MTAsIGFuY2hvcj10ay5FKS5wYWNrKHNpZGU9dGsuTEVGVCkKICAgICAgICB0dGsuTGFiZWwocnRf
cm93MSwgdGV4dD0i4oaSIikucGFjayhzaWRlPXRrLkxFRlQsIHBhZHg9MikKICAgICAgICB0dGsu
TGFiZWwocnRfcm93MSwgdGV4dHZhcmlhYmxlPXNlbGYudGVtcF90YXJnZXRfdmFyLCB3aWR0aD0x
MCwgYW5jaG9yPXRrLkUpLnBhY2soc2lkZT10ay5MRUZUKQogICAgICAgIHR0ay5MYWJlbChydF9y
b3cxLCB0ZXh0PSLor6/lt67vvJoiKS5wYWNrKHNpZGU9dGsuTEVGVCwgcGFkeD0oMTIsIDIpKQog
ICAgICAgIHR0ay5MYWJlbChydF9yb3cxLCB0ZXh0dmFyaWFibGU9c2VsZi50ZW1wX2Vycm9yX3Zh
ciwgd2lkdGg9MTAsIGFuY2hvcj10ay5FKS5wYWNrKHNpZGU9dGsuTEVGVCkKCiAgICAgICAgcnRf
cm93MiA9IHR0ay5GcmFtZShyZWFsdGltZV9mcmFtZSkKICAgICAgICBydF9yb3cyLnBhY2soZmls
bD10ay5YLCBwYWR5PTIpCiAgICAgICAgdHRrLkxhYmVsKHJ0X3JvdzIsIHRleHQ9IuWOi+WKmy/n
lLXmtYEg5b2T5YmNL+ebruagh++8miIpLnBhY2soc2lkZT10ay5MRUZULCBwYWR4PTQpCiAgICAg
ICAgdHRrLkxhYmVsKHJ0X3JvdzIsIHRleHR2YXJpYWJsZT1zZWxmLnByZXNzX2xpdmVfdmFyLCB3
aWR0aD0xMCwgYW5jaG9yPXRrLkUpLnBhY2soc2lkZT10ay5MRUZUKQogICAgICAgIHR0ay5MYWJl
bChydF9yb3cyLCB0ZXh0PSLihpIiKS5wYWNrKHNpZGU9dGsuTEVGVCwgcGFkeD0yKQogICAgICAg
IHR0ay5MYWJlbChydF9yb3cyLCB0ZXh0dmFyaWFibGU9c2VsZi5wcmVzc190YXJnZXRfdmFyLCB3
aWR0aD0xMCwgYW5jaG9yPXRrLkUpLnBhY2soc2lkZT10ay5MRUZUKQogICAgICAgIHR0ay5MYWJl
bChydF9yb3cyLCB0ZXh0PSLor6/lt67vvJoiKS5wYWNrKHNpZGU9dGsuTEVGVCwgcGFkeD0oMTIs
IDIpKQogICAgICAgIHR0ay5MYWJlbChydF9yb3cyLCB0ZXh0dmFyaWFibGU9c2VsZi5wcmVzc19l
cnJvcl92YXIsIHdpZHRoPTEwLCBhbmNob3I9dGsuRSkucGFjayhzaWRlPXRrLkxFRlQpCgogICAg
ICAgIHJ0X3JvdzMgPSB0dGsuRnJhbWUocmVhbHRpbWVfZnJhbWUpCiAgICAgICAgcnRfcm93My5w
YWNrKGZpbGw9dGsuWCwgcGFkeT0yKQogICAgICAgIHR0ay5MYWJlbChydF9yb3czLCB0ZXh0PSLm
nIDov5Hmm7TmlrDml7bpl7TvvJoiKS5wYWNrKHNpZGU9dGsuTEVGVCwgcGFkeD00KQogICAgICAg
IHR0ay5MYWJlbChydF9yb3czLCB0ZXh0dmFyaWFibGU9c2VsZi5yZWFsdGltZV90aW1lc3RhbXBf
dmFyLCB3aWR0aD0xOCkucGFjayhzaWRlPXRrLkxFRlQpCiAgICAgICAgdHRrLkxhYmVsKHJ0X3Jv
dzMsIHRleHR2YXJpYWJsZT1zZWxmLnJlYWx0aW1lX3N0YXR1c192YXIsIGJvb3RzdHlsZT1XQVJO
SU5HKS5wYWNrKHNpZGU9dGsuTEVGVCwgcGFkeD04KQoKICAgICAgICBydF9yb3c0ID0gdHRrLkZy
YW1lKHJlYWx0aW1lX2ZyYW1lKQogICAgICAgIHJ0X3JvdzQucGFjayhmaWxsPXRrLlgsIHBhZHk9
MikKICAgICAgICB0dGsuTGFiZWwocnRfcm93NCwgdGV4dD0i6L+e5o6l54q25oCB77yaIikucGFj
ayhzaWRlPXRrLkxFRlQsIHBhZHg9NCkKICAgICAgICBzZWxmLnRlbXBfY29ubl9sYWJlbCA9IHR0
ay5MYWJlbChydF9yb3c0LCB0ZXh0dmFyaWFibGU9c2VsZi50ZW1wX2Nvbm5fc3RhdHVzLCBib290
c3R5bGU9U0VDT05EQVJZKQogICAgICAgIHNlbGYudGVtcF9jb25uX2xhYmVsLnBhY2soc2lkZT10
ay5MRUZULCBwYWR4PTYpCiAgICAgICAgc2VsZi5wcmVzc19jb25uX2xhYmVsID0gdHRrLkxhYmVs
KHJ0X3JvdzQsIHRleHR2YXJpYWJsZT1zZWxmLnByZXNzX2Nvbm5fc3RhdHVzLCBib290c3R5bGU9
U0VDT05EQVJZKQogICAgICAgIHNlbGYucHJlc3NfY29ubl9sYWJlbC5wYWNrKHNpZGU9dGsuTEVG
VCwgcGFkeD02KQogICAgICAgIHR0ay5CdXR0b24ocnRfcm93NCwgdGV4dD0i5Yi35paw6L+e5o6l
IiwgY29tbWFuZD1zZWxmLnJlZnJlc2hfY29udHJvbGxlcl9zdGF0dXMsIGJvb3RzdHlsZT0ib3V0
bGluZS1zZWNvbmRhcnkiKS5wYWNrKAogICAgICAgICAgICBzaWRlPXRrLkxFRlQsIHBhZHg9KDEy
LCAwKQogICAgICAgICkKCiAgICAgICAgY2hhcnRzX2ZyYW1lID0gdHRrLkxhYmVsZnJhbWUobWFp
biwgdGV4dD0iTGl2ZSBDaGFydHMgKExhc3QgNSBNaW51dGVzKSIpCiAgICAgICAgY2hhcnRzX2Zy
YW1lLnBhY2soZmlsbD10ay5CT1RILCBleHBhbmQ9VHJ1ZSwgcGFkeT04KQoKCiAgICAgICAgc2Vs
Zi5fY2hhcnRfZmlnID0gRmlndXJlKGZpZ3NpemU9KDEwLCA0LjUpLCBkcGk9MTAwKQogICAgICAg
IGdyaWQgPSBzZWxmLl9jaGFydF9maWcuYWRkX2dyaWRzcGVjKDEsIDIsIHdpZHRoX3JhdGlvcz1b
MS4wLCAxLjBdLCB3c3BhY2U9MC4yOCkKICAgICAgICBheF90ZW1wID0gc2VsZi5fY2hhcnRfZmln
LmFkZF9zdWJwbG90KGdyaWRbMCwgMF0pCiAgICAgICAgYXhfcHJlc3MgPSBzZWxmLl9jaGFydF9m
aWcuYWRkX3N1YnBsb3QoZ3JpZFswLCAxXSkKCiAgICAgICAgYXhfdGVtcC5zZXRfdGl0bGUoIlRl
bXBlcmF0dXJlIE92ZXIgVGltZSIpCiAgICAgICAgYXhfdGVtcC5zZXRfeWxhYmVsKCJUZW1wZXJh
dHVyZSAowrBDKSIpCiAgICAgICAgYXhfdGVtcC5zZXRfeGxhYmVsKCJUaW1lIChzKSIpCiAgICAg
ICAgc2VsZi5fdGVtcF9saW5lX2FjdHVhbCwgPSBheF90ZW1wLnBsb3QoW10sIFtdLCBjb2xvcj0i
I2Q2MjcyOCIsIGxpbmV3aWR0aD0xLjYsIGxhYmVsPSJBY3R1YWwgVGVtcGVyYXR1cmUiKQogICAg
ICAgIHNlbGYuX3RlbXBfbGluZV90YXJnZXQsID0gYXhfdGVtcC5wbG90KAogICAgICAgICAgICBb
XSwgW10sIGNvbG9yPSIjMWY3N2I0IiwgbGluZXN0eWxlPSItLSIsIGxpbmV3aWR0aD0xLjIsIGxh
YmVsPSJUYXJnZXQgVGVtcGVyYXR1cmUiCiAgICAgICAgKQogICAgICAgIGF4X3RlbXAuZ3JpZChU
cnVlLCBhbHBoYT0wLjMpCiAgICAgICAgYXhfdGVtcC5sZWdlbmQobG9jPSJ1cHBlciByaWdodCIs
IGZvbnRzaXplPTgpCgogICAgICAgIGF4X3ByZXNzLnNldF90aXRsZSgiUHJlc3N1cmUgT3ZlciBU
aW1lIikKICAgICAgICBheF9wcmVzcy5zZXRfeWxhYmVsKCJQcmVzc3VyZSIpCiAgICAgICAgYXhf
cHJlc3Muc2V0X3hsYWJlbCgiVGltZSAocykiKQogICAgICAgIHNlbGYuX3ByZXNzX2xpbmVfYWN0
dWFsLCA9IGF4X3ByZXNzLnBsb3QoW10sIFtdLCBjb2xvcj0iIzJjYTAyYyIsIGxpbmV3aWR0aD0x
LjYsIGxhYmVsPSJBY3R1YWwgUHJlc3N1cmUiKQogICAgICAgIHNlbGYuX3ByZXNzX2xpbmVfdGFy
Z2V0LCA9IGF4X3ByZXNzLnBsb3QoCiAgICAgICAgICAgIFtdLCBbXSwgY29sb3I9IiNmZjdmMGUi
LCBsaW5lc3R5bGU9Ii0tIiwgbGluZXdpZHRoPTEuMiwgbGFiZWw9IlRhcmdldCBQcmVzc3VyZSIK
ICAgICAgICApCiAgICAgICAgYXhfcHJlc3MuZ3JpZChUcnVlLCBhbHBoYT0wLjMpCiAgICAgICAg
YXhfcHJlc3MubGVnZW5kKGxvYz0idXBwZXIgcmlnaHQiLCBmb250c2l6ZT04KQoKICAgICAgICBz
ZWxmLmNoYXJ0X2NhbnZhcyA9IEZpZ3VyZUNhbnZhc1RrQWdnKHNlbGYuX2NoYXJ0X2ZpZywgbWFz
dGVyPWNoYXJ0c19mcmFtZSkKICAgICAgICBzZWxmLmNoYXJ0X2NhbnZhcy5nZXRfdGtfd2lkZ2V0
KCkucGFjayhmaWxsPXRrLkJPVEgsIGV4cGFuZD1UcnVlLCBwYWR4PTQsIHBhZHk9NCkKCiAgICAg
ICAgaWYgc2VsZi5fdXNlX2ludGVybmFsX2xvZzoKICAgICAgICAgICAgbG9nX2ZyYW1lID0gdHRr
LkxhYmVsZnJhbWUobWFpbiwgdGV4dD0i5pel5b+XIikKICAgICAgICAgICAgbG9nX2ZyYW1lLnBh
Y2soZmlsbD10ay5CT1RILCBleHBhbmQ9VHJ1ZSwgcGFkeT04KQogICAgICAgICAgICBzZWxmLmxv
Z190ZXh0ID0gc2Nyb2xsZWR0ZXh0LlNjcm9sbGVkVGV4dChsb2dfZnJhbWUsIGhlaWdodD0xNSkK
ICAgICAgICAgICAgc2VsZi5sb2dfdGV4dC5wYWNrKGZpbGw9dGsuQk9USCwgZXhwYW5kPVRydWUs
IHBhZHg9NCwgcGFkeT00KQoKICAgICMgTWF0cml4IGhlbHBlcnMgLS0tLS0tLS0tLS0tLS0tLS0t
LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCiAgICBkZWYgX2luaXRfZGVmYXVs
dF9tYXRyaXgoc2VsZikgLT4gTm9uZToKICAgICAgICBmb3IgdmFsdWUgaW4gKDI1LCAzNSwgNDUp
OgogICAgICAgICAgICBzZWxmLmFkZF90ZW1wZXJhdHVyZV9jb2x1bW4oc3RyKHZhbHVlKSkKICAg
ICAgICBmb3IgdmFsdWUgaW4gKDUwMCwgMTAwMCwgMTUwMCk6CiAgICAgICAgICAgIHNlbGYuYWRk
X2N1cnJlbnRfcm93KHN0cih2YWx1ZSkpCiAgICAgICAgc2VsZi5yZXNldF9tYXRyaXhfc3RhdHVz
ZXMoKQoKICAgIGRlZiBhZGRfdGVtcGVyYXR1cmVfY29sdW1uKHNlbGYsIHZhbHVlOiBPcHRpb25h
bFtzdHJdID0gTm9uZSkgLT4gTm9uZToKICAgICAgICB2YXIgPSB0ay5TdHJpbmdWYXIodmFsdWU9
dmFsdWUgb3IgIiIpCiAgICAgICAgc2VsZi50ZW1wZXJhdHVyZV92YXJzLmFwcGVuZCh2YXIpCiAg
ICAgICAgc2VsZi5fcmVuZGVyX21hdHJpeF90YWJsZSgpCgogICAgZGVmIHJlbW92ZV90ZW1wZXJh
dHVyZV9jb2x1bW4oc2VsZikgLT4gTm9uZToKICAgICAgICBpZiBub3Qgc2VsZi50ZW1wZXJhdHVy
ZV92YXJzOgogICAgICAgICAgICByZXR1cm4KICAgICAgICBzZWxmLnRlbXBlcmF0dXJlX3ZhcnMu
cG9wKCkKICAgICAgICBzZWxmLl9yZW5kZXJfbWF0cml4X3RhYmxlKCkKCiAgICBkZWYgYWRkX2N1
cnJlbnRfcm93KHNlbGYsIHZhbHVlOiBPcHRpb25hbFtzdHJdID0gTm9uZSkgLT4gTm9uZToKICAg
ICAgICB2YXIgPSB0ay5TdHJpbmdWYXIodmFsdWU9dmFsdWUgb3IgIiIpCiAgICAgICAgc2VsZi5j
dXJyZW50X3ZhcnMuYXBwZW5kKHZhcikKICAgICAgICBzZWxmLl9yZW5kZXJfbWF0cml4X3RhYmxl
KCkKCiAgICBkZWYgcmVtb3ZlX2N1cnJlbnRfcm93KHNlbGYpIC0+IE5vbmU6CiAgICAgICAgaWYg
bm90IHNlbGYuY3VycmVudF92YXJzOgogICAgICAgICAgICByZXR1cm4KICAgICAgICBzZWxmLmN1
cnJlbnRfdmFycy5wb3AoKQogICAgICAgIHNlbGYuX3JlbmRlcl9tYXRyaXhfdGFibGUoKQoKICAg
IGRlZiBfcmVuZGVyX21hdHJpeF90YWJsZShzZWxmKSAtPiBOb25lOgogICAgICAgIGZvciB3aWRn
ZXQgaW4gc2VsZi5tYXRyaXhfZ3JpZC53aW5mb19jaGlsZHJlbigpOgogICAgICAgICAgICB3aWRn
ZXQuZGVzdHJveSgpCiAgICAgICAgc2VsZi5jZWxsX2xhYmVscy5jbGVhcigpCiAgICAgICAgY3Vy
cmVudF9zdGF0ZXMgPSBkaWN0KHNlbGYuY2VsbF9zdGF0ZXMpCgogICAgICAgIGhlYWRlciA9IHR0
ay5MYWJlbChzZWxmLm1hdHJpeF9ncmlkLCB0ZXh0PSLnlLXmtYHihpLmuKnluqYiLCBhbmNob3I9
dGsuQ0VOVEVSLCB3aWR0aD0xMiwgYm9vdHN0eWxlPVNFQ09OREFSWSkKICAgICAgICBoZWFkZXIu
Z3JpZChyb3c9MCwgY29sdW1uPTAsIHBhZHg9MiwgcGFkeT0yLCBzdGlja3k9dGsuTlNFVykKCiAg
ICAgICAgZm9yIGNvbCwgdmFyIGluIGVudW1lcmF0ZShzZWxmLnRlbXBlcmF0dXJlX3ZhcnMsIHN0
YXJ0PTEpOgogICAgICAgICAgICBlbnRyeSA9IHR0ay5FbnRyeShzZWxmLm1hdHJpeF9ncmlkLCB0
ZXh0dmFyaWFibGU9dmFyLCB3aWR0aD0xMCkKICAgICAgICAgICAgZW50cnkuZ3JpZChyb3c9MCwg
Y29sdW1uPWNvbCwgcGFkeD0yLCBwYWR5PTIsIHN0aWNreT10ay5OU0VXKQoKICAgICAgICBmb3Ig
cm93LCB2YXIgaW4gZW51bWVyYXRlKHNlbGYuY3VycmVudF92YXJzLCBzdGFydD0xKToKICAgICAg
ICAgICAgZW50cnkgPSB0dGsuRW50cnkoc2VsZi5tYXRyaXhfZ3JpZCwgdGV4dHZhcmlhYmxlPXZh
ciwgd2lkdGg9MTApCiAgICAgICAgICAgIGVudHJ5LmdyaWQocm93PXJvdywgY29sdW1uPTAsIHBh
ZHg9MiwgcGFkeT0yLCBzdGlja3k9dGsuTlNFVykKICAgICAgICAgICAgZm9yIGNvbCBpbiByYW5n
ZShsZW4oc2VsZi50ZW1wZXJhdHVyZV92YXJzKSk6CiAgICAgICAgICAgICAgICBsYWJlbCA9IHR0
ay5MYWJlbChzZWxmLm1hdHJpeF9ncmlkLCB0ZXh0PSLlvoXmtYsiLCB3aWR0aD0xMCwgYW5jaG9y
PXRrLkNFTlRFUiwgYm9vdHN0eWxlPVNFQ09OREFSWSkKICAgICAgICAgICAgICAgIGxhYmVsLmdy
aWQocm93PXJvdywgY29sdW1uPWNvbCArIDEsIHBhZHg9MiwgcGFkeT0yLCBzdGlja3k9dGsuTlNF
VykKICAgICAgICAgICAgICAgIGtleSA9IChyb3cgLSAxLCBjb2wpCiAgICAgICAgICAgICAgICBz
ZWxmLmNlbGxfbGFiZWxzW2tleV0gPSBsYWJlbAogICAgICAgICAgICAgICAgc3RhdGUgPSBjdXJy
ZW50X3N0YXRlcy5nZXQoa2V5LCAoInBlbmRpbmciLCAi5b6F5rWLIikpCiAgICAgICAgICAgICAg
ICBzZWxmLl9hcHBseV9jZWxsX3N0YXRlKGtleSwgc3RhdGVbMF0sIHN0YXRlWzFdKQogICAgICAg
IHNlbGYuY2VsbF9zdGF0ZXMgPSB7azogdiBmb3IgaywgdiBpbiBjdXJyZW50X3N0YXRlcy5pdGVt
cygpIGlmIGsgaW4gc2VsZi5jZWxsX2xhYmVsc30KCiAgICBkZWYgX2FwcGx5X2NlbGxfc3RhdGUo
c2VsZiwga2V5OiBUdXBsZVtpbnQsIGludF0sIHN0YXRlOiBzdHIsIHRleHQ6IE9wdGlvbmFsW3N0
cl0gPSBOb25lKSAtPiBOb25lOgogICAgICAgIGxhYmVsID0gc2VsZi5jZWxsX2xhYmVscy5nZXQo
a2V5KQogICAgICAgIGlmIG5vdCBsYWJlbDoKICAgICAgICAgICAgcmV0dXJuCiAgICAgICAgc3R5
bGVzID0gewogICAgICAgICAgICAicGVuZGluZyI6ICgi5b6F5rWLIiBpZiB0ZXh0IGlzIE5vbmUg
ZWxzZSB0ZXh0LCAic2Vjb25kYXJ5IiksCiAgICAgICAgICAgICJydW5uaW5nIjogKCLov5vooYzk
uK0iIGlmIHRleHQgaXMgTm9uZSBlbHNlIHRleHQsICJpbmZvIiksCiAgICAgICAgICAgICJzdWNj
ZXNzIjogKCLlrozmiJAiIGlmIHRleHQgaXMgTm9uZSBlbHNlIHRleHQsICJzdWNjZXNzIiksCiAg
ICAgICAgICAgICJ0aW1lb3V0IjogKCLotoXml7YiIGlmIHRleHQgaXMgTm9uZSBlbHNlIHRleHQs
ICJkYW5nZXIiKSwKICAgICAgICAgICAgImVycm9yIjogKCLlpLHotKUiIGlmIHRleHQgaXMgTm9u
ZSBlbHNlIHRleHQsICJkYW5nZXIiKSwKICAgICAgICB9CiAgICAgICAgZGlzcGxheV90ZXh0LCBz
dHlsZSA9IHN0eWxlcy5nZXQoc3RhdGUsICh0ZXh0IG9yICI/IiwgInNlY29uZGFyeSIpKQogICAg
ICAgIGxhYmVsLmNvbmZpZ3VyZSh0ZXh0PWRpc3BsYXlfdGV4dCwgYm9vdHN0eWxlPXN0eWxlKQog
ICAgICAgIHNlbGYuY2VsbF9zdGF0ZXNba2V5XSA9IChzdGF0ZSwgZGlzcGxheV90ZXh0KQoKICAg
IGRlZiByZXNldF9tYXRyaXhfc3RhdHVzZXMoc2VsZikgLT4gTm9uZToKICAgICAgICBmb3Iga2V5
IGluIGxpc3Qoc2VsZi5jZWxsX2xhYmVscy5rZXlzKCkpOgogICAgICAgICAgICBzZWxmLl9hcHBs
eV9jZWxsX3N0YXRlKGtleSwgInBlbmRpbmciKQoKICAgICMgUnVubmVyIGludGVncmF0aW9uIC0t
LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCiAgICBkZWYg
Z2V0X3Jvd19jb3VudChzZWxmKSAtPiBpbnQ6CiAgICAgICAgcmV0dXJuIGxlbihzZWxmLmN1cnJl
bnRfdmFycykKCiAgICBkZWYgZ2V0X2NvbF9jb3VudChzZWxmKSAtPiBpbnQ6CiAgICAgICAgcmV0
dXJuIGxlbihzZWxmLnRlbXBlcmF0dXJlX3ZhcnMpCgogICAgZGVmIG1hcmtfY2VsbF9pbl9wcm9n
cmVzcyhzZWxmLCByb3c6IGludCwgY29sOiBpbnQpIC0+IE5vbmU6CiAgICAgICAgc2VsZi5hZnRl
cigwLCBsYW1iZGE6IHNlbGYuX2FwcGx5X2NlbGxfc3RhdGUoKHJvdywgY29sKSwgInJ1bm5pbmci
KSkKCiAgICBkZWYgbWFya19jZWxsX2RvbmUoc2VsZiwgcm93OiBpbnQsIGNvbDogaW50KSAtPiBO
b25lOgogICAgICAgIHNlbGYuYWZ0ZXIoMCwgbGFtYmRhOiBzZWxmLl9hcHBseV9jZWxsX3N0YXRl
KChyb3csIGNvbCksICJzdWNjZXNzIikpCgogICAgZGVmIG1hcmtfY2VsbF90aW1lb3V0KHNlbGYs
IHJvdzogaW50LCBjb2w6IGludCwgcmVhc29uOiBzdHIpIC0+IE5vbmU6CiAgICAgICAgc2VsZi5s
b2coZiJbe3JvdysxfSwge2NvbCsxfV0g6LaF5pe277yae3JlYXNvbn0iKQogICAgICAgIHNlbGYu
YWZ0ZXIoMCwgbGFtYmRhOiBzZWxmLl9hcHBseV9jZWxsX3N0YXRlKChyb3csIGNvbCksICJ0aW1l
b3V0IikpCgogICAgZGVmIG1hcmtfY2VsbF9lcnJvcihzZWxmLCByb3c6IGludCwgY29sOiBpbnQs
IHJlYXNvbjogc3RyKSAtPiBOb25lOgogICAgICAgIHNlbGYubG9nKGYiW3tyb3crMX0sIHtjb2wr
MX1dIOWksei0pe+8mntyZWFzb259IikKICAgICAgICBzZWxmLmFmdGVyKDAsIGxhbWJkYTogc2Vs
Zi5fYXBwbHlfY2VsbF9zdGF0ZSgocm93LCBjb2wpLCAiZXJyb3IiKSkKCiAgICBkZWYgbWFya19j
b2x1bW5fZXJyb3Ioc2VsZiwgY29sOiBpbnQsIHJlYXNvbjogc3RyKSAtPiBOb25lOgogICAgICAg
IGZvciByb3cgaW4gcmFuZ2Uoc2VsZi5nZXRfcm93X2NvdW50KCkpOgogICAgICAgICAgICBzZWxm
Lm1hcmtfY2VsbF9lcnJvcihyb3csIGNvbCwgcmVhc29uKQoKICAgIGRlZiBtYXJrX2NvbHVtbl90
aW1lb3V0KHNlbGYsIGNvbDogaW50LCByZWFzb246IHN0cikgLT4gTm9uZToKICAgICAgICBmb3Ig
cm93IGluIHJhbmdlKHNlbGYuZ2V0X3Jvd19jb3VudCgpKToKICAgICAgICAgICAgc2VsZi5tYXJr
X2NlbGxfdGltZW91dChyb3csIGNvbCwgcmVhc29uKQoKICAgIGRlZiBidWlsZF9wbGFuKHNlbGYp
IC0+IERpY3Q6CiAgICAgICAgdGVtcHMgPSBzZWxmLl9jb2xsZWN0X251bWJlcnMoc2VsZi50ZW1w
ZXJhdHVyZV92YXJzLCAi5rip5bqmIikKICAgICAgICBjdXJyZW50cyA9IHNlbGYuX2NvbGxlY3Rf
bnVtYmVycyhzZWxmLmN1cnJlbnRfdmFycywgIueUtea1gSIpCiAgICAgICAgaWYgbm90IHRlbXBz
OgogICAgICAgICAgICByYWlzZSBWYWx1ZUVycm9yKCLor7foh7PlsJHovpPlhaXkuIDkuKrmuKnl
uqbnm67moIciKQogICAgICAgIGlmIG5vdCBjdXJyZW50czoKICAgICAgICAgICAgcmFpc2UgVmFs
dWVFcnJvcigi6K+36Iez5bCR6L6T5YWl5LiA5Liq55S15rWB55uu5qCHIikKICAgICAgICB0aW1l
b3V0ID0gbWF4KDUuMCwgZmxvYXQoc2VsZi5jZWxsX3RpbWVvdXRfdmFyLmdldCgpKSkKICAgICAg
ICBjb25maXJtX25lZWQgPSBtYXgoMSwgaW50KHNlbGYuY29uZmlybV9jb3VudF92YXIuZ2V0KCkp
KQogICAgICAgIHRyeToKICAgICAgICAgICAgcHJlc3Nfd2luZG93ID0gbWF4KDEuMCwgZmxvYXQo
c2VsZi5wcmVzc19zZXR0bGVfd2luZG93X3Zhci5nZXQoKSkpCiAgICAgICAgZXhjZXB0IEV4Y2Vw
dGlvbjoKICAgICAgICAgICAgcHJlc3Nfd2luZG93ID0gREVGQVVMVF9QUkVTU19TVEFCTEVfV0lO
RE9XCiAgICAgICAgdHJ5OgogICAgICAgICAgICBwcmVzc19mbHVjdF9yYW5nZSA9IG1heCgwLjAs
IGZsb2F0KHNlbGYucHJlc3Nfc2V0dGxlX3JhbmdlX3Zhci5nZXQoKSkpCiAgICAgICAgZXhjZXB0
IEV4Y2VwdGlvbjoKICAgICAgICAgICAgcHJlc3NfZmx1Y3RfcmFuZ2UgPSBzZWxmLl9nZXRfcHJl
c3N1cmVfdG9sZXJhbmNlKERFRkFVTFRfUFJFU1NfRkxVQ1RfUkFOR0UpCiAgICAgICAgcHJlc3Nf
bWFlID0gc2VsZi5fZ2V0X3ByZXNzdXJlX3RvbGVyYW5jZShERUZBVUxUX1BSRVNTX01BRSkKICAg
ICAgICBwbGFuID0gewogICAgICAgICAgICAidGVtcF9ob3N0IjogVEVNUF9ERUZBVUxUX0hPU1Qs
CiAgICAgICAgICAgICJ0ZW1wX3BvcnQiOiBURU1QX0RFRkFVTFRfUE9SVCwKICAgICAgICAgICAg
InByZXNzX2hvc3QiOiBQUkVTU19ERUZBVUxUX0hPU1QsCiAgICAgICAgICAgICJwcmVzc19wb3J0
IjogUFJFU1NfREVGQVVMVF9QT1JULAogICAgICAgICAgICAidGVtcGVyYXR1cmVzIjogdGVtcHMs
CiAgICAgICAgICAgICJwcmVzc3VyZXMiOiBjdXJyZW50cywKICAgICAgICAgICAgImNlbGxfdGlt
ZW91dCI6IHRpbWVvdXQsCiAgICAgICAgICAgICJ0ZW1wX21hZSI6IERFRkFVTFRfVEVNUF9NQUUs
CiAgICAgICAgICAgICJ0ZW1wX2hvbGQiOiBERUZBVUxUX1RFTVBfSE9MRCwKICAgICAgICAgICAg
InRlbXBfcmVjaGVja19ob2xkIjogREVGQVVMVF9URU1QX1JFQ0hFQ0tfSE9MRCwKICAgICAgICAg
ICAgInByZXNzX21hZSI6IHByZXNzX21hZSwKICAgICAgICAgICAgInByZXNzX2hvbGQiOiBERUZB
VUxUX1BSRVNTX0hPTEQsCiAgICAgICAgICAgICJyZXBlYXRfY29uZmlybSI6IGNvbmZpcm1fbmVl
ZCwKICAgICAgICAgICAgInByZXNzX3NldHRsZV93aW5kb3ciOiBwcmVzc193aW5kb3csCiAgICAg
ICAgICAgICJwcmVzc19zZXR0bGVfcmFuZ2UiOiBwcmVzc19mbHVjdF9yYW5nZSwKICAgICAgICB9
CiAgICAgICAgdHJ5OgogICAgICAgICAgICBkZWxheV9tcyA9IG1heCgwLCBpbnQoc2VsZi5zaW1f
Y2xpY2tfZGVsYXlfdmFyLmdldCgpKSkKICAgICAgICBleGNlcHQgRXhjZXB0aW9uOgogICAgICAg
ICAgICBkZWxheV9tcyA9IDAKICAgICAgICB0cnk6CiAgICAgICAgICAgIHJlcGVhdCA9IG1heCgx
LCBpbnQoc2VsZi5zaW1fY2xpY2tfcmVwZWF0X3Zhci5nZXQoKSkpCiAgICAgICAgZXhjZXB0IEV4
Y2VwdGlvbjoKICAgICAgICAgICAgcmVwZWF0ID0gMQogICAgICAgIHRyeToKICAgICAgICAgICAg
Y29vbGRvd24gPSBtYXgoMCwgaW50KHNlbGYuc2ltX2NsaWNrX2Nvb2xkb3duX3Zhci5nZXQoKSkp
CiAgICAgICAgZXhjZXB0IEV4Y2VwdGlvbjoKICAgICAgICAgICAgY29vbGRvd24gPSAwCiAgICAg
ICAgc2ltX2VuYWJsZWQgPSBib29sKHNlbGYuc2ltX2NsaWNrX2VuYWJsZWQuZ2V0KCkpCiAgICAg
ICAgaWYgc2ltX2VuYWJsZWQgYW5kIG5vdCBzZWxmLnNpbV9jbGlja19wb3M6CiAgICAgICAgICAg
IHJhaXNlIFZhbHVlRXJyb3IoIuivt+WFiOiuvue9ruaooeaLn+eCueWHu+eCuSIpCiAgICAgICAg
YXV0b190ZXN0ID0gewogICAgICAgICAgICAic2ltX2NsaWNrIjogewogICAgICAgICAgICAgICAg
ImVuYWJsZWQiOiBzaW1fZW5hYmxlZCwKICAgICAgICAgICAgICAgICJwb2ludCI6IGxpc3Qoc2Vs
Zi5zaW1fY2xpY2tfcG9zKSBpZiBzZWxmLnNpbV9jbGlja19wb3MgZWxzZSBOb25lLAogICAgICAg
ICAgICAgICAgImRlbGF5X21zIjogZGVsYXlfbXMsCiAgICAgICAgICAgICAgICAicmVwZWF0Ijog
cmVwZWF0LAogICAgICAgICAgICAgICAgImNvb2xkb3duX21zIjogY29vbGRvd24sCiAgICAgICAg
ICAgIH0sCiAgICAgICAgICAgICJwaXhlbCI6IHsKICAgICAgICAgICAgICAgICJlbmFibGVkIjog
Ym9vbChzZWxmLnBpeGVsX2RldGVjdGlvbl9lbmFibGVkLmdldCgpKSwKICAgICAgICAgICAgICAg
ICJyZWdpb24iOiBsaXN0KHNlbGYucGl4ZWxfZGV0ZWN0aW9uX3JlZ2lvbikgaWYgc2VsZi5waXhl
bF9kZXRlY3Rpb25fcmVnaW9uIGVsc2UgTm9uZSwKICAgICAgICAgICAgICAgICJzZW5zaXRpdml0
eSI6IGZsb2F0KHNlbGYucGl4ZWxfc2Vuc2l0aXZpdHlfdmFyLmdldCgpKSwKICAgICAgICAgICAg
ICAgICJ0aW1lb3V0IjogZmxvYXQoc2VsZi5waXhlbF90aW1lb3V0X3Zhci5nZXQoKSksCiAgICAg
ICAgICAgICAgICAiaW50ZXJ2YWxfbXMiOiBpbnQoc2VsZi5kZXRlY3Rpb25faW50ZXJ2YWxfdmFy
LmdldCgpKSwKICAgICAgICAgICAgICAgICJsb2dfZW5hYmxlZCI6IGJvb2woc2VsZi5waXhlbF9s
b2dfZW5hYmxlZC5nZXQoKSksCiAgICAgICAgICAgIH0sCiAgICAgICAgfQogICAgICAgIGlmIGF1
dG9fdGVzdFsicGl4ZWwiXVsiZW5hYmxlZCJdIGFuZCBub3QgYXV0b190ZXN0WyJwaXhlbCJdWyJy
ZWdpb24iXToKICAgICAgICAgICAgcmFpc2UgVmFsdWVFcnJvcigi6K+35YWI6K6+572u5YOP57Sg
5qOA5rWL5Yy65Z+fIikKICAgICAgICBwbGFuWyJhdXRvX3Rlc3QiXSA9IGF1dG9fdGVzdAogICAg
ICAgIHBsYW5bInNpbV9jbGljayJdID0gYXV0b190ZXN0WyJzaW1fY2xpY2siXQogICAgICAgIHJl
dHVybiBwbGFuCgogICAgZGVmIF9wcmVmbGlnaHRfY2hlY2tfY29udHJvbGxlcnMoc2VsZikgLT4g
VHVwbGVbYm9vbCwgc3RyXToKICAgICAgICB0ZW1wX29rLCB0ZW1wX21zZyA9IHNlbGYuX3Bpbmdf
Y29udHJvbGxlcigKICAgICAgICAgICAgIua4qeaOpyIsIFRFTVBfREVGQVVMVF9IT1NULCBURU1Q
X0RFRkFVTFRfUE9SVCwgaGFuZGxlcj1zZWxmLl90ZW1wX2hhbmRsZXIsIGxvY2s9c2VsZi5fdGVt
cF9oYW5kbGVyX2xvY2sKICAgICAgICApCiAgICAgICAgcHJlc3Nfb2ssIHByZXNzX21zZyA9IHNl
bGYuX3BpbmdfY29udHJvbGxlcigKICAgICAgICAgICAgIuWOi+WKmyIsIFBSRVNTX0RFRkFVTFRf
SE9TVCwgUFJFU1NfREVGQVVMVF9QT1JULCBoYW5kbGVyPXNlbGYuX3ByZXNzX2hhbmRsZXIsIGxv
Y2s9c2VsZi5fcHJlc3NfaGFuZGxlcl9sb2NrCiAgICAgICAgKQogICAgICAgIGlmIHRlbXBfb2sg
YW5kIHByZXNzX29rOgogICAgICAgICAgICByZXR1cm4gVHJ1ZSwgIiIKICAgICAgICByZWFzb25z
ID0gW10KICAgICAgICBpZiBub3QgdGVtcF9vazoKICAgICAgICAgICAgcmVhc29ucy5hcHBlbmQo
ZiLmuKnmjqfov57mjqXlpLHotKXvvJp7dGVtcF9tc2d9IikKICAgICAgICBpZiBub3QgcHJlc3Nf
b2s6CiAgICAgICAgICAgIHJlYXNvbnMuYXBwZW5kKGYi5Y6L5Yqb6L+e5o6l5aSx6LSl77yae3By
ZXNzX21zZ30iKQogICAgICAgIHJldHVybiBGYWxzZSwgIu+8myIuam9pbihyZWFzb25zKQoKICAg
IGRlZiBfY29sbGVjdF9udW1iZXJzKHNlbGYsIHZhcnNfbGlzdDogTGlzdFt0ay5TdHJpbmdWYXJd
LCBuYW1lOiBzdHIpIC0+IExpc3RbZmxvYXRdOgogICAgICAgIHZhbHVlczogTGlzdFtmbG9hdF0g
PSBbXQogICAgICAgIGZvciBpZHgsIHZhciBpbiBlbnVtZXJhdGUodmFyc19saXN0LCBzdGFydD0x
KToKICAgICAgICAgICAgdGV4dCA9IHZhci5nZXQoKS5zdHJpcCgpCiAgICAgICAgICAgIGlmIG5v
dCB0ZXh0OgogICAgICAgICAgICAgICAgcmFpc2UgVmFsdWVFcnJvcihmIntuYW1lfeesrCB7aWR4
fSDpobnkuLrnqboiKQogICAgICAgICAgICB0cnk6CiAgICAgICAgICAgICAgICB2YWx1ZXMuYXBw
ZW5kKGZsb2F0KHRleHQpKQogICAgICAgICAgICBleGNlcHQgVmFsdWVFcnJvcjoKICAgICAgICAg
ICAgICAgIHJhaXNlIFZhbHVlRXJyb3IoZiJ7bmFtZX3nrKwge2lkeH0g6aG55qC85byP6ZSZ6K+v
77yae3RleHR9IikgZnJvbSBOb25lCiAgICAgICAgcmV0dXJuIHZhbHVlcwoKICAgIGRlZiBfZ2V0
X3ByZXNzdXJlX3RvbGVyYW5jZShzZWxmLCBmYWxsYmFjazogZmxvYXQpIC0+IGZsb2F0OgogICAg
ICAgIGNvbnRyb2xsZXIgPSBnZXRhdHRyKHNlbGYsICJfcHJlc3N1cmVfY29udHJvbGxlciIsIE5v
bmUpCiAgICAgICAgaWYgY29udHJvbGxlciBpcyBOb25lOgogICAgICAgICAgICByZXR1cm4gZmxv
YXQoZmFsbGJhY2spCiAgICAgICAgY2FuZGlkYXRlcyA9IFtdCiAgICAgICAgdHJ5OgogICAgICAg
ICAgICB0b2xfYXR0ciA9IGdldGF0dHIoY29udHJvbGxlciwgInByZXNzdXJlX3RvbGVyYW5jZSIs
IE5vbmUpCiAgICAgICAgICAgIGlmIHRvbF9hdHRyIGlzIG5vdCBOb25lOgogICAgICAgICAgICAg
ICAgY2FuZGlkYXRlcy5hcHBlbmQodG9sX2F0dHIpCiAgICAgICAgZXhjZXB0IEV4Y2VwdGlvbjoK
ICAgICAgICAgICAgcGFzcwogICAgICAgIHRyeToKICAgICAgICAgICAgdG9sX3ZhciA9IGdldGF0
dHIoY29udHJvbGxlciwgInRvbGVyYW5jZV92YXIiLCBOb25lKQogICAgICAgICAgICBpZiB0b2xf
dmFyIGlzIG5vdCBOb25lOgogICAgICAgICAgICAgICAgY2FuZGlkYXRlcy5hcHBlbmQodG9sX3Zh
cikKICAgICAgICBleGNlcHQgRXhjZXB0aW9uOgogICAgICAgICAgICBwYXNzCiAgICAgICAgZm9y
IGNhbmRpZGF0ZSBpbiBjYW5kaWRhdGVzOgogICAgICAgICAgICB0cnk6CiAgICAgICAgICAgICAg
ICBpZiBpc2luc3RhbmNlKGNhbmRpZGF0ZSwgdGsuVmFyaWFibGUpOgogICAgICAgICAgICAgICAg
ICAgIHZhbHVlID0gY2FuZGlkYXRlLmdldCgpCiAgICAgICAgICAgICAgICBlbHNlOgogICAgICAg
ICAgICAgICAgICAgIHZhbHVlID0gY2FuZGlkYXRlCiAgICAgICAgICAgICAgICByZXR1cm4gZmxv
YXQodmFsdWUpCiAgICAgICAgICAgIGV4Y2VwdCBFeGNlcHRpb246CiAgICAgICAgICAgICAgICBj
b250aW51ZQogICAgICAgIHJldHVybiBmbG9hdChmYWxsYmFjaykKCiAgICBkZWYgc2V0X3NpbV9j
bGlja19wb2ludChzZWxmKSAtPiBOb25lOgogICAgICAgIHBvcyA9IGNhcHR1cmVfY2xpY2tfcG9p
bnQoCiAgICAgICAgICAgIHNlbGYsCiAgICAgICAgICAgIHRpdGxlPSLorr7nva7mqKHmi5/ngrnl
h7vngrkiLAogICAgICAgICAgICBoaW50PSLnp7vliqjpvKDmoIfliLDnm67moIfova/ku7bmjInp
kq7lpITvvIzmjIkgRW50ZXIg6ZSu6K6w5b2VIiwKICAgICAgICAgICAgcmVwb3J0ZXI9c2VsZi5s
b2csCiAgICAgICAgKQogICAgICAgIGlmIHBvczoKICAgICAgICAgICAgc2VsZi5zaW1fY2xpY2tf
cG9zID0gKGludChwb3NbMF0pLCBpbnQocG9zWzFdKSkKICAgICAgICAgICAgc2VsZi5zaW1fY2xp
Y2tfZGlzcGxheV92YXIuc2V0KGYie2ludChwb3NbMF0pfSwge2ludChwb3NbMV0pfSIpCiAgICAg
ICAgZWxzZToKICAgICAgICAgICAgc2VsZi5zaW1fY2xpY2tfZGlzcGxheV92YXIuc2V0KCLmnKro
rr7nva4iKQoKICAgIGRlZiBzZXRfaW5kaWNhdG9yX2NvbG9yKHNlbGYsIGNvbG9yOiBzdHIpIC0+
IE5vbmU6CiAgICAgICAgdHJ5OgogICAgICAgICAgICBzZWxmLmluZGljYXRvcl9jYW52YXMuaXRl
bWNvbmZpZyhzZWxmLmluZGljYXRvcl9jaXJjbGUsIGZpbGw9Y29sb3IpCiAgICAgICAgICAgIGlm
IGNvbG9yID09ICJncmVlbiI6CiAgICAgICAgICAgICAgICBzZWxmLmFmdGVyKDYwMCwgbGFtYmRh
OiBzZWxmLnNldF9pbmRpY2F0b3JfY29sb3IoInJlZCIpKQogICAgICAgIGV4Y2VwdCBFeGNlcHRp
b246CiAgICAgICAgICAgIHBhc3MKCiAgICBkZWYgX2NhcHR1cmVfcGl4ZWxfYmFzZWxpbmUoc2Vs
ZikgLT4gYm9vbDoKICAgICAgICBpZiBweWF1dG9ndWkgaXMgTm9uZSBvciBub3Qgc2VsZi5waXhl
bF9kZXRlY3Rpb25fcmVnaW9uOgogICAgICAgICAgICByZXR1cm4gRmFsc2UKICAgICAgICB0cnk6
CiAgICAgICAgICAgIHNuYXAgPSBweWF1dG9ndWkuc2NyZWVuc2hvdChyZWdpb249c2VsZi5waXhl
bF9kZXRlY3Rpb25fcmVnaW9uKQogICAgICAgICAgICBpZiBzbmFwLm1vZGUgIT0gIlJHQiI6CiAg
ICAgICAgICAgICAgICBzbmFwID0gc25hcC5jb252ZXJ0KCJSR0IiKQogICAgICAgICAgICBzZWxm
LmluaXRpYWxfcGl4ZWxfc25hcHNob3QgPSBzbmFwCiAgICAgICAgICAgIHNlbGYucHJldl9waXhl
bF9zbmFwc2hvdCA9IE5vbmUKICAgICAgICAgICAgcmV0dXJuIFRydWUKICAgICAgICBleGNlcHQg
RXhjZXB0aW9uIGFzIGV4YzoKICAgICAgICAgICAgc2VsZi5sb2coZiLln7rnur/miKrlm77lpLHo
tKXvvJp7ZXhjfSIpCiAgICAgICAgICAgIHJldHVybiBGYWxzZQoKICAgIGRlZiBzZXRfcGl4ZWxf
ZGV0ZWN0aW9uX3JlZ2lvbihzZWxmKSAtPiBOb25lOgogICAgICAgIG1lc3NhZ2Vib3guc2hvd2lu
Zm8oIuiuvue9ruajgOa1i+WMuuWfnyIsICLor7fnlKjpvKDmoIfmoYbpgInpnIDopoHmo4DmtYvn
moTlsY/luZXljLrln5/vvIzmjIkgRW50ZXIg6ZSu56Gu6K6k44CCIikKICAgICAgICBvdmVybGF5
ID0gdGsuVG9wbGV2ZWwoc2VsZikKICAgICAgICBvdmVybGF5LmF0dHJpYnV0ZXMoIi1mdWxsc2Ny
ZWVuIiwgVHJ1ZSkKICAgICAgICBvdmVybGF5LmF0dHJpYnV0ZXMoIi1hbHBoYSIsIDAuMykKICAg
ICAgICBvdmVybGF5LmF0dHJpYnV0ZXMoIi10b3Btb3N0IiwgVHJ1ZSkKICAgICAgICBvdmVybGF5
LmNvbmZpZ3VyZShiYWNrZ3JvdW5kPSJncmF5IikKICAgICAgICBvdmVybGF5LmdyYWJfc2V0KCkK
ICAgICAgICBvdmVybGF5LmZvY3VzX2ZvcmNlKCkKCiAgICAgICAgY2FudmFzID0gdGsuQ2FudmFz
KG92ZXJsYXksIGN1cnNvcj0iY3Jvc3MiLCBoaWdobGlnaHR0aGlja25lc3M9MCkKICAgICAgICBj
YW52YXMucGFjayhmaWxsPXRrLkJPVEgsIGV4cGFuZD1UcnVlKQogICAgICAgIGNhbnZhcy5mb2N1
c19zZXQoKQoKICAgICAgICBjb29yZHMgPSB7J3gxJzogMCwgJ3kxJzogMCwgJ3gyJzogMCwgJ3ky
JzogMCwgJ3JlY3QnOiBOb25lfQoKICAgICAgICBkZWYgb25fcHJlc3MoZXZlbnQ6IHRrLkV2ZW50
KSAtPiBOb25lOiAgIyB0eXBlOiBpZ25vcmVbdHlwZS1hcmddCiAgICAgICAgICAgIGNvb3Jkc1sn
eDEnXSwgY29vcmRzWyd5MSddID0gZXZlbnQueCwgZXZlbnQueQogICAgICAgICAgICBpZiBjb29y
ZHNbJ3JlY3QnXToKICAgICAgICAgICAgICAgIGNhbnZhcy5kZWxldGUoY29vcmRzWydyZWN0J10p
CiAgICAgICAgICAgIGNvb3Jkc1sncmVjdCddID0gY2FudmFzLmNyZWF0ZV9yZWN0YW5nbGUoY29v
cmRzWyd4MSddLCBjb29yZHNbJ3kxJ10sIGV2ZW50LngsIGV2ZW50LnksIG91dGxpbmU9InJlZCIs
IHdpZHRoPTIpCgogICAgICAgIGRlZiBvbl9kcmFnKGV2ZW50OiB0ay5FdmVudCkgLT4gTm9uZTog
ICMgdHlwZTogaWdub3JlW3R5cGUtYXJnXQogICAgICAgICAgICBjYW52YXMuY29vcmRzKGNvb3Jk
c1sncmVjdCddLCBjb29yZHNbJ3gxJ10sIGNvb3Jkc1sneTEnXSwgZXZlbnQueCwgZXZlbnQueSkK
CiAgICAgICAgZGVmIG9uX3JlbGVhc2UoZXZlbnQ6IHRrLkV2ZW50KSAtPiBOb25lOiAgIyB0eXBl
OiBpZ25vcmVbdHlwZS1hcmddCiAgICAgICAgICAgIGNvb3Jkc1sneDInXSwgY29vcmRzWyd5Midd
ID0gZXZlbnQueCwgZXZlbnQueQoKICAgICAgICBkZWYgb25fZW50ZXIoZXZlbnQ9Tm9uZSk6CiAg
ICAgICAgICAgIG92ZXJsYXkuZ3JhYl9yZWxlYXNlKCkKICAgICAgICAgICAgeDEsIHkxID0gY29v
cmRzWyd4MSddLCBjb29yZHNbJ3kxJ10KICAgICAgICAgICAgeDIsIHkyID0gY29vcmRzWyd4Midd
LCBjb29yZHNbJ3kyJ10KICAgICAgICAgICAgbGVmdCwgcmlnaHQgPSBzb3J0ZWQoKHgxLCB4Mikp
CiAgICAgICAgICAgIHRvcCwgYm90dG9tID0gc29ydGVkKCh5MSwgeTIpKQogICAgICAgICAgICB3
aWR0aCA9IG1heCgwLCByaWdodCAtIGxlZnQpCiAgICAgICAgICAgIGhlaWdodCA9IG1heCgwLCBi
b3R0b20gLSB0b3ApCiAgICAgICAgICAgIGFic194ID0gb3ZlcmxheS53aW5mb19yb290eCgpICsg
bGVmdAogICAgICAgICAgICBhYnNfeSA9IG92ZXJsYXkud2luZm9fcm9vdHkoKSArIHRvcAoKICAg
ICAgICAgICAgdHJ5OgogICAgICAgICAgICAgICAgaWYgd2lkdGggPD0gMCBvciBoZWlnaHQgPD0g
MDoKICAgICAgICAgICAgICAgICAgICByYWlzZSBWYWx1ZUVycm9yKCdzZWxlY3RlZCBhcmVhIHRv
byBzbWFsbCcpCgogICAgICAgICAgICAgICAgdHJ5OgogICAgICAgICAgICAgICAgICAgIHNjcmVl
bl93LCBzY3JlZW5faCA9IHB5YXV0b2d1aS5zaXplKCkgaWYgcHlhdXRvZ3VpIGVsc2UgKE5vbmUs
IE5vbmUpCiAgICAgICAgICAgICAgICBleGNlcHQgRXhjZXB0aW9uOgogICAgICAgICAgICAgICAg
ICAgIHNjcmVlbl93ID0gc2NyZWVuX2ggPSBOb25lCgogICAgICAgICAgICAgICAgaWYgc2NyZWVu
X3cgaXMgbm90IE5vbmUgYW5kIHNjcmVlbl9oIGlzIG5vdCBOb25lOgogICAgICAgICAgICAgICAg
ICAgIGFic194ID0gbWF4KDAsIG1pbihhYnNfeCwgc2NyZWVuX3cgLSAxKSkKICAgICAgICAgICAg
ICAgICAgICBhYnNfeSA9IG1heCgwLCBtaW4oYWJzX3ksIHNjcmVlbl9oIC0gMSkpCiAgICAgICAg
ICAgICAgICAgICAgd2lkdGggPSBtaW4od2lkdGgsIG1heCgwLCBzY3JlZW5fdyAtIGFic194KSkK
ICAgICAgICAgICAgICAgICAgICBoZWlnaHQgPSBtaW4oaGVpZ2h0LCBtYXgoMCwgc2NyZWVuX2gg
LSBhYnNfeSkpCiAgICAgICAgICAgICAgICAgICAgaWYgd2lkdGggPD0gMCBvciBoZWlnaHQgPD0g
MDoKICAgICAgICAgICAgICAgICAgICAgICAgcmFpc2UgVmFsdWVFcnJvcignc2VsZWN0ZWQgYXJl
YSB0b28gc21hbGwnKQoKICAgICAgICAgICAgICAgIHJlZ2lvbiA9IChpbnQoYWJzX3gpLCBpbnQo
YWJzX3kpLCBpbnQod2lkdGgpLCBpbnQoaGVpZ2h0KSkKICAgICAgICAgICAgICAgIHNlbGYucGl4
ZWxfZGV0ZWN0aW9uX3JlZ2lvbiA9IHJlZ2lvbgogICAgICAgICAgICAgICAgaWYgc2VsZi5fY2Fw
dHVyZV9waXhlbF9iYXNlbGluZSgpOgogICAgICAgICAgICAgICAgICAgIHNlbGYubG9nKGYi5YOP
57Sg5qOA5rWL5Yy65Z+f5bey6K6+572u77yae3JlZ2lvbn0iKQogICAgICAgICAgICAgICAgZWxz
ZToKICAgICAgICAgICAgICAgICAgICBzZWxmLmxvZyhmIuWDj+e0oOWMuuWfn+W3suiuvue9ru+8
mntyZWdpb25977yI5pyq6IO95oiq5Y+W5Z+657q/77yJIikKICAgICAgICAgICAgZmluYWxseToK
ICAgICAgICAgICAgICAgIG92ZXJsYXkuZGVzdHJveSgpCgogICAgICAgIGNhbnZhcy5iaW5kKCI8
QnV0dG9uUHJlc3MtMT4iLCBvbl9wcmVzcykKICAgICAgICBjYW52YXMuYmluZCgiPEIxLU1vdGlv
bj4iLCBvbl9kcmFnKQogICAgICAgIGNhbnZhcy5iaW5kKCI8QnV0dG9uUmVsZWFzZS0xPiIsIG9u
X3JlbGVhc2UpCiAgICAgICAgY2FudmFzLmJpbmQoIjxSZXR1cm4+Iiwgb25fZW50ZXIpCiAgICAg
ICAgY2FudmFzLmJpbmQoIjxFc2NhcGU+IiwgbGFtYmRhIGU9Tm9uZTogb3ZlcmxheS5kZXN0cm95
KCkpCiAgICAgICAgb3ZlcmxheS5iaW5kKCI8UmV0dXJuPiIsIG9uX2VudGVyKQogICAgICAgIG92
ZXJsYXkuYmluZCgiPEVzY2FwZT4iLCBsYW1iZGEgZT1Ob25lOiBvdmVybGF5LmRlc3Ryb3koKSkK
CiAgICBkZWYgX2Nob29zZV9jc3ZfZGlyKHNlbGYpIC0+IE5vbmU6CiAgICAgICAgY3VycmVudCA9
IHNlbGYuY3N2X2Rpci5nZXQoKS5zdHJpcCgpIG9yIHN0cihnZXRfbG9nc19kaXIoKSkKICAgICAg
ICBzZWxlY3RlZCA9IGZpbGVkaWFsb2cuYXNrZGlyZWN0b3J5KGluaXRpYWxkaXI9Y3VycmVudCwg
dGl0bGU9IumAieaLqSBDU1Yg5L+d5a2Y55uu5b2VIikKICAgICAgICBpZiBzZWxlY3RlZDoKICAg
ICAgICAgICAgcGF0aCA9IFBhdGgoc2VsZWN0ZWQpCiAgICAgICAgICAgIHRyeToKICAgICAgICAg
ICAgICAgIHBhdGgubWtkaXIocGFyZW50cz1UcnVlLCBleGlzdF9vaz1UcnVlKQogICAgICAgICAg
ICBleGNlcHQgRXhjZXB0aW9uIGFzIGV4YzoKICAgICAgICAgICAgICAgIG1lc3NhZ2Vib3guc2hv
d2Vycm9yKCLplJnor68iLCBmIuWIm+W7uuebruW9leWksei0pe+8mntleGN9IikKICAgICAgICAg
ICAgICAgIHJldHVybgogICAgICAgICAgICBzZWxmLmNzdl9kaXIuc2V0KHN0cihwYXRoKSkKICAg
ICAgICAgICAgc2VsZi5sb2coZiJDU1Yg5L+d5a2Y55uu5b2V5bey6K6+572u5Li6IHtwYXRofSIp
CgogICAgZGVmIF9iaW5kX21vdXNld2hlZWwoc2VsZiwgd2lkZ2V0OiB0ay5XaWRnZXQpIC0+IE5v
bmU6CiAgICAgICAgZGVmIF9vbl9tb3VzZXdoZWVsKGV2ZW50OiB0ay5FdmVudCkgLT4gTm9uZTog
ICMgdHlwZTogaWdub3JlW3R5cGUtYXJnXQogICAgICAgICAgICBkZWx0YSA9IDAKICAgICAgICAg
ICAgaWYgaGFzYXR0cihldmVudCwgImRlbHRhIikgYW5kIGV2ZW50LmRlbHRhOgogICAgICAgICAg
ICAgICAgZGVsdGEgPSAtMSAqIGludChldmVudC5kZWx0YSAvIDEyMCkKICAgICAgICAgICAgZWxp
ZiBnZXRhdHRyKGV2ZW50LCAibnVtIiwgTm9uZSkgPT0gNDoKICAgICAgICAgICAgICAgIGRlbHRh
ID0gLTEKICAgICAgICAgICAgZWxpZiBnZXRhdHRyKGV2ZW50LCAibnVtIiwgTm9uZSkgPT0gNToK
ICAgICAgICAgICAgICAgIGRlbHRhID0gMQogICAgICAgICAgICBpZiBkZWx0YToKICAgICAgICAg
ICAgICAgIHdpZGdldC55dmlld19zY3JvbGwoZGVsdGEsICJ1bml0cyIpCgogICAgICAgIHdpZGdl
dC5iaW5kX2FsbCgiPE1vdXNlV2hlZWw+IiwgX29uX21vdXNld2hlZWwsIGFkZD1UcnVlKQogICAg
ICAgIHdpZGdldC5iaW5kX2FsbCgiPEJ1dHRvbi00PiIsIF9vbl9tb3VzZXdoZWVsLCBhZGQ9VHJ1
ZSkKICAgICAgICB3aWRnZXQuYmluZF9hbGwoIjxCdXR0b24tNT4iLCBfb25fbW91c2V3aGVlbCwg
YWRkPVRydWUpCgogICAgQHN0YXRpY21ldGhvZAogICAgZGVmIF9mb3JtYXRfY3N2X251bWJlcih2
YWx1ZTogT3B0aW9uYWxbZmxvYXRdKSAtPiBzdHI6CiAgICAgICAgaWYgdmFsdWUgaXMgTm9uZToK
ICAgICAgICAgICAgcmV0dXJuICIiCiAgICAgICAgdHJ5OgogICAgICAgICAgICByZXR1cm4gZiJ7
ZmxvYXQodmFsdWUpOi42Zn0iCiAgICAgICAgZXhjZXB0IEV4Y2VwdGlvbjoKICAgICAgICAgICAg
cmV0dXJuICIiCgogICAgZGVmIF9vcGVuX2Nzdl9zZXNzaW9uKHNlbGYpIC0+IGJvb2w6CiAgICAg
ICAgc2VsZi5fY2xvc2VfY3N2X3Nlc3Npb24obG9nPUZhbHNlKQogICAgICAgIGJhc2UgPSBzZWxm
LmNzdl9kaXIuZ2V0KCkuc3RyaXAoKQogICAgICAgIGlmIG5vdCBiYXNlOgogICAgICAgICAgICBi
YXNlX3BhdGggPSBnZXRfbG9nc19kaXIoKQogICAgICAgIGVsc2U6CiAgICAgICAgICAgIGJhc2Vf
cGF0aCA9IFBhdGgoYmFzZSkuZXhwYW5kdXNlcigpCiAgICAgICAgdHJ5OgogICAgICAgICAgICBi
YXNlX3BhdGgubWtkaXIocGFyZW50cz1UcnVlLCBleGlzdF9vaz1UcnVlKQogICAgICAgIGV4Y2Vw
dCBFeGNlcHRpb24gYXMgZXhjOgogICAgICAgICAgICBtZXNzYWdlYm94LnNob3dlcnJvcigi6ZSZ
6K+vIiwgZiLliJvlu7rnm67lvZXlpLHotKXvvJp7ZXhjfSIpCiAgICAgICAgICAgIHJldHVybiBG
YWxzZQogICAgICAgIGZpbGVuYW1lID0gdGltZS5zdHJmdGltZSgibXVsdGlfc2VxdWVuY2VfJVkl
bSVkXyVIJU0lUy5jc3YiKQogICAgICAgIGZpbGVfcGF0aCA9IGJhc2VfcGF0aCAvIGZpbGVuYW1l
CiAgICAgICAgdHJ5OgogICAgICAgICAgICBoYW5kbGUgPSBvcGVuKGZpbGVfcGF0aCwgInciLCBu
ZXdsaW5lPSIiLCBlbmNvZGluZz0idXRmLTgtc2lnIikKICAgICAgICBleGNlcHQgRXhjZXB0aW9u
IGFzIGV4YzoKICAgICAgICAgICAgbWVzc2FnZWJveC5zaG93ZXJyb3IoIumUmeivryIsIGYi5Yib
5bu6IENTViDmlofku7blpLHotKXvvJp7ZXhjfSIpCiAgICAgICAgICAgIHJldHVybiBGYWxzZQog
ICAgICAgIHdyaXRlciA9IGNzdi53cml0ZXIoaGFuZGxlKQogICAgICAgIGhlYWRlciA9IFsKICAg
ICAgICAgICAgInRpbWVzdGFtcCIsCiAgICAgICAgICAgICJyb3ciLAogICAgICAgICAgICAiY29s
dW1uIiwKICAgICAgICAgICAgInRlbXBlcmF0dXJlX3BsYW4iLAogICAgICAgICAgICAidGVtcGVy
YXR1cmVfdGFyZ2V0IiwKICAgICAgICAgICAgInRlbXBlcmF0dXJlX2FjdHVhbCIsCiAgICAgICAg
ICAgICJ0ZW1wZXJhdHVyZV9lcnJvciIsCiAgICAgICAgICAgICJ0ZW1wZXJhdHVyZV9tYWUiLAog
ICAgICAgICAgICAicHJlc3N1cmVfcGxhbiIsCiAgICAgICAgICAgICJwcmVzc3VyZV90YXJnZXQi
LAogICAgICAgICAgICAicHJlc3N1cmVfYWN0dWFsIiwKICAgICAgICAgICAgInByZXNzdXJlX2Vy
cm9yIiwKICAgICAgICAgICAgInByZXNzdXJlX21hZSIsCiAgICAgICAgXQogICAgICAgIHRyeToK
ICAgICAgICAgICAgd3JpdGVyLndyaXRlcm93KGhlYWRlcikKICAgICAgICAgICAgaGFuZGxlLmZs
dXNoKCkKICAgICAgICBleGNlcHQgRXhjZXB0aW9uIGFzIGV4YzoKICAgICAgICAgICAgaGFuZGxl
LmNsb3NlKCkKICAgICAgICAgICAgbWVzc2FnZWJveC5zaG93ZXJyb3IoIumUmeivryIsIGYi5YaZ
5YWlIENTViDlpLHotKXvvJp7ZXhjfSIpCiAgICAgICAgICAgIHJldHVybiBGYWxzZQogICAgICAg
IHdpdGggc2VsZi5fY3N2X2xvY2s6CiAgICAgICAgICAgIHNlbGYuX2Nzdl9maWxlID0gaGFuZGxl
CiAgICAgICAgICAgIHNlbGYuX2Nzdl93cml0ZXIgPSB3cml0ZXIKICAgICAgICAgICAgc2VsZi5f
Y3N2X3BhdGggPSBmaWxlX3BhdGgKICAgICAgICAgICAgc2VsZi5fY3N2X2hhc19kYXRhID0gRmFs
c2UKICAgICAgICBzZWxmLmxvZyhmIuaVsOaNruiusOW9leW8gOWni++8mntmaWxlX3BhdGh9IikK
ICAgICAgICByZXR1cm4gVHJ1ZQoKICAgIGRlZiBfY2xvc2VfY3N2X3Nlc3Npb24oc2VsZiwgKiwg
bG9nOiBib29sID0gVHJ1ZSkgLT4gTm9uZToKICAgICAgICB3aXRoIHNlbGYuX2Nzdl9sb2NrOgog
ICAgICAgICAgICBoYW5kbGUgPSBzZWxmLl9jc3ZfZmlsZQogICAgICAgICAgICBwYXRoID0gc2Vs
Zi5fY3N2X3BhdGgKICAgICAgICAgICAgaGFzX2RhdGEgPSBzZWxmLl9jc3ZfaGFzX2RhdGEKICAg
ICAgICAgICAgc2VsZi5fY3N2X2ZpbGUgPSBOb25lCiAgICAgICAgICAgIHNlbGYuX2Nzdl93cml0
ZXIgPSBOb25lCiAgICAgICAgICAgIHNlbGYuX2Nzdl9wYXRoID0gTm9uZQogICAgICAgICAgICBz
ZWxmLl9jc3ZfaGFzX2RhdGEgPSBGYWxzZQogICAgICAgIGlmIG5vdCBoYW5kbGU6CiAgICAgICAg
ICAgIHJldHVybgogICAgICAgIHRyeToKICAgICAgICAgICAgaGFuZGxlLmZsdXNoKCkKICAgICAg
ICBleGNlcHQgRXhjZXB0aW9uOgogICAgICAgICAgICBwYXNzCiAgICAgICAgdHJ5OgogICAgICAg
ICAgICBoYW5kbGUuY2xvc2UoKQogICAgICAgIGV4Y2VwdCBFeGNlcHRpb246CiAgICAgICAgICAg
IHBhc3MKICAgICAgICBpZiBub3QgcGF0aDoKICAgICAgICAgICAgcmV0dXJuCiAgICAgICAgaWYg
bm90IGhhc19kYXRhOgogICAgICAgICAgICB0cnk6CiAgICAgICAgICAgICAgICBwYXRoLnVubGlu
aygpCiAgICAgICAgICAgIGV4Y2VwdCBGaWxlTm90Rm91bmRFcnJvcjoKICAgICAgICAgICAgICAg
IHBhc3MKICAgICAgICAgICAgZXhjZXB0IEV4Y2VwdGlvbiBhcyBleGM6CiAgICAgICAgICAgICAg
ICBpZiBsb2c6CiAgICAgICAgICAgICAgICAgICAgc2VsZi5sb2coZiJDU1Yg5paH5Lu25Yig6Zmk
5aSx6LSl77yae2V4Y30iKQogICAgICAgICAgICBlbHNlOgogICAgICAgICAgICAgICAgaWYgbG9n
OgogICAgICAgICAgICAgICAgICAgIHNlbGYubG9nKCLmtYvor5XmnKrkuqfnlJ/mnInmlYjmlbDm
ja7vvIzlt7LliKDpmaTnqbrnmoQgQ1NWIOaWh+S7tiIpCiAgICAgICAgZWxpZiBsb2c6CiAgICAg
ICAgICAgIHNlbGYubG9nKGYi5pWw5o2u6K6w5b2V5bey5L+d5a2Y5YiwIHtwYXRofSIpCgogICAg
ZGVmIGFwcGVuZF9jc3ZfcmVjb3JkKHNlbGYsIHJlc3VsdDogRGljdFtzdHIsIEFueV0pIC0+IE5v
bmU6CiAgICAgICAgd2l0aCBzZWxmLl9jc3ZfbG9jazoKICAgICAgICAgICAgd3JpdGVyID0gc2Vs
Zi5fY3N2X3dyaXRlcgogICAgICAgICAgICBoYW5kbGUgPSBzZWxmLl9jc3ZfZmlsZQogICAgICAg
ICAgICBwYXRoID0gc2VsZi5fY3N2X3BhdGgKICAgICAgICBpZiBub3Qgd3JpdGVyIG9yIG5vdCBo
YW5kbGUgb3Igbm90IHBhdGg6CiAgICAgICAgICAgIHJldHVybgogICAgICAgIHRpbWVzdGFtcCA9
IHJlc3VsdC5nZXQoInRpbWVzdGFtcCIpCiAgICAgICAgaWYgbm90IGlzaW5zdGFuY2UodGltZXN0
YW1wLCAoaW50LCBmbG9hdCkpOgogICAgICAgICAgICB0aW1lc3RhbXAgPSB0aW1lLnRpbWUoKQog
ICAgICAgIHRpbWVzdGFtcF9zdHIgPSB0aW1lLnN0cmZ0aW1lKCIlWS0lbS0lZCAlSDolTTolUyIs
IHRpbWUubG9jYWx0aW1lKHRpbWVzdGFtcCkpCiAgICAgICAgcm93X2lkeCA9IHJlc3VsdC5nZXQo
InJvdyIpCiAgICAgICAgY29sX2lkeCA9IHJlc3VsdC5nZXQoImNvbCIpCiAgICAgICAgaWYgaXNp
bnN0YW5jZShyb3dfaWR4LCBpbnQpOgogICAgICAgICAgICByb3dfZGlzcGxheTogQW55ID0gcm93
X2lkeCArIDEKICAgICAgICBlbHNlOgogICAgICAgICAgICByb3dfZGlzcGxheSA9ICIiCiAgICAg
ICAgaWYgaXNpbnN0YW5jZShjb2xfaWR4LCBpbnQpOgogICAgICAgICAgICBjb2xfZGlzcGxheTog
QW55ID0gY29sX2lkeCArIDEKICAgICAgICBlbHNlOgogICAgICAgICAgICBjb2xfZGlzcGxheSA9
ICIiCgogICAgICAgIHRlbXBfcGxhbiA9IHNlbGYuX2NvZXJjZV9mbG9hdChyZXN1bHQuZ2V0KCJ0
ZW1wZXJhdHVyZSIpKQogICAgICAgIHRlbXBfc3RhdHVzID0gcmVzdWx0LmdldCgidGVtcF9zdGF0
dXMiKSBvciB7fQogICAgICAgIHRlbXBfdGFyZ2V0ID0gc2VsZi5fY29lcmNlX2Zsb2F0KHRlbXBf
c3RhdHVzLmdldCgidGFyZ2V0IikpCiAgICAgICAgdGVtcF9hY3R1YWwgPSBzZWxmLl9jb2VyY2Vf
ZmxvYXQodGVtcF9zdGF0dXMuZ2V0KCJ0ZW1wZXJhdHVyZSIpKQogICAgICAgIHRlbXBfZXJyb3Ig
PSBzZWxmLl9jb2VyY2VfZmxvYXQodGVtcF9zdGF0dXMuZ2V0KCJlcnJvciIpKQogICAgICAgIHRl
bXBfbWFlID0gc2VsZi5fY29lcmNlX2Zsb2F0KHRlbXBfc3RhdHVzLmdldCgibWFlIikpCgogICAg
ICAgIHByZXNzX3BsYW4gPSBzZWxmLl9jb2VyY2VfZmxvYXQocmVzdWx0LmdldCgicHJlc3N1cmUi
LCByZXN1bHQuZ2V0KCJjdXJyZW50IikpKQogICAgICAgIHByZXNzX3N0YXR1cyA9IHJlc3VsdC5n
ZXQoInByZXNzdXJlX3N0YXR1cyIpIG9yIHt9CiAgICAgICAgcHJlc3NfdGFyZ2V0ID0gc2VsZi5f
Y29lcmNlX2Zsb2F0KHByZXNzX3N0YXR1cy5nZXQoInRhcmdldCIpKQogICAgICAgIHByZXNzX2Fj
dHVhbCA9IE5vbmUKICAgICAgICBpZiBpc2luc3RhbmNlKHByZXNzX3N0YXR1cywgZGljdCk6CiAg
ICAgICAgICAgIGZlZWRiYWNrX3ZhbHVlID0gc2VsZi5fZXh0cmFjdF9wcmVzc3VyZV92YWx1ZShw
cmVzc19zdGF0dXMpCiAgICAgICAgICAgIGlmIGZlZWRiYWNrX3ZhbHVlIGlzIE5vbmU6CiAgICAg
ICAgICAgICAgICBmZWVkYmFja192YWx1ZSA9IHByZXNzX3N0YXR1cy5nZXQoInByZXNzdXJlIikK
ICAgICAgICAgICAgcHJlc3NfYWN0dWFsID0gc2VsZi5fY29lcmNlX2Zsb2F0KGZlZWRiYWNrX3Zh
bHVlKQogICAgICAgIHByZXNzX2Vycm9yID0gTm9uZQogICAgICAgIGlmIGlzaW5zdGFuY2UocHJl
c3Nfc3RhdHVzLCBkaWN0KToKICAgICAgICAgICAgbGFzdCA9IHByZXNzX3N0YXR1cy5nZXQoImxh
c3QiKSBpZiBpc2luc3RhbmNlKHByZXNzX3N0YXR1cy5nZXQoImxhc3QiKSwgZGljdCkgZWxzZSBO
b25lCiAgICAgICAgICAgIGlmIGxhc3QgYW5kIGxhc3QuZ2V0KCJlcnJvciIpIGlzIG5vdCBOb25l
OgogICAgICAgICAgICAgICAgcHJlc3NfZXJyb3IgPSBzZWxmLl9jb2VyY2VfZmxvYXQobGFzdC5n
ZXQoImVycm9yIikpCiAgICAgICAgICAgIGVsaWYgcHJlc3Nfc3RhdHVzLmdldCgiZXJyb3IiKSBp
cyBub3QgTm9uZToKICAgICAgICAgICAgICAgIHByZXNzX2Vycm9yID0gc2VsZi5fY29lcmNlX2Zs
b2F0KHByZXNzX3N0YXR1cy5nZXQoImVycm9yIikpCiAgICAgICAgcHJlc3NfbWFlID0gc2VsZi5f
Y29lcmNlX2Zsb2F0KHByZXNzX3N0YXR1cy5nZXQoIm1hZSIpKQoKICAgICAgICByb3dfZGF0YSA9
IFsKICAgICAgICAgICAgdGltZXN0YW1wX3N0ciwKICAgICAgICAgICAgcm93X2Rpc3BsYXksCiAg
ICAgICAgICAgIGNvbF9kaXNwbGF5LAogICAgICAgICAgICBzZWxmLl9mb3JtYXRfY3N2X251bWJl
cih0ZW1wX3BsYW4pLAogICAgICAgICAgICBzZWxmLl9mb3JtYXRfY3N2X251bWJlcih0ZW1wX3Rh
cmdldCksCiAgICAgICAgICAgIHNlbGYuX2Zvcm1hdF9jc3ZfbnVtYmVyKHRlbXBfYWN0dWFsKSwK
ICAgICAgICAgICAgc2VsZi5fZm9ybWF0X2Nzdl9udW1iZXIodGVtcF9lcnJvciksCiAgICAgICAg
ICAgIHNlbGYuX2Zvcm1hdF9jc3ZfbnVtYmVyKHRlbXBfbWFlKSwKICAgICAgICAgICAgc2VsZi5f
Zm9ybWF0X2Nzdl9udW1iZXIocHJlc3NfcGxhbiksCiAgICAgICAgICAgIHNlbGYuX2Zvcm1hdF9j
c3ZfbnVtYmVyKHByZXNzX3RhcmdldCksCiAgICAgICAgICAgIHNlbGYuX2Zvcm1hdF9jc3ZfbnVt
YmVyKHByZXNzX2FjdHVhbCksCiAgICAgICAgICAgIHNlbGYuX2Zvcm1hdF9jc3ZfbnVtYmVyKHBy
ZXNzX2Vycm9yKSwKICAgICAgICAgICAgc2VsZi5fZm9ybWF0X2Nzdl9udW1iZXIocHJlc3NfbWFl
KSwKICAgICAgICBdCgogICAgICAgIHdpdGggc2VsZi5fY3N2X2xvY2s6CiAgICAgICAgICAgIHdy
aXRlciA9IHNlbGYuX2Nzdl93cml0ZXIKICAgICAgICAgICAgaGFuZGxlID0gc2VsZi5fY3N2X2Zp
bGUKICAgICAgICAgICAgaWYgbm90IHdyaXRlciBvciBub3QgaGFuZGxlOgogICAgICAgICAgICAg
ICAgcmV0dXJuCiAgICAgICAgICAgIHRyeToKICAgICAgICAgICAgICAgIHdyaXRlci53cml0ZXJv
dyhyb3dfZGF0YSkKICAgICAgICAgICAgICAgIGhhbmRsZS5mbHVzaCgpCiAgICAgICAgICAgICAg
ICBzZWxmLl9jc3ZfaGFzX2RhdGEgPSBUcnVlCiAgICAgICAgICAgIGV4Y2VwdCBFeGNlcHRpb24g
YXMgZXhjOgogICAgICAgICAgICAgICAgIyDorrDlvZXplJnor6/kvYbkuI3kuK3mlq3miafooYwK
ICAgICAgICAgICAgICAgIGVycl9tc2cgPSBmIuWGmeWFpSBDU1Yg5aSx6LSl77yae2V4Y30iCiAg
ICAgICAgICAgICAgICBzZWxmLmFmdGVyKDAsIGxhbWJkYSBtPWVycl9tc2c6IHNlbGYubG9nKG0p
KQoKICAgIGRlZiBzdGFydF9wbGFuKHNlbGYpIC0+IE5vbmU6CiAgICAgICAgaWYgc2VsZi5ydW5u
ZXIgYW5kIHNlbGYucnVubmVyLmlzX2FsaXZlKCk6CiAgICAgICAgICAgIG1lc3NhZ2Vib3guc2hv
d3dhcm5pbmcoIuaPkOekuiIsICLku7vliqHmraPlnKjov5DooYwiKQogICAgICAgICAgICByZXR1
cm4KICAgICAgICB0cnk6CiAgICAgICAgICAgIHBsYW4gPSBzZWxmLmJ1aWxkX3BsYW4oKQogICAg
ICAgIGV4Y2VwdCBFeGNlcHRpb24gYXMgZXhjOgogICAgICAgICAgICBtZXNzYWdlYm94LnNob3dl
cnJvcigi5Y+C5pWw6ZSZ6K+vIiwgc3RyKGV4YykpCiAgICAgICAgICAgIHJldHVybgogICAgICAg
IG9rLCByZWFzb24gPSBzZWxmLl9wcmVmbGlnaHRfY2hlY2tfY29udHJvbGxlcnMoKQogICAgICAg
IGlmIG5vdCBvazoKICAgICAgICAgICAgbWVzc2FnZWJveC5zaG93ZXJyb3IoIui/nuaOpeWksei0
pSIsIHJlYXNvbikKICAgICAgICAgICAgcmV0dXJuCiAgICAgICAgaWYgbm90IHNlbGYuX29wZW5f
Y3N2X3Nlc3Npb24oKToKICAgICAgICAgICAgcmV0dXJuCiAgICAgICAgc2VsZi5yZXN1bHRzLmNs
ZWFyKCkKICAgICAgICBpZiBzZWxmLmxvZ190ZXh0OgogICAgICAgICAgICBzZWxmLmxvZ190ZXh0
LmRlbGV0ZSgiMS4wIiwgdGsuRU5EKQogICAgICAgIHNlbGYucmVzZXRfbWF0cml4X3N0YXR1c2Vz
KCkKICAgICAgICBzZWxmLmxvZygi5byA5aeL5omn6KGM5rWL6K+V6K6h5YiS4oCmIikKICAgICAg
ICBzZWxmLnJ1bm5lciA9IFNlcXVlbmNlUnVubmVyKAogICAgICAgICAgICBzZWxmLAogICAgICAg
ICAgICBwbGFuLAogICAgICAgICAgICB0ZW1wX2hhbmRsZXI9c2VsZi5fdGVtcF9oYW5kbGVyLAog
ICAgICAgICAgICBwcmVzc19oYW5kbGVyPXNlbGYuX3ByZXNzX2hhbmRsZXIsCiAgICAgICAgICAg
IHRlbXBfbG9jaz1zZWxmLl90ZW1wX2hhbmRsZXJfbG9jaywKICAgICAgICAgICAgcHJlc3NfbG9j
az1zZWxmLl9wcmVzc19oYW5kbGVyX2xvY2ssCiAgICAgICAgKQogICAgICAgIHNlbGYucnVubmVy
LnN0YXJ0KCkKCiAgICBkZWYgc3RvcF9wbGFuKHNlbGYpIC0+IE5vbmU6CiAgICAgICAgaWYgc2Vs
Zi5ydW5uZXI6CiAgICAgICAgICAgIHNlbGYucnVubmVyLnN0b3AoKQogICAgICAgICAgICBzZWxm
LmxvZygi5bey5Y+R6YCB5YGc5q2i5oyH5Luk77yM562J5b6F5b2T5YmN5q2l6aqk5a6M5oiQ4oCm
IikKCiAgICBkZWYgb25fcnVubmVyX2ZpbmlzaGVkKHNlbGYpIC0+IE5vbmU6CiAgICAgICAgc2Vs
Zi5ydW5uZXIgPSBOb25lCiAgICAgICAgc2VsZi5sb2coIua1i+ivleiuoeWIkuW3sue7k+adnyIp
CiAgICAgICAgc2VsZi5fY2xvc2VfY3N2X3Nlc3Npb24oKQoKICAgIGRlZiBleHBvcnRfcmVzdWx0
cyhzZWxmKSAtPiBOb25lOgogICAgICAgIGlmIG5vdCBzZWxmLnJlc3VsdHM6CiAgICAgICAgICAg
IG1lc3NhZ2Vib3guc2hvd2luZm8oIuaPkOekuiIsICLmmoLml6DmlbDmja7lj6/lr7zlh7oiKQog
ICAgICAgICAgICByZXR1cm4KICAgICAgICB0aW1lc3RhbXAgPSB0aW1lLnN0cmZ0aW1lKCJtYXRy
aXhfcmVzdWx0XyVZJW0lZF8lSCVNJVMuanNvbiIpCiAgICAgICAgd2l0aCBvcGVuKHRpbWVzdGFt
cCwgInciLCBlbmNvZGluZz0idXRmLTgiKSBhcyBmaDoKICAgICAgICAgICAganNvbi5kdW1wKHNl
bGYucmVzdWx0cywgZmgsIGVuc3VyZV9hc2NpaT1GYWxzZSwgaW5kZW50PTIpCiAgICAgICAgbWVz
c2FnZWJveC5zaG93aW5mbygi5a+85Ye65a6M5oiQIiwgZiLnu5Pmnpzlt7Lkv53lrZjliLAge3Rp
bWVzdGFtcH0iKQoKICAgICMgTG9nZ2luZyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0t
LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCiAgICBkZWYgbG9nKHNlbGYsIG1lc3NhZ2U6
IHN0cikgLT4gTm9uZToKICAgICAgICBpZiBjYWxsYWJsZShzZWxmLl9leHRlcm5hbF9sb2cpOgog
ICAgICAgICAgICB0cnk6CiAgICAgICAgICAgICAgICBzZWxmLl9leHRlcm5hbF9sb2cobWVzc2Fn
ZSkKICAgICAgICAgICAgZXhjZXB0IEV4Y2VwdGlvbjoKICAgICAgICAgICAgICAgIHBhc3MKICAg
ICAgICBpZiBub3Qgc2VsZi5fdXNlX2ludGVybmFsX2xvZyBvciBub3Qgc2VsZi5sb2dfdGV4dDoK
ICAgICAgICAgICAgcmV0dXJuCgogICAgICAgIHRpbWVzdGFtcCA9IHRpbWUuc3RyZnRpbWUoIiVI
OiVNOiVTIikKCiAgICAgICAgZGVmIGFwcGVuZCgpIC0+IE5vbmU6CiAgICAgICAgICAgIHNlbGYu
bG9nX3RleHQuaW5zZXJ0KHRrLkVORCwgZiJbe3RpbWVzdGFtcH1dIHttZXNzYWdlfVxuIikKICAg
ICAgICAgICAgc2VsZi5sb2dfdGV4dC5zZWUodGsuRU5EKQoKICAgICAgICBzZWxmLmFmdGVyKDAs
IGFwcGVuZCkKCiAgICBkZWYgc2V0X2V4dGVybmFsX2xvZ2dlcihzZWxmLCBjYWxsYmFjazogQ2Fs
bGFibGVbW3N0cl0sIE5vbmVdKSAtPiBOb25lOgogICAgICAgIHNlbGYuX2V4dGVybmFsX2xvZyA9
IGNhbGxiYWNrCgogICAgZGVmIGFkZF9yZXN1bHQoc2VsZiwgcmVzdWx0OiBEaWN0KSAtPiBOb25l
OgogICAgICAgIHNlbGYucmVzdWx0cy5hcHBlbmQocmVzdWx0KQogICAgICAgIHByZXNzdXJlX2Vy
cm9yID0gcmVzdWx0LmdldCgicHJlc3N1cmVfc3RhdHVzIiwge30pLmdldCgibGFzdCIsIHt9KS5n
ZXQoImVycm9yIikKICAgICAgICB0ZW1wX2Vycm9yID0gcmVzdWx0LmdldCgidGVtcF9zdGF0dXMi
LCB7fSkuZ2V0KCJlcnJvciIpCiAgICAgICAgc2VsZi5sb2coCiAgICAgICAgICAgIGYi6K6w5b2V
57uT5p6cIOihjHtyZXN1bHRbJ3JvdyddKzF9L+WIl3tyZXN1bHRbJ2NvbCddKzF977ya5rip5bqm
PXtyZXN1bHRbJ3RlbXBlcmF0dXJlJ119LCDnlLXmtYE9e3Jlc3VsdFsnY3VycmVudCddfSwgIgog
ICAgICAgICAgICBmIua4qeW6puivr+W3rj17dGVtcF9lcnJvcn0sIOWOi+WKm+ivr+W3rj17cHJl
c3N1cmVfZXJyb3J9IgogICAgICAgICkKCiAgICAjIFJlYWwtdGltZSBtb25pdG9yIC0tLS0tLS0t
LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQogICAgZGVmIF9zdGFy
dF9yZWFsdGltZV9tb25pdG9yKHNlbGYpIC0+IE5vbmU6CiAgICAgICAgaWYgc2VsZi5fcnRfdGhy
ZWFkIGFuZCBzZWxmLl9ydF90aHJlYWQuaXNfYWxpdmUoKToKICAgICAgICAgICAgcmV0dXJuCgog
ICAgICAgIGRlZiB3b3JrZXIoKSAtPiBOb25lOgogICAgICAgICAgICB3aGlsZSBub3Qgc2VsZi5f
cnRfc3RvcC5pc19zZXQoKToKICAgICAgICAgICAgICAgIHRlbXBfc3RhdHVzID0gc2VsZi5fZmV0
Y2hfc3RhdHVzKAogICAgICAgICAgICAgICAgICAgIFRFTVBfREVGQVVMVF9IT1NULAogICAgICAg
ICAgICAgICAgICAgIFRFTVBfREVGQVVMVF9QT1JULAogICAgICAgICAgICAgICAgICAgICLmuKnm
jqciLAogICAgICAgICAgICAgICAgICAgIGhhbmRsZXI9c2VsZi5fdGVtcF9oYW5kbGVyLAogICAg
ICAgICAgICAgICAgICAgIGxvY2s9c2VsZi5fdGVtcF9oYW5kbGVyX2xvY2ssCiAgICAgICAgICAg
ICAgICApCiAgICAgICAgICAgICAgICBwcmVzc19zdGF0dXMgPSBzZWxmLl9mZXRjaF9zdGF0dXMo
CiAgICAgICAgICAgICAgICAgICAgUFJFU1NfREVGQVVMVF9IT1NULAogICAgICAgICAgICAgICAg
ICAgIFBSRVNTX0RFRkFVTFRfUE9SVCwKICAgICAgICAgICAgICAgICAgICAi5Y6L5YqbIiwKICAg
ICAgICAgICAgICAgICAgICBoYW5kbGVyPXNlbGYuX3ByZXNzX2hhbmRsZXIsCiAgICAgICAgICAg
ICAgICAgICAgbG9jaz1zZWxmLl9wcmVzc19oYW5kbGVyX2xvY2ssCiAgICAgICAgICAgICAgICAp
CiAgICAgICAgICAgICAgICB3aXRoIHNlbGYuX3J0X2xvY2s6CiAgICAgICAgICAgICAgICAgICAg
c2VsZi5fcnRfbGF0ZXN0ID0gKHRlbXBfc3RhdHVzLCBwcmVzc19zdGF0dXMsIHRpbWUudGltZSgp
KQogICAgICAgICAgICAgICAgaWYgc2VsZi5fcnRfc3RvcC53YWl0KFJFQUxUSU1FX1JFRlJFU0hf
Uyk6CiAgICAgICAgICAgICAgICAgICAgYnJlYWsKCiAgICAgICAgc2VsZi5fcnRfdGhyZWFkID0g
dGhyZWFkaW5nLlRocmVhZCh0YXJnZXQ9d29ya2VyLCBkYWVtb249VHJ1ZSkKICAgICAgICBzZWxm
Ll9ydF90aHJlYWQuc3RhcnQoKQogICAgICAgIHNlbGYuYWZ0ZXIoNTAwLCBzZWxmLl91cGRhdGVf
cmVhbHRpbWVfdWkpCgogICAgZGVmIHJlZnJlc2hfY29udHJvbGxlcl9zdGF0dXMoc2VsZikgLT4g
Tm9uZToKICAgICAgICB0aHJlYWRpbmcuVGhyZWFkKHRhcmdldD1zZWxmLl9yZWZyZXNoX2NvbnRy
b2xsZXJfc3RhdHVzX3dvcmtlciwgZGFlbW9uPVRydWUpLnN0YXJ0KCkKCiAgICBkZWYgX3JlZnJl
c2hfY29udHJvbGxlcl9zdGF0dXNfd29ya2VyKHNlbGYpIC0+IE5vbmU6CiAgICAgICAgdGVtcF9v
aywgdGVtcF9tc2cgPSBzZWxmLl9waW5nX2NvbnRyb2xsZXIoCiAgICAgICAgICAgICLmuKnmjqci
LCBURU1QX0RFRkFVTFRfSE9TVCwgVEVNUF9ERUZBVUxUX1BPUlQsIGhhbmRsZXI9c2VsZi5fdGVt
cF9oYW5kbGVyLCBsb2NrPXNlbGYuX3RlbXBfaGFuZGxlcl9sb2NrCiAgICAgICAgKQogICAgICAg
IHByZXNzX29rLCBwcmVzc19tc2cgPSBzZWxmLl9waW5nX2NvbnRyb2xsZXIoCiAgICAgICAgICAg
ICLljovlipsiLCBQUkVTU19ERUZBVUxUX0hPU1QsIFBSRVNTX0RFRkFVTFRfUE9SVCwgaGFuZGxl
cj1zZWxmLl9wcmVzc19oYW5kbGVyLCBsb2NrPXNlbGYuX3ByZXNzX2hhbmRsZXJfbG9jawogICAg
ICAgICkKCiAgICAgICAgZGVmIHVwZGF0ZV9sYWJlbHMoKSAtPiBOb25lOgogICAgICAgICAgICBz
ZWxmLnRlbXBfY29ubl9zdGF0dXMuc2V0KCLmuKnmjqfmraPluLgiIGlmIHRlbXBfb2sgZWxzZSBm
Iua4qeaOp+W8guW4uO+8mnt0ZW1wX21zZ30iKQogICAgICAgICAgICBzZWxmLnByZXNzX2Nvbm5f
c3RhdHVzLnNldCgi5Y6L5Yqb5q2j5bi4IiBpZiBwcmVzc19vayBlbHNlIGYi5Y6L5Yqb5byC5bi4
77yae3ByZXNzX21zZ30iKQogICAgICAgICAgICBzZWxmLnRlbXBfY29ubl9sYWJlbC5jb25maWd1
cmUoYm9vdHN0eWxlPVNVQ0NFU1MgaWYgdGVtcF9vayBlbHNlIERBTkdFUikKICAgICAgICAgICAg
c2VsZi5wcmVzc19jb25uX2xhYmVsLmNvbmZpZ3VyZShib290c3R5bGU9U1VDQ0VTUyBpZiBwcmVz
c19vayBlbHNlIERBTkdFUikKCiAgICAgICAgc2VsZi5hZnRlcigwLCB1cGRhdGVfbGFiZWxzKQoK
ICAgIGRlZiBfZmV0Y2hfc3RhdHVzKAogICAgICAgIHNlbGYsCiAgICAgICAgaG9zdDogc3RyLAog
ICAgICAgIHBvcnQ6IGludCwKICAgICAgICBuYW1lOiBzdHIsCiAgICAgICAgKiwKICAgICAgICBo
YW5kbGVyOiBPcHRpb25hbFtDYWxsYWJsZVtbRGljdFtzdHIsIEFueV1dLCBEaWN0W3N0ciwgQW55
XV1dID0gTm9uZSwKICAgICAgICBsb2NrOiBPcHRpb25hbFt0aHJlYWRpbmcuUkxvY2tdID0gTm9u
ZSwKICAgICkgLT4gT3B0aW9uYWxbRGljdF06CiAgICAgICAgdHJ5OgogICAgICAgICAgICBjbGll
bnQgPSBDb250cm9sbGVyQ2xpZW50KGhvc3QsIHBvcnQsIG5hbWUsIGhhbmRsZXI9aGFuZGxlciwg
bG9jaz1sb2NrKQogICAgICAgICAgICByZXNwID0gY2xpZW50LnN0YXR1cygpCiAgICAgICAgICAg
IHJldHVybiByZXNwLmdldCgic3RhdHVzIikKICAgICAgICBleGNlcHQgRXhjZXB0aW9uIGFzIGV4
YzoKICAgICAgICAgICAgcmV0dXJuIHsiX19lcnJvcl9fIjogc3RyKGV4Yyl9CgogICAgZGVmIF9w
aW5nX2NvbnRyb2xsZXIoCiAgICAgICAgc2VsZiwKICAgICAgICBuYW1lOiBzdHIsCiAgICAgICAg
aG9zdDogc3RyLAogICAgICAgIHBvcnQ6IGludCwKICAgICAgICAqLAogICAgICAgIGhhbmRsZXI6
IE9wdGlvbmFsW0NhbGxhYmxlW1tEaWN0W3N0ciwgQW55XV0sIERpY3Rbc3RyLCBBbnldXV0gPSBO
b25lLAogICAgICAgIGxvY2s6IE9wdGlvbmFsW3RocmVhZGluZy5STG9ja10gPSBOb25lLAogICAg
KSAtPiBUdXBsZVtib29sLCBzdHJdOgogICAgICAgIHRyeToKICAgICAgICAgICAgY2xpZW50ID0g
Q29udHJvbGxlckNsaWVudChob3N0LCBwb3J0LCBuYW1lLCBoYW5kbGVyPWhhbmRsZXIsIGxvY2s9
bG9jaykKICAgICAgICAgICAgY2xpZW50LnBpbmcoKQogICAgICAgICAgICByZXR1cm4gVHJ1ZSwg
IiIKICAgICAgICBleGNlcHQgRXhjZXB0aW9uIGFzIGV4YzoKICAgICAgICAgICAgcmV0dXJuIEZh
bHNlLCBzdHIoZXhjKQoKICAgIGRlZiBfdXBkYXRlX3JlYWx0aW1lX3VpKHNlbGYpIC0+IE5vbmU6
CiAgICAgICAgaWYgc2VsZi5fcnRfc3RvcC5pc19zZXQoKToKICAgICAgICAgICAgcmV0dXJuCiAg
ICAgICAgd2l0aCBzZWxmLl9ydF9sb2NrOgogICAgICAgICAgICBsYXRlc3QgPSBzZWxmLl9ydF9s
YXRlc3QKICAgICAgICBpZiBsYXRlc3Q6CiAgICAgICAgICAgIHRlbXBfc3RhdHVzLCBwcmVzc19z
dGF0dXMsIHRzID0gbGF0ZXN0CiAgICAgICAgICAgIHNlbGYuX3VwZGF0ZV90ZW1wX2Rpc3BsYXko
dGVtcF9zdGF0dXMpCiAgICAgICAgICAgIHNlbGYuX3VwZGF0ZV9wcmVzc19kaXNwbGF5KHByZXNz
X3N0YXR1cykKICAgICAgICAgICAgc2VsZi5fY29sbGVjdF9jaGFydF9wb2ludHModGVtcF9zdGF0
dXMsIHByZXNzX3N0YXR1cywgdHMpCiAgICAgICAgICAgIHNlbGYuX3JlZnJlc2hfY2hhcnRzKCkK
ICAgICAgICAgICAgc2VsZi5yZWFsdGltZV90aW1lc3RhbXBfdmFyLnNldCh0aW1lLnN0cmZ0aW1l
KCIlSDolTTolUyIsIHRpbWUubG9jYWx0aW1lKHRzKSkpCiAgICAgICAgICAgIGVycm9ycyA9IFtd
CiAgICAgICAgICAgIGlmIHRlbXBfc3RhdHVzIGFuZCB0ZW1wX3N0YXR1cy5nZXQoIl9fZXJyb3Jf
XyIpOgogICAgICAgICAgICAgICAgZXJyb3JzLmFwcGVuZChmIua4qeaOp++8mnt0ZW1wX3N0YXR1
c1snX19lcnJvcl9fJ119IikKICAgICAgICAgICAgaWYgcHJlc3Nfc3RhdHVzIGFuZCBwcmVzc19z
dGF0dXMuZ2V0KCJfX2Vycm9yX18iKToKICAgICAgICAgICAgICAgIGVycm9ycy5hcHBlbmQoZiLl
jovlipvvvJp7cHJlc3Nfc3RhdHVzWydfX2Vycm9yX18nXX0iKQogICAgICAgICAgICBzZWxmLnJl
YWx0aW1lX3N0YXR1c192YXIuc2V0KCLvvJsiLmpvaW4oZXJyb3JzKSkKICAgICAgICBzZWxmLmFm
dGVyKGludChSRUFMVElNRV9SRUZSRVNIX1MgKiAxMDAwKSwgc2VsZi5fdXBkYXRlX3JlYWx0aW1l
X3VpKQoKICAgIGRlZiBfZm10X3ZhbHVlKHNlbGYsIHZhbHVlOiBPcHRpb25hbFtmbG9hdF0sIHVu
aXQ6IHN0ciA9ICIiKSAtPiBzdHI6CiAgICAgICAgaWYgdmFsdWUgaXMgTm9uZToKICAgICAgICAg
ICAgcmV0dXJuICItLSIKICAgICAgICB0cnk6CiAgICAgICAgICAgIHJldHVybiBmIntmbG9hdCh2
YWx1ZSk6LjNmfXt1bml0fSIKICAgICAgICBleGNlcHQgRXhjZXB0aW9uOgogICAgICAgICAgICBy
ZXR1cm4gIi0tIgoKICAgIEBzdGF0aWNtZXRob2QKICAgIGRlZiBfY29lcmNlX2Zsb2F0KHZhbHVl
OiBBbnkpIC0+IE9wdGlvbmFsW2Zsb2F0XToKICAgICAgICB0cnk6CiAgICAgICAgICAgIGYgPSBm
bG9hdCh2YWx1ZSkKICAgICAgICBleGNlcHQgRXhjZXB0aW9uOgogICAgICAgICAgICByZXR1cm4g
Tm9uZQogICAgICAgIGlmIG1hdGguaXNuYW4oZik6CiAgICAgICAgICAgIHJldHVybiBOb25lCiAg
ICAgICAgcmV0dXJuIGYKCiAgICBkZWYgX2FwcGVuZF9oaXN0b3J5KAogICAgICAgIHNlbGYsCiAg
ICAgICAgaGlzdG9yeTogRGVxdWVbVHVwbGVbZmxvYXQsIGZsb2F0LCBmbG9hdF1dLAogICAgICAg
IHRpbWVzdGFtcDogZmxvYXQsCiAgICAgICAgYWN0dWFsOiBmbG9hdCwKICAgICAgICB0YXJnZXQ6
IGZsb2F0LAogICAgKSAtPiBOb25lOgogICAgICAgIGlmIG1hdGguaXNuYW4oYWN0dWFsKSBhbmQg
bWF0aC5pc25hbih0YXJnZXQpOgogICAgICAgICAgICByZXR1cm4KICAgICAgICBoaXN0b3J5LmFw
cGVuZCgodGltZXN0YW1wLCBhY3R1YWwsIHRhcmdldCkpCiAgICAgICAgY3V0b2ZmID0gdGltZXN0
YW1wIC0gZmxvYXQoc2VsZi5fY2hhcnRfaGlzdG9yeV9zKQogICAgICAgIHdoaWxlIGhpc3Rvcnkg
YW5kIGhpc3RvcnlbMF1bMF0gPCBjdXRvZmY6CiAgICAgICAgICAgIGhpc3RvcnkucG9wbGVmdCgp
CgogICAgQHN0YXRpY21ldGhvZAogICAgZGVmIF9leHRyYWN0X3ByZXNzdXJlX3ZhbHVlKHN0YXR1
czogRGljdFtzdHIsIEFueV0pIC0+IE9wdGlvbmFsW2Zsb2F0XToKICAgICAgICBsYXN0ID0gc3Rh
dHVzLmdldCgibGFzdCIpCiAgICAgICAgaWYgaXNpbnN0YW5jZShsYXN0LCBkaWN0KToKICAgICAg
ICAgICAgZm9yIGtleSBpbiAoImZlZWRiYWNrIiwgInByZXNzdXJlIiwgInZhbHVlIik6CiAgICAg
ICAgICAgICAgICBpZiBsYXN0LmdldChrZXkpIGlzIG5vdCBOb25lOgogICAgICAgICAgICAgICAg
ICAgIHJldHVybiBsYXN0LmdldChrZXkpCiAgICAgICAgcmV0dXJuIHN0YXR1cy5nZXQoInByZXNz
dXJlIikKCiAgICBkZWYgX2NvbGxlY3RfY2hhcnRfcG9pbnRzKAogICAgICAgIHNlbGYsCiAgICAg
ICAgdGVtcF9zdGF0dXM6IE9wdGlvbmFsW0RpY3Rbc3RyLCBBbnldXSwKICAgICAgICBwcmVzc19z
dGF0dXM6IE9wdGlvbmFsW0RpY3Rbc3RyLCBBbnldXSwKICAgICAgICB0aW1lc3RhbXA6IGZsb2F0
LAogICAgKSAtPiBOb25lOgogICAgICAgIGlmIHRlbXBfc3RhdHVzIGFuZCBub3QgdGVtcF9zdGF0
dXMuZ2V0KCJfX2Vycm9yX18iKToKICAgICAgICAgICAgYWN0dWFsID0gc2VsZi5fY29lcmNlX2Zs
b2F0KHRlbXBfc3RhdHVzLmdldCgidGVtcGVyYXR1cmUiKSkKICAgICAgICAgICAgdGFyZ2V0ID0g
c2VsZi5fY29lcmNlX2Zsb2F0KHRlbXBfc3RhdHVzLmdldCgidGFyZ2V0IikpCiAgICAgICAgICAg
IGFjdHVhbCA9IGFjdHVhbCBpZiBhY3R1YWwgaXMgbm90IE5vbmUgZWxzZSBtYXRoLm5hbgogICAg
ICAgICAgICB0YXJnZXQgPSB0YXJnZXQgaWYgdGFyZ2V0IGlzIG5vdCBOb25lIGVsc2UgbWF0aC5u
YW4KICAgICAgICAgICAgc2VsZi5fYXBwZW5kX2hpc3Rvcnkoc2VsZi5fdGVtcF9oaXN0b3J5LCB0
aW1lc3RhbXAsIGFjdHVhbCwgdGFyZ2V0KQogICAgICAgIGlmIHByZXNzX3N0YXR1cyBhbmQgbm90
IHByZXNzX3N0YXR1cy5nZXQoIl9fZXJyb3JfXyIpOgogICAgICAgICAgICBhY3R1YWxfdmFsID0g
c2VsZi5fY29lcmNlX2Zsb2F0KHNlbGYuX2V4dHJhY3RfcHJlc3N1cmVfdmFsdWUocHJlc3Nfc3Rh
dHVzKSkKICAgICAgICAgICAgdGFyZ2V0X3ZhbCA9IHNlbGYuX2NvZXJjZV9mbG9hdChwcmVzc19z
dGF0dXMuZ2V0KCJ0YXJnZXQiKSkKICAgICAgICAgICAgYWN0dWFsX3ZhbCA9IGFjdHVhbF92YWwg
aWYgYWN0dWFsX3ZhbCBpcyBub3QgTm9uZSBlbHNlIG1hdGgubmFuCiAgICAgICAgICAgIHRhcmdl
dF92YWwgPSB0YXJnZXRfdmFsIGlmIHRhcmdldF92YWwgaXMgbm90IE5vbmUgZWxzZSBtYXRoLm5h
bgogICAgICAgICAgICBzZWxmLl9hcHBlbmRfaGlzdG9yeShzZWxmLl9wcmVzc19oaXN0b3J5LCB0
aW1lc3RhbXAsIGFjdHVhbF92YWwsIHRhcmdldF92YWwpCgogICAgZGVmIF9yZWZyZXNoX2NoYXJ0
cyhzZWxmKSAtPiBOb25lOgogICAgICAgIGlmIG5vdCBzZWxmLmNoYXJ0X2NhbnZhcyBvciBub3Qg
c2VsZi5fY2hhcnRfZmlnOgogICAgICAgICAgICByZXR1cm4KICAgICAgICBzZWxmLl91cGRhdGVf
Y2hhcnRfbGluZXMoc2VsZi5fdGVtcF9oaXN0b3J5LCBzZWxmLl90ZW1wX2xpbmVfYWN0dWFsLCBz
ZWxmLl90ZW1wX2xpbmVfdGFyZ2V0KQogICAgICAgIHNlbGYuX3VwZGF0ZV9jaGFydF9saW5lcyhz
ZWxmLl9wcmVzc19oaXN0b3J5LCBzZWxmLl9wcmVzc19saW5lX2FjdHVhbCwgc2VsZi5fcHJlc3Nf
bGluZV90YXJnZXQpCiAgICAgICAgc2VsZi5fY2hhcnRfZmlnLmNhbnZhcy5kcmF3X2lkbGUoKQoK
ICAgIGRlZiBfdXBkYXRlX2NoYXJ0X2xpbmVzKAogICAgICAgIHNlbGYsCiAgICAgICAgaGlzdG9y
eTogRGVxdWVbVHVwbGVbZmxvYXQsIGZsb2F0LCBmbG9hdF1dLAogICAgICAgIGxpbmVfYWN0dWFs
LAogICAgICAgIGxpbmVfdGFyZ2V0LAogICAgKSAtPiBOb25lOgogICAgICAgIGlmIGxpbmVfYWN0
dWFsIGlzIE5vbmUgb3IgbGluZV90YXJnZXQgaXMgTm9uZToKICAgICAgICAgICAgcmV0dXJuCiAg
ICAgICAgaWYgbm90IGhpc3Rvcnk6CiAgICAgICAgICAgIGxpbmVfYWN0dWFsLnNldF9kYXRhKFtd
LCBbXSkKICAgICAgICAgICAgbGluZV90YXJnZXQuc2V0X2RhdGEoW10sIFtdKQogICAgICAgICAg
ICByZXR1cm4KICAgICAgICBiYXNlID0gaGlzdG9yeVswXVswXQogICAgICAgIHRpbWVzID0gW2l0
ZW1bMF0gLSBiYXNlIGZvciBpdGVtIGluIGhpc3RvcnldCiAgICAgICAgYWN0dWFsID0gW2l0ZW1b
MV0gZm9yIGl0ZW0gaW4gaGlzdG9yeV0KICAgICAgICB0YXJnZXQgPSBbaXRlbVsyXSBmb3IgaXRl
bSBpbiBoaXN0b3J5XQogICAgICAgIGxpbmVfYWN0dWFsLnNldF9kYXRhKHRpbWVzLCBhY3R1YWwp
CiAgICAgICAgbGluZV90YXJnZXQuc2V0X2RhdGEodGltZXMsIHRhcmdldCkKICAgICAgICBheGlz
ID0gbGluZV9hY3R1YWwuYXhlcwogICAgICAgIGF4aXMucmVsaW0oKQogICAgICAgIGF4aXMuYXV0
b3NjYWxlX3ZpZXcoKQogICAgICAgIGlmIHRpbWVzWy0xXSA8PSAwOgogICAgICAgICAgICBheGlz
LnNldF94bGltKDAsIHNlbGYuX2NoYXJ0X2hpc3RvcnlfcykKICAgICAgICBlbHNlOgogICAgICAg
ICAgICBheGlzLnNldF94bGltKG1heCgwLjAsIHRpbWVzWy0xXSAtIHNlbGYuX2NoYXJ0X2hpc3Rv
cnlfcyksIHRpbWVzWy0xXSkKCiAgICBkZWYgX3VwZGF0ZV90ZW1wX2Rpc3BsYXkoc2VsZiwgc3Rh
dHVzOiBPcHRpb25hbFtEaWN0XSkgLT4gTm9uZToKICAgICAgICBpZiBub3Qgc3RhdHVzOgogICAg
ICAgICAgICBzZWxmLnRlbXBfbGl2ZV92YXIuc2V0KCItLSIpCiAgICAgICAgICAgIHNlbGYudGVt
cF90YXJnZXRfdmFyLnNldCgiLS0iKQogICAgICAgICAgICBzZWxmLnRlbXBfZXJyb3JfdmFyLnNl
dCgiLS0iKQogICAgICAgICAgICByZXR1cm4KICAgICAgICBpZiBzdGF0dXMuZ2V0KCJfX2Vycm9y
X18iKToKICAgICAgICAgICAgc2VsZi50ZW1wX2xpdmVfdmFyLnNldCgiLS0iKQogICAgICAgICAg
ICBzZWxmLnRlbXBfdGFyZ2V0X3Zhci5zZXQoIi0tIikKICAgICAgICAgICAgc2VsZi50ZW1wX2Vy
cm9yX3Zhci5zZXQoc3RhdHVzLmdldCgiX19lcnJvcl9fIikpCiAgICAgICAgICAgIHJldHVybgog
ICAgICAgIHNlbGYudGVtcF9saXZlX3Zhci5zZXQoc2VsZi5fZm10X3ZhbHVlKHN0YXR1cy5nZXQo
InRlbXBlcmF0dXJlIikpKQogICAgICAgIHNlbGYudGVtcF90YXJnZXRfdmFyLnNldChzZWxmLl9m
bXRfdmFsdWUoc3RhdHVzLmdldCgidGFyZ2V0IikpKQogICAgICAgIGVycm9yID0gc3RhdHVzLmdl
dCgiZXJyb3IiKQogICAgICAgIGlmIGVycm9yIGlzIE5vbmUgYW5kIHN0YXR1cy5nZXQoIm1hZSIp
IGlzIG5vdCBOb25lOgogICAgICAgICAgICBlcnJvciA9IHN0YXR1cy5nZXQoIm1hZSIpCiAgICAg
ICAgc2VsZi50ZW1wX2Vycm9yX3Zhci5zZXQoc2VsZi5fZm10X3ZhbHVlKGVycm9yKSkKCiAgICBk
ZWYgX3VwZGF0ZV9wcmVzc19kaXNwbGF5KHNlbGYsIHN0YXR1czogT3B0aW9uYWxbRGljdF0pIC0+
IE5vbmU6CiAgICAgICAgaWYgbm90IHN0YXR1czoKICAgICAgICAgICAgc2VsZi5wcmVzc19saXZl
X3Zhci5zZXQoIi0tIikKICAgICAgICAgICAgc2VsZi5wcmVzc190YXJnZXRfdmFyLnNldCgiLS0i
KQogICAgICAgICAgICBzZWxmLnByZXNzX2Vycm9yX3Zhci5zZXQoIi0tIikKICAgICAgICAgICAg
cmV0dXJuCiAgICAgICAgaWYgc3RhdHVzLmdldCgiX19lcnJvcl9fIik6CiAgICAgICAgICAgIHNl
bGYucHJlc3NfbGl2ZV92YXIuc2V0KCItLSIpCiAgICAgICAgICAgIHNlbGYucHJlc3NfdGFyZ2V0
X3Zhci5zZXQoIi0tIikKICAgICAgICAgICAgc2VsZi5wcmVzc19lcnJvcl92YXIuc2V0KHN0YXR1
cy5nZXQoIl9fZXJyb3JfXyIpKQogICAgICAgICAgICByZXR1cm4KICAgICAgICBsYXN0ID0gc3Rh
dHVzLmdldCgibGFzdCIsIHt9KSBpZiBpc2luc3RhbmNlKHN0YXR1cy5nZXQoImxhc3QiKSwgZGlj
dCkgZWxzZSB7fQogICAgICAgIGZlZWRiYWNrID0gbGFzdC5nZXQoImZlZWRiYWNrIikKICAgICAg
ICBpZiBmZWVkYmFjayBpcyBOb25lOgogICAgICAgICAgICBmZWVkYmFjayA9IGxhc3QuZ2V0KCJw
cmVzc3VyZSIpCiAgICAgICAgaWYgZmVlZGJhY2sgaXMgTm9uZToKICAgICAgICAgICAgZmVlZGJh
Y2sgPSBzdGF0dXMuZ2V0KCJwcmVzc3VyZSIpCiAgICAgICAgc2VsZi5wcmVzc19saXZlX3Zhci5z
ZXQoc2VsZi5fZm10X3ZhbHVlKGZlZWRiYWNrKSkKICAgICAgICBzZWxmLnByZXNzX3RhcmdldF92
YXIuc2V0KHNlbGYuX2ZtdF92YWx1ZShzdGF0dXMuZ2V0KCJ0YXJnZXQiKSkpCiAgICAgICAgZXJy
b3IgPSBsYXN0LmdldCgiZXJyb3IiKQogICAgICAgIGlmIGVycm9yIGlzIE5vbmUgYW5kIHN0YXR1
cy5nZXQoIm1hZSIpIGlzIG5vdCBOb25lOgogICAgICAgICAgICBlcnJvciA9IHN0YXR1cy5nZXQo
Im1hZSIpCiAgICAgICAgc2VsZi5wcmVzc19lcnJvcl92YXIuc2V0KHNlbGYuX2ZtdF92YWx1ZShl
cnJvcikpCgogICAgIyBTaHV0ZG93biAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0t
LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0KICAgIGRlZiBzaHV0ZG93bihzZWxmLCBkZXN0cm95
X3dpbmRvdzogT3B0aW9uYWxbYm9vbF0gPSBOb25lKSAtPiBOb25lOgogICAgICAgIGlmIGRlc3Ry
b3lfd2luZG93IGlzIE5vbmU6CiAgICAgICAgICAgIGRlc3Ryb3lfd2luZG93ID0gc2VsZi5fb3du
c193aW5kb3cKICAgICAgICBzZWxmLnN0b3BfcGxhbigpCiAgICAgICAgc2VsZi5fcnRfc3RvcC5z
ZXQoKQogICAgICAgIGlmIHNlbGYuX3J0X3RocmVhZCBhbmQgc2VsZi5fcnRfdGhyZWFkLmlzX2Fs
aXZlKCk6CiAgICAgICAgICAgIHRyeToKICAgICAgICAgICAgICAgIHNlbGYuX3J0X3RocmVhZC5q
b2luKHRpbWVvdXQ9MS4wKQogICAgICAgICAgICBleGNlcHQgRXhjZXB0aW9uOgogICAgICAgICAg
ICAgICAgcGFzcwogICAgICAgIHNlbGYuX2Nsb3NlX2Nzdl9zZXNzaW9uKCkKICAgICAgICB0YXJn
ZXQgPSBzZWxmLl93aW5kb3cgaWYgZGVzdHJveV93aW5kb3cgZWxzZSBzZWxmCiAgICAgICAgdHJ5
OgogICAgICAgICAgICB0YXJnZXQuZGVzdHJveSgpCiAgICAgICAgZXhjZXB0IEV4Y2VwdGlvbjoK
ICAgICAgICAgICAgcGFzcwoKICAgIGRlZiBvbl9jbG9zZShzZWxmKSAtPiBOb25lOgogICAgICAg
IHNlbGYuc2h1dGRvd24oZGVzdHJveV93aW5kb3c9VHJ1ZSkKCgppZiBfX25hbWVfXyA9PSAiX19t
YWluX18iOgogICAgYXBwID0gTXVsdGlTZXF1ZW5jZUFwcCgpCiAgICBhcHAuX3dpbmRvdy5tYWlu
bG9vcCgpClBLAwQUAAAAAAB2On1bsaQ9KZMTAACTEwAAFgAAAGNvbnRyb2xsZXJfbGF1bmNoZXIu
cHkiIiLnu5/kuIDnmoTlpJrnqIvluo/lkK/liqjlmajvvJrku6XmoIfnrb7pobXlvaLlvI/mib/o
vb3muKnmjqfjgIHljovlipvkuI7lpJrluo/liJfosIPluqbnlYzpnaLjgIIiIiIKCmZyb20gX19m
dXR1cmVfXyBpbXBvcnQgYW5ub3RhdGlvbnMKCmltcG9ydCBpbXBvcnRsaWIudXRpbAppbXBvcnQg
c3lzCmltcG9ydCB0aHJlYWRpbmcKaW1wb3J0IHRpbWUKaW1wb3J0IHRraW50ZXIgYXMgdGsKZnJv
bSBwYXRobGliIGltcG9ydCBQYXRoCmZyb20gdHlwZXMgaW1wb3J0IE1vZHVsZVR5cGUKCmltcG9y
dCB0dGtib290c3RyYXAgYXMgdHRrCmZyb20gdGtpbnRlciBpbXBvcnQgc2Nyb2xsZWR0ZXh0CgpS
T09UX0RJUiA9IFBhdGgoX19maWxlX18pLnJlc29sdmUoKS5wYXJlbnQKCgpkZWYgX2xvYWRfbW9k
dWxlKG1vZHVsZV9uYW1lOiBzdHIsIGZpbGVfbmFtZTogc3RyKSAtPiBNb2R1bGVUeXBlOgogICAg
IiIi5Yqg6L295bim56m65qC85paH5Lu25ZCN55qEIEdVSSDmqKHlnZfvvIzpgb/lhY3ph43lpI3l
r7zlhaXjgIIiIiIKICAgIGlmIG1vZHVsZV9uYW1lIGluIHN5cy5tb2R1bGVzOgogICAgICAgIHJl
dHVybiBzeXMubW9kdWxlc1ttb2R1bGVfbmFtZV0KICAgIHNwZWMgPSBpbXBvcnRsaWIudXRpbC5z
cGVjX2Zyb21fZmlsZV9sb2NhdGlvbihtb2R1bGVfbmFtZSwgUk9PVF9ESVIgLyBmaWxlX25hbWUp
CiAgICBpZiBzcGVjIGlzIE5vbmUgb3Igc3BlYy5sb2FkZXIgaXMgTm9uZTogICMgcHJhZ21hOiBu
byBjb3ZlciAtIOaegeerr+aDheWGtQogICAgICAgIHJhaXNlIEltcG9ydEVycm9yKGYi5peg5rOV
5Yqg6L295qih5Z2XIHtmaWxlX25hbWV9IikKICAgIG1vZHVsZSA9IGltcG9ydGxpYi51dGlsLm1v
ZHVsZV9mcm9tX3NwZWMoc3BlYykKICAgIHN5cy5tb2R1bGVzW21vZHVsZV9uYW1lXSA9IG1vZHVs
ZQogICAgc3BlYy5sb2FkZXIuZXhlY19tb2R1bGUobW9kdWxlKQogICAgcmV0dXJuIG1vZHVsZQoK
CnRlbXBlcmF0dXJlX21vZHVsZSA9IF9sb2FkX21vZHVsZSgidGVtcGVyYXR1cmVfY29udHJvbGxl
cl9hcHAiLCAiSG90IGFuZCBjb2xkIGNvbnRyb2xsZXIucHkiKQpwcmVzc3VyZV9tb2R1bGUgPSBf
bG9hZF9tb2R1bGUoInByZXNzdXJlX2NvbnRyb2xsZXJfYXBwIiwgInByZXNzdXJlIGNvbnRyb2xs
ZXIucHkiKQoKZnJvbSBtdWx0aV9zZXF1ZW5jZV9jb250cm9sbGVyIGltcG9ydCBNdWx0aVNlcXVl
bmNlQXBwICAjIG5vcWE6IEU0MDIgICMg6K+l5paH5Lu25ZG95ZCN6KeE6IyDCgpUZW1wZXJhdHVy
ZUFwcCA9IHRlbXBlcmF0dXJlX21vZHVsZS5BcHAgICMgdHlwZTogaWdub3JlW2F0dHItZGVmaW5l
ZF0KUHJlc3N1cmVBcHAgPSBwcmVzc3VyZV9tb2R1bGUuQXBwICAjIHR5cGU6IGlnbm9yZVthdHRy
LWRlZmluZWRdCgoKY2xhc3MgVW5pZmllZENvbnRyb2xsZXIodHRrLldpbmRvdyk6CiAgICBkZWYg
X19pbml0X18oc2VsZikgLT4gTm9uZToKICAgICAgICBzdXBlcigpLl9faW5pdF9fKHRoZW1lbmFt
ZT0iY29zbW8iKQogICAgICAgIHNlbGYudGl0bGUoIuWGt+eDreWOi+WKm+S4gOS9k+WMluaOp+WI
tuWPsCIpCiAgICAgICAgc2VsZi5nZW9tZXRyeSgiMTcyMHg5ODAiKQoKICAgICAgICBwYW5lZCA9
IHR0ay5QYW5lZHdpbmRvdyhzZWxmLCBvcmllbnQ9dGsuSE9SSVpPTlRBTCkKICAgICAgICBwYW5l
ZC5wYWNrKGZpbGw9dGsuQk9USCwgZXhwYW5kPVRydWUpCgogICAgICAgIGxlZnRfcGFuZWwgPSB0
dGsuRnJhbWUocGFuZWQpCiAgICAgICAgcmlnaHRfcGFuZWwgPSB0dGsuTGFiZWxmcmFtZShwYW5l
ZCwgdGV4dD0i5pel5b+XIiwgcGFkZGluZz04KQoKICAgICAgICBwYW5lZC5hZGQobGVmdF9wYW5l
bCwgd2VpZ2h0PTYpCiAgICAgICAgcGFuZWQuYWRkKHJpZ2h0X3BhbmVsLCB3ZWlnaHQ9MSkKCiAg
ICAgICAgc2VsZi5ub3RlYm9vayA9IHR0ay5Ob3RlYm9vayhsZWZ0X3BhbmVsLCBwYWRkaW5nPTgp
CiAgICAgICAgc2VsZi5ub3RlYm9vay5wYWNrKGZpbGw9dGsuQk9USCwgZXhwYW5kPVRydWUpCgog
ICAgICAgIHNlbGYubG9nX3RleHQgPSBzY3JvbGxlZHRleHQuU2Nyb2xsZWRUZXh0KHJpZ2h0X3Bh
bmVsLCBzdGF0ZT0iZGlzYWJsZWQiLCB3aWR0aD0zNikKICAgICAgICBzZWxmLmxvZ190ZXh0LnBh
Y2soZmlsbD10ay5CT1RILCBleHBhbmQ9VHJ1ZSkKICAgICAgICBzZWxmLl9sb2dfbG9jayA9IHRo
cmVhZGluZy5Mb2NrKCkKCiAgICAgICAgdGVtcF90YWIgPSB0dGsuRnJhbWUoc2VsZi5ub3RlYm9v
aykKICAgICAgICBwcmVzc190YWIgPSB0dGsuRnJhbWUoc2VsZi5ub3RlYm9vaykKICAgICAgICBz
ZXFfdGFiID0gdHRrLkZyYW1lKHNlbGYubm90ZWJvb2spCgogICAgICAgIGZvciB0YWIsIHRleHQg
aW4gKAogICAgICAgICAgICAodGVtcF90YWIsICLmuKnluqbmjqfliLYiKSwKICAgICAgICAgICAg
KHByZXNzX3RhYiwgIuWOi+WKm+aOp+WItiIpLAogICAgICAgICAgICAoc2VxX3RhYiwgIuWkmuW6
j+WIl+aJp+ihjCIpLAogICAgICAgICk6CiAgICAgICAgICAgIHNlbGYubm90ZWJvb2suYWRkKHRh
YiwgdGV4dD10ZXh0KQoKICAgICAgICBzZWxmLnRlbXBlcmF0dXJlX2FwcCA9IFRlbXBlcmF0dXJl
QXBwKHRlbXBfdGFiKQogICAgICAgIHNlbGYucHJlc3N1cmVfYXBwID0gUHJlc3N1cmVBcHAocHJl
c3NfdGFiKQogICAgICAgIHNlbGYuc2VxdWVuY2VfYXBwID0gTXVsdGlTZXF1ZW5jZUFwcCgKICAg
ICAgICAgICAgc2VxX3RhYiwKICAgICAgICAgICAgdGVtcF9jb250cm9sbGVyPXNlbGYudGVtcGVy
YXR1cmVfYXBwLAogICAgICAgICAgICBwcmVzc3VyZV9jb250cm9sbGVyPXNlbGYucHJlc3N1cmVf
YXBwLAogICAgICAgICkKCiAgICAgICAgZm9yIGNoaWxkIGluIChzZWxmLnRlbXBlcmF0dXJlX2Fw
cCwgc2VsZi5wcmVzc3VyZV9hcHAsIHNlbGYuc2VxdWVuY2VfYXBwKToKICAgICAgICAgICAgc2V0
dGVyID0gZ2V0YXR0cihjaGlsZCwgInNldF9leHRlcm5hbF9sb2dnZXIiLCBOb25lKQogICAgICAg
ICAgICBpZiBjYWxsYWJsZShzZXR0ZXIpOgogICAgICAgICAgICAgICAgc2V0dGVyKHNlbGYuYXBw
ZW5kX2xvZykKCiAgICAgICAgIyDnu5/kuIDloavlhYXvvIzkvb/kuInkuKrlrZDnlYzpnaLpg73o
h6rpgILlupTlj6/nlKjnqbrpl7QKICAgICAgICBmb3IgY2hpbGQgaW4gKHNlbGYudGVtcGVyYXR1
cmVfYXBwLmNvbnRhaW5lciwgc2VsZi5wcmVzc3VyZV9hcHAsIHNlbGYuc2VxdWVuY2VfYXBwKToK
ICAgICAgICAgICAgdHJ5OgogICAgICAgICAgICAgICAgY2hpbGQucGFja19jb25maWd1cmUoZmls
bD10ay5CT1RILCBleHBhbmQ9VHJ1ZSkKICAgICAgICAgICAgZXhjZXB0IEV4Y2VwdGlvbjoKICAg
ICAgICAgICAgICAgIHBhc3MKCiAgICAgICAgc2VsZi5wcm90b2NvbCgiV01fREVMRVRFX1dJTkRP
VyIsIHNlbGYuX29uX2Nsb3NlKQogICAgICAgIHNlbGYuYWZ0ZXIoMTAwLCBzZWxmLl9tYXhpbWl6
ZV93aW5kb3cpCgogICAgZGVmIGFwcGVuZF9sb2coc2VsZiwgbWVzc2FnZTogc3RyKSAtPiBOb25l
OgogICAgICAgIGlmIHRocmVhZGluZy5jdXJyZW50X3RocmVhZCgpIGlzIG5vdCB0aHJlYWRpbmcu
bWFpbl90aHJlYWQoKToKICAgICAgICAgICAgc2VsZi5hZnRlcigwLCBsYW1iZGEgbT1tZXNzYWdl
OiBzZWxmLmFwcGVuZF9sb2cobSkpCiAgICAgICAgICAgIHJldHVybgogICAgICAgIHRpbWVzdGFt
cCA9IHRpbWUuc3RyZnRpbWUoIiVIOiVNOiVTIikKICAgICAgICB0ZXh0ID0gZiJ7dGltZXN0YW1w
fSAtIHttZXNzYWdlfVxuIgogICAgICAgIHdpdGggc2VsZi5fbG9nX2xvY2s6CiAgICAgICAgICAg
IHNlbGYubG9nX3RleHQuY29uZmlndXJlKHN0YXRlPSJub3JtYWwiKQogICAgICAgICAgICBzZWxm
LmxvZ190ZXh0Lmluc2VydCh0ay5FTkQsIHRleHQpCiAgICAgICAgICAgIHNlbGYubG9nX3RleHQu
c2VlKHRrLkVORCkKICAgICAgICAgICAgc2VsZi5sb2dfdGV4dC5jb25maWd1cmUoc3RhdGU9ImRp
c2FibGVkIikKCiAgICBkZWYgX29uX2Nsb3NlKHNlbGYpIC0+IE5vbmU6CiAgICAgICAgZm9yIGNs
ZWFudXAgaW4gKAogICAgICAgICAgICBnZXRhdHRyKHNlbGYudGVtcGVyYXR1cmVfYXBwLCAiY2xl
YW51cCIsIE5vbmUpLAogICAgICAgICAgICBsYW1iZGE6IHNlbGYucHJlc3N1cmVfYXBwLnNodXRk
b3duKGRlc3Ryb3lfd2luZG93PUZhbHNlKSwKICAgICAgICAgICAgbGFtYmRhOiBzZWxmLnNlcXVl
bmNlX2FwcC5zaHV0ZG93bihkZXN0cm95X3dpbmRvdz1GYWxzZSksCiAgICAgICAgKToKICAgICAg
ICAgICAgaWYgY2xlYW51cCBpcyBOb25lOgogICAgICAgICAgICAgICAgY29udGludWUKICAgICAg
ICAgICAgdHJ5OgogICAgICAgICAgICAgICAgY2xlYW51cCgpCiAgICAgICAgICAgIGV4Y2VwdCBF
eGNlcHRpb246CiAgICAgICAgICAgICAgICBwYXNzCiAgICAgICAgc2VsZi5kZXN0cm95KCkKCiAg
ICBkZWYgX21heGltaXplX3dpbmRvdyhzZWxmKSAtPiBOb25lOgogICAgICAgIGZvciBhdHRyIGlu
ICgic3RhdGUiLCAid21fc3RhdGUiKToKICAgICAgICAgICAgbWV0aG9kID0gZ2V0YXR0cihzZWxm
LCBhdHRyLCBOb25lKQogICAgICAgICAgICBpZiBjYWxsYWJsZShtZXRob2QpOgogICAgICAgICAg
ICAgICAgdHJ5OgogICAgICAgICAgICAgICAgICAgIG1ldGhvZCgiem9vbWVkIikKICAgICAgICAg
ICAgICAgICAgICByZXR1cm4KICAgICAgICAgICAgICAgIGV4Y2VwdCB0ay5UY2xFcnJvcjoKICAg
ICAgICAgICAgICAgICAgICBjb250aW51ZQogICAgICAgIGF0dHJpYnV0ZXMgPSBnZXRhdHRyKHNl
bGYsICJhdHRyaWJ1dGVzIiwgTm9uZSkKICAgICAgICBpZiBjYWxsYWJsZShhdHRyaWJ1dGVzKToK
ICAgICAgICAgICAgdHJ5OgogICAgICAgICAgICAgICAgYXR0cmlidXRlcygiLXpvb21lZCIsIFRy
dWUpCiAgICAgICAgICAgIGV4Y2VwdCB0ay5UY2xFcnJvcjoKICAgICAgICAgICAgICAgIHBhc3MK
CgpkZWYgbWFpbigpIC0+IE5vbmU6CiAgICBhcHAgPSBVbmlmaWVkQ29udHJvbGxlcigpCiAgICBh
cHAubWFpbmxvb3AoKQoKCmlmIF9fbmFtZV9fID09ICJfX21haW5fXyI6CiAgICBtYWluKCkKUEsB
AhQDFAAAAAAAdjp9WxaLAt0A6gIAAOoCAB0AAAAAAAAAAAAAAIABAAAAAHRlbXBlcmF0dXJlX2Nv
bnRyb2xsZXJfYXBwLnB5UEsBAhQDFAAAAAAAdjp9W45MS1rmYQMA5mEDABoAAAAAAAAAAAAAAIAB
O+oCAHByZXNzdXJlX2NvbnRyb2xsZXJfYXBwLnB5UEsBAhQDFAAAAAAAdjp9W3xOIMbHQAEAx0AB
ABwAAAAAAAAAAAAAAIABWUwGAG11bHRpX3NlcXVlbmNlX2NvbnRyb2xsZXIucHlQSwECFAMUAAAA
AAB2On1bsaQ9KZMTAACTEwAAFgAAAAAAAAAAAAAAgAFajQcAY29udHJvbGxlcl9sYXVuY2hlci5w
eVBLBQYAAAAABAAEACEBAAAhoQcAAAA=
"""

def _extract_bundle() -> Path:
    data = base64.b64decode(_EMBEDDED_ZIP)
    temp_dir = Path(tempfile.mkdtemp(prefix="controller_bundle_"))
    with zipfile.ZipFile(io.BytesIO(data)) as zf:
        zf.extractall(temp_dir)
    return temp_dir


def _bootstrap_modules(temp_dir: Path) -> None:
    if str(temp_dir) not in sys.path:
        sys.path.insert(0, str(temp_dir))


def main() -> None:
    temp_dir = _extract_bundle()
    _bootstrap_modules(temp_dir)
    from controller_launcher import main as _launcher_main
    _launcher_main()


if __name__ == '__main__':
    main()
